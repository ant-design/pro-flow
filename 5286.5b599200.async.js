!(function(){var cu=Object.defineProperty,lu=Object.defineProperties;var uu=Object.getOwnPropertyDescriptors;var Ea=Object.getOwnPropertySymbols;var Xc=Object.prototype.hasOwnProperty,Yc=Object.prototype.propertyIsEnumerable;var Jc=B=>{throw TypeError(B)},$a=Math.pow,Gc=(B,Z,d)=>Z in B?cu(B,Z,{enumerable:!0,configurable:!0,writable:!0,value:d}):B[Z]=d,Bt=(B,Z)=>{for(var d in Z||(Z={}))Xc.call(Z,d)&&Gc(B,d,Z[d]);if(Ea)for(var d of Ea(Z))Yc.call(Z,d)&&Gc(B,d,Z[d]);return B},$n=(B,Z)=>lu(B,uu(Z));var Ai=(B,Z)=>{var d={};for(var i in B)Xc.call(B,i)&&Z.indexOf(i)<0&&(d[i]=B[i]);if(B!=null&&Ea)for(var i of Ea(B))Z.indexOf(i)<0&&Yc.call(B,i)&&(d[i]=B[i]);return d};var Ha=(B,Z,d)=>Z.has(B)||Jc("Cannot "+d);var Ze=(B,Z,d)=>(Ha(B,Z,"read from private field"),d?d.call(B):Z.get(B)),er=(B,Z,d)=>Z.has(B)?Jc("Cannot add the same private member more than once"):Z instanceof WeakSet?Z.add(B):Z.set(B,d),vo=(B,Z,d,i)=>(Ha(B,Z,"write to private field"),i?i.call(B,d):Z.set(B,d),d),Vo=(B,Z,d)=>(Ha(B,Z,"access private method"),d);var Hs=(B,Z,d,i)=>({set _(M){vo(B,Z,M,d)},get _(){return Ze(B,Z,i)}});var Qc=(B,Z,d)=>new Promise((i,M)=>{var _=b=>{try{x(d.next(b))}catch(h){M(h)}},T=b=>{try{x(d.throw(b))}catch(h){M(h)}},x=b=>b.done?i(b.value):Promise.resolve(b.value).then(_,T);x((d=d.apply(B,Z)).next())});(self.webpackChunk_ant_design_pro_flow=self.webpackChunk_ant_design_pro_flow||[]).push([[5286],{89434:function(B,Z,d){"use strict";d.d(Z,{Z:function(){return y}});var i=d(2053),M=d(75271),_={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},T=_,x=d(45955),b=function(I,z){return M.createElement(x.Z,(0,i.Z)({},I,{ref:z,icon:T}))},h=M.forwardRef(b),y=h},5129:function(B,Z,d){"use strict";d.d(Z,{Z:function(){return y}});var i=d(2053),M=d(75271),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M342 88H120c-17.7 0-32 14.3-32 32v224c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V168h174c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zm578 576h-48c-8.8 0-16 7.2-16 16v176H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h222c17.7 0 32-14.3 32-32V680c0-8.8-7.2-16-16-16zM342 856H168V680c0-8.8-7.2-16-16-16h-48c-8.8 0-16 7.2-16 16v224c0 17.7 14.3 32 32 32h222c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zM904 88H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h174v176c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V120c0-17.7-14.3-32-32-32z"}}]},name:"expand",theme:"outlined"},T=_,x=d(45955),b=function(I,z){return M.createElement(x.Z,(0,i.Z)({},I,{ref:z,icon:T}))},h=M.forwardRef(b),y=h},37154:function(B,Z,d){"use strict";d.d(Z,{Z:function(){return y}});var i=d(2053),M=d(75271),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},T=_,x=d(45955),b=function(I,z){return M.createElement(x.Z,(0,i.Z)({},I,{ref:z,icon:T}))},h=M.forwardRef(b),y=h},48724:function(B,Z,d){"use strict";d.d(Z,{Z:function(){return y}});var i=d(2053),M=d(75271),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},T=_,x=d(45955),b=function(I,z){return M.createElement(x.Z,(0,i.Z)({},I,{ref:z,icon:T}))},h=M.forwardRef(b),y=h},30308:function(B,Z,d){"use strict";d.d(Z,{Z:function(){return y}});var i=d(2053),M=d(75271),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},T=_,x=d(45955),b=function(I,z){return M.createElement(x.Z,(0,i.Z)({},I,{ref:z,icon:T}))},h=M.forwardRef(b),y=h},65313:function(B,Z,d){"use strict";d.d(Z,{Z:function(){return y}});var i=d(2053),M=d(75271),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},T=_,x=d(45955),b=function(I,z){return M.createElement(x.Z,(0,i.Z)({},I,{ref:z,icon:T}))},h=M.forwardRef(b),y=h},18922:function(B,Z,d){"use strict";d.d(Z,{Z:function(){return y}});var i=d(2053),M=d(75271),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},T=_,x=d(45955),b=function(I,z){return M.createElement(x.Z,(0,i.Z)({},I,{ref:z,icon:T}))},h=M.forwardRef(b),y=h},10473:function(B,Z,d){"use strict";d.d(Z,{Z:function(){return Be}});var i=d(98037),M=d(58006),_=d(52113),T=d(5720),x=d(12248),b=d(55354),h=d(90440),y,C,I,z=(0,h.kc)(function(se,le){var W=se.token,ne=se.css,oe=se.cx,H=se.prefixCls,Y=le.size,ie=le.className,te="".concat(H,"-").concat(W.editorPrefix,"-icon"),Ee=typeof Y=="number"?ne(y||(y=(0,b.Z)([`
          width: `,`px !important;
          height: `,`px !important;
        `])),Y,Y):"",Me=ne(C||(C=(0,b.Z)([`
    display: flex;
    align-items: center;
    justify-content: center;

    &:hover {
      color: `,` !important;
    }

    &:active {
      scale: 0.8;
      color: `,`;
    }

    transition: color 600ms `,", scale 400ms ",`,
      background-color 100ms `,`;
  `])),W.colorText,W.colorText,W.motionEaseOut,W.motionEaseOut,W.motionEaseOut);return{container:oe(te,Me,Ee,ie),tooltip:ne(I||(I=(0,b.Z)([`
      pointer-events: none;
    `])))}}),D=d(52676),X=["placement","title","icon","cursor","onClick","className","arrow","size","tooltipDelay"],K=function(le){var W=le.placement,ne=le.title,oe=le.icon,H=le.cursor,Y=le.onClick,ie=le.className,te=le.arrow,Ee=te===void 0?!1:te,Me=le.size,R=Me===void 0?"default":Me,J=le.tooltipDelay,Se=J===void 0?.5:J,we=(0,M.Z)(le,X),je=z({size:R}),Ce=je.styles,Q=je.cx,de=(0,D.jsx)(_.ZP,(0,i.Z)((0,i.Z)({icon:oe,className:Q(Ce.container,ie),type:"text",style:{cursor:H},size:typeof R=="number"||R==="default"?"middle":R},we),{},{onClick:Y}));return(0,D.jsx)(D.Fragment,{children:ne?(0,D.jsx)(T.Z,{arrow:Ee,overlayClassName:Ce.tooltip,title:ne,mouseEnterDelay:Se,placement:W,children:de}):de})},ue=function(le){var W=le||{},ne=W.size,oe=z({size:ne}),H=oe.theme;return(0,D.jsx)(x.iV,{componentToken:{Button:{colorText:H.colorTextTertiary,colorBgTextHover:H.colorFillSecondary,colorBgTextActive:H.colorFill}},children:(0,D.jsx)(K,(0,i.Z)({},le))})},Be=ue},12248:function(B,Z,d){"use strict";d.d(Z,{iV:function(){return Me}});var i=d(98037),M=d(91364),_=d(23193),T=d(10368),x=d(12580),b=function(Se,we){var je=x.Z.darkAlgorithm(Se,we);return(0,i.Z)((0,i.Z)({},je),{},{colorBgLayout:"#20252b",colorBgContainer:"#282c34",colorBgElevated:"#32363e"})},h=function(Se){var we={algorithm:[x.Z.compactAlgorithm]};return Se==="dark"&&we.algorithm.push(b),we},y=d(90440),C=function(){return{focusedOutlineColor:"#4c9ffe",colorTypeBoolean:"#D8C152",colorTypeNumber:"#5295C4",colorTypeString:"#149E6D",colorTypeBoolArray:"#D8C152",colorTypeNumberArray:"#239BEF",colorTypeStringArray:"#62AE8D"}},I=C({}),z=d(55354),D=d(68314),X,K,ue,Be,se,le,W,ne,oe,H,Y,ie=function(Se){var we=Se.token,je=Se.css,Ce=je(X||(X=(0,z.Z)([`
    cursor: pointer;
    transition: 150ms background-color ease-in-out;
    &:hover {
      background: `,`;
    }
  `])),we.colorFillQuaternary),Q=je(K||(K=(0,z.Z)([`
    color: `,`;
    background-color: `,`;
    border-color: transparent;
  `])),we.colorText,we.colorFillTertiary),de=je(ue||(ue=(0,z.Z)([`
    color: `,` !important;
    background-color: `,` !important;
    border-color: `,` !important;
    box-shadow: none;
  `])),we.colorText,we.colorFillQuaternary,we.colorPrimary),Ue=je(Be||(Be=(0,z.Z)([`
    color: `,`;
    background: `,`;
    border-color: transparent;
  `])),we.colorTextSecondary,we.colorFillQuaternary);return{defaultButton:je(se||(se=(0,z.Z)([`
      `,`;

      &:hover {
        color: `,` !important;
        background: `,` !important;
        border-color: transparent !important;
      }
      &:focus {
        `,`;
        border-color: `,` !important;
      }
    `])),Ue,we.colorText,we.colorFillSecondary,Ue,we.colorPrimary),textInfo:je(le||(le=(0,z.Z)([`
      color: `,`;
      &:hover {
        color: `,`;
      }
    `])),we.colorTextSecondary,we.colorText),textDefault:je(W||(W=(0,z.Z)([`
      color: `,`;
    `])),we.colorTextSecondary),containerBgHover:je(ne||(ne=(0,z.Z)([`
      cursor: pointer;
      transition: 150ms background-color ease-in-out;

      &:hover {
        background: `,`;
      }
    `])),we.colorFillQuaternary),containerBgL2:je(oe||(oe=(0,z.Z)([`
      `,`;
      border-radius: 4px;
      background: `,`;

      &:hover {
        background: `,`;
      }
    `])),Ce,we.colorFillQuaternary,we.colorFillTertiary),controlContainerFocused:de,controlContainer:je(H||(H=(0,z.Z)([`
      &:hover {
        `,`
      }
      &:focus {
        `,`
      }
    `])),Q,de),backgroundBlur:je(Y||(Y=(0,z.Z)([`
      background: `,`;
      backdrop-filter: blur(10px);
    `])),(0,D.DZ)(.4)(we.colorBgElevated))}},te=d(52676),Ee=function(Se){var we=(0,_.S)(),je=h(Se),Ce={colorBgContainer:we==null?void 0:we.colorFillQuaternary,colorBorder:"transparent",controlOutline:"transparent"};return je.components={Input:Ce,InputNumber:Ce,Select:Ce,Tree:{colorBgContainer:"transparent"},TreeSelect:Ce},je},Me=function(Se){var we=Se.children,je=Se.componentToken,Ce=(0,T.r)(),Q=Ce.appearance,de=Ce.themeMode,Ue=Ee(Q);return Ue.components=(0,i.Z)((0,i.Z)({},Ue.components),je),(0,te.jsx)(M.ZP,{theme:Ue,children:(0,te.jsx)(y.f6,{appearance:Q,themeMode:de,theme:h,customToken:C,customStylish:ie,children:we})})},R=function(Se){return function(we){return _jsx(Me,{children:_jsx(Se,_objectSpread({},we))})}}},42941:function(B,Z,d){"use strict";d.d(Z,{Z:function(){return Mt}});var i=d(98037),M=d(99459),_=d(58006),T=d(37187),x=d(24879),b=d(9434),h=d(66764),y=d(75271),C=d(12248),I=d(57904),z=d(17586),D=d(52676),X=2.2,K="13px",ue=function(){return(0,D.jsx)("svg",{fill:"none",height:K,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:X,viewBox:"0 0 24 24",width:K,xmlns:"http://www.w3.org/2000/svg",children:(0,D.jsx)("path",{d:"M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"})})},Be=function(){return(0,D.jsx)("svg",{className:"lucide lucide-chevron-up",fill:"none",height:K,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:X,viewBox:"0 0 24 24",width:K,xmlns:"http://www.w3.org/2000/svg",children:(0,D.jsx)("polyline",{points:"18 15 12 9 6 15"})})},se=function(){return(0,D.jsx)("svg",{className:"lucide lucide-chevron-up",fill:"none",height:K,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:X,viewBox:"0 0 24 24",width:K,xmlns:"http://www.w3.org/2000/svg",children:(0,D.jsx)("path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z"})})},le=function(){return(0,D.jsxs)("svg",{className:"lucide lucide-chevron-up",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",height:K,strokeWidth:X,width:K,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,D.jsx)("path",{d:"M3 3h6l6 18h6"}),(0,D.jsx)("path",{d:"M14 3h7"})]})},W=function(fe){var xe=fe.className;return(0,D.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:K,width:K,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:X,strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-right ".concat(xe),children:(0,D.jsx)("polyline",{points:"9 18 15 12 9 6"})})},ne=d(55354),oe=d(90440),H,Y,ie,te,Ee,Me=(0,oe.kc)(function(G){var fe=G.css,xe=G.cx,me=G.token,et=G.prefixCls,vt="".concat(et,"-").concat(me.editorPrefix,"-context-menu"),mt=fe(H||(H=(0,ne.Z)([`
    font-weight: bold;
    color: `,`;
    background: `,`;
    &:hover {
      color: `,`;
      background: `,`;
    }
  `])),me.colorPrimaryText,me.colorPrimaryBg,me.colorPrimaryTextHover,me.colorPrimaryBgHover);return{item:xe("".concat(vt,"-item"),fe(Y||(Y=(0,ne.Z)([`
        all: unset;

        user-select: none;
        scroll-margin: 50px;

        display: flex;
        align-items: center;
        justify-content: space-between;

        box-sizing: inherit;
        width: 100%;
        padding: 12px 10px;

        font-family: `,`;
        font-weight: normal;
        line-height: 1;
        color: `,`;

        background: transparent;
        border-radius: 5px;
        &:hover {
          background: `,`;
        }
      `])),me.fontFamily,me.colorText,me.colorFillTertiary)),selected:xe("".concat(vt,"-item-selected"),mt),active:xe("".concat(vt,"-item-active"),fe(ie||(ie=(0,ne.Z)([`
        background: `,`;
      `])),me.colorFillTertiary)),arrow:fe(te||(te=(0,ne.Z)([`
      color: `,`;
    `])),me.colorTextTertiary),kbd:fe(Ee||(Ee=(0,ne.Z)([`
      display: flex;
      align-items: center;
      justify-content: center;

      width: 18px;
      height: 20px;

      font-family: `,`;
      font-size: 14px;
      color: `,`;

      border-radius: 2px;
    `])),me.fontFamily,me.colorTextQuaternary)}}),R=["label","icon","disabled","nested","shortcut","active","selected"],J={meta:(0,D.jsx)(ue,{}),control:(0,D.jsx)(Be,{}),shift:(0,D.jsx)(se,{}),alt:(0,D.jsx)(le,{}),enter:"\u21B5"},Se={meta:"meta",command:"meta",cmd:"meta",ctl:"control",control:"control",shift:"shift",alt:"alt"},we=(0,y.forwardRef)(function(G,fe){var xe=G.label,me=G.icon,et=G.disabled,vt=G.nested,mt=G.shortcut,tt=G.active,cn=G.selected,Ft=(0,_.Z)(G,R),Ke=Me(),lt=Ke.styles,tn=Ke.cx;return(0,D.jsxs)("button",(0,i.Z)((0,i.Z)({type:"button"},Ft),{},{className:tn(lt.item,(0,I.Z)((0,I.Z)({},lt.selected,cn),lt.active,tt)),disabled:et,ref:fe,role:"menuitem",children:[(0,D.jsxs)(z.D,{gap:8,horizontal:!0,children:[me&&(0,D.jsx)("span",{children:me}),xe]}),vt?(0,D.jsx)("span",{"aria-hidden":!0,children:(0,D.jsx)(W,{className:lt.arrow})}):mt?(0,D.jsx)(z.D,{align:"center",horizontal:!0,children:mt.map(function(qe){var Sn=Se[qe.toLowerCase()];return(0,D.jsx)("kbd",{className:lt.kbd,children:Sn?J[Sn]:qe.toUpperCase()},qe)})}):null]}))}),je=we,Ce,Q,de=(0,oe.kc)(function(G){var fe=G.css,xe=G.cx,me=G.token,et=G.prefixCls,vt="".concat(et,"-").concat(me.editorPrefix,"-context-menu");return{container:xe(vt,fe(Ce||(Ce=(0,ne.Z)([`
        all: unset;
        user-select: none;
        scrollbar-width: none;

        overflow-y: auto;
        overscroll-behavior: contain;

        box-sizing: border-box;
        width: 200px;
        padding: 5px;

        font-size: `,`px;

        background: `,`;
        border: 1px solid `,`;
        border-radius: 8px;
        outline: 0;
        box-shadow: `,`;

        &::-webkit-scrollbar {
          display: none;
        }
      `])),me.fontSize,me.colorBgContainer,me.colorBorder,me.boxShadowSecondary)),button:xe("".concat(vt,"-button"),fe(Q||(Q=(0,ne.Z)([`
        all: unset;

        cursor: default;
        user-select: none;

        padding: 12px 10px;

        font-size: `,`px;
        line-height: 1;
        color: `,`;

        background: `,`;
        border: 1px solid `,`;
        border-radius: `,`px;

        -webkit-tap-highlight-color: transparent;

        &:hover {
          background: `,`;
          border-color: transparent;
        }

        &:focus-visible {
          border-color: `,`;
          box-shadow: 0 0 0 2px `,`;
        }
      `])),me.fontSize,me.colorText,me.colorBgContainer,me.colorBorder,me.borderRadius,me.colorPrimaryBg,me.colorPrimary,me.colorPrimaryBg))}}),Ue=["items","label","container"],Qe=(0,y.forwardRef)(function(G,fe){var xe=G.items,me=G.label,et=G.container,vt=(0,_.Z)(G,Ue),mt=de(),tt=mt.styles,cn=(0,y.useState)(!1),Ft=(0,M.Z)(cn,2),Ke=Ft[0],lt=Ft[1],tn=(0,y.useState)(null),qe=(0,M.Z)(tn,2),Sn=qe[0],Pn=qe[1],Tn=(0,y.useState)(!1),Le=(0,M.Z)(Tn,2),jt=Le[0],Nt=Le[1],rt=(0,y.useRef)([]),at=(0,y.useRef)(xe.map(function(ct){return ct.label})),en=(0,y.useRef)(!1),on=(0,T.ay)(),A=(0,T.jV)(),j=(0,T.Zm)(),ge=j!==null,Ie=(0,T.YF)({nodeId:A,open:Ke,onOpenChange:lt,placement:ge?"right-start":"bottom-start",middleware:[(0,x.cv)({mainAxis:ge?0:4,alignmentAxis:ge?-4:0}),(0,x.RR)(),(0,x.uY)()],whileElementsMounted:b.Me}),ze=Ie.refs,pt=Ie.context,yt=Ie.floatingStyles,it=(0,T.XI)(pt,{enabled:ge&&jt,delay:{open:75},handleClose:(0,T.xp)({blockPointerEvents:!0})}),De=(0,T.eS)(pt,{event:"mousedown",toggle:!ge||!jt,ignoreMouse:ge}),He=(0,T.qs)(pt,{role:"menu"}),Gt=(0,T.bQ)(pt),yn=(0,T.c0)(pt,{listRef:rt,activeIndex:Sn,nested:ge,onNavigate:Pn}),Tt=(0,T.ox)(pt,{enabled:Ke,listRef:at,onMatch:Ke?Pn:void 0,activeIndex:Sn}),nn=(0,T.NI)([it,De,He,Gt,yn,Tt]),rn=nn.getReferenceProps,Jt=nn.getFloatingProps,Cn=nn.getItemProps;(0,y.useEffect)(function(){if(!on)return;function ct(){lt(!1)}function Ct(sn){sn.nodeId!==A&&sn.parentId===j&&lt(!1)}return on.events.on("click",ct),on.events.on("menuopen",Ct),function(){on.events.off("click",ct),on.events.off("menuopen",Ct)}},[on,A,j]),(0,y.useEffect)(function(){Ke&&on&&on.events.emit("menuopen",{parentId:j,nodeId:A})},[on,Ke,A,j]),(0,y.useEffect)(function(){function ct(sn){var ln=sn.pointerType;ln!=="touch"&&Nt(!0)}function Ct(){Nt(!1)}return window.addEventListener("pointermove",ct,{once:!0,capture:!0}),window.addEventListener("keydown",Ct,!0),function(){window.removeEventListener("pointermove",ct,{capture:!0}),window.removeEventListener("keydown",Ct,!0)}},[jt]),(0,y.useEffect)(function(){var ct;function Ct(ln){ln.preventDefault(),ze.setPositionReference({getBoundingClientRect:function(){return{width:0,height:0,x:ln.clientX,y:ln.clientY,top:ln.clientY,right:ln.clientX,bottom:ln.clientY,left:ln.clientX}}}),lt(!0),clearTimeout(ct),en.current=!1,ct=window.setTimeout(function(){en.current=!0},300)}function sn(){en.current&&lt(!1)}return document.addEventListener("contextmenu",Ct),document.addEventListener("mouseup",sn),function(){document.removeEventListener("contextmenu",Ct),document.removeEventListener("mouseup",sn),clearTimeout(ct)}},[ze,et]);var Pt=(0,y.useCallback)(function(ct,Ct){if("type"in ct&&ct.type==="divider")return(0,D.jsx)(h.Z,{style:{margin:"4px 12px",minWidth:"auto",width:"auto"}});var sn=ct,ln=(0,i.Z)({label:sn.label,key:sn.key,icon:sn.icon,shortcut:sn.shortcut,active:Sn===Ct},Cn({ref:function(vn){rt.current[Ct]=vn},onClick:function(){var vn;(vn=sn.onClick)===null||vn===void 0||vn.call(sn),lt(!1)},onMouseUp:function(){var vn;(vn=sn.onClick)===null||vn===void 0||vn.call(sn),lt(!1)}}));return"children"in ct?(0,D.jsx)(Qe,(0,i.Z)((0,i.Z)({},ln),{},{items:ct.children})):(0,D.jsx)(je,(0,i.Z)({},ln))},[Sn]),Rt=(0,T.qq)([ze.setReference,fe]);return(0,D.jsxs)(T.mN,{id:A,children:[me?(0,D.jsx)(je,(0,i.Z)((0,i.Z)({label:me,nested:ge,ref:Rt,role:ge?"menuitem":"menu"},vt),rn({onClick:function(Ct){Ct.stopPropagation()}}))):null,(0,D.jsx)(T.ll,{children:Ke&&(0,D.jsx)(T.wD,{context:pt,initialFocus:ge?-1:0,modal:!1,returnFocus:!ge,children:(0,D.jsx)("div",(0,i.Z)((0,i.Z)({className:tt.container,ref:ze.setFloating,style:yt},Jt()),{},{children:xe==null?void 0:xe.map(Pt)}))})})]})}),Kt=(0,y.forwardRef)(function(G,fe){return(0,D.jsx)(C.iV,{children:(0,D.jsx)(T.RB,{children:(0,D.jsx)(Qe,(0,i.Z)((0,i.Z)({},G),{},{ref:fe}))})})}),Mt=Kt},90440:function(B,Z,d){"use strict";d.d(Z,{f6:function(){return T},kc:function(){return _}});var i=d(18995),M=(0,i.F)({customToken:{editorPrefix:"editor"}}),_=M.createStyles,T=M.ThemeProvider},79511:function(B,Z,d){B.exports={graphlib:d(7378),layout:d(2008),debug:d(27710),util:{time:d(20965).time,notime:d(20965).notime},version:d(61360)}},78514:function(B,Z,d){"use strict";let i=d(28699),M=d(20965).uniqueId;B.exports={run:_,undo:x};function _(b){(b.graph().acyclicer==="greedy"?i(b,y(b)):T(b)).forEach(C=>{let I=b.edge(C);b.removeEdge(C),I.forwardName=C.name,I.reversed=!0,b.setEdge(C.w,C.v,I,M("rev"))});function y(C){return I=>C.edge(I).weight}}function T(b){let h=[],y={},C={};function I(z){C.hasOwnProperty(z)||(C[z]=!0,y[z]=!0,b.outEdges(z).forEach(D=>{y.hasOwnProperty(D.w)?h.push(D):I(D.w)}),delete y[z])}return b.nodes().forEach(I),h}function x(b){b.edges().forEach(h=>{let y=b.edge(h);if(y.reversed){b.removeEdge(h);let C=y.forwardName;delete y.reversed,delete y.forwardName,b.setEdge(h.w,h.v,y,C)}})}},59702:function(B,Z,d){let i=d(20965);B.exports=M;function M(T){function x(b){let h=T.children(b),y=T.node(b);if(h.length&&h.forEach(x),y.hasOwnProperty("minRank")){y.borderLeft=[],y.borderRight=[];for(let C=y.minRank,I=y.maxRank+1;C<I;++C)_(T,"borderLeft","_bl",b,y,C),_(T,"borderRight","_br",b,y,C)}}T.children().forEach(x)}function _(T,x,b,h,y,C){let I={width:0,height:0,rank:C,borderType:x},z=y[x][C-1],D=i.addDummyNode(T,"border",I,b);y[x][C]=D,T.setParent(D,h),z&&T.setEdge(z,D,{weight:1})}},43543:function(B){"use strict";B.exports={adjust:Z,undo:d};function Z(h){let y=h.graph().rankdir.toLowerCase();(y==="lr"||y==="rl")&&i(h)}function d(h){let y=h.graph().rankdir.toLowerCase();(y==="bt"||y==="rl")&&_(h),(y==="lr"||y==="rl")&&(x(h),i(h))}function i(h){h.nodes().forEach(y=>M(h.node(y))),h.edges().forEach(y=>M(h.edge(y)))}function M(h){let y=h.width;h.width=h.height,h.height=y}function _(h){h.nodes().forEach(y=>T(h.node(y))),h.edges().forEach(y=>{let C=h.edge(y);C.points.forEach(T),C.hasOwnProperty("y")&&T(C)})}function T(h){h.y=-h.y}function x(h){h.nodes().forEach(y=>b(h.node(y))),h.edges().forEach(y=>{let C=h.edge(y);C.points.forEach(b),C.hasOwnProperty("x")&&b(C)})}function b(h){let y=h.x;h.x=h.y,h.y=y}},20668:function(B){class Z{constructor(){let _={};_._next=_._prev=_,this._sentinel=_}dequeue(){let _=this._sentinel,T=_._prev;if(T!==_)return d(T),T}enqueue(_){let T=this._sentinel;_._prev&&_._next&&d(_),_._next=T._next,T._next._prev=_,T._next=_,_._prev=T}toString(){let _=[],T=this._sentinel,x=T._prev;for(;x!==T;)_.push(JSON.stringify(x,i)),x=x._prev;return"["+_.join(", ")+"]"}}function d(M){M._prev._next=M._next,M._next._prev=M._prev,delete M._next,delete M._prev}function i(M,_){if(M!=="_next"&&M!=="_prev")return _}B.exports=Z},27710:function(B,Z,d){let i=d(20965),M=d(7378).Graph;B.exports={debugOrdering:_};function _(T){let x=i.buildLayerMatrix(T),b=new M({compound:!0,multigraph:!0}).setGraph({});return T.nodes().forEach(h=>{b.setNode(h,{label:h}),b.setParent(h,"layer"+T.node(h).rank)}),T.edges().forEach(h=>b.setEdge(h.v,h.w,{},h.name)),x.forEach((h,y)=>{let C="layer"+y;b.setNode(C,{rank:"same"}),h.reduce((I,z)=>(b.setEdge(I,z,{style:"invis"}),z))}),b}},28699:function(B,Z,d){let i=d(7378).Graph,M=d(20668);B.exports=T;let _=()=>1;function T(I,z){if(I.nodeCount()<=1)return[];let D=h(I,z||_);return x(D.graph,D.buckets,D.zeroIdx).flatMap(K=>I.outEdges(K.v,K.w))}function x(I,z,D){let X=[],K=z[z.length-1],ue=z[0],Be;for(;I.nodeCount();){for(;Be=ue.dequeue();)b(I,z,D,Be);for(;Be=K.dequeue();)b(I,z,D,Be);if(I.nodeCount()){for(let se=z.length-2;se>0;--se)if(Be=z[se].dequeue(),Be){X=X.concat(b(I,z,D,Be,!0));break}}}return X}function b(I,z,D,X,K){let ue=K?[]:void 0;return I.inEdges(X.v).forEach(Be=>{let se=I.edge(Be),le=I.node(Be.v);K&&ue.push({v:Be.v,w:Be.w}),le.out-=se,y(z,D,le)}),I.outEdges(X.v).forEach(Be=>{let se=I.edge(Be),le=Be.w,W=I.node(le);W.in-=se,y(z,D,W)}),I.removeNode(X.v),ue}function h(I,z){let D=new i,X=0,K=0;I.nodes().forEach(se=>{D.setNode(se,{v:se,in:0,out:0})}),I.edges().forEach(se=>{let le=D.edge(se.v,se.w)||0,W=z(se),ne=le+W;D.setEdge(se.v,se.w,ne),K=Math.max(K,D.node(se.v).out+=W),X=Math.max(X,D.node(se.w).in+=W)});let ue=C(K+X+3).map(()=>new M),Be=X+1;return D.nodes().forEach(se=>{y(ue,Be,D.node(se))}),{graph:D,buckets:ue,zeroIdx:Be}}function y(I,z,D){D.out?D.in?I[D.out-D.in+z].enqueue(D):I[I.length-1].enqueue(D):I[0].enqueue(D)}function C(I){const z=[];for(let D=0;D<I;D++)z.push(D);return z}},2008:function(B,Z,d){"use strict";let i=d(78514),M=d(88778),_=d(42311),T=d(20965).normalizeRanks,x=d(3409),b=d(20965).removeEmptyRanks,h=d(13122),y=d(59702),C=d(43543),I=d(59009),z=d(3862),D=d(20965),X=d(7378).Graph;B.exports=K;function K(G,fe){let xe=fe&&fe.debugTiming?D.time:D.notime;xe("layout",()=>{let me=xe("  buildLayoutGraph",()=>te(G));xe("  runLayout",()=>ue(me,xe)),xe("  updateInputGraph",()=>Be(G,me))})}function ue(G,fe){fe("    makeSpaceForEdgeLabels",()=>Ee(G)),fe("    removeSelfEdges",()=>de(G)),fe("    acyclic",()=>i.run(G)),fe("    nestingGraph.run",()=>h.run(G)),fe("    rank",()=>_(D.asNonCompoundGraph(G))),fe("    injectEdgeLabelProxies",()=>Me(G)),fe("    removeEmptyRanks",()=>b(G)),fe("    nestingGraph.cleanup",()=>h.cleanup(G)),fe("    normalizeRanks",()=>T(G)),fe("    assignRankMinMax",()=>R(G)),fe("    removeEdgeLabelProxies",()=>J(G)),fe("    normalize.run",()=>M.run(G)),fe("    parentDummyChains",()=>x(G)),fe("    addBorderSegments",()=>y(G)),fe("    order",()=>I(G)),fe("    insertSelfEdges",()=>Ue(G)),fe("    adjustCoordinateSystem",()=>C.adjust(G)),fe("    position",()=>z(G)),fe("    positionSelfEdges",()=>Qe(G)),fe("    removeBorderNodes",()=>Q(G)),fe("    normalize.undo",()=>M.undo(G)),fe("    fixupEdgeLabelCoords",()=>je(G)),fe("    undoCoordinateSystem",()=>C.undo(G)),fe("    translateGraph",()=>Se(G)),fe("    assignNodeIntersects",()=>we(G)),fe("    reversePoints",()=>Ce(G)),fe("    acyclic.undo",()=>i.undo(G))}function Be(G,fe){G.nodes().forEach(xe=>{let me=G.node(xe),et=fe.node(xe);me&&(me.x=et.x,me.y=et.y,me.rank=et.rank,fe.children(xe).length&&(me.width=et.width,me.height=et.height))}),G.edges().forEach(xe=>{let me=G.edge(xe),et=fe.edge(xe);me.points=et.points,et.hasOwnProperty("x")&&(me.x=et.x,me.y=et.y)}),G.graph().width=fe.graph().width,G.graph().height=fe.graph().height}let se=["nodesep","edgesep","ranksep","marginx","marginy"],le={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},W=["acyclicer","ranker","rankdir","align"],ne=["width","height"],oe={width:0,height:0},H=["minlen","weight","width","height","labeloffset"],Y={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},ie=["labelpos"];function te(G){let fe=new X({multigraph:!0,compound:!0}),xe=Mt(G.graph());return fe.setGraph(Object.assign({},le,Kt(xe,se),D.pick(xe,W))),G.nodes().forEach(me=>{let et=Mt(G.node(me));const vt=Kt(et,ne);Object.keys(oe).forEach(mt=>{vt[mt]===void 0&&(vt[mt]=oe[mt])}),fe.setNode(me,vt),fe.setParent(me,G.parent(me))}),G.edges().forEach(me=>{let et=Mt(G.edge(me));fe.setEdge(me,Object.assign({},Y,Kt(et,H),D.pick(et,ie)))}),fe}function Ee(G){let fe=G.graph();fe.ranksep/=2,G.edges().forEach(xe=>{let me=G.edge(xe);me.minlen*=2,me.labelpos.toLowerCase()!=="c"&&(fe.rankdir==="TB"||fe.rankdir==="BT"?me.width+=me.labeloffset:me.height+=me.labeloffset)})}function Me(G){G.edges().forEach(fe=>{let xe=G.edge(fe);if(xe.width&&xe.height){let me=G.node(fe.v),vt={rank:(G.node(fe.w).rank-me.rank)/2+me.rank,e:fe};D.addDummyNode(G,"edge-proxy",vt,"_ep")}})}function R(G){let fe=0;G.nodes().forEach(xe=>{let me=G.node(xe);me.borderTop&&(me.minRank=G.node(me.borderTop).rank,me.maxRank=G.node(me.borderBottom).rank,fe=Math.max(fe,me.maxRank))}),G.graph().maxRank=fe}function J(G){G.nodes().forEach(fe=>{let xe=G.node(fe);xe.dummy==="edge-proxy"&&(G.edge(xe.e).labelRank=xe.rank,G.removeNode(fe))})}function Se(G){let fe=Number.POSITIVE_INFINITY,xe=0,me=Number.POSITIVE_INFINITY,et=0,vt=G.graph(),mt=vt.marginx||0,tt=vt.marginy||0;function cn(Ft){let Ke=Ft.x,lt=Ft.y,tn=Ft.width,qe=Ft.height;fe=Math.min(fe,Ke-tn/2),xe=Math.max(xe,Ke+tn/2),me=Math.min(me,lt-qe/2),et=Math.max(et,lt+qe/2)}G.nodes().forEach(Ft=>cn(G.node(Ft))),G.edges().forEach(Ft=>{let Ke=G.edge(Ft);Ke.hasOwnProperty("x")&&cn(Ke)}),fe-=mt,me-=tt,G.nodes().forEach(Ft=>{let Ke=G.node(Ft);Ke.x-=fe,Ke.y-=me}),G.edges().forEach(Ft=>{let Ke=G.edge(Ft);Ke.points.forEach(lt=>{lt.x-=fe,lt.y-=me}),Ke.hasOwnProperty("x")&&(Ke.x-=fe),Ke.hasOwnProperty("y")&&(Ke.y-=me)}),vt.width=xe-fe+mt,vt.height=et-me+tt}function we(G){G.edges().forEach(fe=>{let xe=G.edge(fe),me=G.node(fe.v),et=G.node(fe.w),vt,mt;xe.points?(vt=xe.points[0],mt=xe.points[xe.points.length-1]):(xe.points=[],vt=et,mt=me),xe.points.unshift(D.intersectRect(me,vt)),xe.points.push(D.intersectRect(et,mt))})}function je(G){G.edges().forEach(fe=>{let xe=G.edge(fe);if(xe.hasOwnProperty("x"))switch((xe.labelpos==="l"||xe.labelpos==="r")&&(xe.width-=xe.labeloffset),xe.labelpos){case"l":xe.x-=xe.width/2+xe.labeloffset;break;case"r":xe.x+=xe.width/2+xe.labeloffset;break}})}function Ce(G){G.edges().forEach(fe=>{let xe=G.edge(fe);xe.reversed&&xe.points.reverse()})}function Q(G){G.nodes().forEach(fe=>{if(G.children(fe).length){let xe=G.node(fe),me=G.node(xe.borderTop),et=G.node(xe.borderBottom),vt=G.node(xe.borderLeft[xe.borderLeft.length-1]),mt=G.node(xe.borderRight[xe.borderRight.length-1]);xe.width=Math.abs(mt.x-vt.x),xe.height=Math.abs(et.y-me.y),xe.x=vt.x+xe.width/2,xe.y=me.y+xe.height/2}}),G.nodes().forEach(fe=>{G.node(fe).dummy==="border"&&G.removeNode(fe)})}function de(G){G.edges().forEach(fe=>{if(fe.v===fe.w){var xe=G.node(fe.v);xe.selfEdges||(xe.selfEdges=[]),xe.selfEdges.push({e:fe,label:G.edge(fe)}),G.removeEdge(fe)}})}function Ue(G){var fe=D.buildLayerMatrix(G);fe.forEach(xe=>{var me=0;xe.forEach((et,vt)=>{var mt=G.node(et);mt.order=vt+me,(mt.selfEdges||[]).forEach(tt=>{D.addDummyNode(G,"selfedge",{width:tt.label.width,height:tt.label.height,rank:mt.rank,order:vt+ ++me,e:tt.e,label:tt.label},"_se")}),delete mt.selfEdges})})}function Qe(G){G.nodes().forEach(fe=>{var xe=G.node(fe);if(xe.dummy==="selfedge"){var me=G.node(xe.e.v),et=me.x+me.width/2,vt=me.y,mt=xe.x-et,tt=me.height/2;G.setEdge(xe.e,xe.label),G.removeNode(fe),xe.label.points=[{x:et+2*mt/3,y:vt-tt},{x:et+5*mt/6,y:vt-tt},{x:et+mt,y:vt},{x:et+5*mt/6,y:vt+tt},{x:et+2*mt/3,y:vt+tt}],xe.label.x=xe.x,xe.label.y=xe.y}})}function Kt(G,fe){return D.mapValues(D.pick(G,fe),Number)}function Mt(G){var fe={};return G&&Object.entries(G).forEach(([xe,me])=>{typeof xe=="string"&&(xe=xe.toLowerCase()),fe[xe]=me}),fe}},13122:function(B,Z,d){let i=d(20965);B.exports={run:M,cleanup:b};function M(h){let y=i.addDummyNode(h,"root",{},"_root"),C=T(h),I=Math.max(...Object.values(C))-1,z=2*I+1;h.graph().nestingRoot=y,h.edges().forEach(X=>h.edge(X).minlen*=z);let D=x(h)+1;h.children().forEach(X=>_(h,y,z,D,I,C,X)),h.graph().nodeRankFactor=z}function _(h,y,C,I,z,D,X){let K=h.children(X);if(!K.length){X!==y&&h.setEdge(y,X,{weight:0,minlen:C});return}let ue=i.addBorderNode(h,"_bt"),Be=i.addBorderNode(h,"_bb"),se=h.node(X);h.setParent(ue,X),se.borderTop=ue,h.setParent(Be,X),se.borderBottom=Be,K.forEach(le=>{_(h,y,C,I,z,D,le);let W=h.node(le),ne=W.borderTop?W.borderTop:le,oe=W.borderBottom?W.borderBottom:le,H=W.borderTop?I:2*I,Y=ne!==oe?1:z-D[X]+1;h.setEdge(ue,ne,{weight:H,minlen:Y,nestingEdge:!0}),h.setEdge(oe,Be,{weight:H,minlen:Y,nestingEdge:!0})}),h.parent(X)||h.setEdge(y,ue,{weight:0,minlen:z+D[X]})}function T(h){var y={};function C(I,z){var D=h.children(I);D&&D.length&&D.forEach(X=>C(X,z+1)),y[I]=z}return h.children().forEach(I=>C(I,1)),y}function x(h){return h.edges().reduce((y,C)=>y+h.edge(C).weight,0)}function b(h){var y=h.graph();h.removeNode(y.nestingRoot),delete y.nestingRoot,h.edges().forEach(C=>{var I=h.edge(C);I.nestingEdge&&h.removeEdge(C)})}},88778:function(B,Z,d){"use strict";let i=d(20965);B.exports={run:M,undo:T};function M(x){x.graph().dummyChains=[],x.edges().forEach(b=>_(x,b))}function _(x,b){let h=b.v,y=x.node(h).rank,C=b.w,I=x.node(C).rank,z=b.name,D=x.edge(b),X=D.labelRank;if(I===y+1)return;x.removeEdge(b);let K,ue,Be;for(Be=0,++y;y<I;++Be,++y)D.points=[],ue={width:0,height:0,edgeLabel:D,edgeObj:b,rank:y},K=i.addDummyNode(x,"edge",ue,"_d"),y===X&&(ue.width=D.width,ue.height=D.height,ue.dummy="edge-label",ue.labelpos=D.labelpos),x.setEdge(h,K,{weight:D.weight},z),Be===0&&x.graph().dummyChains.push(K),h=K;x.setEdge(h,C,{weight:D.weight},z)}function T(x){x.graph().dummyChains.forEach(b=>{let h=x.node(b),y=h.edgeLabel,C;for(x.setEdge(h.edgeObj,y);h.dummy;)C=x.successors(b)[0],x.removeNode(b),y.points.push({x:h.x,y:h.y}),h.dummy==="edge-label"&&(y.x=h.x,y.y=h.y,y.width=h.width,y.height=h.height),b=C,h=x.node(b)})}},899:function(B){B.exports=Z;function Z(d,i,M){let _={},T;M.forEach(x=>{let b=d.parent(x),h,y;for(;b;){if(h=d.parent(b),h?(y=_[h],_[h]=b):(y=T,T=b),y&&y!==b){i.setEdge(y,b);return}b=h}})}},205:function(B){B.exports=Z;function Z(d,i=[]){return i.map(M=>{let _=d.inEdges(M);if(_.length){let T=_.reduce((x,b)=>{let h=d.edge(b),y=d.node(b.v);return{sum:x.sum+h.weight*y.order,weight:x.weight+h.weight}},{sum:0,weight:0});return{v:M,barycenter:T.sum/T.weight,weight:T.weight}}else return{v:M}})}},41707:function(B,Z,d){let i=d(7378).Graph,M=d(20965);B.exports=_;function _(x,b,h){let y=T(x),C=new i({compound:!0}).setGraph({root:y}).setDefaultNodeLabel(I=>x.node(I));return x.nodes().forEach(I=>{let z=x.node(I),D=x.parent(I);(z.rank===b||z.minRank<=b&&b<=z.maxRank)&&(C.setNode(I),C.setParent(I,D||y),x[h](I).forEach(X=>{let K=X.v===I?X.w:X.v,ue=C.edge(K,I),Be=ue!==void 0?ue.weight:0;C.setEdge(K,I,{weight:x.edge(X).weight+Be})}),z.hasOwnProperty("minRank")&&C.setNode(I,{borderLeft:z.borderLeft[b],borderRight:z.borderRight[b]}))}),C}function T(x){for(var b;x.hasNode(b=M.uniqueId("_root")););return b}},94650:function(B,Z,d){"use strict";let i=d(20965).zipObject;B.exports=M;function M(T,x){let b=0;for(let h=1;h<x.length;++h)b+=_(T,x[h-1],x[h]);return b}function _(T,x,b){let h=i(b,b.map((X,K)=>K)),y=x.flatMap(X=>T.outEdges(X).map(K=>({pos:h[K.w],weight:T.edge(K).weight})).sort((K,ue)=>K.pos-ue.pos)),C=1;for(;C<b.length;)C<<=1;let I=2*C-1;C-=1;let z=new Array(I).fill(0),D=0;return y.forEach(X=>{let K=X.pos+C;z[K]+=X.weight;let ue=0;for(;K>0;)K%2&&(ue+=z[K+1]),K=K-1>>1,z[K]+=X.weight;D+=X.weight*ue}),D}},59009:function(B,Z,d){"use strict";let i=d(37978),M=d(94650),_=d(85855),T=d(41707),x=d(899),b=d(7378).Graph,h=d(20965);B.exports=y;function y(D){let X=h.maxRank(D),K=C(D,h.range(1,X+1),"inEdges"),ue=C(D,h.range(X-1,-1,-1),"outEdges"),Be=i(D);z(D,Be);let se=Number.POSITIVE_INFINITY,le;for(let W=0,ne=0;ne<4;++W,++ne){I(W%2?K:ue,W%4>=2),Be=h.buildLayerMatrix(D);let oe=M(D,Be);oe<se&&(ne=0,le=Object.assign({},Be),se=oe)}z(D,le)}function C(D,X,K){return X.map(function(ue){return T(D,ue,K)})}function I(D,X){let K=new b;D.forEach(function(ue){let Be=ue.graph().root,se=_(ue,Be,K,X);se.vs.forEach((le,W)=>ue.node(le).order=W),x(ue,K,se.vs)})}function z(D,X){Object.values(X).forEach(K=>K.forEach((ue,Be)=>D.node(ue).order=Be))}},37978:function(B,Z,d){"use strict";let i=d(20965);B.exports=M;function M(_){let T={},x=_.nodes().filter(I=>!_.children(I).length),b=Math.max(...x.map(I=>_.node(I).rank)),h=i.range(b+1).map(()=>[]);function y(I){if(T[I])return;T[I]=!0;let z=_.node(I);h[z.rank].push(I),_.successors(I).forEach(y)}return x.sort((I,z)=>_.node(I).rank-_.node(z).rank).forEach(y),h}},55139:function(B,Z,d){"use strict";let i=d(20965);B.exports=M;function M(x,b){let h={};x.forEach((C,I)=>{let z=h[C.v]={indegree:0,in:[],out:[],vs:[C.v],i:I};C.barycenter!==void 0&&(z.barycenter=C.barycenter,z.weight=C.weight)}),b.edges().forEach(C=>{let I=h[C.v],z=h[C.w];I!==void 0&&z!==void 0&&(z.indegree++,I.out.push(h[C.w]))});let y=Object.values(h).filter(C=>!C.indegree);return _(y)}function _(x){let b=[];function h(C){return I=>{I.merged||(I.barycenter===void 0||C.barycenter===void 0||I.barycenter>=C.barycenter)&&T(C,I)}}function y(C){return I=>{I.in.push(C),--I.indegree===0&&x.push(I)}}for(;x.length;){let C=x.pop();b.push(C),C.in.reverse().forEach(h(C)),C.out.forEach(y(C))}return b.filter(C=>!C.merged).map(C=>i.pick(C,["vs","i","barycenter","weight"]))}function T(x,b){let h=0,y=0;x.weight&&(h+=x.barycenter*x.weight,y+=x.weight),b.weight&&(h+=b.barycenter*b.weight,y+=b.weight),x.vs=b.vs.concat(x.vs),x.barycenter=h/y,x.weight=y,x.i=Math.min(b.i,x.i),b.merged=!0}},85855:function(B,Z,d){let i=d(205),M=d(55139),_=d(26063);B.exports=T;function T(h,y,C,I){let z=h.children(y),D=h.node(y),X=D?D.borderLeft:void 0,K=D?D.borderRight:void 0,ue={};X&&(z=z.filter(W=>W!==X&&W!==K));let Be=i(h,z);Be.forEach(W=>{if(h.children(W.v).length){let ne=T(h,W.v,C,I);ue[W.v]=ne,ne.hasOwnProperty("barycenter")&&b(W,ne)}});let se=M(Be,C);x(se,ue);let le=_(se,I);if(X&&(le.vs=[X,le.vs,K].flat(!0),h.predecessors(X).length)){let W=h.node(h.predecessors(X)[0]),ne=h.node(h.predecessors(K)[0]);le.hasOwnProperty("barycenter")||(le.barycenter=0,le.weight=0),le.barycenter=(le.barycenter*le.weight+W.order+ne.order)/(le.weight+2),le.weight+=2}return le}function x(h,y){h.forEach(C=>{C.vs=C.vs.flatMap(I=>y[I]?y[I].vs:I)})}function b(h,y){h.barycenter!==void 0?(h.barycenter=(h.barycenter*h.weight+y.barycenter*y.weight)/(h.weight+y.weight),h.weight+=y.weight):(h.barycenter=y.barycenter,h.weight=y.weight)}},26063:function(B,Z,d){let i=d(20965);B.exports=M;function M(x,b){let h=i.partition(x,ue=>ue.hasOwnProperty("barycenter")),y=h.lhs,C=h.rhs.sort((ue,Be)=>Be.i-ue.i),I=[],z=0,D=0,X=0;y.sort(T(!!b)),X=_(I,C,X),y.forEach(ue=>{X+=ue.vs.length,I.push(ue.vs),z+=ue.barycenter*ue.weight,D+=ue.weight,X=_(I,C,X)});let K={vs:I.flat(!0)};return D&&(K.barycenter=z/D,K.weight=D),K}function _(x,b,h){let y;for(;b.length&&(y=b[b.length-1]).i<=h;)b.pop(),x.push(y.vs),h++;return h}function T(x){return(b,h)=>b.barycenter<h.barycenter?-1:b.barycenter>h.barycenter?1:x?h.i-b.i:b.i-h.i}},3409:function(B){B.exports=Z;function Z(M){let _=i(M);M.graph().dummyChains.forEach(T=>{let x=M.node(T),b=x.edgeObj,h=d(M,_,b.v,b.w),y=h.path,C=h.lca,I=0,z=y[I],D=!0;for(;T!==b.w;){if(x=M.node(T),D){for(;(z=y[I])!==C&&M.node(z).maxRank<x.rank;)I++;z===C&&(D=!1)}if(!D){for(;I<y.length-1&&M.node(z=y[I+1]).minRank<=x.rank;)I++;z=y[I]}M.setParent(T,z),T=M.successors(T)[0]}})}function d(M,_,T,x){let b=[],h=[],y=Math.min(_[T].low,_[x].low),C=Math.max(_[T].lim,_[x].lim),I,z;I=T;do I=M.parent(I),b.push(I);while(I&&(_[I].low>y||C>_[I].lim));for(z=I,I=x;(I=M.parent(I))!==z;)h.push(I);return{path:b.concat(h.reverse()),lca:z}}function i(M){let _={},T=0;function x(b){let h=T;M.children(b).forEach(x),_[b]={low:h,lim:T++}}return M.children().forEach(x),_}},48358:function(B,Z,d){"use strict";let i=d(7378).Graph,M=d(20965);B.exports={positionX:K,findType1Conflicts:_,findType2Conflicts:T,addConflict:b,hasConflict:h,verticalAlignment:y,horizontalCompaction:C,alignCoordinates:D,findSmallestWidthAlignment:z,balance:X};function _(se,le){let W={};function ne(oe,H){let Y=0,ie=0,te=oe.length,Ee=H[H.length-1];return H.forEach((Me,R)=>{let J=x(se,Me),Se=J?se.node(J).order:te;(J||Me===Ee)&&(H.slice(ie,R+1).forEach(we=>{se.predecessors(we).forEach(je=>{let Ce=se.node(je),Q=Ce.order;(Q<Y||Se<Q)&&!(Ce.dummy&&se.node(we).dummy)&&b(W,je,we)})}),ie=R+1,Y=Se)}),H}return le.reduce(ne),W}function T(se,le){let W={};function ne(H,Y,ie,te,Ee){let Me;M.range(Y,ie).forEach(R=>{Me=H[R],se.node(Me).dummy&&se.predecessors(Me).forEach(J=>{let Se=se.node(J);Se.dummy&&(Se.order<te||Se.order>Ee)&&b(W,J,Me)})})}function oe(H,Y){let ie=-1,te,Ee=0;return Y.forEach((Me,R)=>{if(se.node(Me).dummy==="border"){let J=se.predecessors(Me);J.length&&(te=se.node(J[0]).order,ne(Y,Ee,R,ie,te),Ee=R,ie=te)}ne(Y,Ee,Y.length,te,H.length)}),Y}return le.reduce(oe),W}function x(se,le){if(se.node(le).dummy)return se.predecessors(le).find(W=>se.node(W).dummy)}function b(se,le,W){if(le>W){let oe=le;le=W,W=oe}let ne=se[le];ne||(se[le]=ne={}),ne[W]=!0}function h(se,le,W){if(le>W){let ne=le;le=W,W=ne}return!!se[le]&&se[le].hasOwnProperty(W)}function y(se,le,W,ne){let oe={},H={},Y={};return le.forEach(ie=>{ie.forEach((te,Ee)=>{oe[te]=te,H[te]=te,Y[te]=Ee})}),le.forEach(ie=>{let te=-1;ie.forEach(Ee=>{let Me=ne(Ee);if(Me.length){Me=Me.sort((J,Se)=>Y[J]-Y[Se]);let R=(Me.length-1)/2;for(let J=Math.floor(R),Se=Math.ceil(R);J<=Se;++J){let we=Me[J];H[Ee]===Ee&&te<Y[we]&&!h(W,Ee,we)&&(H[we]=Ee,H[Ee]=oe[Ee]=oe[we],te=Y[we])}}})}),{root:oe,align:H}}function C(se,le,W,ne,oe){let H={},Y=I(se,le,W,oe),ie=oe?"borderLeft":"borderRight";function te(R,J){let Se=Y.nodes(),we=Se.pop(),je={};for(;we;)je[we]?R(we):(je[we]=!0,Se.push(we),Se=Se.concat(J(we))),we=Se.pop()}function Ee(R){H[R]=Y.inEdges(R).reduce((J,Se)=>Math.max(J,H[Se.v]+Y.edge(Se)),0)}function Me(R){let J=Y.outEdges(R).reduce((we,je)=>Math.min(we,H[je.w]-Y.edge(je)),Number.POSITIVE_INFINITY),Se=se.node(R);J!==Number.POSITIVE_INFINITY&&Se.borderType!==ie&&(H[R]=Math.max(H[R],J))}return te(Ee,Y.predecessors.bind(Y)),te(Me,Y.successors.bind(Y)),Object.keys(ne).forEach(R=>H[R]=H[W[R]]),H}function I(se,le,W,ne){let oe=new i,H=se.graph(),Y=ue(H.nodesep,H.edgesep,ne);return le.forEach(ie=>{let te;ie.forEach(Ee=>{let Me=W[Ee];if(oe.setNode(Me),te){var R=W[te],J=oe.edge(R,Me);oe.setEdge(R,Me,Math.max(Y(se,Ee,te),J||0))}te=Ee})}),oe}function z(se,le){return Object.values(le).reduce((W,ne)=>{let oe=Number.NEGATIVE_INFINITY,H=Number.POSITIVE_INFINITY;Object.entries(ne).forEach(([ie,te])=>{let Ee=Be(se,ie)/2;oe=Math.max(te+Ee,oe),H=Math.min(te-Ee,H)});const Y=oe-H;return Y<W[0]&&(W=[Y,ne]),W},[Number.POSITIVE_INFINITY,null])[1]}function D(se,le){let W=Object.values(le),ne=Math.min(...W),oe=Math.max(...W);["u","d"].forEach(H=>{["l","r"].forEach(Y=>{let ie=H+Y,te=se[ie];if(te===le)return;let Ee=Object.values(te),Me=ne-Math.min(...Ee);Y!=="l"&&(Me=oe-Math.max(...Ee)),Me&&(se[ie]=M.mapValues(te,R=>R+Me))})})}function X(se,le){return M.mapValues(se.ul,(W,ne)=>{if(le)return se[le.toLowerCase()][ne];{let oe=Object.values(se).map(H=>H[ne]).sort((H,Y)=>H-Y);return(oe[1]+oe[2])/2}})}function K(se){let le=M.buildLayerMatrix(se),W=Object.assign(_(se,le),T(se,le)),ne={},oe;["u","d"].forEach(Y=>{oe=Y==="u"?le:Object.values(le).reverse(),["l","r"].forEach(ie=>{ie==="r"&&(oe=oe.map(R=>Object.values(R).reverse()));let te=(Y==="u"?se.predecessors:se.successors).bind(se),Ee=y(se,oe,W,te),Me=C(se,oe,Ee.root,Ee.align,ie==="r");ie==="r"&&(Me=M.mapValues(Me,R=>-R)),ne[Y+ie]=Me})});let H=z(se,ne);return D(ne,H),X(ne,se.graph().align)}function ue(se,le,W){return(ne,oe,H)=>{let Y=ne.node(oe),ie=ne.node(H),te=0,Ee;if(te+=Y.width/2,Y.hasOwnProperty("labelpos"))switch(Y.labelpos.toLowerCase()){case"l":Ee=-Y.width/2;break;case"r":Ee=Y.width/2;break}if(Ee&&(te+=W?Ee:-Ee),Ee=0,te+=(Y.dummy?le:se)/2,te+=(ie.dummy?le:se)/2,te+=ie.width/2,ie.hasOwnProperty("labelpos"))switch(ie.labelpos.toLowerCase()){case"l":Ee=ie.width/2;break;case"r":Ee=-ie.width/2;break}return Ee&&(te+=W?Ee:-Ee),Ee=0,te}}function Be(se,le){return se.node(le).width}},3862:function(B,Z,d){"use strict";let i=d(20965),M=d(48358).positionX;B.exports=_;function _(x){x=i.asNonCompoundGraph(x),T(x),Object.entries(M(x)).forEach(([b,h])=>x.node(b).x=h)}function T(x){let b=i.buildLayerMatrix(x),h=x.graph().ranksep,y=0;b.forEach(C=>{const I=C.reduce((z,D)=>{const X=x.node(D).height;return z>X?z:X},0);C.forEach(z=>x.node(z).y=y+I/2),y+=I+h})}},18984:function(B,Z,d){"use strict";var i=d(7378).Graph,M=d(97133).slack;B.exports=_;function _(h){var y=new i({directed:!1}),C=h.nodes()[0],I=h.nodeCount();y.setNode(C,{});for(var z,D;T(y,h)<I;)z=x(y,h),D=y.hasNode(z.v)?M(h,z):-M(h,z),b(y,h,D);return y}function T(h,y){function C(I){y.nodeEdges(I).forEach(z=>{var D=z.v,X=I===D?z.w:D;!h.hasNode(X)&&!M(y,z)&&(h.setNode(X,{}),h.setEdge(I,X,{}),C(X))})}return h.nodes().forEach(C),h.nodeCount()}function x(h,y){return y.edges().reduce((I,z)=>{let D=Number.POSITIVE_INFINITY;return h.hasNode(z.v)!==h.hasNode(z.w)&&(D=M(y,z)),D<I[0]?[D,z]:I},[Number.POSITIVE_INFINITY,null])[1]}function b(h,y,C){h.nodes().forEach(I=>y.node(I).rank+=C)}},42311:function(B,Z,d){"use strict";var i=d(97133),M=i.longestPath,_=d(18984),T=d(10286);B.exports=x;function x(C){switch(C.graph().ranker){case"network-simplex":y(C);break;case"tight-tree":h(C);break;case"longest-path":b(C);break;default:y(C)}}var b=M;function h(C){M(C),_(C)}function y(C){T(C)}},10286:function(B,Z,d){"use strict";var i=d(18984),M=d(97133).slack,_=d(97133).longestPath,T=d(7378).alg.preorder,x=d(7378).alg.postorder,b=d(20965).simplify;B.exports=h,h.initLowLimValues=z,h.initCutValues=y,h.calcCutValue=I,h.leaveEdge=X,h.enterEdge=K,h.exchangeEdges=ue;function h(W){W=b(W),_(W);var ne=i(W);z(ne),y(ne,W);for(var oe,H;oe=X(ne);)H=K(ne,W,oe),ue(ne,W,oe,H)}function y(W,ne){var oe=x(W,W.nodes());oe=oe.slice(0,oe.length-1),oe.forEach(H=>C(W,ne,H))}function C(W,ne,oe){var H=W.node(oe),Y=H.parent;W.edge(oe,Y).cutvalue=I(W,ne,oe)}function I(W,ne,oe){var H=W.node(oe),Y=H.parent,ie=!0,te=ne.edge(oe,Y),Ee=0;return te||(ie=!1,te=ne.edge(Y,oe)),Ee=te.weight,ne.nodeEdges(oe).forEach(Me=>{var R=Me.v===oe,J=R?Me.w:Me.v;if(J!==Y){var Se=R===ie,we=ne.edge(Me).weight;if(Ee+=Se?we:-we,se(W,oe,J)){var je=W.edge(oe,J).cutvalue;Ee+=Se?-je:je}}}),Ee}function z(W,ne){arguments.length<2&&(ne=W.nodes()[0]),D(W,{},1,ne)}function D(W,ne,oe,H,Y){var ie=oe,te=W.node(H);return ne[H]=!0,W.neighbors(H).forEach(Ee=>{ne.hasOwnProperty(Ee)||(oe=D(W,ne,oe,Ee,H))}),te.low=ie,te.lim=oe++,Y?te.parent=Y:delete te.parent,oe}function X(W){return W.edges().find(ne=>W.edge(ne).cutvalue<0)}function K(W,ne,oe){var H=oe.v,Y=oe.w;ne.hasEdge(H,Y)||(H=oe.w,Y=oe.v);var ie=W.node(H),te=W.node(Y),Ee=ie,Me=!1;ie.lim>te.lim&&(Ee=te,Me=!0);var R=ne.edges().filter(J=>Me===le(W,W.node(J.v),Ee)&&Me!==le(W,W.node(J.w),Ee));return R.reduce((J,Se)=>M(ne,Se)<M(ne,J)?Se:J)}function ue(W,ne,oe,H){var Y=oe.v,ie=oe.w;W.removeEdge(Y,ie),W.setEdge(H.v,H.w,{}),z(W),y(W,ne),Be(W,ne)}function Be(W,ne){var oe=W.nodes().find(Y=>!ne.node(Y).parent),H=T(W,oe);H=H.slice(1),H.forEach(Y=>{var ie=W.node(Y).parent,te=ne.edge(Y,ie),Ee=!1;te||(te=ne.edge(ie,Y),Ee=!0),ne.node(Y).rank=ne.node(ie).rank+(Ee?te.minlen:-te.minlen)})}function se(W,ne,oe){return W.hasEdge(ne,oe)}function le(W,ne,oe){return oe.low<=ne.lim&&ne.lim<=oe.lim}},97133:function(B){"use strict";B.exports={longestPath:Z,slack:d};function Z(i){var M={};function _(T){var x=i.node(T);if(M.hasOwnProperty(T))return x.rank;M[T]=!0;var b=Math.min(...i.outEdges(T).map(h=>h==null?Number.POSITIVE_INFINITY:_(h.w)-i.edge(h).minlen));return b===Number.POSITIVE_INFINITY&&(b=0),x.rank=b}i.sources().forEach(_)}function d(i,M){return i.node(M.w).rank-i.node(M.v).rank-i.edge(M).minlen}},20965:function(B,Z,d){"use strict";let i=d(7378).Graph;B.exports={addBorderNode:z,addDummyNode:M,asNonCompoundGraph:T,buildLayerMatrix:y,intersectRect:h,mapValues:ne,maxRank:D,normalizeRanks:C,notime:ue,partition:X,pick:W,predecessorWeights:b,range:le,removeEmptyRanks:I,simplify:_,successorWeights:x,time:K,uniqueId:se,zipObject:oe};function M(H,Y,ie,te){let Ee;do Ee=se(te);while(H.hasNode(Ee));return ie.dummy=Y,H.setNode(Ee,ie),Ee}function _(H){let Y=new i().setGraph(H.graph());return H.nodes().forEach(ie=>Y.setNode(ie,H.node(ie))),H.edges().forEach(ie=>{let te=Y.edge(ie.v,ie.w)||{weight:0,minlen:1},Ee=H.edge(ie);Y.setEdge(ie.v,ie.w,{weight:te.weight+Ee.weight,minlen:Math.max(te.minlen,Ee.minlen)})}),Y}function T(H){let Y=new i({multigraph:H.isMultigraph()}).setGraph(H.graph());return H.nodes().forEach(ie=>{H.children(ie).length||Y.setNode(ie,H.node(ie))}),H.edges().forEach(ie=>{Y.setEdge(ie,H.edge(ie))}),Y}function x(H){let Y=H.nodes().map(ie=>{let te={};return H.outEdges(ie).forEach(Ee=>{te[Ee.w]=(te[Ee.w]||0)+H.edge(Ee).weight}),te});return oe(H.nodes(),Y)}function b(H){let Y=H.nodes().map(ie=>{let te={};return H.inEdges(ie).forEach(Ee=>{te[Ee.v]=(te[Ee.v]||0)+H.edge(Ee).weight}),te});return oe(H.nodes(),Y)}function h(H,Y){let ie=H.x,te=H.y,Ee=Y.x-ie,Me=Y.y-te,R=H.width/2,J=H.height/2;if(!Ee&&!Me)throw new Error("Not possible to find intersection inside of the rectangle");let Se,we;return Math.abs(Me)*R>Math.abs(Ee)*J?(Me<0&&(J=-J),Se=J*Ee/Me,we=J):(Ee<0&&(R=-R),Se=R,we=R*Me/Ee),{x:ie+Se,y:te+we}}function y(H){let Y=le(D(H)+1).map(()=>[]);return H.nodes().forEach(ie=>{let te=H.node(ie),Ee=te.rank;Ee!==void 0&&(Y[Ee][te.order]=ie)}),Y}function C(H){let Y=Math.min(...H.nodes().map(ie=>{let te=H.node(ie).rank;return te===void 0?Number.MAX_VALUE:te}));H.nodes().forEach(ie=>{let te=H.node(ie);te.hasOwnProperty("rank")&&(te.rank-=Y)})}function I(H){let Y=Math.min(...H.nodes().map(Me=>H.node(Me).rank)),ie=[];H.nodes().forEach(Me=>{let R=H.node(Me).rank-Y;ie[R]||(ie[R]=[]),ie[R].push(Me)});let te=0,Ee=H.graph().nodeRankFactor;Array.from(ie).forEach((Me,R)=>{Me===void 0&&R%Ee!==0?--te:Me!==void 0&&te&&Me.forEach(J=>H.node(J).rank+=te)})}function z(H,Y,ie,te){let Ee={width:0,height:0};return arguments.length>=4&&(Ee.rank=ie,Ee.order=te),M(H,"border",Ee,Y)}function D(H){return Math.max(...H.nodes().map(Y=>{let ie=H.node(Y).rank;return ie===void 0?Number.MIN_VALUE:ie}))}function X(H,Y){let ie={lhs:[],rhs:[]};return H.forEach(te=>{Y(te)?ie.lhs.push(te):ie.rhs.push(te)}),ie}function K(H,Y){let ie=Date.now();try{return Y()}finally{console.log(H+" time: "+(Date.now()-ie)+"ms")}}function ue(H,Y){return Y()}let Be=0;function se(H){var Y=++Be;return toString(H)+Y}function le(H,Y,ie=1){Y==null&&(Y=H,H=0);let te=Me=>Me<Y;ie<0&&(te=Me=>Y<Me);const Ee=[];for(let Me=H;te(Me);Me+=ie)Ee.push(Me);return Ee}function W(H,Y){const ie={};for(const te of Y)H[te]!==void 0&&(ie[te]=H[te]);return ie}function ne(H,Y){let ie=Y;return typeof Y=="string"&&(ie=te=>te[Y]),Object.entries(H).reduce((te,[Ee,Me])=>(te[Ee]=ie(Me,Ee),te),{})}function oe(H,Y){return H.reduce((ie,te,Ee)=>(ie[te]=Y[Ee],ie),{})}},61360:function(B){B.exports="1.0.4"},7378:function(B,Z,d){var i=d(84666);B.exports={Graph:i.Graph,json:d(98146),alg:d(83959),version:i.version}},32315:function(B){B.exports=Z;function Z(d){var i={},M=[],_;function T(x){i.hasOwnProperty(x)||(i[x]=!0,_.push(x),d.successors(x).forEach(T),d.predecessors(x).forEach(T))}return d.nodes().forEach(function(x){_=[],T(x),_.length&&M.push(_)}),M}},55572:function(B){B.exports=Z;function Z(_,T,x){Array.isArray(T)||(T=[T]);var b=_.isDirected()?I=>_.successors(I):I=>_.neighbors(I),h=x==="post"?d:i,y=[],C={};return T.forEach(I=>{if(!_.hasNode(I))throw new Error("Graph does not have node: "+I);h(I,b,C,y)}),y}function d(_,T,x,b){for(var h=[[_,!1]];h.length>0;){var y=h.pop();y[1]?b.push(y[0]):x.hasOwnProperty(y[0])||(x[y[0]]=!0,h.push([y[0],!0]),M(T(y[0]),C=>h.push([C,!1])))}}function i(_,T,x,b){for(var h=[_];h.length>0;){var y=h.pop();x.hasOwnProperty(y)||(x[y]=!0,b.push(y),M(T(y),C=>h.push(C)))}}function M(_,T){for(var x=_.length;x--;)T(_[x],x,_);return _}},1922:function(B,Z,d){var i=d(24561);B.exports=M;function M(_,T,x){return _.nodes().reduce(function(b,h){return b[h]=i(_,h,T,x),b},{})}},24561:function(B,Z,d){var i=d(81227);B.exports=_;var M=()=>1;function _(x,b,h,y){return T(x,String(b),h||M,y||function(C){return x.outEdges(C)})}function T(x,b,h,y){var C={},I=new i,z,D,X=function(K){var ue=K.v!==z?K.v:K.w,Be=C[ue],se=h(K),le=D.distance+se;if(se<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+K+" Weight: "+se);le<Be.distance&&(Be.distance=le,Be.predecessor=z,I.decrease(ue,le))};for(x.nodes().forEach(function(K){var ue=K===b?0:Number.POSITIVE_INFINITY;C[K]={distance:ue},I.add(K,ue)});I.size()>0&&(z=I.removeMin(),D=C[z],D.distance!==Number.POSITIVE_INFINITY);)y(z).forEach(X);return C}},36176:function(B,Z,d){var i=d(33011);B.exports=M;function M(_){return i(_).filter(function(T){return T.length>1||T.length===1&&_.hasEdge(T[0],T[0])})}},4408:function(B){B.exports=d;var Z=()=>1;function d(M,_,T){return i(M,_||Z,T||function(x){return M.outEdges(x)})}function i(M,_,T){var x={},b=M.nodes();return b.forEach(function(h){x[h]={},x[h][h]={distance:0},b.forEach(function(y){h!==y&&(x[h][y]={distance:Number.POSITIVE_INFINITY})}),T(h).forEach(function(y){var C=y.v===h?y.w:y.v,I=_(y);x[h][C]={distance:I,predecessor:h}})}),b.forEach(function(h){var y=x[h];b.forEach(function(C){var I=x[C];b.forEach(function(z){var D=I[h],X=y[z],K=I[z],ue=D.distance+X.distance;ue<K.distance&&(K.distance=ue,K.predecessor=X.predecessor)})})}),x}},83959:function(B,Z,d){B.exports={components:d(32315),dijkstra:d(24561),dijkstraAll:d(1922),findCycles:d(36176),floydWarshall:d(4408),isAcyclic:d(39110),postorder:d(23773),preorder:d(35572),prim:d(77383),tarjan:d(33011),topsort:d(20626)}},39110:function(B,Z,d){var i=d(20626);B.exports=M;function M(_){try{i(_)}catch(T){if(T instanceof i.CycleException)return!1;throw T}return!0}},23773:function(B,Z,d){var i=d(55572);B.exports=M;function M(_,T){return i(_,T,"post")}},35572:function(B,Z,d){var i=d(55572);B.exports=M;function M(_,T){return i(_,T,"pre")}},77383:function(B,Z,d){var i=d(76962),M=d(81227);B.exports=_;function _(T,x){var b=new i,h={},y=new M,C;function I(D){var X=D.v===C?D.w:D.v,K=y.priority(X);if(K!==void 0){var ue=x(D);ue<K&&(h[X]=C,y.decrease(X,ue))}}if(T.nodeCount()===0)return b;T.nodes().forEach(function(D){y.add(D,Number.POSITIVE_INFINITY),b.setNode(D)}),y.decrease(T.nodes()[0],0);for(var z=!1;y.size()>0;){if(C=y.removeMin(),h.hasOwnProperty(C))b.setEdge(C,h[C]);else{if(z)throw new Error("Input graph is not connected: "+T);z=!0}T.nodeEdges(C).forEach(I)}return b}},33011:function(B){B.exports=Z;function Z(d){var i=0,M=[],_={},T=[];function x(b){var h=_[b]={onStack:!0,lowlink:i,index:i++};if(M.push(b),d.successors(b).forEach(function(I){_.hasOwnProperty(I)?_[I].onStack&&(h.lowlink=Math.min(h.lowlink,_[I].index)):(x(I),h.lowlink=Math.min(h.lowlink,_[I].lowlink))}),h.lowlink===h.index){var y=[],C;do C=M.pop(),_[C].onStack=!1,y.push(C);while(b!==C);T.push(y)}}return d.nodes().forEach(function(b){_.hasOwnProperty(b)||x(b)}),T}},20626:function(B){function Z(i){var M={},_={},T=[];function x(b){if(_.hasOwnProperty(b))throw new d;M.hasOwnProperty(b)||(_[b]=!0,M[b]=!0,i.predecessors(b).forEach(x),delete _[b],T.push(b))}if(i.sinks().forEach(x),Object.keys(M).length!==i.nodeCount())throw new d;return T}class d extends Error{constructor(){super(...arguments)}}B.exports=Z,Z.CycleException=d},81227:function(B){var d,i,M,Wa,Ka,Sa;class Z{constructor(){er(this,M);er(this,d,[]);er(this,i,{})}size(){return Ze(this,d).length}keys(){return Ze(this,d).map(function(h){return h.key})}has(h){return Ze(this,i).hasOwnProperty(h)}priority(h){var y=Ze(this,i)[h];if(y!==void 0)return Ze(this,d)[y].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return Ze(this,d)[0].key}add(h,y){var C=Ze(this,i);if(h=String(h),!C.hasOwnProperty(h)){var I=Ze(this,d),z=I.length;return C[h]=z,I.push({key:h,priority:y}),Vo(this,M,Ka).call(this,z),!0}return!1}removeMin(){Vo(this,M,Sa).call(this,0,Ze(this,d).length-1);var h=Ze(this,d).pop();return delete Ze(this,i)[h.key],Vo(this,M,Wa).call(this,0),h.key}decrease(h,y){var C=Ze(this,i)[h];if(y>Ze(this,d)[C].priority)throw new Error("New priority is greater than current priority. Key: "+h+" Old: "+Ze(this,d)[C].priority+" New: "+y);Ze(this,d)[C].priority=y,Vo(this,M,Ka).call(this,C)}}d=new WeakMap,i=new WeakMap,M=new WeakSet,Wa=function(h){var y=Ze(this,d),C=2*h,I=C+1,z=h;C<y.length&&(z=y[C].priority<y[z].priority?C:z,I<y.length&&(z=y[I].priority<y[z].priority?I:z),z!==h&&(Vo(this,M,Sa).call(this,h,z),Vo(this,M,Wa).call(this,z)))},Ka=function(h){for(var y=Ze(this,d),C=y[h].priority,I;h!==0&&(I=h>>1,!(y[I].priority<C));)Vo(this,M,Sa).call(this,h,I),h=I},Sa=function(h,y){var C=Ze(this,d),I=Ze(this,i),z=C[h],D=C[y];C[h]=D,C[y]=z,I[D.key]=h,I[z.key]=y},B.exports=Z},76962:function(B){"use strict";var y,C,I,z,D,X,K,ue,Be,se,le,W,ne,oe,H,Y,ie,te,Ga;var Z="\0",d="\0",i="";class M{constructor(R){er(this,te);er(this,y,!0);er(this,C,!1);er(this,I,!1);er(this,z);er(this,D,()=>{});er(this,X,()=>{});er(this,K,{});er(this,ue,{});er(this,Be,{});er(this,se,{});er(this,le,{});er(this,W,{});er(this,ne,{});er(this,oe,0);er(this,H,0);er(this,Y);er(this,ie);R&&(vo(this,y,R.hasOwnProperty("directed")?R.directed:!0),vo(this,C,R.hasOwnProperty("multigraph")?R.multigraph:!1),vo(this,I,R.hasOwnProperty("compound")?R.compound:!1)),Ze(this,I)&&(vo(this,Y,{}),vo(this,ie,{}),Ze(this,ie)[d]={})}isDirected(){return Ze(this,y)}isMultigraph(){return Ze(this,C)}isCompound(){return Ze(this,I)}setGraph(R){return vo(this,z,R),this}graph(){return Ze(this,z)}setDefaultNodeLabel(R){return vo(this,D,R),typeof R!="function"&&vo(this,D,()=>R),this}nodeCount(){return Ze(this,oe)}nodes(){return Object.keys(Ze(this,K))}sources(){var R=this;return this.nodes().filter(J=>Object.keys(Ze(R,ue)[J]).length===0)}sinks(){var R=this;return this.nodes().filter(J=>Object.keys(Ze(R,se)[J]).length===0)}setNodes(R,J){var Se=arguments,we=this;return R.forEach(function(je){Se.length>1?we.setNode(je,J):we.setNode(je)}),this}setNode(R,J){return Ze(this,K).hasOwnProperty(R)?(arguments.length>1&&(Ze(this,K)[R]=J),this):(Ze(this,K)[R]=arguments.length>1?J:Ze(this,D).call(this,R),Ze(this,I)&&(Ze(this,Y)[R]=d,Ze(this,ie)[R]={},Ze(this,ie)[d][R]=!0),Ze(this,ue)[R]={},Ze(this,Be)[R]={},Ze(this,se)[R]={},Ze(this,le)[R]={},++Hs(this,oe)._,this)}node(R){return Ze(this,K)[R]}hasNode(R){return Ze(this,K).hasOwnProperty(R)}removeNode(R){var J=this;if(Ze(this,K).hasOwnProperty(R)){var Se=we=>J.removeEdge(Ze(J,W)[we]);delete Ze(this,K)[R],Ze(this,I)&&(Vo(this,te,Ga).call(this,R),delete Ze(this,Y)[R],this.children(R).forEach(function(we){J.setParent(we)}),delete Ze(this,ie)[R]),Object.keys(Ze(this,ue)[R]).forEach(Se),delete Ze(this,ue)[R],delete Ze(this,Be)[R],Object.keys(Ze(this,se)[R]).forEach(Se),delete Ze(this,se)[R],delete Ze(this,le)[R],--Hs(this,oe)._}return this}setParent(R,J){if(!Ze(this,I))throw new Error("Cannot set parent in a non-compound graph");if(J===void 0)J=d;else{J+="";for(var Se=J;Se!==void 0;Se=this.parent(Se))if(Se===R)throw new Error("Setting "+J+" as parent of "+R+" would create a cycle");this.setNode(J)}return this.setNode(R),Vo(this,te,Ga).call(this,R),Ze(this,Y)[R]=J,Ze(this,ie)[J][R]=!0,this}parent(R){if(Ze(this,I)){var J=Ze(this,Y)[R];if(J!==d)return J}}children(R=d){if(Ze(this,I)){var J=Ze(this,ie)[R];if(J)return Object.keys(J)}else{if(R===d)return this.nodes();if(this.hasNode(R))return[]}}predecessors(R){var J=Ze(this,Be)[R];if(J)return Object.keys(J)}successors(R){var J=Ze(this,le)[R];if(J)return Object.keys(J)}neighbors(R){var J=this.predecessors(R);if(J){const we=new Set(J);for(var Se of this.successors(R))we.add(Se);return Array.from(we.values())}}isLeaf(R){var J;return this.isDirected()?J=this.successors(R):J=this.neighbors(R),J.length===0}filterNodes(R){var J=new this.constructor({directed:Ze(this,y),multigraph:Ze(this,C),compound:Ze(this,I)});J.setGraph(this.graph());var Se=this;Object.entries(Ze(this,K)).forEach(function([Ce,Q]){R(Ce)&&J.setNode(Ce,Q)}),Object.values(Ze(this,W)).forEach(function(Ce){J.hasNode(Ce.v)&&J.hasNode(Ce.w)&&J.setEdge(Ce,Se.edge(Ce))});var we={};function je(Ce){var Q=Se.parent(Ce);return Q===void 0||J.hasNode(Q)?(we[Ce]=Q,Q):Q in we?we[Q]:je(Q)}return Ze(this,I)&&J.nodes().forEach(Ce=>J.setParent(Ce,je(Ce))),J}setDefaultEdgeLabel(R){return vo(this,X,R),typeof R!="function"&&vo(this,X,()=>R),this}edgeCount(){return Ze(this,H)}edges(){return Object.values(Ze(this,W))}setPath(R,J){var Se=this,we=arguments;return R.reduce(function(je,Ce){return we.length>1?Se.setEdge(je,Ce,J):Se.setEdge(je,Ce),Ce}),this}setEdge(){var R,J,Se,we,je=!1,Ce=arguments[0];typeof Ce=="object"&&Ce!==null&&"v"in Ce?(R=Ce.v,J=Ce.w,Se=Ce.name,arguments.length===2&&(we=arguments[1],je=!0)):(R=Ce,J=arguments[1],Se=arguments[3],arguments.length>2&&(we=arguments[2],je=!0)),R=""+R,J=""+J,Se!==void 0&&(Se=""+Se);var Q=x(Ze(this,y),R,J,Se);if(Ze(this,ne).hasOwnProperty(Q))return je&&(Ze(this,ne)[Q]=we),this;if(Se!==void 0&&!Ze(this,C))throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(R),this.setNode(J),Ze(this,ne)[Q]=je?we:Ze(this,X).call(this,R,J,Se);var de=b(Ze(this,y),R,J,Se);return R=de.v,J=de.w,Object.freeze(de),Ze(this,W)[Q]=de,_(Ze(this,Be)[J],R),_(Ze(this,le)[R],J),Ze(this,ue)[J][Q]=de,Ze(this,se)[R][Q]=de,Hs(this,H)._++,this}edge(R,J,Se){var we=arguments.length===1?h(Ze(this,y),arguments[0]):x(Ze(this,y),R,J,Se);return Ze(this,ne)[we]}edgeAsObj(){const R=this.edge(...arguments);return typeof R!="object"?{label:R}:R}hasEdge(R,J,Se){var we=arguments.length===1?h(Ze(this,y),arguments[0]):x(Ze(this,y),R,J,Se);return Ze(this,ne).hasOwnProperty(we)}removeEdge(R,J,Se){var we=arguments.length===1?h(Ze(this,y),arguments[0]):x(Ze(this,y),R,J,Se),je=Ze(this,W)[we];return je&&(R=je.v,J=je.w,delete Ze(this,ne)[we],delete Ze(this,W)[we],T(Ze(this,Be)[J],R),T(Ze(this,le)[R],J),delete Ze(this,ue)[J][we],delete Ze(this,se)[R][we],Hs(this,H)._--),this}inEdges(R,J){var Se=Ze(this,ue)[R];if(Se){var we=Object.values(Se);return J?we.filter(je=>je.v===J):we}}outEdges(R,J){var Se=Ze(this,se)[R];if(Se){var we=Object.values(Se);return J?we.filter(je=>je.w===J):we}}nodeEdges(R,J){var Se=this.inEdges(R,J);if(Se)return Se.concat(this.outEdges(R,J))}}y=new WeakMap,C=new WeakMap,I=new WeakMap,z=new WeakMap,D=new WeakMap,X=new WeakMap,K=new WeakMap,ue=new WeakMap,Be=new WeakMap,se=new WeakMap,le=new WeakMap,W=new WeakMap,ne=new WeakMap,oe=new WeakMap,H=new WeakMap,Y=new WeakMap,ie=new WeakMap,te=new WeakSet,Ga=function(R){delete Ze(this,ie)[Ze(this,Y)[R]][R]};function _(Me,R){Me[R]?Me[R]++:Me[R]=1}function T(Me,R){--Me[R]||delete Me[R]}function x(Me,R,J,Se){var we=""+R,je=""+J;if(!Me&&we>je){var Ce=we;we=je,je=Ce}return we+i+je+i+(Se===void 0?Z:Se)}function b(Me,R,J,Se){var we=""+R,je=""+J;if(!Me&&we>je){var Ce=we;we=je,je=Ce}var Q={v:we,w:je};return Se&&(Q.name=Se),Q}function h(Me,R){return x(Me,R.v,R.w,R.name)}B.exports=M},84666:function(B,Z,d){B.exports={Graph:d(76962),version:d(95128)}},98146:function(B,Z,d){var i=d(76962);B.exports={write:M,read:x};function M(b){var h={options:{directed:b.isDirected(),multigraph:b.isMultigraph(),compound:b.isCompound()},nodes:_(b),edges:T(b)};return b.graph()!==void 0&&(h.value=structuredClone(b.graph())),h}function _(b){return b.nodes().map(function(h){var y=b.node(h),C=b.parent(h),I={v:h};return y!==void 0&&(I.value=y),C!==void 0&&(I.parent=C),I})}function T(b){return b.edges().map(function(h){var y=b.edge(h),C={v:h.v,w:h.w};return h.name!==void 0&&(C.name=h.name),y!==void 0&&(C.value=y),C})}function x(b){var h=new i(b.options).setGraph(b.value);return b.nodes.forEach(function(y){h.setNode(y.v,y.value),y.parent&&h.setParent(y.v,y.parent)}),b.edges.forEach(function(y){h.setEdge({v:y.v,w:y.w,name:y.name},y.value)}),h}},95128:function(B){B.exports="2.1.13"},39820:function(){"use strict"},72170:function(B,Z,d){"use strict";var i=d(75271),M=d(48915),_=d(79386);function T(x){_.Z&&((0,M.mf)(x)||console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof x)));var b=(0,i.useRef)(x);b.current=(0,i.useMemo)(function(){return x},[x]);var h=(0,i.useRef)();return h.current||(h.current=function(){for(var y=[],C=0;C<arguments.length;C++)y[C]=arguments[C];return b.current.apply(this,y)}),h.current}Z.Z=T},73209:function(B,Z,d){"use strict";d.d(Z,{Z:function(){return Tn}});var i=d(75271),M=d(82187),_=d.n(M),T=d(77527),x=d(87253),b=d(79e3),y=Le=>{const{getPrefixCls:jt,direction:Nt}=(0,i.useContext)(T.E_),{prefixCls:rt,className:at}=Le,en=jt("input-group",rt),on=jt("input"),[A,j]=(0,b.ZP)(on),ge=_()(en,{[`${en}-lg`]:Le.size==="large",[`${en}-sm`]:Le.size==="small",[`${en}-compact`]:Le.compact,[`${en}-rtl`]:Nt==="rtl"},j,at),Ie=(0,i.useContext)(x.aM),ze=(0,i.useMemo)(()=>Object.assign(Object.assign({},Ie),{isFormItemInput:!1}),[Ie]);return A(i.createElement("span",{className:ge,style:Le.style,onMouseEnter:Le.onMouseEnter,onMouseLeave:Le.onMouseLeave,onFocus:Le.onFocus,onBlur:Le.onBlur},i.createElement(x.aM.Provider,{value:ze},Le.children)))},C=d(14650),I=d(82986),z=d(39910),D=d(96317),X=d(74343),K=d(14754),ue=d(58452),Be=d(44994),se=d(50817),le=d(51420);function W(Le,jt){const Nt=(0,i.useRef)([]),rt=()=>{Nt.current.push(setTimeout(()=>{var at,en,on,A;!((at=Le.current)===null||at===void 0)&&at.input&&((en=Le.current)===null||en===void 0?void 0:en.input.getAttribute("type"))==="password"&&(!((on=Le.current)===null||on===void 0)&&on.input.hasAttribute("value"))&&((A=Le.current)===null||A===void 0||A.input.removeAttribute("value"))}))};return(0,i.useEffect)(()=>(jt&&rt(),()=>Nt.current.forEach(at=>{at&&clearTimeout(at)})),[]),rt}function ne(Le){return!!(Le.prefix||Le.suffix||Le.allowClear||Le.showCount)}var oe=function(Le,jt){var Nt={};for(var rt in Le)Object.prototype.hasOwnProperty.call(Le,rt)&&jt.indexOf(rt)<0&&(Nt[rt]=Le[rt]);if(Le!=null&&typeof Object.getOwnPropertySymbols=="function")for(var at=0,rt=Object.getOwnPropertySymbols(Le);at<rt.length;at++)jt.indexOf(rt[at])<0&&Object.prototype.propertyIsEnumerable.call(Le,rt[at])&&(Nt[rt[at]]=Le[rt[at]]);return Nt},Y=(0,i.forwardRef)((Le,jt)=>{var Nt;const{prefixCls:rt,bordered:at=!0,status:en,size:on,disabled:A,onBlur:j,onFocus:ge,suffix:Ie,allowClear:ze,addonAfter:pt,addonBefore:yt,className:it,style:De,styles:He,rootClassName:Gt,onChange:yn,classNames:Tt,variant:nn}=Le,rn=oe(Le,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:Jt,direction:Cn,input:Pt}=i.useContext(T.E_),Rt=Jt("input",rt),ct=(0,i.useRef)(null),Ct=(0,ue.Z)(Rt),[sn,ln,un]=(0,b.ZP)(Rt,Ct),{compactSize:vn,compactItemClassnames:pr}=(0,le.ri)(Rt,Cn),Gn=(0,Be.Z)(kt=>{var St;return(St=on!=null?on:vn)!==null&&St!==void 0?St:kt}),mr=i.useContext(K.Z),sr=A!=null?A:mr,{status:wn,hasFeedback:xn,feedbackIcon:tr}=(0,i.useContext)(x.aM),Dr=(0,X.F)(wn,en),Qt=ne(Le)||!!xn,bn=(0,i.useRef)(Qt),kn=W(ct,!0),Qn=kt=>{kn(),j==null||j(kt)},U=kt=>{kn(),ge==null||ge(kt)},he=kt=>{kn(),yn==null||yn(kt)},Je=(xn||Ie)&&i.createElement(i.Fragment,null,Ie,xn&&tr),ot=(0,D.Z)(ze!=null?ze:Pt==null?void 0:Pt.allowClear),[$e,ht]=(0,se.Z)("input",nn,at);return sn(i.createElement(C.Z,Object.assign({ref:(0,I.sQ)(jt,ct),prefixCls:Rt,autoComplete:Pt==null?void 0:Pt.autoComplete},rn,{disabled:sr,onBlur:Qn,onFocus:U,style:Object.assign(Object.assign({},Pt==null?void 0:Pt.style),De),styles:Object.assign(Object.assign({},Pt==null?void 0:Pt.styles),He),suffix:Je,allowClear:ot,className:_()(it,Gt,un,Ct,pr,Pt==null?void 0:Pt.className),onChange:he,addonBefore:yt&&i.createElement(z.Z,{form:!0,space:!0},yt),addonAfter:pt&&i.createElement(z.Z,{form:!0,space:!0},pt),classNames:Object.assign(Object.assign(Object.assign({},Tt),Pt==null?void 0:Pt.classNames),{input:_()({[`${Rt}-sm`]:Gn==="small",[`${Rt}-lg`]:Gn==="large",[`${Rt}-rtl`]:Cn==="rtl"},Tt==null?void 0:Tt.input,(Nt=Pt==null?void 0:Pt.classNames)===null||Nt===void 0?void 0:Nt.input,ln),variant:_()({[`${Rt}-${$e}`]:ht},(0,X.Z)(Rt,Dr)),affixWrapper:_()({[`${Rt}-affix-wrapper-sm`]:Gn==="small",[`${Rt}-affix-wrapper-lg`]:Gn==="large",[`${Rt}-affix-wrapper-rtl`]:Cn==="rtl"},ln),wrapper:_()({[`${Rt}-group-rtl`]:Cn==="rtl"},ln),groupWrapper:_()({[`${Rt}-group-wrapper-sm`]:Gn==="small",[`${Rt}-group-wrapper-lg`]:Gn==="large",[`${Rt}-group-wrapper-rtl`]:Cn==="rtl",[`${Rt}-group-wrapper-${$e}`]:ht},(0,X.Z)(`${Rt}-group-wrapper`,Dr,xn),ln)})})))}),ie=d(35047),te=d(72107),Ee=d(42425),Me=d(63828),R=d(84458),J=d(89097);const Se=Le=>{const{componentCls:jt,paddingXS:Nt}=Le;return{[jt]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:Nt,"&-rtl":{direction:"rtl"},[`${jt}-input`]:{textAlign:"center",paddingInline:Le.paddingXXS},[`&${jt}-sm ${jt}-input`]:{paddingInline:Le.calc(Le.paddingXXS).div(2).equal()},[`&${jt}-lg ${jt}-input`]:{paddingInline:Le.paddingXS}}}};var we=(0,Me.I$)(["Input","OTP"],Le=>{const jt=(0,R.IX)(Le,(0,J.e)(Le));return[Se(jt)]},J.T),je=d(40197),Ce=function(Le,jt){var Nt={};for(var rt in Le)Object.prototype.hasOwnProperty.call(Le,rt)&&jt.indexOf(rt)<0&&(Nt[rt]=Le[rt]);if(Le!=null&&typeof Object.getOwnPropertySymbols=="function")for(var at=0,rt=Object.getOwnPropertySymbols(Le);at<rt.length;at++)jt.indexOf(rt[at])<0&&Object.prototype.propertyIsEnumerable.call(Le,rt[at])&&(Nt[rt[at]]=Le[rt[at]]);return Nt},de=i.forwardRef((Le,jt)=>{const{value:Nt,onChange:rt,onActiveChange:at,index:en,mask:on}=Le,A=Ce(Le,["value","onChange","onActiveChange","index","mask"]),j=Nt&&typeof on=="string"?on:Nt,ge=it=>{rt(en,it.target.value)},Ie=i.useRef(null);i.useImperativeHandle(jt,()=>Ie.current);const ze=()=>{(0,je.Z)(()=>{var it;const De=(it=Ie.current)===null||it===void 0?void 0:it.input;document.activeElement===De&&De&&De.select()})},pt=it=>{const{key:De,ctrlKey:He,metaKey:Gt}=it;De==="ArrowLeft"?at(en-1):De==="ArrowRight"?at(en+1):De==="z"&&(He||Gt)&&it.preventDefault(),ze()},yt=it=>{it.key==="Backspace"&&!Nt&&at(en-1),ze()};return i.createElement(Y,Object.assign({type:on===!0?"password":"text"},A,{ref:Ie,value:j,onInput:ge,onFocus:ze,onKeyDown:pt,onKeyUp:yt,onMouseDown:ze,onMouseUp:ze}))}),Ue=function(Le,jt){var Nt={};for(var rt in Le)Object.prototype.hasOwnProperty.call(Le,rt)&&jt.indexOf(rt)<0&&(Nt[rt]=Le[rt]);if(Le!=null&&typeof Object.getOwnPropertySymbols=="function")for(var at=0,rt=Object.getOwnPropertySymbols(Le);at<rt.length;at++)jt.indexOf(rt[at])<0&&Object.prototype.propertyIsEnumerable.call(Le,rt[at])&&(Nt[rt[at]]=Le[rt[at]]);return Nt};function Qe(Le){return(Le||"").split("")}var Mt=i.forwardRef((Le,jt)=>{const{prefixCls:Nt,length:rt=6,size:at,defaultValue:en,value:on,onChange:A,formatter:j,variant:ge,disabled:Ie,status:ze,autoFocus:pt,mask:yt,type:it,onInput:De,inputMode:He}=Le,Gt=Ue(Le,["prefixCls","length","size","defaultValue","value","onChange","formatter","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:yn,direction:Tt}=i.useContext(T.E_),nn=yn("otp",Nt),rn=(0,Ee.Z)(Gt,{aria:!0,data:!0,attr:!0}),Jt=(0,ue.Z)(nn),[Cn,Pt,Rt]=we(nn,Jt),ct=(0,Be.Z)(Qt=>at!=null?at:Qt),Ct=i.useContext(x.aM),sn=(0,X.F)(Ct.status,ze),ln=i.useMemo(()=>Object.assign(Object.assign({},Ct),{status:sn,hasFeedback:!1,feedbackIcon:null}),[Ct,sn]),un=i.useRef(null),vn=i.useRef({});i.useImperativeHandle(jt,()=>({focus:()=>{var Qt;(Qt=vn.current[0])===null||Qt===void 0||Qt.focus()},blur:()=>{var Qt;for(let bn=0;bn<rt;bn+=1)(Qt=vn.current[bn])===null||Qt===void 0||Qt.blur()},nativeElement:un.current}));const pr=Qt=>j?j(Qt):Qt,[Gn,mr]=i.useState(Qe(pr(en||"")));i.useEffect(()=>{on!==void 0&&mr(Qe(on))},[on]);const sr=(0,te.Z)(Qt=>{mr(Qt),De&&De(Qt),A&&Qt.length===rt&&Qt.every(bn=>bn)&&Qt.some((bn,kn)=>Gn[kn]!==bn)&&A(Qt.join(""))}),wn=(0,te.Z)((Qt,bn)=>{let kn=(0,ie.Z)(Gn);for(let U=0;U<Qt;U+=1)kn[U]||(kn[U]="");bn.length<=1?kn[Qt]=bn:kn=kn.slice(0,Qt).concat(Qe(bn)),kn=kn.slice(0,rt);for(let U=kn.length-1;U>=0&&!kn[U];U-=1)kn.pop();const Qn=pr(kn.map(U=>U||" ").join(""));return kn=Qe(Qn).map((U,he)=>U===" "&&!kn[he]?kn[he]:U),kn}),xn=(Qt,bn)=>{var kn;const Qn=wn(Qt,bn),U=Math.min(Qt+bn.length,rt-1);U!==Qt&&Qn[Qt]!==void 0&&((kn=vn.current[U])===null||kn===void 0||kn.focus()),sr(Qn)},tr=Qt=>{var bn;(bn=vn.current[Qt])===null||bn===void 0||bn.focus()},Dr={variant:ge,disabled:Ie,status:sn,mask:yt,type:it,inputMode:He};return Cn(i.createElement("div",Object.assign({},rn,{ref:un,className:_()(nn,{[`${nn}-sm`]:ct==="small",[`${nn}-lg`]:ct==="large",[`${nn}-rtl`]:Tt==="rtl"},Rt,Pt)}),i.createElement(x.aM.Provider,{value:ln},Array.from({length:rt}).map((Qt,bn)=>{const kn=`otp-${bn}`,Qn=Gn[bn]||"";return i.createElement(de,Object.assign({ref:U=>{vn.current[bn]=U},key:kn,index:bn,size:ct,htmlSize:1,className:`${nn}-input`,onChange:xn,value:Qn,onActiveChange:tr,autoFocus:bn===0&&pt},Dr))}))))}),G=d(37154),fe=d(48724),xe=d(73214),me=function(Le,jt){var Nt={};for(var rt in Le)Object.prototype.hasOwnProperty.call(Le,rt)&&jt.indexOf(rt)<0&&(Nt[rt]=Le[rt]);if(Le!=null&&typeof Object.getOwnPropertySymbols=="function")for(var at=0,rt=Object.getOwnPropertySymbols(Le);at<rt.length;at++)jt.indexOf(rt[at])<0&&Object.prototype.propertyIsEnumerable.call(Le,rt[at])&&(Nt[rt[at]]=Le[rt[at]]);return Nt};const et=Le=>Le?i.createElement(fe.Z,null):i.createElement(G.Z,null),vt={click:"onClick",hover:"onMouseOver"};var tt=i.forwardRef((Le,jt)=>{const{disabled:Nt,action:rt="click",visibilityToggle:at=!0,iconRender:en=et}=Le,on=i.useContext(K.Z),A=Nt!=null?Nt:on,j=typeof at=="object"&&at.visible!==void 0,[ge,Ie]=(0,i.useState)(()=>j?at.visible:!1),ze=(0,i.useRef)(null);i.useEffect(()=>{j&&Ie(at.visible)},[j,at]);const pt=W(ze),yt=()=>{var ct;if(A)return;ge&&pt();const Ct=!ge;Ie(Ct),typeof at=="object"&&((ct=at.onVisibleChange)===null||ct===void 0||ct.call(at,Ct))},it=ct=>{const Ct=vt[rt]||"",sn=en(ge),ln={[Ct]:yt,className:`${ct}-icon`,key:"passwordIcon",onMouseDown:un=>{un.preventDefault()},onMouseUp:un=>{un.preventDefault()}};return i.cloneElement(i.isValidElement(sn)?sn:i.createElement("span",null,sn),ln)},{className:De,prefixCls:He,inputPrefixCls:Gt,size:yn}=Le,Tt=me(Le,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:nn}=i.useContext(T.E_),rn=nn("input",Gt),Jt=nn("input-password",He),Cn=at&&it(Jt),Pt=_()(Jt,De,{[`${Jt}-${yn}`]:!!yn}),Rt=Object.assign(Object.assign({},(0,xe.Z)(Tt,["suffix","iconRender","visibilityToggle"])),{type:ge?"text":"password",className:Pt,prefixCls:rn,suffix:Cn});return yn&&(Rt.size=yn),i.createElement(Y,Object.assign({ref:(0,I.sQ)(jt,ze)},Rt))}),cn=d(6002),Ft=d(3258),Ke=d(52113),lt=function(Le,jt){var Nt={};for(var rt in Le)Object.prototype.hasOwnProperty.call(Le,rt)&&jt.indexOf(rt)<0&&(Nt[rt]=Le[rt]);if(Le!=null&&typeof Object.getOwnPropertySymbols=="function")for(var at=0,rt=Object.getOwnPropertySymbols(Le);at<rt.length;at++)jt.indexOf(rt[at])<0&&Object.prototype.propertyIsEnumerable.call(Le,rt[at])&&(Nt[rt[at]]=Le[rt[at]]);return Nt},qe=i.forwardRef((Le,jt)=>{const{prefixCls:Nt,inputPrefixCls:rt,className:at,size:en,suffix:on,enterButton:A=!1,addonAfter:j,loading:ge,disabled:Ie,onSearch:ze,onChange:pt,onCompositionStart:yt,onCompositionEnd:it}=Le,De=lt(Le,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:He,direction:Gt}=i.useContext(T.E_),yn=i.useRef(!1),Tt=He("input-search",Nt),nn=He("input",rt),{compactSize:rn}=(0,le.ri)(Tt,Gt),Jt=(0,Be.Z)(wn=>{var xn;return(xn=en!=null?en:rn)!==null&&xn!==void 0?xn:wn}),Cn=i.useRef(null),Pt=wn=>{wn!=null&&wn.target&&wn.type==="click"&&ze&&ze(wn.target.value,wn,{source:"clear"}),pt==null||pt(wn)},Rt=wn=>{var xn;document.activeElement===((xn=Cn.current)===null||xn===void 0?void 0:xn.input)&&wn.preventDefault()},ct=wn=>{var xn,tr;ze&&ze((tr=(xn=Cn.current)===null||xn===void 0?void 0:xn.input)===null||tr===void 0?void 0:tr.value,wn,{source:"input"})},Ct=wn=>{yn.current||ge||ct(wn)},sn=typeof A=="boolean"?i.createElement(cn.Z,null):null,ln=`${Tt}-button`;let un;const vn=A||{},pr=vn.type&&vn.type.__ANT_BUTTON===!0;pr||vn.type==="button"?un=(0,Ft.Tm)(vn,Object.assign({onMouseDown:Rt,onClick:wn=>{var xn,tr;(tr=(xn=vn==null?void 0:vn.props)===null||xn===void 0?void 0:xn.onClick)===null||tr===void 0||tr.call(xn,wn),ct(wn)},key:"enterButton"},pr?{className:ln,size:Jt}:{})):un=i.createElement(Ke.ZP,{className:ln,type:A?"primary":void 0,size:Jt,disabled:Ie,key:"enterButton",onMouseDown:Rt,onClick:ct,loading:ge,icon:sn},A),j&&(un=[un,(0,Ft.Tm)(j,{key:"addonAfter"})]);const Gn=_()(Tt,{[`${Tt}-rtl`]:Gt==="rtl",[`${Tt}-${Jt}`]:!!Jt,[`${Tt}-with-button`]:!!A},at),mr=wn=>{yn.current=!0,yt==null||yt(wn)},sr=wn=>{yn.current=!1,it==null||it(wn)};return i.createElement(Y,Object.assign({ref:(0,I.sQ)(Cn,jt),onPressEnter:Ct},De,{size:Jt,onCompositionStart:mr,onCompositionEnd:sr,prefixCls:nn,addonAfter:un,suffix:on,onChange:Pt,className:Gn,disabled:Ie}))}),Sn=d(95479);const Pn=Y;Pn.Group=y,Pn.Search=qe,Pn.TextArea=Sn.Z,Pn.Password=tt,Pn.OTP=Mt;var Tn=Pn},82014:function(B,Z,d){"use strict";d.d(Z,{Z:function(){return b}});var i=d(75271);const M=h=>h.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_=(...h)=>h.filter((y,C,I)=>!!y&&y.trim()!==""&&I.indexOf(y)===C).join(" ").trim();var T={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const x=(0,i.forwardRef)((Be,ue)=>{var se=Be,{color:h="currentColor",size:y=24,strokeWidth:C=2,absoluteStrokeWidth:I,className:z="",children:D,iconNode:X}=se,K=Ai(se,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return(0,i.createElement)("svg",Bt($n(Bt({ref:ue},T),{width:y,height:y,stroke:h,strokeWidth:I?Number(C)*24/Number(y):C,className:_("lucide",z)}),K),[...X.map(([le,W])=>(0,i.createElement)(le,W)),...Array.isArray(D)?D:[D]])});const b=(h,y)=>{const C=(0,i.forwardRef)((X,D)=>{var K=X,{className:I}=K,z=Ai(K,["className"]);return(0,i.createElement)(x,Bt({ref:D,iconNode:y,className:_(`lucide-${M(h)}`,I)},z))});return C.displayName=`${h}`,C}},99220:function(B,Z,d){"use strict";d.d(Z,{Z:function(){return M}});var i=d(82014);const M=(0,i.Z)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]])},78180:function(B,Z,d){"use strict";d.d(Z,{Z:function(){return M}});var i=d(82014);const M=(0,i.Z)("SquareDashed",[["path",{d:"M5 3a2 2 0 0 0-2 2",key:"y57alp"}],["path",{d:"M19 3a2 2 0 0 1 2 2",key:"18rm91"}],["path",{d:"M21 19a2 2 0 0 1-2 2",key:"1j7049"}],["path",{d:"M5 21a2 2 0 0 1-2-2",key:"sbafld"}],["path",{d:"M9 3h1",key:"1yesri"}],["path",{d:"M9 21h1",key:"15o7lz"}],["path",{d:"M14 3h1",key:"1ec4yj"}],["path",{d:"M14 21h1",key:"v9vybs"}],["path",{d:"M3 9v1",key:"1r0deq"}],["path",{d:"M21 9v1",key:"mxsmne"}],["path",{d:"M3 14v1",key:"vnatye"}],["path",{d:"M21 14v1",key:"169vum"}]])},28837:function(B,Z,d){"use strict";d.d(Z,{NL:function(){return R},y1:function(){return je}});var i=d(75271),M=d(52676);function _(){return _=Object.assign?Object.assign.bind():function(Q){for(var de=1;de<arguments.length;de++){var Ue=arguments[de];for(var Qe in Ue)({}).hasOwnProperty.call(Ue,Qe)&&(Q[Qe]=Ue[Qe])}return Q},_.apply(null,arguments)}var T=["shift","alt","meta","mod","ctrl"],x={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function b(Q){return(Q&&x[Q]||Q||"").trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function h(Q){return T.includes(Q)}function y(Q,de){return de===void 0&&(de=","),Q.split(de)}function C(Q,de,Ue){de===void 0&&(de="+");var Qe=Q.toLocaleLowerCase().split(de).map(function(G){return b(G)}),Kt={alt:Qe.includes("alt"),ctrl:Qe.includes("ctrl")||Qe.includes("control"),shift:Qe.includes("shift"),meta:Qe.includes("meta"),mod:Qe.includes("mod")},Mt=Qe.filter(function(G){return!T.includes(G)});return _({},Kt,{keys:Mt,description:Ue,hotkey:Q})}(function(){typeof document!="undefined"&&(document.addEventListener("keydown",function(Q){Q.key!==void 0&&X([b(Q.key),b(Q.code)])}),document.addEventListener("keyup",function(Q){Q.key!==void 0&&K([b(Q.key),b(Q.code)])})),typeof window!="undefined"&&window.addEventListener("blur",function(){I.clear()})})();var I=new Set;function z(Q){return Array.isArray(Q)}function D(Q,de){de===void 0&&(de=",");var Ue=z(Q)?Q:Q.split(de);return Ue.every(function(Qe){return I.has(Qe.trim().toLowerCase())})}function X(Q){var de=Array.isArray(Q)?Q:[Q];I.has("meta")&&I.forEach(function(Ue){return!h(Ue)&&I.delete(Ue.toLowerCase())}),de.forEach(function(Ue){return I.add(Ue.toLowerCase())})}function K(Q){var de=Array.isArray(Q)?Q:[Q];Q==="meta"?I.clear():de.forEach(function(Ue){return I.delete(Ue.toLowerCase())})}function ue(Q,de,Ue){(typeof Ue=="function"&&Ue(Q,de)||Ue===!0)&&Q.preventDefault()}function Be(Q,de,Ue){return typeof Ue=="function"?Ue(Q,de):Ue===!0||Ue===void 0}function se(Q){return le(Q,["input","textarea","select"])}function le(Q,de){de===void 0&&(de=!1);var Ue=Q.target,Qe=Q.composed,Kt=null;return W(Ue)&&Qe?Kt=Q.composedPath()[0]&&Q.composedPath()[0].tagName:Kt=Ue&&Ue.tagName,z(de)?!!(Kt&&de&&de.some(function(Mt){var G;return Mt.toLowerCase()===((G=Kt)==null?void 0:G.toLowerCase())})):!!(Kt&&de&&de)}function W(Q){return!!Q.tagName&&!Q.tagName.startsWith("-")&&Q.tagName.includes("-")}function ne(Q,de){return Q.length===0&&de?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):de?Q.some(function(Ue){return de.includes(Ue)})||Q.includes("*"):!0}var oe=function(de,Ue,Qe){Qe===void 0&&(Qe=!1);var Kt=Ue.alt,Mt=Ue.meta,G=Ue.mod,fe=Ue.shift,xe=Ue.ctrl,me=Ue.keys,et=de.key,vt=de.code,mt=de.ctrlKey,tt=de.metaKey,cn=de.shiftKey,Ft=de.altKey,Ke=b(vt),lt=et.toLowerCase();if(!(me!=null&&me.includes(Ke))&&!(me!=null&&me.includes(lt))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(Ke))return!1;if(!Qe){if(Kt===!Ft&&lt!=="alt"||fe===!cn&&lt!=="shift")return!1;if(G){if(!tt&&!mt)return!1}else if(Mt===!tt&&lt!=="meta"&&lt!=="os"||xe===!mt&&lt!=="ctrl"&&lt!=="control")return!1}return me&&me.length===1&&(me.includes(lt)||me.includes(Ke))?!0:me?D(me):!me},H=(0,i.createContext)(void 0),Y=function(){return(0,i.useContext)(H)};function ie(Q){var de=Q.addHotkey,Ue=Q.removeHotkey,Qe=Q.children;return(0,M.jsx)(H.Provider,{value:{addHotkey:de,removeHotkey:Ue},children:Qe})}function te(Q,de){return Q&&de&&typeof Q=="object"&&typeof de=="object"?Object.keys(Q).length===Object.keys(de).length&&Object.keys(Q).reduce(function(Ue,Qe){return Ue&&te(Q[Qe],de[Qe])},!0):Q===de}var Ee=(0,i.createContext)({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),Me=function(){return(0,i.useContext)(Ee)},R=function(de){var Ue=de.initiallyActiveScopes,Qe=Ue===void 0?["*"]:Ue,Kt=de.children,Mt=(0,i.useState)((Qe==null?void 0:Qe.length)>0?Qe:["*"]),G=Mt[0],fe=Mt[1],xe=(0,i.useState)([]),me=xe[0],et=xe[1],vt=(0,i.useCallback)(function(Ke){fe(function(lt){return lt.includes("*")?[Ke]:Array.from(new Set([].concat(lt,[Ke])))})},[]),mt=(0,i.useCallback)(function(Ke){fe(function(lt){return lt.filter(function(tn){return tn!==Ke}).length===0?["*"]:lt.filter(function(tn){return tn!==Ke})})},[]),tt=(0,i.useCallback)(function(Ke){fe(function(lt){return lt.includes(Ke)?lt.filter(function(tn){return tn!==Ke}).length===0?["*"]:lt.filter(function(tn){return tn!==Ke}):lt.includes("*")?[Ke]:Array.from(new Set([].concat(lt,[Ke])))})},[]),cn=(0,i.useCallback)(function(Ke){et(function(lt){return[].concat(lt,[Ke])})},[]),Ft=(0,i.useCallback)(function(Ke){et(function(lt){return lt.filter(function(tn){return!te(tn,Ke)})})},[]);return(0,M.jsx)(Ee.Provider,{value:{enabledScopes:G,hotkeys:me,enableScope:vt,disableScope:mt,toggleScope:tt},children:(0,M.jsx)(ie,{addHotkey:cn,removeHotkey:Ft,children:Kt})})};function J(Q){var de=(0,i.useRef)(void 0);return te(de.current,Q)||(de.current=Q),de.current}var Se=function(de){de.stopPropagation(),de.preventDefault(),de.stopImmediatePropagation()},we=typeof window!="undefined"?i.useLayoutEffect:i.useEffect;function je(Q,de,Ue,Qe){var Kt=(0,i.useState)(null),Mt=Kt[0],G=Kt[1],fe=(0,i.useRef)(!1),xe=Ue instanceof Array?Qe instanceof Array?void 0:Qe:Ue,me=z(Q)?Q.join(xe==null?void 0:xe.splitKey):Q,et=Ue instanceof Array?Ue:Qe instanceof Array?Qe:void 0,vt=(0,i.useCallback)(de,et!=null?et:[]),mt=(0,i.useRef)(vt);et?mt.current=vt:mt.current=de;var tt=J(xe),cn=Me(),Ft=cn.enabledScopes,Ke=Y();return we(function(){if(!((tt==null?void 0:tt.enabled)===!1||!ne(Ft,tt==null?void 0:tt.scopes))){var lt=function(Tn,Le){var jt;if(Le===void 0&&(Le=!1),!(se(Tn)&&!le(Tn,tt==null?void 0:tt.enableOnFormTags))){if(Mt!==null){var Nt=Mt.getRootNode();if((Nt instanceof Document||Nt instanceof ShadowRoot)&&Nt.activeElement!==Mt&&!Mt.contains(Nt.activeElement)){Se(Tn);return}}(jt=Tn.target)!=null&&jt.isContentEditable&&!(tt!=null&&tt.enableOnContentEditable)||y(me,tt==null?void 0:tt.splitKey).forEach(function(rt){var at,en=C(rt,tt==null?void 0:tt.combinationKey);if(oe(Tn,en,tt==null?void 0:tt.ignoreModifiers)||(at=en.keys)!=null&&at.includes("*")){if(tt!=null&&tt.ignoreEventWhen!=null&&tt.ignoreEventWhen(Tn)||Le&&fe.current)return;if(ue(Tn,en,tt==null?void 0:tt.preventDefault),!Be(Tn,en,tt==null?void 0:tt.enabled)){Se(Tn);return}mt.current(Tn,en),Le||(fe.current=!0)}})}},tn=function(Tn){Tn.key!==void 0&&(X(b(Tn.code)),((tt==null?void 0:tt.keydown)===void 0&&(tt==null?void 0:tt.keyup)!==!0||tt!=null&&tt.keydown)&&lt(Tn))},qe=function(Tn){Tn.key!==void 0&&(K(b(Tn.code)),fe.current=!1,tt!=null&&tt.keyup&&lt(Tn,!0))},Sn=Mt||(xe==null?void 0:xe.document)||document;return Sn.addEventListener("keyup",qe),Sn.addEventListener("keydown",tn),Ke&&y(me,tt==null?void 0:tt.splitKey).forEach(function(Pn){return Ke.addHotkey(C(Pn,tt==null?void 0:tt.combinationKey,tt==null?void 0:tt.description))}),function(){Sn.removeEventListener("keyup",qe),Sn.removeEventListener("keydown",tn),Ke&&y(me,tt==null?void 0:tt.splitKey).forEach(function(Pn){return Ke.removeHotkey(C(Pn,tt==null?void 0:tt.combinationKey,tt==null?void 0:tt.description))})}}},[Mt,me,tt,Ft]),G}function Ce(){var Q=useState(new Set),de=Q[0],Ue=Q[1],Qe=useState(!1),Kt=Qe[0],Mt=Qe[1],G=useCallback(function(et){et.key!==void 0&&(et.preventDefault(),et.stopPropagation(),Ue(function(vt){var mt=new Set(vt);return mt.add(b(et.code)),mt}))},[]),fe=useCallback(function(){typeof document!="undefined"&&(document.removeEventListener("keydown",G),Mt(!1))},[G]),xe=useCallback(function(){Ue(new Set),typeof document!="undefined"&&(fe(),document.addEventListener("keydown",G),Mt(!0))},[G,fe]),me=useCallback(function(){Ue(new Set)},[]);return[de,{start:xe,stop:fe,resetKeys:me,isRecording:Kt}]}},99166:function(B,Z,d){"use strict";d.d(Z,{N:function(){return x}});var i=d(57904),M=d(3341),_=d.n(M),T=d(75271),x=function(h){return function(y,C){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[C],z=arguments.length>3?arguments[3]:void 0,D=z!=null?z:h.setState;(0,T.useEffect)(function(){if(typeof C!="undefined"){var X,K=(X=h.getState)===null||X===void 0?void 0:X.call(h);if(_()(K==null?void 0:K[y],C))return;D((0,i.Z)({},y,C),!1,{type:"\u{1F4AD} useStoreUpdater / ".concat(y),payload:C})}},I)}}},24140:function(B,Z,d){"use strict";d.d(Z,{v:function(){return M}});var i=d(39669),M=function(T){return T?i.mW:function(x){return x}}},38498:function(B,Z,d){var i=d(78770);function M(_){if(Array.isArray(_))return i(_)}B.exports=M,B.exports.__esModule=!0,B.exports.default=B.exports},62657:function(B){function Z(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}B.exports=Z,B.exports.__esModule=!0,B.exports.default=B.exports},335:function(B,Z,d){var i=d(31479);function M(_,T){var x=typeof Symbol!="undefined"&&_[Symbol.iterator]||_["@@iterator"];if(!x){if(Array.isArray(_)||(x=i(_))||T&&_&&typeof _.length=="number"){x&&(_=x);var b=0,h=function(){};return{s:h,n:function(){return b>=_.length?{done:!0}:{done:!1,value:_[b++]}},e:function(D){throw D},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y=!0,C=!1,I;return{s:function(){x=x.call(_)},n:function(){var D=x.next();return y=D.done,D},e:function(D){C=!0,I=D},f:function(){try{!y&&x.return!=null&&x.return()}finally{if(C)throw I}}}}B.exports=M,B.exports.__esModule=!0,B.exports.default=B.exports},83136:function(B,Z,d){var i=d(38836),M=d(68919),_=d(75254);function T(x){var b=M();return function(){var y=i(x),C;if(b){var I=i(this).constructor;C=Reflect.construct(y,arguments,I)}else C=y.apply(this,arguments);return _(this,C)}}B.exports=T,B.exports.__esModule=!0,B.exports.default=B.exports},38836:function(B){function Z(d){return B.exports=Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)},B.exports.__esModule=!0,B.exports.default=B.exports,Z(d)}B.exports=Z,B.exports.__esModule=!0,B.exports.default=B.exports},21742:function(B,Z,d){var i=d(80038);function M(_,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(T&&T.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),T&&i(_,T)}B.exports=M,B.exports.__esModule=!0,B.exports.default=B.exports},68919:function(B){function Z(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(d){return!1}}B.exports=Z,B.exports.__esModule=!0,B.exports.default=B.exports},20698:function(B){function Z(d){if(typeof Symbol!="undefined"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}B.exports=Z,B.exports.__esModule=!0,B.exports.default=B.exports},91162:function(B){function Z(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}B.exports=Z,B.exports.__esModule=!0,B.exports.default=B.exports},67825:function(B,Z,d){var i=d(64382);function M(_,T){if(_==null)return{};var x=i(_,T),b,h;if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(_);for(h=0;h<y.length;h++)b=y[h],!(T.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(_,b)&&(x[b]=_[b])}return x}B.exports=M,B.exports.__esModule=!0,B.exports.default=B.exports},64382:function(B){function Z(d,i){if(d==null)return{};var M={},_=Object.keys(d),T,x;for(x=0;x<_.length;x++)T=_[x],!(i.indexOf(T)>=0)&&(M[T]=d[T]);return M}B.exports=Z,B.exports.__esModule=!0,B.exports.default=B.exports},75254:function(B,Z,d){var i=d(31759).default,M=d(62657);function _(T,x){if(x&&(i(x)==="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M(T)}B.exports=_,B.exports.__esModule=!0,B.exports.default=B.exports},80038:function(B){function Z(d,i){return B.exports=Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,T){return _.__proto__=T,_},B.exports.__esModule=!0,B.exports.default=B.exports,Z(d,i)}B.exports=Z,B.exports.__esModule=!0,B.exports.default=B.exports},53649:function(B){function Z(d,i){return i||(i=d.slice(0)),Object.freeze(Object.defineProperties(d,{raw:{value:Object.freeze(i)}}))}B.exports=Z,B.exports.__esModule=!0,B.exports.default=B.exports},15558:function(B,Z,d){var i=d(38498),M=d(20698),_=d(31479),T=d(91162);function x(b){return i(b)||M(b)||_(b)||T()}B.exports=x,B.exports.__esModule=!0,B.exports.default=B.exports},50373:function(B,Z,d){"use strict";d.d(Z,{A:function(){return D},T:function(){return x}});var i=d(75271),M=d(28680),_=d(87811),T=d(24513),x;(function(X){X.Lines="lines",X.Dots="dots",X.Cross="cross"})(x||(x={}));function b({color:X,dimensions:K,lineWidth:ue}){return i.createElement("path",{stroke:X,strokeWidth:ue,d:`M${K[0]/2} 0 V${K[1]} M0 ${K[1]/2} H${K[0]}`})}function h({color:X,radius:K}){return i.createElement("circle",{cx:K,cy:K,r:K,fill:X})}const y={[x.Dots]:"#91919a",[x.Lines]:"#eee",[x.Cross]:"#e2e2e2"},C={[x.Dots]:1,[x.Lines]:1,[x.Cross]:6},I=X=>({transform:X.transform,patternId:`pattern-${X.rfId}`});function z({id:X,variant:K=x.Dots,gap:ue=20,size:Be,lineWidth:se=1,offset:le=2,color:W,style:ne,className:oe}){const H=(0,i.useRef)(null),{transform:Y,patternId:ie}=(0,_.oR)(I,T.X),te=W||y[K],Ee=Be||C[K],Me=K===x.Dots,R=K===x.Cross,J=Array.isArray(ue)?ue:[ue,ue],Se=[J[0]*Y[2]||1,J[1]*Y[2]||1],we=Ee*Y[2],je=R?[we,we]:Se,Ce=Me?[we/le,we/le]:[je[0]/le,je[1]/le];return i.createElement("svg",{className:(0,M.Z)(["react-flow__background",oe]),style:$n(Bt({},ne),{position:"absolute",width:"100%",height:"100%",top:0,left:0}),ref:H,"data-testid":"rf__background"},i.createElement("pattern",{id:ie+X,x:Y[0]%Se[0],y:Y[1]%Se[1],width:Se[0],height:Se[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${Ce[0]},-${Ce[1]})`},Me?i.createElement(h,{color:te,radius:we/le}):i.createElement(b,{dimensions:je,color:te,lineWidth:se})),i.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${ie+X})`}))}z.displayName="Background";var D=(0,i.memo)(z)},87811:function(B,Z,d){"use strict";d.d(Z,{$i:function(){return sr},AC:function(){return ue},AQ:function(){return Xs},B:function(){return Qs},Bn:function(){return Is},CV:function(){return Gs},Fb:function(){return Xr},GA:function(){return J},HH:function(){return St},Hm:function(){return j},IY:function(){return Ft},Jd:function(){return yt},Kr:function(){return bo},Kz:function(){return Rt},Ly:function(){return qe},Mi:function(){return Ks},OQ:function(){return pt},OW:function(){return en},QZ:function(){return tn},RF:function(){return R},RX:function(){return un},Rr:function(){return Ns},SM:function(){return Ws},Sj:function(){return Os},Su:function(){return on},UG:function(){return yn},VP:function(){return ln},Wx:function(){return Ho},XQ:function(){return ks},YH:function(){return vn},Z_:function(){return Pt},_K:function(){return Po},bS:function(){return Pn},cf:function(){return et},f6:function(){return ne},hR:function(){return He},jD:function(){return cn},ll:function(){return Ds},lx:function(){return mr},my:function(){return Gn},oI:function(){return we},oR:function(){return K},oW:function(){return Ke},r4:function(){return ge},sN:function(){return ct},s_:function(){return se},t8:function(){return lt},tV:function(){return Rn},u5:function(){return me},uZ:function(){return H},un:function(){return Gt},vG:function(){return nn},wE:function(){return ui},x$:function(){return or},xA:function(){return Tt},xB:function(){return de},xC:function(){return A},y7:function(){return Tn},yn:function(){return cr}});var i=d(75271),M=d(28680),_=d(71348),T=d(24513),x=d(61697),b=d(41468),h=d(13802),y=d(45452),C=d(30967);const I=(0,i.createContext)(null),z=I.Provider,D={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:o=>`Node type "${o}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:o=>`The old edge with id=${o} does not exist.`,error009:o=>`Marker type "${o}" doesn't exist.`,error008:(o,c)=>`Couldn't create edge for ${o?"target":"source"} handle id: "${o?c.targetHandle:c.sourceHandle}", edge id: ${c.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:o=>`Edge type "${o}" not found. Using fallback type "default".`,error012:o=>`Node with id "${o}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},X=D.error001();function K(o,c){const p=(0,i.useContext)(I);if(p===null)throw new Error(X);return(0,_.s)(p,o,c)}const ue=()=>{const o=(0,i.useContext)(I);if(o===null)throw new Error(X);return(0,i.useMemo)(()=>({getState:o.getState,setState:o.setState,subscribe:o.subscribe,destroy:o.destroy}),[o])},Be=o=>o.userSelectionActive?"none":"all";function se(N){var O=N,{position:o,children:c,className:p,style:m}=O,w=Ai(O,["position","children","className","style"]);const l=K(Be),v=`${o}`.split("-");return i.createElement("div",Bt({className:(0,M.Z)(["react-flow__panel",p,...v]),style:$n(Bt({},m),{pointerEvents:l})},w),c)}function le({proOptions:o,position:c="bottom-right"}){return o!=null&&o.hideAttribution?null:i.createElement(se,{position:c,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},i.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const W=$=>{var ye=$,{x:o,y:c,label:p,labelStyle:m={},labelShowBg:w=!0,labelBgStyle:N={},labelBgPadding:O=[2,4],labelBgBorderRadius:l=2,children:v,className:E}=ye,L=Ai(ye,["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"]);const re=(0,i.useRef)(null),[be,ve]=(0,i.useState)({x:0,y:0,width:0,height:0}),Oe=(0,M.Z)(["react-flow__edge-textwrapper",E]);return(0,i.useEffect)(()=>{if(re.current){const Ae=re.current.getBBox();ve({x:Ae.x,y:Ae.y,width:Ae.width,height:Ae.height})}},[p]),typeof p=="undefined"||!p?null:i.createElement("g",Bt({transform:`translate(${o-be.width/2} ${c-be.height/2})`,className:Oe,visibility:be.width?"visible":"hidden"},L),w&&i.createElement("rect",{width:be.width+2*O[0],x:-O[0],y:-O[1],height:be.height+2*O[1],className:"react-flow__edge-textbg",style:N,rx:l,ry:l}),i.createElement("text",{className:"react-flow__edge-text",y:be.height/2,dy:"0.3em",ref:re,style:m},p),v)};var ne=(0,i.memo)(W);const oe=o=>({width:o.offsetWidth,height:o.offsetHeight}),H=(o,c=0,p=1)=>Math.min(Math.max(o,c),p),Y=(o={x:0,y:0},c)=>({x:H(o.x,c[0][0],c[1][0]),y:H(o.y,c[0][1],c[1][1])}),ie=(o,c,p)=>o<c?H(Math.abs(o-c),1,50)/50:o>p?-H(Math.abs(o-p),1,50)/50:0,te=(o,c)=>{const p=ie(o.x,35,c.width-35)*20,m=ie(o.y,35,c.height-35)*20;return[p,m]},Ee=o=>{var c;return((c=o.getRootNode)==null?void 0:c.call(o))||(window==null?void 0:window.document)},Me=(o,c)=>({x:Math.min(o.x,c.x),y:Math.min(o.y,c.y),x2:Math.max(o.x2,c.x2),y2:Math.max(o.y2,c.y2)}),R=({x:o,y:c,width:p,height:m})=>({x:o,y:c,x2:o+p,y2:c+m}),J=({x:o,y:c,x2:p,y2:m})=>({x:o,y:c,width:p-o,height:m-c}),Se=o=>$n(Bt({},o.positionAbsolute||{x:0,y:0}),{width:o.width||0,height:o.height||0}),we=(o,c)=>J(Me(R(o),R(c))),je=(o,c)=>{const p=Math.max(0,Math.min(o.x+o.width,c.x+c.width)-Math.max(o.x,c.x)),m=Math.max(0,Math.min(o.y+o.height,c.y+c.height)-Math.max(o.y,c.y));return Math.ceil(p*m)},Ce=o=>Q(o.width)&&Q(o.height)&&Q(o.x)&&Q(o.y),Q=o=>!isNaN(o)&&isFinite(o),de=Symbol.for("internals"),Ue=["Enter"," ","Escape"],Qe=(o,c)=>{},Kt=o=>"nativeEvent"in o;function Mt(o){var w,N;const c=Kt(o)?o.nativeEvent:o,p=((N=(w=c.composedPath)==null?void 0:w.call(c))==null?void 0:N[0])||o.target;return["INPUT","SELECT","TEXTAREA"].includes(p==null?void 0:p.nodeName)||(p==null?void 0:p.hasAttribute("contenteditable"))||!!(p!=null&&p.closest(".nokey"))}const G=o=>"clientX"in o,fe=(o,c)=>{var N,O,l,v;const p=G(o),m=p?o.clientX:(N=o.touches)==null?void 0:N[0].clientX,w=p?o.clientY:(O=o.touches)==null?void 0:O[0].clientY;return{x:m-((l=c==null?void 0:c.left)!=null?l:0),y:w-((v=c==null?void 0:c.top)!=null?v:0)}},xe=()=>{var o;return typeof navigator!="undefined"&&((o=navigator==null?void 0:navigator.userAgent)==null?void 0:o.indexOf("Mac"))>=0},me=({id:o,path:c,labelX:p,labelY:m,label:w,labelStyle:N,labelShowBg:O,labelBgStyle:l,labelBgPadding:v,labelBgBorderRadius:E,style:L,markerEnd:$,markerStart:ye,interactionWidth:re=20})=>i.createElement(i.Fragment,null,i.createElement("path",{id:o,style:L,d:c,fill:"none",className:"react-flow__edge-path",markerEnd:$,markerStart:ye}),re&&i.createElement("path",{d:c,fill:"none",strokeOpacity:0,strokeWidth:re,className:"react-flow__edge-interaction"}),w&&Q(p)&&Q(m)?i.createElement(ne,{x:p,y:m,label:w,labelStyle:N,labelShowBg:O,labelBgStyle:l,labelBgPadding:v,labelBgBorderRadius:E}):null);me.displayName="BaseEdge";const et=(o,c)=>typeof c!="undefined"&&c?`url(#${c})`:typeof o!="undefined"?`url(#react-flow__${o})`:"none";function vt(o,c,p){return p===void 0?p:m=>{const w=c().edges.find(N=>N.id===o);w&&p(m,Bt({},w))}}function mt({sourceX:o,sourceY:c,targetX:p,targetY:m}){const w=Math.abs(p-o)/2,N=p<o?p+w:p-w,O=Math.abs(m-c)/2,l=m<c?m+O:m-O;return[N,l,w,O]}function tt({sourceX:o,sourceY:c,targetX:p,targetY:m,sourceControlX:w,sourceControlY:N,targetControlX:O,targetControlY:l}){const v=o*.125+w*.375+O*.375+p*.125,E=c*.125+N*.375+l*.375+m*.125,L=Math.abs(v-o),$=Math.abs(E-c);return[v,E,L,$]}var cn;(function(o){o.Strict="strict",o.Loose="loose"})(cn||(cn={}));var Ft;(function(o){o.Free="free",o.Vertical="vertical",o.Horizontal="horizontal"})(Ft||(Ft={}));var Ke;(function(o){o.Partial="partial",o.Full="full"})(Ke||(Ke={}));var lt;(function(o){o.Bezier="default",o.Straight="straight",o.Step="step",o.SmoothStep="smoothstep",o.SimpleBezier="simplebezier"})(lt||(lt={}));var tn;(function(o){o.Arrow="arrow",o.ArrowClosed="arrowclosed"})(tn||(tn={}));var qe;(function(o){o.Left="left",o.Top="top",o.Right="right",o.Bottom="bottom"})(qe||(qe={}));function Sn({pos:o,x1:c,y1:p,x2:m,y2:w}){return o===qe.Left||o===qe.Right?[.5*(c+m),p]:[c,.5*(p+w)]}function Pn({sourceX:o,sourceY:c,sourcePosition:p=qe.Bottom,targetX:m,targetY:w,targetPosition:N=qe.Top}){const[O,l]=Sn({pos:p,x1:o,y1:c,x2:m,y2:w}),[v,E]=Sn({pos:N,x1:m,y1:w,x2:o,y2:c}),[L,$,ye,re]=tt({sourceX:o,sourceY:c,targetX:m,targetY:w,sourceControlX:O,sourceControlY:l,targetControlX:v,targetControlY:E});return[`M${o},${c} C${O},${l} ${v},${E} ${m},${w}`,L,$,ye,re]}const Tn=(0,i.memo)(({sourceX:o,sourceY:c,targetX:p,targetY:m,sourcePosition:w=qe.Bottom,targetPosition:N=qe.Top,label:O,labelStyle:l,labelShowBg:v,labelBgStyle:E,labelBgPadding:L,labelBgBorderRadius:$,style:ye,markerEnd:re,markerStart:be,interactionWidth:ve})=>{const[Oe,Ae,Ne]=Pn({sourceX:o,sourceY:c,sourcePosition:w,targetX:p,targetY:m,targetPosition:N});return i.createElement(me,{path:Oe,labelX:Ae,labelY:Ne,label:O,labelStyle:l,labelShowBg:v,labelBgStyle:E,labelBgPadding:L,labelBgBorderRadius:$,style:ye,markerEnd:re,markerStart:be,interactionWidth:ve})});Tn.displayName="SimpleBezierEdge";const Le={[qe.Left]:{x:-1,y:0},[qe.Right]:{x:1,y:0},[qe.Top]:{x:0,y:-1},[qe.Bottom]:{x:0,y:1}},jt=({source:o,sourcePosition:c=qe.Bottom,target:p})=>c===qe.Left||c===qe.Right?o.x<p.x?{x:1,y:0}:{x:-1,y:0}:o.y<p.y?{x:0,y:1}:{x:0,y:-1},Nt=(o,c)=>Math.sqrt(Math.pow(c.x-o.x,2)+Math.pow(c.y-o.y,2));function rt({source:o,sourcePosition:c=qe.Bottom,target:p,targetPosition:m=qe.Top,center:w,offset:N}){var Xt,zt;const O=Le[c],l=Le[m],v={x:o.x+O.x*N,y:o.y+O.y*N},E={x:p.x+l.x*N,y:p.y+l.y*N},L=jt({source:v,sourcePosition:c,target:E}),$=L.x!==0?"x":"y",ye=L[$];let re=[],be,ve;const Oe={x:0,y:0},Ae={x:0,y:0},[Ne,Fe,gt,ut]=mt({sourceX:o.x,sourceY:o.y,targetX:p.x,targetY:p.y});if(O[$]*l[$]===-1){be=(Xt=w.x)!=null?Xt:Ne,ve=(zt=w.y)!=null?zt:Fe;const dt=[{x:be,y:v.y},{x:be,y:E.y}],wt=[{x:v.x,y:ve},{x:E.x,y:ve}];O[$]===ye?re=$==="x"?dt:wt:re=$==="x"?wt:dt}else{const dt=[{x:v.x,y:E.y}],wt=[{x:E.x,y:v.y}];if($==="x"?re=O.x===ye?wt:dt:re=O.y===ye?dt:wt,c===m){const ft=Math.abs(o[$]-p[$]);if(ft<=N){const Ot=Math.min(N-1,N-ft);O[$]===ye?Oe[$]=(v[$]>o[$]?-1:1)*Ot:Ae[$]=(E[$]>p[$]?-1:1)*Ot}}if(c!==m){const ft=$==="x"?"y":"x",Ot=O[$]===l[ft],Wt=v[ft]>E[ft],$t=v[ft]<E[ft];(O[$]===1&&(!Ot&&Wt||Ot&&$t)||O[$]!==1&&(!Ot&&$t||Ot&&Wt))&&(re=$==="x"?dt:wt)}const _t={x:v.x+Oe.x,y:v.y+Oe.y},Et={x:E.x+Ae.x,y:E.y+Ae.y},st=Math.max(Math.abs(_t.x-re[0].x),Math.abs(Et.x-re[0].x)),Ve=Math.max(Math.abs(_t.y-re[0].y),Math.abs(Et.y-re[0].y));st>=Ve?(be=(_t.x+Et.x)/2,ve=re[0].y):(be=re[0].x,ve=(_t.y+Et.y)/2)}return[[o,{x:v.x+Oe.x,y:v.y+Oe.y},...re,{x:E.x+Ae.x,y:E.y+Ae.y},p],be,ve,gt,ut]}function at(o,c,p,m){const w=Math.min(Nt(o,c)/2,Nt(c,p)/2,m),{x:N,y:O}=c;if(o.x===N&&N===p.x||o.y===O&&O===p.y)return`L${N} ${O}`;if(o.y===O){const E=o.x<p.x?-1:1,L=o.y<p.y?1:-1;return`L ${N+w*E},${O}Q ${N},${O} ${N},${O+w*L}`}const l=o.x<p.x?1:-1,v=o.y<p.y?-1:1;return`L ${N},${O+w*v}Q ${N},${O} ${N+w*l},${O}`}function en({sourceX:o,sourceY:c,sourcePosition:p=qe.Bottom,targetX:m,targetY:w,targetPosition:N=qe.Top,borderRadius:O=5,centerX:l,centerY:v,offset:E=20}){const[L,$,ye,re,be]=rt({source:{x:o,y:c},sourcePosition:p,target:{x:m,y:w},targetPosition:N,center:{x:l,y:v},offset:E});return[L.reduce((Oe,Ae,Ne)=>{let Fe="";return Ne>0&&Ne<L.length-1?Fe=at(L[Ne-1],Ae,L[Ne+1],O):Fe=`${Ne===0?"M":"L"}${Ae.x} ${Ae.y}`,Oe+=Fe,Oe},""),$,ye,re,be]}const on=(0,i.memo)(({sourceX:o,sourceY:c,targetX:p,targetY:m,label:w,labelStyle:N,labelShowBg:O,labelBgStyle:l,labelBgPadding:v,labelBgBorderRadius:E,style:L,sourcePosition:$=qe.Bottom,targetPosition:ye=qe.Top,markerEnd:re,markerStart:be,pathOptions:ve,interactionWidth:Oe})=>{const[Ae,Ne,Fe]=en({sourceX:o,sourceY:c,sourcePosition:$,targetX:p,targetY:m,targetPosition:ye,borderRadius:ve==null?void 0:ve.borderRadius,offset:ve==null?void 0:ve.offset});return i.createElement(me,{path:Ae,labelX:Ne,labelY:Fe,label:w,labelStyle:N,labelShowBg:O,labelBgStyle:l,labelBgPadding:v,labelBgBorderRadius:E,style:L,markerEnd:re,markerStart:be,interactionWidth:Oe})});on.displayName="SmoothStepEdge";const A=(0,i.memo)(o=>{var c;return i.createElement(on,$n(Bt({},o),{pathOptions:(0,i.useMemo)(()=>{var p;return{borderRadius:0,offset:(p=o.pathOptions)==null?void 0:p.offset}},[(c=o.pathOptions)==null?void 0:c.offset])}))});A.displayName="StepEdge";function j({sourceX:o,sourceY:c,targetX:p,targetY:m}){const[w,N,O,l]=mt({sourceX:o,sourceY:c,targetX:p,targetY:m});return[`M ${o},${c}L ${p},${m}`,w,N,O,l]}const ge=(0,i.memo)(({sourceX:o,sourceY:c,targetX:p,targetY:m,label:w,labelStyle:N,labelShowBg:O,labelBgStyle:l,labelBgPadding:v,labelBgBorderRadius:E,style:L,markerEnd:$,markerStart:ye,interactionWidth:re})=>{const[be,ve,Oe]=j({sourceX:o,sourceY:c,targetX:p,targetY:m});return i.createElement(me,{path:be,labelX:ve,labelY:Oe,label:w,labelStyle:N,labelShowBg:O,labelBgStyle:l,labelBgPadding:v,labelBgBorderRadius:E,style:L,markerEnd:$,markerStart:ye,interactionWidth:re})});ge.displayName="StraightEdge";function Ie(o,c){return o>=0?.5*o:c*25*Math.sqrt(-o)}function ze({pos:o,x1:c,y1:p,x2:m,y2:w,c:N}){switch(o){case qe.Left:return[c-Ie(c-m,N),p];case qe.Right:return[c+Ie(m-c,N),p];case qe.Top:return[c,p-Ie(p-w,N)];case qe.Bottom:return[c,p+Ie(w-p,N)]}}function pt({sourceX:o,sourceY:c,sourcePosition:p=qe.Bottom,targetX:m,targetY:w,targetPosition:N=qe.Top,curvature:O=.25}){const[l,v]=ze({pos:p,x1:o,y1:c,x2:m,y2:w,c:O}),[E,L]=ze({pos:N,x1:m,y1:w,x2:o,y2:c,c:O}),[$,ye,re,be]=tt({sourceX:o,sourceY:c,targetX:m,targetY:w,sourceControlX:l,sourceControlY:v,targetControlX:E,targetControlY:L});return[`M${o},${c} C${l},${v} ${E},${L} ${m},${w}`,$,ye,re,be]}const yt=(0,i.memo)(({sourceX:o,sourceY:c,targetX:p,targetY:m,sourcePosition:w=qe.Bottom,targetPosition:N=qe.Top,label:O,labelStyle:l,labelShowBg:v,labelBgStyle:E,labelBgPadding:L,labelBgBorderRadius:$,style:ye,markerEnd:re,markerStart:be,pathOptions:ve,interactionWidth:Oe})=>{const[Ae,Ne,Fe]=pt({sourceX:o,sourceY:c,sourcePosition:w,targetX:p,targetY:m,targetPosition:N,curvature:ve==null?void 0:ve.curvature});return i.createElement(me,{path:Ae,labelX:Ne,labelY:Fe,label:O,labelStyle:l,labelShowBg:v,labelBgStyle:E,labelBgPadding:L,labelBgBorderRadius:$,style:ye,markerEnd:re,markerStart:be,interactionWidth:Oe})});yt.displayName="BezierEdge";const it=(0,i.createContext)(null),De=it.Provider;it.Consumer;const He=()=>(0,i.useContext)(it),Gt=o=>"id"in o&&"source"in o&&"target"in o,yn=o=>"id"in o&&!("source"in o)&&!("target"in o),Tt=(o,c,p)=>{if(!yn(o))return[];const m=p.filter(w=>w.source===o.id).map(w=>w.target);return c.filter(w=>m.includes(w.id))},nn=(o,c,p)=>{if(!yn(o))return[];const m=p.filter(w=>w.target===o.id).map(w=>w.source);return c.filter(w=>m.includes(w.id))},rn=({source:o,sourceHandle:c,target:p,targetHandle:m})=>`reactflow__edge-${o}${c||""}-${p}${m||""}`,Jt=(o,c)=>typeof o=="undefined"?"":typeof o=="string"?o:`${c?`${c}__`:""}${Object.keys(o).sort().map(m=>`${m}=${o[m]}`).join("&")}`,Cn=(o,c)=>c.some(p=>p.source===o.source&&p.target===o.target&&(p.sourceHandle===o.sourceHandle||!p.sourceHandle&&!o.sourceHandle)&&(p.targetHandle===o.targetHandle||!p.targetHandle&&!o.targetHandle)),Pt=(o,c)=>{if(!o.source||!o.target)return Qe("006",D.error006()),c;let p;return Gt(o)?p=Bt({},o):p=$n(Bt({},o),{id:rn(o)}),Cn(p,c)?c:c.concat(p)},Rt=(o,c,p,m={shouldReplaceId:!0})=>{const v=o,{id:w}=v,N=Ai(v,["id"]);if(!c.source||!c.target)return Qe("006",D.error006()),p;if(!p.find(E=>E.id===w))return Qe("007",D.error007(w)),p;const l=$n(Bt({},N),{id:m.shouldReplaceId?rn(c):w,source:c.source,target:c.target,sourceHandle:c.sourceHandle,targetHandle:c.targetHandle});return p.filter(E=>E.id!==w).concat(l)},ct=(o,c,p,m={shouldReplaceId:!0})=>(console.warn("[DEPRECATED] `updateEdge` is deprecated. Instead use `reconnectEdge` https://reactflow.dev/api-reference/utils/reconnect-edge"),Rt(o,c,p,m)),Ct=({x:o,y:c},[p,m,w],N,[O,l])=>{const v={x:(o-p)/w,y:(c-m)/w};return N?{x:O*Math.round(v.x/O),y:l*Math.round(v.y/l)}:v},sn=({x:o,y:c},[p,m,w])=>({x:o*w+p,y:c*w+m}),ln=(o,c=[0,0])=>{var N,O;if(!o)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const p=((N=o.width)!=null?N:0)*c[0],m=((O=o.height)!=null?O:0)*c[1],w={x:o.position.x-p,y:o.position.y-m};return $n(Bt({},w),{positionAbsolute:o.positionAbsolute?{x:o.positionAbsolute.x-p,y:o.positionAbsolute.y-m}:w})},un=(o,c=[0,0])=>{if(o.length===0)return{x:0,y:0,width:0,height:0};const p=o.reduce((m,w)=>{const{x:N,y:O}=ln(w,c).positionAbsolute;return Me(m,R({x:N,y:O,width:w.width||0,height:w.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return J(p)},vn=(o,c=[0,0])=>(console.warn("[DEPRECATED] `getRectOfNodes` is deprecated. Instead use `getNodesBounds` https://reactflow.dev/api-reference/utils/get-nodes-bounds."),un(o,c)),pr=(o,c,[p,m,w]=[0,0,1],N=!1,O=!1,l=[0,0])=>{const v={x:(c.x-p)/w,y:(c.y-m)/w,width:c.width/w,height:c.height/w},E=[];return o.forEach(L=>{const{width:$,height:ye,selectable:re=!0,hidden:be=!1}=L;if(O&&!re||be)return!1;const{positionAbsolute:ve}=ln(L,l),Oe={x:ve.x,y:ve.y,width:$||0,height:ye||0},Ae=je(v,Oe),Ne=typeof $=="undefined"||typeof ye=="undefined"||$===null||ye===null,Fe=N&&Ae>0,gt=($||0)*(ye||0);(Ne||Fe||Ae>=gt||L.dragging)&&E.push(L)}),E},Gn=(o,c)=>{const p=o.map(m=>m.id);return c.filter(m=>p.includes(m.source)||p.includes(m.target))},mr=(o,c,p,m,w,N=.1)=>{const{x:O,y:l,zoom:v}=sr(o,c,p,m,w,N);return console.warn("[DEPRECATED] `getTransformForBounds` is deprecated. Instead use `getViewportForBounds`. Beware that the return value is type Viewport (`{ x: number, y: number, zoom: number }`) instead of Transform (`[number, number, number]`). https://reactflow.dev/api-reference/utils/get-viewport-for-bounds"),[O,l,v]},sr=(o,c,p,m,w,N=.1)=>{const O=c/(o.width*(1+N)),l=p/(o.height*(1+N)),v=Math.min(O,l),E=H(v,m,w),L=o.x+o.width/2,$=o.y+o.height/2,ye=c/2-L*E,re=p/2-$*E;return{x:ye,y:re,zoom:E}},wn=(o,c=0)=>o.transition().duration(c);function xn(o,c,p,m){return(c[p]||[]).reduce((w,N)=>{var O,l,v,E;return`${o.id}-${N.id}-${p}`!==m&&w.push({id:N.id||null,type:p,nodeId:o.id,x:((l=(O=o.positionAbsolute)==null?void 0:O.x)!=null?l:0)+N.x+N.width/2,y:((E=(v=o.positionAbsolute)==null?void 0:v.y)!=null?E:0)+N.y+N.height/2}),w},[])}function tr(o,c,p,m,w,N){const{x:O,y:l}=fe(o),E=c.elementsFromPoint(O,l).find(be=>be.classList.contains("react-flow__handle"));if(E){const be=E.getAttribute("data-nodeid");if(be){const ve=Qn(void 0,E),Oe=E.getAttribute("data-handleid"),Ae=N({nodeId:be,id:Oe,type:ve});if(Ae){const Ne=w.find(Fe=>Fe.nodeId===be&&Fe.type===ve&&Fe.id===Oe);return{handle:{id:Oe,type:ve,nodeId:be,x:(Ne==null?void 0:Ne.x)||p.x,y:(Ne==null?void 0:Ne.y)||p.y},validHandleResult:Ae}}}}let L=[],$=1/0;if(w.forEach(be=>{const ve=Math.sqrt($a(be.x-p.x,2)+$a(be.y-p.y,2));if(ve<=m){const Oe=N(be);ve<=$&&(ve<$?L=[{handle:be,validHandleResult:Oe}]:ve===$&&L.push({handle:be,validHandleResult:Oe}),$=ve)}}),!L.length)return{handle:null,validHandleResult:Qt()};if(L.length===1)return L[0];const ye=L.some(({validHandleResult:be})=>be.isValid),re=L.some(({handle:be})=>be.type==="target");return L.find(({handle:be,validHandleResult:ve})=>re?be.type==="target":ye?ve.isValid:!0)||L[0]}const Dr={source:null,target:null,sourceHandle:null,targetHandle:null},Qt=()=>({handleDomNode:null,isValid:!1,connection:Dr,endHandle:null});function bn(o,c,p,m,w,N,O){const l=w==="target",v=O.querySelector(`.react-flow__handle[data-id="${o==null?void 0:o.nodeId}-${o==null?void 0:o.id}-${o==null?void 0:o.type}"]`),E=$n(Bt({},Qt()),{handleDomNode:v});if(v){const L=Qn(void 0,v),$=v.getAttribute("data-nodeid"),ye=v.getAttribute("data-handleid"),re=v.classList.contains("connectable"),be=v.classList.contains("connectableend"),ve={source:l?$:p,sourceHandle:l?ye:m,target:l?p:$,targetHandle:l?m:ye};E.connection=ve,re&&be&&(c===cn.Strict?l&&L==="source"||!l&&L==="target":$!==p||ye!==m)&&(E.endHandle={nodeId:$,handleId:ye,type:L},E.isValid=N(ve))}return E}function kn({nodes:o,nodeId:c,handleId:p,handleType:m}){return o.reduce((w,N)=>{if(N[de]){const{handleBounds:O}=N[de];let l=[],v=[];O&&(l=xn(N,O,"source",`${c}-${p}-${m}`),v=xn(N,O,"target",`${c}-${p}-${m}`)),w.push(...l,...v)}return w},[])}function Qn(o,c){return o||(c!=null&&c.classList.contains("target")?"target":c!=null&&c.classList.contains("source")?"source":null)}function U(o){o==null||o.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function he(o,c){let p=null;return c?p="valid":o&&!c&&(p="invalid"),p}function Je({event:o,handleId:c,nodeId:p,onConnect:m,isTarget:w,getState:N,setState:O,isValidConnection:l,edgeUpdaterType:v,onReconnectEnd:E}){const L=Ee(o.target),{connectionMode:$,domNode:ye,autoPanOnConnect:re,connectionRadius:be,onConnectStart:ve,panBy:Oe,getNodes:Ae,cancelConnection:Ne}=N();let Fe=0,gt;const{x:ut,y:Lt}=fe(o),Xt=L==null?void 0:L.elementFromPoint(ut,Lt),zt=Qn(v,Xt),dt=ye==null?void 0:ye.getBoundingClientRect();if(!dt||!zt)return;let wt,_t=fe(o,dt),Et=!1,st=null,Ve=!1,ft=null;const Ot=kn({nodes:Ae(),nodeId:p,handleId:c,handleType:zt}),Wt=()=>{if(!re)return;const[At,It]=te(_t,dt);Oe({x:At,y:It}),Fe=requestAnimationFrame(Wt)};O({connectionPosition:_t,connectionStatus:null,connectionNodeId:p,connectionHandleId:c,connectionHandleType:zt,connectionStartHandle:{nodeId:p,handleId:c,type:zt},connectionEndHandle:null}),ve==null||ve(o,{nodeId:p,handleId:c,handleType:zt});function $t(At){const{transform:It}=N();_t=fe(At,dt);const{handle:xt,validHandleResult:qt}=tr(At,L,Ct(_t,It,!1,[1,1]),be,Ot,mn=>bn(mn,$,p,c,w?"target":"source",l,L));if(gt=xt,Et||(Wt(),Et=!0),ft=qt.handleDomNode,st=qt.connection,Ve=qt.isValid,O({connectionPosition:gt&&Ve?sn({x:gt.x,y:gt.y},It):_t,connectionStatus:he(!!gt,Ve),connectionEndHandle:qt.endHandle}),!gt&&!Ve&&!ft)return U(wt);st.source!==st.target&&ft&&(U(wt),wt=ft,ft.classList.add("connecting","react-flow__handle-connecting"),ft.classList.toggle("valid",Ve),ft.classList.toggle("react-flow__handle-valid",Ve))}function Re(At){var It,xt;(gt||ft)&&st&&Ve&&(m==null||m(st)),(xt=(It=N()).onConnectEnd)==null||xt.call(It,At),v&&(E==null||E(At)),U(wt),Ne(),cancelAnimationFrame(Fe),Et=!1,Ve=!1,st=null,ft=null,L.removeEventListener("mousemove",$t),L.removeEventListener("mouseup",Re),L.removeEventListener("touchmove",$t),L.removeEventListener("touchend",Re)}L.addEventListener("mousemove",$t),L.addEventListener("mouseup",Re),L.addEventListener("touchmove",$t),L.addEventListener("touchend",Re)}const ot=()=>!0,$e=o=>({connectionStartHandle:o.connectionStartHandle,connectOnClick:o.connectOnClick,noPanClassName:o.noPanClassName}),ht=(o,c,p)=>m=>{const{connectionStartHandle:w,connectionEndHandle:N,connectionClickStartHandle:O}=m;return{connecting:(w==null?void 0:w.nodeId)===o&&(w==null?void 0:w.handleId)===c&&(w==null?void 0:w.type)===p||(N==null?void 0:N.nodeId)===o&&(N==null?void 0:N.handleId)===c&&(N==null?void 0:N.type)===p,clickConnecting:(O==null?void 0:O.nodeId)===o&&(O==null?void 0:O.handleId)===c&&(O==null?void 0:O.type)===p}},kt=(0,i.forwardRef)((be,re)=>{var ve=be,{type:o="source",position:c=qe.Top,isValidConnection:p,isConnectable:m=!0,isConnectableStart:w=!0,isConnectableEnd:N=!0,id:O,onConnect:l,children:v,className:E,onMouseDown:L,onTouchStart:$}=ve,ye=Ai(ve,["type","position","isValidConnection","isConnectable","isConnectableStart","isConnectableEnd","id","onConnect","children","className","onMouseDown","onTouchStart"]);var _t,Et;const Oe=O||null,Ae=o==="target",Ne=ue(),Fe=He(),{connectOnClick:gt,noPanClassName:ut}=K($e,T.X),{connecting:Lt,clickConnecting:Xt}=K(ht(Fe,Oe,o),T.X);Fe||(Et=(_t=Ne.getState()).onError)==null||Et.call(_t,"010",D.error010());const zt=st=>{const{defaultEdgeOptions:Ve,onConnect:ft,hasDefaultEdges:Ot}=Ne.getState(),Wt=Bt(Bt({},Ve),st);if(Ot){const{edges:$t,setEdges:Re}=Ne.getState();Re(Pt(Wt,$t))}ft==null||ft(Wt),l==null||l(Wt)},dt=st=>{if(!Fe)return;const Ve=G(st);w&&(Ve&&st.button===0||!Ve)&&Je({event:st,handleId:Oe,nodeId:Fe,onConnect:zt,isTarget:Ae,getState:Ne.getState,setState:Ne.setState,isValidConnection:p||Ne.getState().isValidConnection||ot}),Ve?L==null||L(st):$==null||$(st)},wt=st=>{const{onClickConnectStart:Ve,onClickConnectEnd:ft,connectionClickStartHandle:Ot,connectionMode:Wt,isValidConnection:$t}=Ne.getState();if(!Fe||!Ot&&!w)return;if(!Ot){Ve==null||Ve(st,{nodeId:Fe,handleId:Oe,handleType:o}),Ne.setState({connectionClickStartHandle:{nodeId:Fe,type:o,handleId:Oe}});return}const Re=Ee(st.target),At=p||$t||ot,{connection:It,isValid:xt}=bn({nodeId:Fe,id:Oe,type:o},Wt,Ot.nodeId,Ot.handleId||null,Ot.type,At,Re);xt&&zt(It),ft==null||ft(st),Ne.setState({connectionClickStartHandle:null})};return i.createElement("div",Bt({"data-handleid":Oe,"data-nodeid":Fe,"data-handlepos":c,"data-id":`${Fe}-${Oe}-${o}`,className:(0,M.Z)(["react-flow__handle",`react-flow__handle-${c}`,"nodrag",ut,E,{source:!Ae,target:Ae,connectable:m,connectablestart:w,connectableend:N,connecting:Xt,connectionindicator:m&&(w&&!Lt||N&&Lt)}]),onMouseDown:dt,onTouchStart:dt,onClick:gt?wt:void 0,ref:re},ye),v)});kt.displayName="Handle";var St=(0,i.memo)(kt);const Ht=({data:o,isConnectable:c,targetPosition:p=qe.Top,sourcePosition:m=qe.Bottom})=>i.createElement(i.Fragment,null,i.createElement(St,{type:"target",position:p,isConnectable:c}),o==null?void 0:o.label,i.createElement(St,{type:"source",position:m,isConnectable:c}));Ht.displayName="DefaultNode";var hn=(0,i.memo)(Ht);const On=({data:o,isConnectable:c,sourcePosition:p=qe.Bottom})=>i.createElement(i.Fragment,null,o==null?void 0:o.label,i.createElement(St,{type:"source",position:p,isConnectable:c}));On.displayName="InputNode";var nr=(0,i.memo)(On);const yr=({data:o,isConnectable:c,targetPosition:p=qe.Top})=>i.createElement(i.Fragment,null,i.createElement(St,{type:"target",position:p,isConnectable:c}),o==null?void 0:o.label);yr.displayName="OutputNode";var ar=(0,i.memo)(yr);const Xn=()=>null;Xn.displayName="GroupNode";const wo=o=>({selectedNodes:o.getNodes().filter(c=>c.selected),selectedEdges:o.edges.filter(c=>c.selected).map(c=>Bt({},c))}),to=o=>o.id;function ti(o,c){return(0,T.X)(o.selectedNodes.map(to),c.selectedNodes.map(to))&&(0,T.X)(o.selectedEdges.map(to),c.selectedEdges.map(to))}const Pr=(0,i.memo)(({onSelectionChange:o})=>{const c=ue(),{selectedNodes:p,selectedEdges:m}=K(wo,ti);return(0,i.useEffect)(()=>{const w={nodes:p,edges:m};o==null||o(w),c.getState().onSelectionChange.forEach(N=>N(w))},[p,m,o]),null});Pr.displayName="SelectionListener";const no=o=>!!o.onSelectionChange;function jo({onSelectionChange:o}){const c=K(no);return o||c?i.createElement(Pr,{onSelectionChange:o}):null}const Mo=o=>({setNodes:o.setNodes,setEdges:o.setEdges,setDefaultNodesAndEdges:o.setDefaultNodesAndEdges,setMinZoom:o.setMinZoom,setMaxZoom:o.setMaxZoom,setTranslateExtent:o.setTranslateExtent,setNodeExtent:o.setNodeExtent,reset:o.reset});function ro(o,c){(0,i.useEffect)(()=>{typeof o!="undefined"&&c(o)},[o])}function _n(o,c,p){(0,i.useEffect)(()=>{typeof c!="undefined"&&p({[o]:c})},[c])}const Oi=({nodes:o,edges:c,defaultNodes:p,defaultEdges:m,onConnect:w,onConnectStart:N,onConnectEnd:O,onClickConnectStart:l,onClickConnectEnd:v,nodesDraggable:E,nodesConnectable:L,nodesFocusable:$,edgesFocusable:ye,edgesUpdatable:re,elevateNodesOnSelect:be,minZoom:ve,maxZoom:Oe,nodeExtent:Ae,onNodesChange:Ne,onEdgesChange:Fe,elementsSelectable:gt,connectionMode:ut,snapGrid:Lt,snapToGrid:Xt,translateExtent:zt,connectOnClick:dt,defaultEdgeOptions:wt,fitView:_t,fitViewOptions:Et,onNodesDelete:st,onEdgesDelete:Ve,onNodeDrag:ft,onNodeDragStart:Ot,onNodeDragStop:Wt,onSelectionDrag:$t,onSelectionDragStart:Re,onSelectionDragStop:At,noPanClassName:It,nodeOrigin:xt,rfId:qt,autoPanOnConnect:mn,autoPanOnNodeDrag:Ln,onError:Un,connectionRadius:Wn,isValidConnection:ur,nodeDragThreshold:hr})=>{const{setNodes:ir,setEdges:Ur,setDefaultNodesAndEdges:Yn,setMinZoom:ho,setMaxZoom:Yr,setTranslateExtent:Jn,setNodeExtent:$r,reset:Mn}=K(Mo,T.X),Yt=ue();return(0,i.useEffect)(()=>{const Nr=m==null?void 0:m.map(Yo=>Bt(Bt({},Yo),wt));return Yn(p,Nr),()=>{Mn()}},[]),_n("defaultEdgeOptions",wt,Yt.setState),_n("connectionMode",ut,Yt.setState),_n("onConnect",w,Yt.setState),_n("onConnectStart",N,Yt.setState),_n("onConnectEnd",O,Yt.setState),_n("onClickConnectStart",l,Yt.setState),_n("onClickConnectEnd",v,Yt.setState),_n("nodesDraggable",E,Yt.setState),_n("nodesConnectable",L,Yt.setState),_n("nodesFocusable",$,Yt.setState),_n("edgesFocusable",ye,Yt.setState),_n("edgesUpdatable",re,Yt.setState),_n("elementsSelectable",gt,Yt.setState),_n("elevateNodesOnSelect",be,Yt.setState),_n("snapToGrid",Xt,Yt.setState),_n("snapGrid",Lt,Yt.setState),_n("onNodesChange",Ne,Yt.setState),_n("onEdgesChange",Fe,Yt.setState),_n("connectOnClick",dt,Yt.setState),_n("fitViewOnInit",_t,Yt.setState),_n("fitViewOnInitOptions",Et,Yt.setState),_n("onNodesDelete",st,Yt.setState),_n("onEdgesDelete",Ve,Yt.setState),_n("onNodeDrag",ft,Yt.setState),_n("onNodeDragStart",Ot,Yt.setState),_n("onNodeDragStop",Wt,Yt.setState),_n("onSelectionDrag",$t,Yt.setState),_n("onSelectionDragStart",Re,Yt.setState),_n("onSelectionDragStop",At,Yt.setState),_n("noPanClassName",It,Yt.setState),_n("nodeOrigin",xt,Yt.setState),_n("rfId",qt,Yt.setState),_n("autoPanOnConnect",mn,Yt.setState),_n("autoPanOnNodeDrag",Ln,Yt.setState),_n("onError",Un,Yt.setState),_n("connectionRadius",Wn,Yt.setState),_n("isValidConnection",ur,Yt.setState),_n("nodeDragThreshold",hr,Yt.setState),ro(o,ir),ro(c,Ur),ro(ve,ho),ro(Oe,Yr),ro(zt,Jn),ro(Ae,$r),null},No={display:"none"},ns={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},ni="react-flow__node-desc",oo="react-flow__edge-desc",rs="react-flow__aria-live",Mi=o=>o.ariaLiveMessage;function Ni({rfId:o}){const c=K(Mi);return i.createElement("div",{id:`${rs}-${o}`,"aria-live":"assertive","aria-atomic":"true",style:ns},c)}function Do({rfId:o,disableKeyboardA11y:c}){return i.createElement(i.Fragment,null,i.createElement("div",{id:`${ni}-${o}`,style:No},"Press enter or space to select a node.",!c&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),i.createElement("div",{id:`${oo}-${o}`,style:No},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!c&&i.createElement(Ni,{rfId:o}))}var bo=(o=null,c={actInsideInputWithModifier:!0})=>{const[p,m]=(0,i.useState)(!1),w=(0,i.useRef)(!1),N=(0,i.useRef)(new Set([])),[O,l]=(0,i.useMemo)(()=>{if(o!==null){const E=(Array.isArray(o)?o:[o]).filter($=>typeof $=="string").map($=>$.split("+")),L=E.reduce(($,ye)=>$.concat(...ye),[]);return[E,L]}return[[],[]]},[o]);return(0,i.useEffect)(()=>{const v=typeof document!="undefined"?document:null,E=(c==null?void 0:c.target)||v;if(o!==null){const L=re=>{if(w.current=re.ctrlKey||re.metaKey||re.shiftKey,(!w.current||w.current&&!c.actInsideInputWithModifier)&&Mt(re))return!1;const ve=Di(re.code,l);N.current.add(re[ve]),ri(O,N.current,!1)&&(re.preventDefault(),m(!0))},$=re=>{if((!w.current||w.current&&!c.actInsideInputWithModifier)&&Mt(re))return!1;const ve=Di(re.code,l);ri(O,N.current,!0)?(m(!1),N.current.clear()):N.current.delete(re[ve]),re.key==="Meta"&&N.current.clear(),w.current=!1},ye=()=>{N.current.clear(),m(!1)};return E==null||E.addEventListener("keydown",L),E==null||E.addEventListener("keyup",$),window.addEventListener("blur",ye),()=>{E==null||E.removeEventListener("keydown",L),E==null||E.removeEventListener("keyup",$),window.removeEventListener("blur",ye)}}},[o,m]),p};function ri(o,c,p){return o.filter(m=>p||m.length===c.size).some(m=>m.every(w=>c.has(w)))}function Di(o,c){return c.includes(o)?"code":"key"}function Pi(o,c,p,m){var l,v,E,L,$,ye,re,be;const w=o.parentNode||o.parentId;if(!w)return p;const N=c.get(w),O=ln(N,m);return Pi(N,c,{x:((l=p.x)!=null?l:0)+O.x,y:((v=p.y)!=null?v:0)+O.y,z:((L=(E=N[de])==null?void 0:E.z)!=null?L:0)>(($=p.z)!=null?$:0)?(re=(ye=N[de])==null?void 0:ye.z)!=null?re:0:(be=p.z)!=null?be:0},m)}function vr(o,c,p){o.forEach(m=>{var N,O;const w=m.parentNode||m.parentId;if(w&&!o.has(w))throw new Error(`Parent node ${w} not found`);if(w||p!=null&&p[m.id]){const{x:l,y:v,z:E}=Pi(m,o,$n(Bt({},m.position),{z:(O=(N=m[de])==null?void 0:N.z)!=null?O:0}),c);m.positionAbsolute={x:l,y:v},m[de].z=E,p!=null&&p[m.id]&&(m[de].isParent=!0)}})}function io(o,c,p,m){const w=new Map,N={},O=m?1e3:0;return o.forEach(l=>{var re;const v=(Q(l.zIndex)?l.zIndex:0)+(l.selected?O:0),E=c.get(l.id),L=$n(Bt({},l),{positionAbsolute:{x:l.position.x,y:l.position.y}}),$=l.parentNode||l.parentId;$&&(N[$]=!0);const ye=(E==null?void 0:E.type)&&(E==null?void 0:E.type)!==l.type;Object.defineProperty(L,de,{enumerable:!1,value:{handleBounds:ye||(re=E==null?void 0:E[de])==null?void 0:re.handleBounds,z:v}}),w.set(l.id,L)}),vr(w,p,N),w}function Ri(o,c={}){var be,ve,Oe;const{getNodes:p,width:m,height:w,minZoom:N,maxZoom:O,d3Zoom:l,d3Selection:v,fitViewOnInitDone:E,fitViewOnInit:L,nodeOrigin:$}=o(),ye=c.initial&&!E&&L;if(l&&v&&(ye||!c.initial)){const Ae=p().filter(Fe=>{var ut;const gt=c.includeHiddenNodes?Fe.width&&Fe.height:!Fe.hidden;return(ut=c.nodes)!=null&&ut.length?gt&&c.nodes.some(Lt=>Lt.id===Fe.id):gt}),Ne=Ae.every(Fe=>Fe.width&&Fe.height);if(Ae.length>0&&Ne){const Fe=un(Ae,$),{x:gt,y:ut,zoom:Lt}=sr(Fe,m,w,(be=c.minZoom)!=null?be:N,(ve=c.maxZoom)!=null?ve:O,(Oe=c.padding)!=null?Oe:.1),Xt=x.CR.translate(gt,ut).scale(Lt);return typeof c.duration=="number"&&c.duration>0?l.transform(wn(v,c.duration),Xt):l.transform(v,Xt),!0}}return!1}function oi(o,c){return o.forEach(p=>{const m=c.get(p.id);m&&c.set(m.id,$n(Bt({},m),{[de]:m[de],selected:p.selected}))}),new Map(c)}function Li(o,c){return c.map(p=>{const m=o.find(w=>w.id===p.id);return m&&(p.selected=m.selected),p})}function rr({changedNodes:o,changedEdges:c,get:p,set:m}){const{nodeInternals:w,edges:N,onNodesChange:O,onEdgesChange:l,hasDefaultNodes:v,hasDefaultEdges:E}=p();o!=null&&o.length&&(v&&m({nodeInternals:oi(o,w)}),O==null||O(o)),c!=null&&c.length&&(E&&m({edges:Li(c,N)}),l==null||l(c))}const so=()=>{},Bn={zoomIn:so,zoomOut:so,zoomTo:so,getZoom:()=>1,setViewport:so,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:so,fitBounds:so,project:o=>o,screenToFlowPosition:o=>o,flowToScreenPosition:o=>o,viewportInitialized:!1},xo=o=>({d3Zoom:o.d3Zoom,d3Selection:o.d3Selection}),Zo=()=>{const o=ue(),{d3Zoom:c,d3Selection:p}=K(xo,T.X);return(0,i.useMemo)(()=>p&&c?{zoomIn:w=>c.scaleBy(wn(p,w==null?void 0:w.duration),1.2),zoomOut:w=>c.scaleBy(wn(p,w==null?void 0:w.duration),1/1.2),zoomTo:(w,N)=>c.scaleTo(wn(p,N==null?void 0:N.duration),w),getZoom:()=>o.getState().transform[2],setViewport:(w,N)=>{var L,$,ye;const[O,l,v]=o.getState().transform,E=x.CR.translate((L=w.x)!=null?L:O,($=w.y)!=null?$:l).scale((ye=w.zoom)!=null?ye:v);c.transform(wn(p,N==null?void 0:N.duration),E)},getViewport:()=>{const[w,N,O]=o.getState().transform;return{x:w,y:N,zoom:O}},fitView:w=>Ri(o.getState,w),setCenter:(w,N,O)=>{const{width:l,height:v,maxZoom:E}=o.getState(),L=typeof(O==null?void 0:O.zoom)!="undefined"?O.zoom:E,$=l/2-w*L,ye=v/2-N*L,re=x.CR.translate($,ye).scale(L);c.transform(wn(p,O==null?void 0:O.duration),re)},fitBounds:(w,N)=>{var be;const{width:O,height:l,minZoom:v,maxZoom:E}=o.getState(),{x:L,y:$,zoom:ye}=sr(w,O,l,v,E,(be=N==null?void 0:N.padding)!=null?be:.1),re=x.CR.translate(L,$).scale(ye);c.transform(wn(p,N==null?void 0:N.duration),re)},project:w=>{const{transform:N,snapToGrid:O,snapGrid:l}=o.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Ct(w,N,O,l)},screenToFlowPosition:w=>{const{transform:N,snapToGrid:O,snapGrid:l,domNode:v}=o.getState();if(!v)return w;const{x:E,y:L}=v.getBoundingClientRect(),$={x:w.x-E,y:w.y-L};return Ct($,N,O,l)},flowToScreenPosition:w=>{const{transform:N,domNode:O}=o.getState();if(!O)return w;const{x:l,y:v}=O.getBoundingClientRect(),E=sn(w,N);return{x:E.x+l,y:E.y+v}},viewportInitialized:!0}:Bn,[c,p])};function Po(){const o=Zo(),c=ue(),p=(0,i.useCallback)(()=>c.getState().getNodes().map(ve=>Bt({},ve)),[]),m=(0,i.useCallback)(ve=>c.getState().nodeInternals.get(ve),[]),w=(0,i.useCallback)(()=>{const{edges:ve=[]}=c.getState();return ve.map(Oe=>Bt({},Oe))},[]),N=(0,i.useCallback)(ve=>{const{edges:Oe=[]}=c.getState();return Oe.find(Ae=>Ae.id===ve)},[]),O=(0,i.useCallback)(ve=>{const{getNodes:Oe,setNodes:Ae,hasDefaultNodes:Ne,onNodesChange:Fe}=c.getState(),gt=Oe(),ut=typeof ve=="function"?ve(gt):ve;if(Ne)Ae(ut);else if(Fe){const Lt=ut.length===0?gt.map(Xt=>({type:"remove",id:Xt.id})):ut.map(Xt=>({item:Xt,type:"reset"}));Fe(Lt)}},[]),l=(0,i.useCallback)(ve=>{const{edges:Oe=[],setEdges:Ae,hasDefaultEdges:Ne,onEdgesChange:Fe}=c.getState(),gt=typeof ve=="function"?ve(Oe):ve;if(Ne)Ae(gt);else if(Fe){const ut=gt.length===0?Oe.map(Lt=>({type:"remove",id:Lt.id})):gt.map(Lt=>({item:Lt,type:"reset"}));Fe(ut)}},[]),v=(0,i.useCallback)(ve=>{const Oe=Array.isArray(ve)?ve:[ve],{getNodes:Ae,setNodes:Ne,hasDefaultNodes:Fe,onNodesChange:gt}=c.getState();if(Fe){const Lt=[...Ae(),...Oe];Ne(Lt)}else if(gt){const ut=Oe.map(Lt=>({item:Lt,type:"add"}));gt(ut)}},[]),E=(0,i.useCallback)(ve=>{const Oe=Array.isArray(ve)?ve:[ve],{edges:Ae=[],setEdges:Ne,hasDefaultEdges:Fe,onEdgesChange:gt}=c.getState();if(Fe)Ne([...Ae,...Oe]);else if(gt){const ut=Oe.map(Lt=>({item:Lt,type:"add"}));gt(ut)}},[]),L=(0,i.useCallback)(()=>{const{getNodes:ve,edges:Oe=[],transform:Ae}=c.getState(),[Ne,Fe,gt]=Ae;return{nodes:ve().map(ut=>Bt({},ut)),edges:Oe.map(ut=>Bt({},ut)),viewport:{x:Ne,y:Fe,zoom:gt}}},[]),$=(0,i.useCallback)(({nodes:ve,edges:Oe})=>{const{nodeInternals:Ae,getNodes:Ne,edges:Fe,hasDefaultNodes:gt,hasDefaultEdges:ut,onNodesDelete:Lt,onEdgesDelete:Xt,onNodesChange:zt,onEdgesChange:dt}=c.getState(),wt=(ve||[]).map(ft=>ft.id),_t=(Oe||[]).map(ft=>ft.id),Et=Ne().reduce((ft,Ot)=>{const Wt=Ot.parentNode||Ot.parentId,$t=!wt.includes(Ot.id)&&Wt&&ft.find(At=>At.id===Wt);return(typeof Ot.deletable=="boolean"?Ot.deletable:!0)&&(wt.includes(Ot.id)||$t)&&ft.push(Ot),ft},[]),st=Fe.filter(ft=>typeof ft.deletable=="boolean"?ft.deletable:!0),Ve=st.filter(ft=>_t.includes(ft.id));if(Et||Ve){const ft=Gn(Et,st),Ot=[...Ve,...ft],Wt=Ot.reduce(($t,Re)=>($t.includes(Re.id)||$t.push(Re.id),$t),[]);if((ut||gt)&&(ut&&c.setState({edges:Fe.filter($t=>!Wt.includes($t.id))}),gt&&(Et.forEach($t=>{Ae.delete($t.id)}),c.setState({nodeInternals:new Map(Ae)}))),Wt.length>0&&(Xt==null||Xt(Ot),dt&&dt(Wt.map($t=>({id:$t,type:"remove"})))),Et.length>0&&(Lt==null||Lt(Et),zt)){const $t=Et.map(Re=>({id:Re.id,type:"remove"}));zt($t)}}},[]),ye=(0,i.useCallback)(ve=>{const Oe=Ce(ve),Ae=Oe?null:c.getState().nodeInternals.get(ve.id);return!Oe&&!Ae?[null,null,Oe]:[Oe?ve:Se(Ae),Ae,Oe]},[]),re=(0,i.useCallback)((ve,Oe=!0,Ae)=>{const[Ne,Fe,gt]=ye(ve);return Ne?(Ae||c.getState().getNodes()).filter(ut=>{if(!gt&&(ut.id===Fe.id||!ut.positionAbsolute))return!1;const Lt=Se(ut),Xt=je(Lt,Ne);return Oe&&Xt>0||Xt>=Ne.width*Ne.height}):[]},[]),be=(0,i.useCallback)((ve,Oe,Ae=!0)=>{const[Ne]=ye(ve);if(!Ne)return!1;const Fe=je(Ne,Oe);return Ae&&Fe>0||Fe>=Ne.width*Ne.height},[]);return(0,i.useMemo)(()=>$n(Bt({},o),{getNodes:p,getNode:m,getEdges:w,getEdge:N,setNodes:O,setEdges:l,addNodes:v,addEdges:E,toObject:L,deleteElements:$,getIntersectingNodes:re,isNodeIntersecting:be}),[o,p,m,w,N,O,l,v,E,L,$,re,be])}const os={actInsideInputWithModifier:!1};var is=({deleteKeyCode:o,multiSelectionKeyCode:c})=>{const p=ue(),{deleteElements:m}=Po(),w=bo(o,os),N=bo(c);(0,i.useEffect)(()=>{if(w){const{edges:O,getNodes:l}=p.getState(),v=l().filter(L=>L.selected),E=O.filter(L=>L.selected);m({nodes:v,edges:E}),p.setState({nodesSelectionActive:!1})}},[w]),(0,i.useEffect)(()=>{p.setState({multiSelectionActive:N})},[N])};function Bi(o){const c=ue();(0,i.useEffect)(()=>{let p;const m=()=>{var N,O;if(!o.current)return;const w=oe(o.current);(w.height===0||w.width===0)&&((O=(N=c.getState()).onError)==null||O.call(N,"004",D.error004())),c.setState({width:w.width||500,height:w.height||500})};return m(),window.addEventListener("resize",m),o.current&&(p=new ResizeObserver(()=>m()),p.observe(o.current)),()=>{window.removeEventListener("resize",m),p&&o.current&&p.unobserve(o.current)}},[])}const ii={position:"absolute",width:"100%",height:"100%",top:0,left:0},si=(o,c)=>o.x!==c.x||o.y!==c.y||o.zoom!==c.k,An=o=>({x:o.x,y:o.y,zoom:o.k}),kr=(o,c)=>o.target.closest(`.${c}`),Ro=(o,c)=>c===2&&Array.isArray(o)&&o.includes(2),ao=o=>{const c=o.ctrlKey&&xe()?10:1;return-o.deltaY*(o.deltaMode===1?.05:o.deltaMode?1:.002)*c},ai=o=>({d3Zoom:o.d3Zoom,d3Selection:o.d3Selection,d3ZoomHandler:o.d3ZoomHandler,userSelectionActive:o.userSelectionActive}),$o=({onMove:o,onMoveStart:c,onMoveEnd:p,onPaneContextMenu:m,zoomOnScroll:w=!0,zoomOnPinch:N=!0,panOnScroll:O=!1,panOnScrollSpeed:l=.5,panOnScrollMode:v=Ft.Free,zoomOnDoubleClick:E=!0,elementsSelectable:L,panOnDrag:$=!0,defaultViewport:ye,translateExtent:re,minZoom:be,maxZoom:ve,zoomActivationKeyCode:Oe,preventScrolling:Ae=!0,children:Ne,noWheelClassName:Fe,noPanClassName:gt})=>{const ut=(0,i.useRef)(),Lt=ue(),Xt=(0,i.useRef)(!1),zt=(0,i.useRef)(!1),dt=(0,i.useRef)(null),wt=(0,i.useRef)({x:0,y:0,zoom:0}),{d3Zoom:_t,d3Selection:Et,d3ZoomHandler:st,userSelectionActive:Ve}=K(ai,T.X),ft=bo(Oe),Ot=(0,i.useRef)(0),Wt=(0,i.useRef)(!1),$t=(0,i.useRef)();return Bi(dt),(0,i.useEffect)(()=>{if(dt.current){const Re=dt.current.getBoundingClientRect(),At=(0,x.sP)().scaleExtent([be,ve]).translateExtent(re),It=(0,b.Z)(dt.current).call(At),xt=x.CR.translate(ye.x,ye.y).scale(H(ye.zoom,be,ve)),qt=[[0,0],[Re.width,Re.height]],mn=At.constrain()(xt,qt,re);At.transform(It,mn),At.wheelDelta(ao),Lt.setState({d3Zoom:At,d3Selection:It,d3ZoomHandler:It.on("wheel.zoom"),transform:[mn.x,mn.y,mn.k],domNode:dt.current.closest(".react-flow")})}},[]),(0,i.useEffect)(()=>{Et&&_t&&(O&&!ft&&!Ve?Et.on("wheel.zoom",Re=>{if(kr(Re,Fe))return!1;Re.preventDefault(),Re.stopImmediatePropagation();const At=Et.property("__zoom").k||1;if(Re.ctrlKey&&N){const ur=(0,h.Z)(Re),hr=ao(Re),ir=At*Math.pow(2,hr);_t.scaleTo(Et,ir,ur,Re);return}const It=Re.deltaMode===1?20:1;let xt=v===Ft.Vertical?0:Re.deltaX*It,qt=v===Ft.Horizontal?0:Re.deltaY*It;!xe()&&Re.shiftKey&&v!==Ft.Vertical&&(xt=Re.deltaY*It,qt=0),_t.translateBy(Et,-(xt/At)*l,-(qt/At)*l,{internal:!0});const mn=An(Et.property("__zoom")),{onViewportChangeStart:Ln,onViewportChange:Un,onViewportChangeEnd:Wn}=Lt.getState();clearTimeout($t.current),Wt.current||(Wt.current=!0,c==null||c(Re,mn),Ln==null||Ln(mn)),Wt.current&&(o==null||o(Re,mn),Un==null||Un(mn),$t.current=setTimeout(()=>{p==null||p(Re,mn),Wn==null||Wn(mn),Wt.current=!1},150))},{passive:!1}):typeof st!="undefined"&&Et.on("wheel.zoom",function(Re,At){if(!Ae&&Re.type==="wheel"&&!Re.ctrlKey||kr(Re,Fe))return null;Re.preventDefault(),st.call(this,Re,At)},{passive:!1}))},[Ve,O,v,Et,_t,st,ft,N,Ae,Fe,c,o,p]),(0,i.useEffect)(()=>{_t&&_t.on("start",Re=>{var xt,qt;if(!Re.sourceEvent||Re.sourceEvent.internal)return null;Ot.current=(xt=Re.sourceEvent)==null?void 0:xt.button;const{onViewportChangeStart:At}=Lt.getState(),It=An(Re.transform);Xt.current=!0,wt.current=It,((qt=Re.sourceEvent)==null?void 0:qt.type)==="mousedown"&&Lt.setState({paneDragging:!0}),At==null||At(It),c==null||c(Re.sourceEvent,It)})},[_t,c]),(0,i.useEffect)(()=>{_t&&(Ve&&!Xt.current?_t.on("zoom",null):Ve||_t.on("zoom",Re=>{var It,xt;const{onViewportChange:At}=Lt.getState();if(Lt.setState({transform:[Re.transform.x,Re.transform.y,Re.transform.k]}),zt.current=!!(m&&Ro($,(It=Ot.current)!=null?It:0)),(o||At)&&!((xt=Re.sourceEvent)!=null&&xt.internal)){const qt=An(Re.transform);At==null||At(qt),o==null||o(Re.sourceEvent,qt)}}))},[Ve,_t,o,$,m]),(0,i.useEffect)(()=>{_t&&_t.on("end",Re=>{var It;if(!Re.sourceEvent||Re.sourceEvent.internal)return null;const{onViewportChangeEnd:At}=Lt.getState();if(Xt.current=!1,Lt.setState({paneDragging:!1}),m&&Ro($,(It=Ot.current)!=null?It:0)&&!zt.current&&m(Re.sourceEvent),zt.current=!1,(p||At)&&si(wt.current,Re.transform)){const xt=An(Re.transform);wt.current=xt,clearTimeout(ut.current),ut.current=setTimeout(()=>{At==null||At(xt),p==null||p(Re.sourceEvent,xt)},O?150:0)}})},[_t,O,$,p,m]),(0,i.useEffect)(()=>{_t&&_t.filter(Re=>{const At=ft||w,It=N&&Re.ctrlKey;if(($===!0||Array.isArray($)&&$.includes(1))&&Re.button===1&&Re.type==="mousedown"&&(kr(Re,"react-flow__node")||kr(Re,"react-flow__edge")))return!0;if(!$&&!At&&!O&&!E&&!N||Ve||!E&&Re.type==="dblclick"||kr(Re,Fe)&&Re.type==="wheel"||kr(Re,gt)&&(Re.type!=="wheel"||O&&Re.type==="wheel"&&!ft)||!N&&Re.ctrlKey&&Re.type==="wheel"||!At&&!O&&!It&&Re.type==="wheel"||!$&&(Re.type==="mousedown"||Re.type==="touchstart")||Array.isArray($)&&!$.includes(Re.button)&&Re.type==="mousedown")return!1;const xt=Array.isArray($)&&$.includes(Re.button)||!Re.button||Re.button<=1;return(!Re.ctrlKey||Re.type==="wheel")&&xt})},[Ve,_t,w,N,O,E,$,L,ft]),i.createElement("div",{className:"react-flow__renderer",ref:dt,style:ii},Ne)},co=o=>({userSelectionActive:o.userSelectionActive,userSelectionRect:o.userSelectionRect});function Ui(){const{userSelectionActive:o,userSelectionRect:c}=K(co,T.X);return o&&c?i.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:c.width,height:c.height,transform:`translate(${c.x}px, ${c.y}px)`}}):null}function Ho(o,c){var w,N;const p=c.parentNode||c.parentId,m=o.find(O=>O.id===p);if(m){const O=c.position.x+c.width-m.width,l=c.position.y+c.height-m.height;if(O>0||l>0||c.position.x<0||c.position.y<0){if(m.style=Bt({},m.style)||{},m.style.width=(w=m.style.width)!=null?w:m.width,m.style.height=(N=m.style.height)!=null?N:m.height,O>0&&(m.style.width+=O),l>0&&(m.style.height+=l),c.position.x<0){const v=Math.abs(c.position.x);m.position.x=m.position.x-v,m.style.width+=v,c.position.x=0}if(c.position.y<0){const v=Math.abs(c.position.y);m.position.y=m.position.y-v,m.style.height+=v,c.position.y=0}m.width=m.style.width,m.height=m.style.height}}}function zi(o,c){if(o.some(m=>m.type==="reset"))return o.filter(m=>m.type==="reset").map(m=>m.item);const p=o.filter(m=>m.type==="add").map(m=>m.item);return c.reduce((m,w)=>{const N=o.filter(l=>l.id===w.id);if(N.length===0)return m.push(w),m;const O=Bt({},w);for(const l of N)if(l)switch(l.type){case"select":{O.selected=l.selected;break}case"position":{typeof l.position!="undefined"&&(O.position=l.position),typeof l.positionAbsolute!="undefined"&&(O.positionAbsolute=l.positionAbsolute),typeof l.dragging!="undefined"&&(O.dragging=l.dragging),O.expandParent&&Ho(m,O);break}case"dimensions":{typeof l.dimensions!="undefined"&&(O.width=l.dimensions.width,O.height=l.dimensions.height),typeof l.updateStyle!="undefined"&&(O.style=Bt(Bt({},O.style||{}),l.dimensions)),typeof l.resizing=="boolean"&&(O.resizing=l.resizing),O.expandParent&&Ho(m,O);break}case"remove":return m}return m.push(O),m},p)}function Xr(o,c){return zi(o,c)}function cr(o,c){return zi(o,c)}const wr=(o,c)=>({id:o,type:"select",selected:c});function lo(o,c){return o.reduce((p,m)=>{const w=c.includes(m.id);return!m.selected&&w?(m.selected=!0,p.push(wr(m.id,!0))):m.selected&&!w&&(m.selected=!1,p.push(wr(m.id,!1))),p},[])}const Lo=(o,c)=>p=>{p.target===c.current&&(o==null||o(p))},Fi=o=>({userSelectionActive:o.userSelectionActive,elementsSelectable:o.elementsSelectable,dragging:o.paneDragging}),Vi=(0,i.memo)(({isSelecting:o,selectionMode:c=Ke.Full,panOnDrag:p,onSelectionStart:m,onSelectionEnd:w,onPaneClick:N,onPaneContextMenu:O,onPaneScroll:l,onPaneMouseEnter:v,onPaneMouseMove:E,onPaneMouseLeave:L,children:$})=>{const ye=(0,i.useRef)(null),re=ue(),be=(0,i.useRef)(0),ve=(0,i.useRef)(0),Oe=(0,i.useRef)(),{userSelectionActive:Ae,elementsSelectable:Ne,dragging:Fe}=K(Fi,T.X),gt=()=>{re.setState({userSelectionActive:!1,userSelectionRect:null}),be.current=0,ve.current=0},ut=st=>{N==null||N(st),re.getState().resetSelectedElements(),re.setState({nodesSelectionActive:!1})},Lt=st=>{if(Array.isArray(p)&&(p!=null&&p.includes(2))){st.preventDefault();return}O==null||O(st)},Xt=l?st=>l(st):void 0,zt=st=>{const{resetSelectedElements:Ve,domNode:ft}=re.getState();if(Oe.current=ft==null?void 0:ft.getBoundingClientRect(),!Ne||!o||st.button!==0||st.target!==ye.current||!Oe.current)return;const{x:Ot,y:Wt}=fe(st,Oe.current);Ve(),re.setState({userSelectionRect:{width:0,height:0,startX:Ot,startY:Wt,x:Ot,y:Wt}}),m==null||m(st)},dt=st=>{var ir,Ur;const{userSelectionRect:Ve,nodeInternals:ft,edges:Ot,transform:Wt,onNodesChange:$t,onEdgesChange:Re,nodeOrigin:At,getNodes:It}=re.getState();if(!o||!Oe.current||!Ve)return;re.setState({userSelectionActive:!0,nodesSelectionActive:!1});const xt=fe(st,Oe.current),qt=(ir=Ve.startX)!=null?ir:0,mn=(Ur=Ve.startY)!=null?Ur:0,Ln=$n(Bt({},Ve),{x:xt.x<qt?xt.x:qt,y:xt.y<mn?xt.y:mn,width:Math.abs(xt.x-qt),height:Math.abs(xt.y-mn)}),Un=It(),Wn=pr(ft,Ln,Wt,c===Ke.Partial,!0,At),ur=Gn(Wn,Ot).map(Yn=>Yn.id),hr=Wn.map(Yn=>Yn.id);if(be.current!==hr.length){be.current=hr.length;const Yn=lo(Un,hr);Yn.length&&($t==null||$t(Yn))}if(ve.current!==ur.length){ve.current=ur.length;const Yn=lo(Ot,ur);Yn.length&&(Re==null||Re(Yn))}re.setState({userSelectionRect:Ln})},wt=st=>{if(st.button!==0)return;const{userSelectionRect:Ve}=re.getState();!Ae&&Ve&&st.target===ye.current&&(ut==null||ut(st)),re.setState({nodesSelectionActive:be.current>0}),gt(),w==null||w(st)},_t=st=>{Ae&&(re.setState({nodesSelectionActive:be.current>0}),w==null||w(st)),gt()},Et=Ne&&(o||Ae);return i.createElement("div",{className:(0,M.Z)(["react-flow__pane",{dragging:Fe,selection:o}]),onClick:Et?void 0:Lo(ut,ye),onContextMenu:Lo(Lt,ye),onWheel:Lo(Xt,ye),onMouseEnter:Et?void 0:v,onMouseDown:Et?zt:void 0,onMouseMove:Et?dt:E,onMouseUp:Et?wt:void 0,onMouseLeave:Et?_t:L,ref:ye,style:ii},$,i.createElement(Ui,null))});Vi.displayName="Pane";function Wo(o,c){const p=o.parentNode||o.parentId;if(!p)return!1;const m=c.get(p);return m?m.selected?!0:Wo(m,c):!1}function ci(o,c,p){let m=o;do{if(m!=null&&m.matches(c))return!0;if(m===p.current)return!1;m=m.parentElement}while(m);return!1}function _o(o,c,p,m){return Array.from(o.values()).filter(w=>(w.selected||w.id===m)&&(!w.parentNode||w.parentId||!Wo(w,o))&&(w.draggable||c&&typeof w.draggable=="undefined")).map(w=>{var N,O,l,v;return{id:w.id,position:w.position||{x:0,y:0},positionAbsolute:w.positionAbsolute||{x:0,y:0},distance:{x:p.x-((O=(N=w.positionAbsolute)==null?void 0:N.x)!=null?O:0),y:p.y-((v=(l=w.positionAbsolute)==null?void 0:l.y)!=null?v:0)},delta:{x:0,y:0},extent:w.extent,parentNode:w.parentNode||w.parentId,parentId:w.parentNode||w.parentId,width:w.width,height:w.height,expandParent:w.expandParent}})}function li(o,c){return!c||c==="parent"?c:[c[0],[c[1][0]-(o.width||0),c[1][1]-(o.height||0)]]}function ji(o,c,p,m,w=[0,0],N){const O=li(o,o.extent||m);let l=O;const v=o.parentNode||o.parentId;if(o.extent==="parent"&&!o.expandParent)if(v&&o.width&&o.height){const $=p.get(v),{x:ye,y:re}=ln($,w).positionAbsolute;l=$&&Q(ye)&&Q(re)&&Q($.width)&&Q($.height)?[[ye+o.width*w[0],re+o.height*w[1]],[ye+$.width-o.width+o.width*w[0],re+$.height-o.height+o.height*w[1]]]:l}else N==null||N("005",D.error005()),l=O;else if(o.extent&&v&&o.extent!=="parent"){const $=p.get(v),{x:ye,y:re}=ln($,w).positionAbsolute;l=[[o.extent[0][0]+ye,o.extent[0][1]+re],[o.extent[1][0]+ye,o.extent[1][1]+re]]}let E={x:0,y:0};if(v){const $=p.get(v);E=ln($,w).positionAbsolute}const L=l&&l!=="parent"?Y(c,l):c;return{position:{x:L.x-E.x,y:L.y-E.y},positionAbsolute:L}}function Ir({nodeId:o,dragItems:c,nodeInternals:p}){const m=c.map(w=>{const N=p.get(w.id);return $n(Bt({},N),{position:w.position,positionAbsolute:w.positionAbsolute})});return[o?m.find(w=>w.id===o):m[0],m]}const Eo=(o,c,p,m)=>{const w=c.querySelectorAll(o);if(!w||!w.length)return null;const N=Array.from(w),O=c.getBoundingClientRect(),l={x:O.width*m[0],y:O.height*m[1]};return N.map(v=>{const E=v.getBoundingClientRect();return Bt({id:v.getAttribute("data-handleid"),position:v.getAttribute("data-handlepos"),x:(E.left-O.left-l.x)/p,y:(E.top-O.top-l.y)/p},oe(v))})};function Rr(o,c,p){return p===void 0?p:m=>{const w=c().nodeInternals.get(o);w&&p(m,Bt({},w))}}function Tr({id:o,store:c,unselect:p=!1,nodeRef:m}){const{addSelectedNodes:w,unselectNodesAndEdges:N,multiSelectionActive:O,nodeInternals:l,onError:v}=c.getState(),E=l.get(o);if(!E){v==null||v("012",D.error012(o));return}c.setState({nodesSelectionActive:!1}),E.selected?(p||E.selected&&O)&&(N({nodes:[E],edges:[]}),requestAnimationFrame(()=>{var L;return(L=m==null?void 0:m.current)==null?void 0:L.blur()})):w([o])}function ui(){const o=ue();return(0,i.useCallback)(({sourceEvent:p})=>{const{transform:m,snapGrid:w,snapToGrid:N}=o.getState(),O=p.touches?p.touches[0].clientX:p.clientX,l=p.touches?p.touches[0].clientY:p.clientY,v={x:(O-m[0])/m[2],y:(l-m[1])/m[2]};return Bt({xSnapped:N?w[0]*Math.round(v.x/w[0]):v.x,ySnapped:N?w[1]*Math.round(v.y/w[1]):v.y},v)},[])}function Bo(o){return(c,p,m)=>o==null?void 0:o(c,m)}function di({nodeRef:o,disabled:c=!1,noDragClassName:p,handleSelector:m,nodeId:w,isSelectable:N,selectNodesOnDrag:O}){const l=ue(),[v,E]=(0,i.useState)(!1),L=(0,i.useRef)([]),$=(0,i.useRef)({x:null,y:null}),ye=(0,i.useRef)(0),re=(0,i.useRef)(null),be=(0,i.useRef)({x:0,y:0}),ve=(0,i.useRef)(null),Oe=(0,i.useRef)(!1),Ae=(0,i.useRef)(!1),Ne=(0,i.useRef)(!1),Fe=ui();return(0,i.useEffect)(()=>{if(o!=null&&o.current){const gt=(0,b.Z)(o.current),ut=({x:zt,y:dt})=>{const{nodeInternals:wt,onNodeDrag:_t,onSelectionDrag:Et,updateNodePositions:st,nodeExtent:Ve,snapGrid:ft,snapToGrid:Ot,nodeOrigin:Wt,onError:$t}=l.getState();$.current={x:zt,y:dt};let Re=!1,At={x:0,y:0,x2:0,y2:0};if(L.current.length>1&&Ve){const xt=un(L.current,Wt);At=R(xt)}if(L.current=L.current.map(xt=>{var Un,Wn;const qt={x:zt-xt.distance.x,y:dt-xt.distance.y};Ot&&(qt.x=ft[0]*Math.round(qt.x/ft[0]),qt.y=ft[1]*Math.round(qt.y/ft[1]));const mn=[[Ve[0][0],Ve[0][1]],[Ve[1][0],Ve[1][1]]];L.current.length>1&&Ve&&!xt.extent&&(mn[0][0]=xt.positionAbsolute.x-At.x+Ve[0][0],mn[1][0]=xt.positionAbsolute.x+((Un=xt.width)!=null?Un:0)-At.x2+Ve[1][0],mn[0][1]=xt.positionAbsolute.y-At.y+Ve[0][1],mn[1][1]=xt.positionAbsolute.y+((Wn=xt.height)!=null?Wn:0)-At.y2+Ve[1][1]);const Ln=ji(xt,qt,wt,mn,Wt,$t);return Re=Re||xt.position.x!==Ln.position.x||xt.position.y!==Ln.position.y,xt.position=Ln.position,xt.positionAbsolute=Ln.positionAbsolute,xt}),!Re)return;st(L.current,!0,!0),E(!0);const It=w?_t:Bo(Et);if(It&&ve.current){const[xt,qt]=Ir({nodeId:w,dragItems:L.current,nodeInternals:wt});It(ve.current,xt,qt)}},Lt=()=>{var wt,_t;if(!re.current)return;const[zt,dt]=te(be.current,re.current);if(zt!==0||dt!==0){const{transform:Et,panBy:st}=l.getState();$.current.x=((wt=$.current.x)!=null?wt:0)-zt/Et[2],$.current.y=((_t=$.current.y)!=null?_t:0)-dt/Et[2],st({x:zt,y:dt})&&ut($.current)}ye.current=requestAnimationFrame(Lt)},Xt=zt=>{var Wt;const{nodeInternals:dt,multiSelectionActive:wt,nodesDraggable:_t,unselectNodesAndEdges:Et,onNodeDragStart:st,onSelectionDragStart:Ve}=l.getState();Ae.current=!0;const ft=w?st:Bo(Ve);(!O||!N)&&!wt&&w&&((Wt=dt.get(w))!=null&&Wt.selected||Et()),w&&N&&O&&Tr({id:w,store:l,nodeRef:o});const Ot=Fe(zt);if($.current=Ot,L.current=_o(dt,_t,Ot,w),ft&&L.current){const[$t,Re]=Ir({nodeId:w,dragItems:L.current,nodeInternals:dt});ft(zt.sourceEvent,$t,Re)}};if(c)gt.on(".drag",null);else{const zt=(0,y.Z)().on("start",dt=>{const{domNode:wt,nodeDragThreshold:_t}=l.getState();_t===0&&Xt(dt),Ne.current=!1;const Et=Fe(dt);$.current=Et,re.current=(wt==null?void 0:wt.getBoundingClientRect())||null,be.current=fe(dt.sourceEvent,re.current)}).on("drag",dt=>{var st,Ve,ft,Ot;const wt=Fe(dt),{autoPanOnNodeDrag:_t,nodeDragThreshold:Et}=l.getState();if(dt.sourceEvent.type==="touchmove"&&dt.sourceEvent.touches.length>1&&(Ne.current=!0),!Ne.current){if(!Oe.current&&Ae.current&&_t&&(Oe.current=!0,Lt()),!Ae.current){const Wt=wt.xSnapped-((Ve=(st=$==null?void 0:$.current)==null?void 0:st.x)!=null?Ve:0),$t=wt.ySnapped-((Ot=(ft=$==null?void 0:$.current)==null?void 0:ft.y)!=null?Ot:0);Math.sqrt(Wt*Wt+$t*$t)>Et&&Xt(dt)}($.current.x!==wt.xSnapped||$.current.y!==wt.ySnapped)&&L.current&&Ae.current&&(ve.current=dt.sourceEvent,be.current=fe(dt.sourceEvent,re.current),ut(wt))}}).on("end",dt=>{if(!(!Ae.current||Ne.current)&&(E(!1),Oe.current=!1,Ae.current=!1,cancelAnimationFrame(ye.current),L.current)){const{updateNodePositions:wt,nodeInternals:_t,onNodeDragStop:Et,onSelectionDragStop:st}=l.getState(),Ve=w?Et:Bo(st);if(wt(L.current,!1,!1),Ve){const[ft,Ot]=Ir({nodeId:w,dragItems:L.current,nodeInternals:_t});Ve(dt.sourceEvent,ft,Ot)}}}).filter(dt=>{const wt=dt.target;return!dt.button&&(!p||!ci(wt,`.${p}`,o))&&(!m||ci(wt,m,o))});return gt.call(zt),()=>{gt.on(".drag",null)}}}},[o,c,p,m,N,l,w,O,Fe]),v}function Zi(){const o=ue();return(0,i.useCallback)(p=>{const{nodeInternals:m,nodeExtent:w,updateNodePositions:N,getNodes:O,snapToGrid:l,snapGrid:v,onError:E,nodesDraggable:L}=o.getState(),$=O().filter(Ne=>Ne.selected&&(Ne.draggable||L&&typeof Ne.draggable=="undefined")),ye=l?v[0]:5,re=l?v[1]:5,be=p.isShiftPressed?4:1,ve=p.x*ye*be,Oe=p.y*re*be,Ae=$.map(Ne=>{if(Ne.positionAbsolute){const Fe={x:Ne.positionAbsolute.x+ve,y:Ne.positionAbsolute.y+Oe};l&&(Fe.x=v[0]*Math.round(Fe.x/v[0]),Fe.y=v[1]*Math.round(Fe.y/v[1]));const{positionAbsolute:gt,position:ut}=ji(Ne,Fe,m,w,void 0,E);Ne.position=ut,Ne.positionAbsolute=gt}return Ne});N(Ae,!0,!1)},[])}const uo={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var So=o=>{const c=({id:p,type:m,data:w,xPos:N,yPos:O,xPosOrigin:l,yPosOrigin:v,selected:E,onClick:L,onMouseEnter:$,onMouseMove:ye,onMouseLeave:re,onContextMenu:be,onDoubleClick:ve,style:Oe,className:Ae,isDraggable:Ne,isSelectable:Fe,isConnectable:gt,isFocusable:ut,selectNodesOnDrag:Lt,sourcePosition:Xt,targetPosition:zt,hidden:dt,resizeObserver:wt,dragHandle:_t,zIndex:Et,isParent:st,noDragClassName:Ve,noPanClassName:ft,initialized:Ot,disableKeyboardA11y:Wt,ariaLabel:$t,rfId:Re,hasHandleBounds:At})=>{const It=ue(),xt=(0,i.useRef)(null),qt=(0,i.useRef)(null),mn=(0,i.useRef)(Xt),Ln=(0,i.useRef)(zt),Un=(0,i.useRef)(m),Wn=Fe||Ne||L||$||ye||re,ur=Zi(),hr=Rr(p,It.getState,$),ir=Rr(p,It.getState,ye),Ur=Rr(p,It.getState,re),Yn=Rr(p,It.getState,be),ho=Rr(p,It.getState,ve),Yr=Mn=>{const{nodeDragThreshold:Yt}=It.getState();if(Fe&&(!Lt||!Ne||Yt>0)&&Tr({id:p,store:It,nodeRef:xt}),L){const Nr=It.getState().nodeInternals.get(p);Nr&&L(Mn,Bt({},Nr))}},Jn=Mn=>{if(!Mt(Mn)&&!Wt)if(Ue.includes(Mn.key)&&Fe){const Yt=Mn.key==="Escape";Tr({id:p,store:It,unselect:Yt,nodeRef:xt})}else Ne&&E&&Object.prototype.hasOwnProperty.call(uo,Mn.key)&&(It.setState({ariaLiveMessage:`Moved selected node ${Mn.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~N}, y: ${~~O}`}),ur({x:uo[Mn.key].x,y:uo[Mn.key].y,isShiftPressed:Mn.shiftKey}))};(0,i.useEffect)(()=>()=>{qt.current&&(wt==null||wt.unobserve(qt.current),qt.current=null)},[]),(0,i.useEffect)(()=>{if(xt.current&&!dt){const Mn=xt.current;(!Ot||!At||qt.current!==Mn)&&(qt.current&&(wt==null||wt.unobserve(qt.current)),wt==null||wt.observe(Mn),qt.current=Mn)}},[dt,Ot,At]),(0,i.useEffect)(()=>{const Mn=Un.current!==m,Yt=mn.current!==Xt,Nr=Ln.current!==zt;xt.current&&(Mn||Yt||Nr)&&(Mn&&(Un.current=m),Yt&&(mn.current=Xt),Nr&&(Ln.current=zt),It.getState().updateNodeDimensions([{id:p,nodeElement:xt.current,forceUpdate:!0}]))},[p,m,Xt,zt]);const $r=di({nodeRef:xt,disabled:dt||!Ne,noDragClassName:Ve,handleSelector:_t,nodeId:p,isSelectable:Fe,selectNodesOnDrag:Lt});return dt?null:i.createElement("div",{className:(0,M.Z)(["react-flow__node",`react-flow__node-${m}`,{[ft]:Ne},Ae,{selected:E,selectable:Fe,parent:st,dragging:$r}]),ref:xt,style:Bt({zIndex:Et,transform:`translate(${l}px,${v}px)`,pointerEvents:Wn?"all":"none",visibility:Ot?"visible":"hidden"},Oe),"data-id":p,"data-testid":`rf__node-${p}`,onMouseEnter:hr,onMouseMove:ir,onMouseLeave:Ur,onContextMenu:Yn,onClick:Yr,onDoubleClick:ho,onKeyDown:ut?Jn:void 0,tabIndex:ut?0:void 0,role:ut?"button":void 0,"aria-describedby":Wt?void 0:`${ni}-${Re}`,"aria-label":$t},i.createElement(De,{value:p},i.createElement(o,{id:p,data:w,type:m,xPos:N,yPos:O,selected:E,isConnectable:gt,sourcePosition:Xt,targetPosition:zt,dragging:$r,dragHandle:_t,zIndex:Et})))};return c.displayName="NodeWrapper",(0,i.memo)(c)};const Co=o=>{const c=o.getNodes().filter(p=>p.selected);return $n(Bt({},un(c,o.nodeOrigin)),{transformString:`translate(${o.transform[0]}px,${o.transform[1]}px) scale(${o.transform[2]})`,userSelectionActive:o.userSelectionActive})};function ss({onSelectionContextMenu:o,noPanClassName:c,disableKeyboardA11y:p}){const m=ue(),{width:w,height:N,x:O,y:l,transformString:v,userSelectionActive:E}=K(Co,T.X),L=Zi(),$=(0,i.useRef)(null);if((0,i.useEffect)(()=>{var be;p||(be=$.current)==null||be.focus({preventScroll:!0})},[p]),di({nodeRef:$}),E||!w||!N)return null;const ye=o?be=>{const ve=m.getState().getNodes().filter(Oe=>Oe.selected);o(be,ve)}:void 0,re=be=>{Object.prototype.hasOwnProperty.call(uo,be.key)&&L({x:uo[be.key].x,y:uo[be.key].y,isShiftPressed:be.shiftKey})};return i.createElement("div",{className:(0,M.Z)(["react-flow__nodesselection","react-flow__container",c]),style:{transform:v}},i.createElement("div",{ref:$,className:"react-flow__nodesselection-rect",onContextMenu:ye,tabIndex:p?void 0:-1,onKeyDown:p?void 0:re,style:{width:w,height:N,top:l,left:O}}))}var Fr=(0,i.memo)(ss);const Uo=o=>o.nodesSelectionActive,fi=({children:o,onPaneClick:c,onPaneMouseEnter:p,onPaneMouseMove:m,onPaneMouseLeave:w,onPaneContextMenu:N,onPaneScroll:O,deleteKeyCode:l,onMove:v,onMoveStart:E,onMoveEnd:L,selectionKeyCode:$,selectionOnDrag:ye,selectionMode:re,onSelectionStart:be,onSelectionEnd:ve,multiSelectionKeyCode:Oe,panActivationKeyCode:Ae,zoomActivationKeyCode:Ne,elementsSelectable:Fe,zoomOnScroll:gt,zoomOnPinch:ut,panOnScroll:Lt,panOnScrollSpeed:Xt,panOnScrollMode:zt,zoomOnDoubleClick:dt,panOnDrag:wt,defaultViewport:_t,translateExtent:Et,minZoom:st,maxZoom:Ve,preventScrolling:ft,onSelectionContextMenu:Ot,noWheelClassName:Wt,noPanClassName:$t,disableKeyboardA11y:Re})=>{const At=K(Uo),It=bo($),xt=bo(Ae),qt=xt||wt,mn=xt||Lt,Ln=It||ye&&qt!==!0;return is({deleteKeyCode:l,multiSelectionKeyCode:Oe}),i.createElement($o,{onMove:v,onMoveStart:E,onMoveEnd:L,onPaneContextMenu:N,elementsSelectable:Fe,zoomOnScroll:gt,zoomOnPinch:ut,panOnScroll:mn,panOnScrollSpeed:Xt,panOnScrollMode:zt,zoomOnDoubleClick:dt,panOnDrag:!It&&qt,defaultViewport:_t,translateExtent:Et,minZoom:st,maxZoom:Ve,zoomActivationKeyCode:Ne,preventScrolling:ft,noWheelClassName:Wt,noPanClassName:$t},i.createElement(Vi,{onSelectionStart:be,onSelectionEnd:ve,onPaneClick:c,onPaneMouseEnter:p,onPaneMouseMove:m,onPaneMouseLeave:w,onPaneContextMenu:N,onPaneScroll:O,panOnDrag:qt,isSelecting:!!Ln,selectionMode:re},o,At&&i.createElement(Fr,{onSelectionContextMenu:Ot,noPanClassName:$t,disableKeyboardA11y:Re})))};fi.displayName="FlowRenderer";var fo=(0,i.memo)(fi);function zo(o){return K((0,i.useCallback)(p=>o?pr(p.nodeInternals,{x:0,y:0,width:p.width,height:p.height},p.transform,!0):p.getNodes(),[o]))}function as(o){const c={input:So(o.input||nr),default:So(o.default||hn),output:So(o.output||ar),group:So(o.group||Xn)},p={},m=Object.keys(o).filter(w=>!["input","default","output","group"].includes(w)).reduce((w,N)=>(w[N]=So(o[N]||hn),w),p);return Bt(Bt({},c),m)}const cs=({x:o,y:c,width:p,height:m,origin:w})=>!p||!m?{x:o,y:c}:w[0]<0||w[1]<0||w[0]>1||w[1]>1?{x:o,y:c}:{x:o-p*w[0],y:c-m*w[1]},$i=o=>({nodesDraggable:o.nodesDraggable,nodesConnectable:o.nodesConnectable,nodesFocusable:o.nodesFocusable,elementsSelectable:o.elementsSelectable,updateNodeDimensions:o.updateNodeDimensions,onError:o.onError}),Hi=o=>{const{nodesDraggable:c,nodesConnectable:p,nodesFocusable:m,elementsSelectable:w,updateNodeDimensions:N,onError:O}=K($i,T.X),l=zo(o.onlyRenderVisibleElements),v=(0,i.useRef)(),E=(0,i.useMemo)(()=>{if(typeof ResizeObserver=="undefined")return null;const L=new ResizeObserver($=>{const ye=$.map(re=>({id:re.target.getAttribute("data-id"),nodeElement:re.target,forceUpdate:!0}));N(ye)});return v.current=L,L},[]);return(0,i.useEffect)(()=>()=>{var L;(L=v==null?void 0:v.current)==null||L.disconnect()},[]),i.createElement("div",{className:"react-flow__nodes",style:ii},l.map(L=>{var ut,Lt,Xt,zt,dt,wt,_t,Et;let $=L.type||"default";o.nodeTypes[$]||(O==null||O("003",D.error003($)),$="default");const ye=o.nodeTypes[$]||o.nodeTypes.default,re=!!(L.draggable||c&&typeof L.draggable=="undefined"),be=!!(L.selectable||w&&typeof L.selectable=="undefined"),ve=!!(L.connectable||p&&typeof L.connectable=="undefined"),Oe=!!(L.focusable||m&&typeof L.focusable=="undefined"),Ae=o.nodeExtent?Y(L.positionAbsolute,o.nodeExtent):L.positionAbsolute,Ne=(ut=Ae==null?void 0:Ae.x)!=null?ut:0,Fe=(Lt=Ae==null?void 0:Ae.y)!=null?Lt:0,gt=cs({x:Ne,y:Fe,width:(Xt=L.width)!=null?Xt:0,height:(zt=L.height)!=null?zt:0,origin:o.nodeOrigin});return i.createElement(ye,{key:L.id,id:L.id,className:L.className,style:L.style,type:$,data:L.data,sourcePosition:L.sourcePosition||qe.Bottom,targetPosition:L.targetPosition||qe.Top,hidden:L.hidden,xPos:Ne,yPos:Fe,xPosOrigin:gt.x,yPosOrigin:gt.y,selectNodesOnDrag:o.selectNodesOnDrag,onClick:o.onNodeClick,onMouseEnter:o.onNodeMouseEnter,onMouseMove:o.onNodeMouseMove,onMouseLeave:o.onNodeMouseLeave,onContextMenu:o.onNodeContextMenu,onDoubleClick:o.onNodeDoubleClick,selected:!!L.selected,isDraggable:re,isSelectable:be,isConnectable:ve,isFocusable:Oe,resizeObserver:E,dragHandle:L.dragHandle,zIndex:(wt=(dt=L[de])==null?void 0:dt.z)!=null?wt:0,isParent:!!((_t=L[de])!=null&&_t.isParent),noDragClassName:o.noDragClassName,noPanClassName:o.noPanClassName,initialized:!!L.width&&!!L.height,rfId:o.rfId,disableKeyboardA11y:o.disableKeyboardA11y,ariaLabel:L.ariaLabel,hasHandleBounds:!!((Et=L[de])!=null&&Et.handleBounds)})}))};Hi.displayName="NodeRenderer";var zn=(0,i.memo)(Hi);const ls=(o,c,p)=>p===qe.Left?o-c:p===qe.Right?o+c:o,Wi=(o,c,p)=>p===qe.Top?o-c:p===qe.Bottom?o+c:o,a="react-flow__edgeupdater",g=({position:o,centerX:c,centerY:p,radius:m=10,onMouseDown:w,onMouseEnter:N,onMouseOut:O,type:l})=>i.createElement("circle",{onMouseDown:w,onMouseEnter:N,onMouseOut:O,className:(0,M.Z)([a,`${a}-${l}`]),cx:ls(c,m,o),cy:Wi(p,m,o),r:m,stroke:"transparent",fill:"transparent"}),k=()=>!0;var F=o=>{const c=({id:p,className:m,type:w,data:N,onClick:O,onEdgeDoubleClick:l,selected:v,animated:E,label:L,labelStyle:$,labelShowBg:ye,labelBgStyle:re,labelBgPadding:be,labelBgBorderRadius:ve,style:Oe,source:Ae,target:Ne,sourceX:Fe,sourceY:gt,targetX:ut,targetY:Lt,sourcePosition:Xt,targetPosition:zt,elementsSelectable:dt,hidden:wt,sourceHandleId:_t,targetHandleId:Et,onContextMenu:st,onMouseEnter:Ve,onMouseMove:ft,onMouseLeave:Ot,reconnectRadius:Wt,onReconnect:$t,onReconnectStart:Re,onReconnectEnd:At,markerEnd:It,markerStart:xt,rfId:qt,ariaLabel:mn,isFocusable:Ln,isReconnectable:Un,pathOptions:Wn,interactionWidth:ur,disableKeyboardA11y:hr})=>{const ir=(0,i.useRef)(null),[Ur,Yn]=(0,i.useState)(!1),[ho,Yr]=(0,i.useState)(!1),Jn=ue(),$r=(0,i.useMemo)(()=>`url('#${Jt(xt,qt)}')`,[xt,qt]),Mn=(0,i.useMemo)(()=>`url('#${Jt(It,qt)}')`,[It,qt]);if(wt)return null;const Yt=Er=>{var mo;const{edges:go,addSelectedEdges:Fo,unselectNodesAndEdges:mi,multiSelectionActive:Qo}=Jn.getState(),Io=go.find(Ji=>Ji.id===p);Io&&(dt&&(Jn.setState({nodesSelectionActive:!1}),Io.selected&&Qo?(mi({nodes:[],edges:[Io]}),(mo=ir.current)==null||mo.blur()):Fo([p])),O&&O(Er,Io))},Nr=vt(p,Jn.getState,l),Yo=vt(p,Jn.getState,st),fs=vt(p,Jn.getState,Ve),Gi=vt(p,Jn.getState,ft),Xi=vt(p,Jn.getState,Ot),po=(Er,go)=>{if(Er.button!==0)return;const{edges:Fo,isValidConnection:mi}=Jn.getState(),Qo=go?Ne:Ae,Io=(go?Et:_t)||null,mo=go?"target":"source",Ji=mi||k,Ps=go,yi=Fo.find(Hr=>Hr.id===p);Yr(!0),Re==null||Re(Er,yi,mo);const qs=Hr=>{Yr(!1),At==null||At(Hr,yi,mo)};Je({event:Er,handleId:Io,nodeId:Qo,onConnect:Hr=>$t==null?void 0:$t(yi,Hr),isTarget:Ps,getState:Jn.getState,setState:Jn.setState,isValidConnection:Ji,edgeUpdaterType:mo,onReconnectEnd:qs})},hi=Er=>po(Er,!0),ko=Er=>po(Er,!1),pi=()=>Yn(!0),gi=()=>Yn(!1),Jo=!dt&&!O,Yi=Er=>{var go;if(!hr&&Ue.includes(Er.key)&&dt){const{unselectNodesAndEdges:Fo,addSelectedEdges:mi,edges:Qo}=Jn.getState();Er.key==="Escape"?((go=ir.current)==null||go.blur(),Fo({edges:[Qo.find(mo=>mo.id===p)]})):mi([p])}};return i.createElement("g",{className:(0,M.Z)(["react-flow__edge",`react-flow__edge-${w}`,m,{selected:v,animated:E,inactive:Jo,updating:Ur}]),onClick:Yt,onDoubleClick:Nr,onContextMenu:Yo,onMouseEnter:fs,onMouseMove:Gi,onMouseLeave:Xi,onKeyDown:Ln?Yi:void 0,tabIndex:Ln?0:void 0,role:Ln?"button":"img","data-testid":`rf__edge-${p}`,"aria-label":mn===null?void 0:mn||`Edge from ${Ae} to ${Ne}`,"aria-describedby":Ln?`${oo}-${qt}`:void 0,ref:ir},!ho&&i.createElement(o,{id:p,source:Ae,target:Ne,selected:v,animated:E,label:L,labelStyle:$,labelShowBg:ye,labelBgStyle:re,labelBgPadding:be,labelBgBorderRadius:ve,data:N,style:Oe,sourceX:Fe,sourceY:gt,targetX:ut,targetY:Lt,sourcePosition:Xt,targetPosition:zt,sourceHandleId:_t,targetHandleId:Et,markerStart:$r,markerEnd:Mn,pathOptions:Wn,interactionWidth:ur}),Un&&i.createElement(i.Fragment,null,(Un==="source"||Un===!0)&&i.createElement(g,{position:Xt,centerX:Fe,centerY:gt,radius:Wt,onMouseDown:hi,onMouseEnter:pi,onMouseOut:gi,type:"source"}),(Un==="target"||Un===!0)&&i.createElement(g,{position:zt,centerX:ut,centerY:Lt,radius:Wt,onMouseDown:ko,onMouseEnter:pi,onMouseOut:gi,type:"target"})))};return c.displayName="EdgeWrapper",(0,i.memo)(c)};function pe(o){const c={default:F(o.default||yt),straight:F(o.bezier||ge),step:F(o.step||A),smoothstep:F(o.step||on),simplebezier:F(o.simplebezier||Tn)},p={},m=Object.keys(o).filter(w=>!["default","bezier"].includes(w)).reduce((w,N)=>(w[N]=F(o[N]||yt),w),p);return Bt(Bt({},c),m)}function _e(o,c,p=null){const m=((p==null?void 0:p.x)||0)+c.x,w=((p==null?void 0:p.y)||0)+c.y,N=(p==null?void 0:p.width)||c.width,O=(p==null?void 0:p.height)||c.height;switch(o){case qe.Top:return{x:m+N/2,y:w};case qe.Right:return{x:m+N,y:w+O/2};case qe.Bottom:return{x:m+N/2,y:w+O};case qe.Left:return{x:m,y:w+O/2}}}function ae(o,c){return o?o.length===1||!c?o[0]:c&&o.find(p=>p.id===c)||null:null}const Pe=(o,c,p,m,w,N)=>{const O=_e(p,o,c),l=_e(N,m,w);return{sourceX:O.x,sourceY:O.y,targetX:l.x,targetY:l.y}};function We({sourcePos:o,targetPos:c,sourceWidth:p,sourceHeight:m,targetWidth:w,targetHeight:N,width:O,height:l,transform:v}){const E={x:Math.min(o.x,c.x),y:Math.min(o.y,c.y),x2:Math.max(o.x+p,c.x+w),y2:Math.max(o.y+m,c.y+N)};E.x===E.x2&&(E.x2+=1),E.y===E.y2&&(E.y2+=1);const L=R({x:(0-v[0])/v[2],y:(0-v[1])/v[2],width:O/v[2],height:l/v[2]}),$=Math.max(0,Math.min(L.x2,E.x2)-Math.max(L.x,E.x)),ye=Math.max(0,Math.min(L.y2,E.y2)-Math.max(L.y,E.y));return Math.ceil($*ye)>0}function Ge(o){var m,w,N,O,l;const c=((m=o==null?void 0:o[de])==null?void 0:m.handleBounds)||null,p=c&&(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&typeof((w=o==null?void 0:o.positionAbsolute)==null?void 0:w.x)!="undefined"&&typeof((N=o==null?void 0:o.positionAbsolute)==null?void 0:N.y)!="undefined";return[{x:((O=o==null?void 0:o.positionAbsolute)==null?void 0:O.x)||0,y:((l=o==null?void 0:o.positionAbsolute)==null?void 0:l.y)||0,width:(o==null?void 0:o.width)||0,height:(o==null?void 0:o.height)||0},c,!!p]}const Xe=[{level:0,isMaxLevel:!0,edges:[]}];function Vt(o,c,p=!1){let m=-1;const w=o.reduce((O,l)=>{var L,$;const v=Q(l.zIndex);let E=v?l.zIndex:0;if(p){const ye=c.get(l.target),re=c.get(l.source),be=l.selected||(ye==null?void 0:ye.selected)||(re==null?void 0:re.selected),ve=Math.max(((L=re==null?void 0:re[de])==null?void 0:L.z)||0,(($=ye==null?void 0:ye[de])==null?void 0:$.z)||0,1e3);E=(v?l.zIndex:0)+(be?ve:0)}return O[E]?O[E].push(l):O[E]=[l],m=E>m?E:m,O},{}),N=Object.entries(w).map(([O,l])=>{const v=+O;return{edges:l,level:v,isMaxLevel:v===m}});return N.length===0?Xe:N}function Zt(o,c,p){const m=K((0,i.useCallback)(w=>o?w.edges.filter(N=>{const O=c.get(N.source),l=c.get(N.target);return(O==null?void 0:O.width)&&(O==null?void 0:O.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&We({sourcePos:O.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:O.width,sourceHeight:O.height,targetWidth:l.width,targetHeight:l.height,width:w.width,height:w.height,transform:w.transform})}):w.edges,[o,c]));return Vt(m,c,p)}const an=({color:o="none",strokeWidth:c=1})=>i.createElement("polyline",{style:{stroke:o,strokeWidth:c},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),lr=({color:o="none",strokeWidth:c=1})=>i.createElement("polyline",{style:{stroke:o,fill:o,strokeWidth:c},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Vn={[tn.Arrow]:an,[tn.ArrowClosed]:lr};function gr(o){const c=ue();return(0,i.useMemo)(()=>{var w,N;return Object.prototype.hasOwnProperty.call(Vn,o)?Vn[o]:((N=(w=c.getState()).onError)==null||N.call(w,"009",D.error009(o)),null)},[o])}const dn=({id:o,type:c,color:p,width:m=12.5,height:w=12.5,markerUnits:N="strokeWidth",strokeWidth:O,orient:l="auto-start-reverse"})=>{const v=gr(c);return v?i.createElement("marker",{className:"react-flow__arrowhead",id:o,markerWidth:`${m}`,markerHeight:`${w}`,viewBox:"-10 -10 20 20",markerUnits:N,orient:l,refX:"0",refY:"0"},i.createElement(v,{color:p,strokeWidth:O})):null},Vr=({defaultColor:o,rfId:c})=>p=>{const m=[];return p.edges.reduce((w,N)=>([N.markerStart,N.markerEnd].forEach(O=>{if(O&&typeof O=="object"){const l=Jt(O,c);m.includes(l)||(w.push(Bt({id:l,color:O.color||o},O)),m.push(l))}}),w),[]).sort((w,N)=>w.id.localeCompare(N.id))},br=({defaultColor:o,rfId:c})=>{const p=K((0,i.useCallback)(Vr({defaultColor:o,rfId:c}),[o,c]),(m,w)=>!(m.length!==w.length||m.some((N,O)=>N.id!==w[O].id)));return i.createElement("defs",null,p.map(m=>i.createElement(dn,{id:m.id,key:m.id,type:m.type,color:m.color,width:m.width,height:m.height,markerUnits:m.markerUnits,strokeWidth:m.strokeWidth,orient:m.orient})))};br.displayName="MarkerDefinitions";var Lr=(0,i.memo)(br);const jr=o=>({nodesConnectable:o.nodesConnectable,edgesFocusable:o.edgesFocusable,edgesUpdatable:o.edgesUpdatable,elementsSelectable:o.elementsSelectable,width:o.width,height:o.height,connectionMode:o.connectionMode,nodeInternals:o.nodeInternals,onError:o.onError}),xr=({defaultMarkerColor:o,onlyRenderVisibleElements:c,elevateEdgesOnSelect:p,rfId:m,edgeTypes:w,noPanClassName:N,onEdgeContextMenu:O,onEdgeMouseEnter:l,onEdgeMouseMove:v,onEdgeMouseLeave:E,onEdgeClick:L,onEdgeDoubleClick:$,onReconnect:ye,onReconnectStart:re,onReconnectEnd:be,reconnectRadius:ve,children:Oe,disableKeyboardA11y:Ae})=>{const{edgesFocusable:Ne,edgesUpdatable:Fe,elementsSelectable:gt,width:ut,height:Lt,connectionMode:Xt,nodeInternals:zt,onError:dt}=K(jr,T.X),wt=Zt(c,zt,p);return ut?i.createElement(i.Fragment,null,wt.map(({level:_t,edges:Et,isMaxLevel:st})=>i.createElement("svg",{key:_t,style:{zIndex:_t},width:ut,height:Lt,className:"react-flow__edges react-flow__container"},st&&i.createElement(Lr,{defaultColor:o,rfId:m}),i.createElement("g",null,Et.map(Ve=>{var Jn,$r;const[ft,Ot,Wt]=Ge(zt.get(Ve.source)),[$t,Re,At]=Ge(zt.get(Ve.target));if(!Wt||!At)return null;let It=Ve.type||"default";w[It]||(dt==null||dt("011",D.error011(It)),It="default");const xt=w[It]||w.default,qt=Xt===cn.Strict?Re.target:((Jn=Re.target)!=null?Jn:[]).concat(($r=Re.source)!=null?$r:[]),mn=ae(Ot.source,Ve.sourceHandle),Ln=ae(qt,Ve.targetHandle),Un=(mn==null?void 0:mn.position)||qe.Bottom,Wn=(Ln==null?void 0:Ln.position)||qe.Top,ur=!!(Ve.focusable||Ne&&typeof Ve.focusable=="undefined"),hr=Ve.reconnectable||Ve.updatable,ir=typeof ye!="undefined"&&(hr||Fe&&typeof hr=="undefined");if(!mn||!Ln)return dt==null||dt("008",D.error008(mn,Ve)),null;const{sourceX:Ur,sourceY:Yn,targetX:ho,targetY:Yr}=Pe(ft,mn,Un,$t,Ln,Wn);return i.createElement(xt,{key:Ve.id,id:Ve.id,className:(0,M.Z)([Ve.className,N]),type:It,data:Ve.data,selected:!!Ve.selected,animated:!!Ve.animated,hidden:!!Ve.hidden,label:Ve.label,labelStyle:Ve.labelStyle,labelShowBg:Ve.labelShowBg,labelBgStyle:Ve.labelBgStyle,labelBgPadding:Ve.labelBgPadding,labelBgBorderRadius:Ve.labelBgBorderRadius,style:Ve.style,source:Ve.source,target:Ve.target,sourceHandleId:Ve.sourceHandle,targetHandleId:Ve.targetHandle,markerEnd:Ve.markerEnd,markerStart:Ve.markerStart,sourceX:Ur,sourceY:Yn,targetX:ho,targetY:Yr,sourcePosition:Un,targetPosition:Wn,elementsSelectable:gt,onContextMenu:O,onMouseEnter:l,onMouseMove:v,onMouseLeave:E,onClick:L,onEdgeDoubleClick:$,onReconnect:ye,onReconnectStart:re,onReconnectEnd:be,reconnectRadius:ve,rfId:m,ariaLabel:Ve.ariaLabel,isFocusable:ur,isReconnectable:ir,pathOptions:"pathOptions"in Ve?Ve.pathOptions:void 0,interactionWidth:Ve.interactionWidth,disableKeyboardA11y:Ae})})))),Oe):null};xr.displayName="EdgeRenderer";var Ko=(0,i.memo)(xr);const fr=o=>`translate(${o.transform[0]}px,${o.transform[1]}px) scale(${o.transform[2]})`;function Ar({children:o}){const c=K(fr);return i.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:c}},o)}function Go(o){const c=Po(),p=(0,i.useRef)(!1);(0,i.useEffect)(()=>{!p.current&&c.viewportInitialized&&o&&(setTimeout(()=>o(c),1),p.current=!0)},[o,c.viewportInitialized])}const Xo={[qe.Left]:qe.Right,[qe.Right]:qe.Left,[qe.Top]:qe.Bottom,[qe.Bottom]:qe.Top},_r=({nodeId:o,handleType:c,style:p,type:m=lt.Bezier,CustomComponent:w,connectionStatus:N})=>{var Lt,Xt,zt,dt,wt,_t,Et;const{fromNode:O,handleId:l,toX:v,toY:E,connectionMode:L}=K((0,i.useCallback)(st=>({fromNode:st.nodeInternals.get(o),handleId:st.connectionHandleId,toX:(st.connectionPosition.x-st.transform[0])/st.transform[2],toY:(st.connectionPosition.y-st.transform[1])/st.transform[2],connectionMode:st.connectionMode}),[o]),T.X),$=(Lt=O==null?void 0:O[de])==null?void 0:Lt.handleBounds;let ye=$==null?void 0:$[c];if(L===cn.Loose&&(ye=ye||($==null?void 0:$[c==="source"?"target":"source"])),!O||!ye)return null;const re=l?ye.find(st=>st.id===l):ye[0],be=re?re.x+re.width/2:((Xt=O.width)!=null?Xt:0)/2,ve=re?re.y+re.height/2:(zt=O.height)!=null?zt:0,Oe=((wt=(dt=O.positionAbsolute)==null?void 0:dt.x)!=null?wt:0)+be,Ae=((Et=(_t=O.positionAbsolute)==null?void 0:_t.y)!=null?Et:0)+ve,Ne=re==null?void 0:re.position,Fe=Ne?Xo[Ne]:null;if(!Ne||!Fe)return null;if(w)return i.createElement(w,{connectionLineType:m,connectionLineStyle:p,fromNode:O,fromHandle:re,fromX:Oe,fromY:Ae,toX:v,toY:E,fromPosition:Ne,toPosition:Fe,connectionStatus:N});let gt="";const ut={sourceX:Oe,sourceY:Ae,sourcePosition:Ne,targetX:v,targetY:E,targetPosition:Fe};return m===lt.Bezier?[gt]=pt(ut):m===lt.Step?[gt]=en($n(Bt({},ut),{borderRadius:0})):m===lt.SmoothStep?[gt]=en(ut):m===lt.SimpleBezier?[gt]=Pn(ut):gt=`M${Oe},${Ae} ${v},${E}`,i.createElement("path",{d:gt,fill:"none",className:"react-flow__connection-path",style:p})};_r.displayName="ConnectionLine";const Ki=o=>({nodeId:o.connectionNodeId,handleType:o.connectionHandleType,nodesConnectable:o.nodesConnectable,connectionStatus:o.connectionStatus,width:o.width,height:o.height});function Te({containerStyle:o,style:c,type:p,component:m}){const{nodeId:w,handleType:N,nodesConnectable:O,width:l,height:v,connectionStatus:E}=K(Ki,T.X);return!(w&&N&&l&&O)?null:i.createElement("svg",{style:o,width:l,height:v,className:"react-flow__edges react-flow__connectionline react-flow__container"},i.createElement("g",{className:(0,M.Z)(["react-flow__connection",E])},i.createElement(_r,{nodeId:w,handleType:N,style:c,type:p,CustomComponent:m,connectionStatus:E})))}function Dt(o,c){const p=(0,i.useRef)(null),m=ue();return(0,i.useMemo)(()=>c(o),[o])}const Ye=({nodeTypes:o,edgeTypes:c,onMove:p,onMoveStart:m,onMoveEnd:w,onInit:N,onNodeClick:O,onEdgeClick:l,onNodeDoubleClick:v,onEdgeDoubleClick:E,onNodeMouseEnter:L,onNodeMouseMove:$,onNodeMouseLeave:ye,onNodeContextMenu:re,onSelectionContextMenu:be,onSelectionStart:ve,onSelectionEnd:Oe,connectionLineType:Ae,connectionLineStyle:Ne,connectionLineComponent:Fe,connectionLineContainerStyle:gt,selectionKeyCode:ut,selectionOnDrag:Lt,selectionMode:Xt,multiSelectionKeyCode:zt,panActivationKeyCode:dt,zoomActivationKeyCode:wt,deleteKeyCode:_t,onlyRenderVisibleElements:Et,elementsSelectable:st,selectNodesOnDrag:Ve,defaultViewport:ft,translateExtent:Ot,minZoom:Wt,maxZoom:$t,preventScrolling:Re,defaultMarkerColor:At,zoomOnScroll:It,zoomOnPinch:xt,panOnScroll:qt,panOnScrollSpeed:mn,panOnScrollMode:Ln,zoomOnDoubleClick:Un,panOnDrag:Wn,onPaneClick:ur,onPaneMouseEnter:hr,onPaneMouseMove:ir,onPaneMouseLeave:Ur,onPaneScroll:Yn,onPaneContextMenu:ho,onEdgeContextMenu:Yr,onEdgeMouseEnter:Jn,onEdgeMouseMove:$r,onEdgeMouseLeave:Mn,onReconnect:Yt,onReconnectStart:Nr,onReconnectEnd:Yo,reconnectRadius:fs,noDragClassName:Gi,noWheelClassName:Xi,noPanClassName:po,elevateEdgesOnSelect:hi,disableKeyboardA11y:ko,nodeOrigin:pi,nodeExtent:gi,rfId:Jo})=>{const Yi=Dt(o,as),Er=Dt(c,pe);return Go(N),i.createElement(fo,{onPaneClick:ur,onPaneMouseEnter:hr,onPaneMouseMove:ir,onPaneMouseLeave:Ur,onPaneContextMenu:ho,onPaneScroll:Yn,deleteKeyCode:_t,selectionKeyCode:ut,selectionOnDrag:Lt,selectionMode:Xt,onSelectionStart:ve,onSelectionEnd:Oe,multiSelectionKeyCode:zt,panActivationKeyCode:dt,zoomActivationKeyCode:wt,elementsSelectable:st,onMove:p,onMoveStart:m,onMoveEnd:w,zoomOnScroll:It,zoomOnPinch:xt,zoomOnDoubleClick:Un,panOnScroll:qt,panOnScrollSpeed:mn,panOnScrollMode:Ln,panOnDrag:Wn,defaultViewport:ft,translateExtent:Ot,minZoom:Wt,maxZoom:$t,onSelectionContextMenu:be,preventScrolling:Re,noDragClassName:Gi,noWheelClassName:Xi,noPanClassName:po,disableKeyboardA11y:ko},i.createElement(Ar,null,i.createElement(Ko,{edgeTypes:Er,onEdgeClick:l,onEdgeDoubleClick:E,onlyRenderVisibleElements:Et,onEdgeContextMenu:Yr,onEdgeMouseEnter:Jn,onEdgeMouseMove:$r,onEdgeMouseLeave:Mn,onReconnect:Yt,onReconnectStart:Nr,onReconnectEnd:Yo,reconnectRadius:fs,defaultMarkerColor:At,noPanClassName:po,elevateEdgesOnSelect:!!hi,disableKeyboardA11y:ko,rfId:Jo},i.createElement(Te,{style:Ne,type:Ae,component:Fe,containerStyle:gt})),i.createElement("div",{className:"react-flow__edgelabel-renderer"}),i.createElement(zn,{nodeTypes:Yi,onNodeClick:O,onNodeDoubleClick:v,onNodeMouseEnter:L,onNodeMouseMove:$,onNodeMouseLeave:ye,onNodeContextMenu:re,selectNodesOnDrag:Ve,onlyRenderVisibleElements:Et,noPanClassName:po,noDragClassName:Gi,disableKeyboardA11y:ko,nodeOrigin:pi,nodeExtent:gi,rfId:Jo})))};Ye.displayName="GraphView";var Ut=(0,i.memo)(Ye);const pn=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],gn={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:pn,nodeExtent:pn,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:cn.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Qe,isValidConnection:void 0},In=()=>(0,_.F)((o,c)=>$n(Bt({},gn),{setNodes:p=>{const{nodeInternals:m,nodeOrigin:w,elevateNodesOnSelect:N}=c();o({nodeInternals:io(p,m,w,N)})},getNodes:()=>Array.from(c().nodeInternals.values()),setEdges:p=>{const{defaultEdgeOptions:m={}}=c();o({edges:p.map(w=>Bt(Bt({},m),w))})},setDefaultNodesAndEdges:(p,m)=>{const w=typeof p!="undefined",N=typeof m!="undefined",O=w?io(p,new Map,c().nodeOrigin,c().elevateNodesOnSelect):new Map;o({nodeInternals:O,edges:N?m:[],hasDefaultNodes:w,hasDefaultEdges:N})},updateNodeDimensions:p=>{const{onNodesChange:m,nodeInternals:w,fitViewOnInit:N,fitViewOnInitDone:O,fitViewOnInitOptions:l,domNode:v,nodeOrigin:E}=c(),L=v==null?void 0:v.querySelector(".react-flow__viewport");if(!L)return;const $=window.getComputedStyle(L),{m22:ye}=new window.DOMMatrixReadOnly($.transform),re=p.reduce((ve,Oe)=>{const Ae=w.get(Oe.id);if(Ae!=null&&Ae.hidden)w.set(Ae.id,$n(Bt({},Ae),{[de]:$n(Bt({},Ae[de]),{handleBounds:void 0})}));else if(Ae){const Ne=oe(Oe.nodeElement);!!(Ne.width&&Ne.height&&(Ae.width!==Ne.width||Ae.height!==Ne.height||Oe.forceUpdate))&&(w.set(Ae.id,Bt($n(Bt({},Ae),{[de]:$n(Bt({},Ae[de]),{handleBounds:{source:Eo(".source",Oe.nodeElement,ye,E),target:Eo(".target",Oe.nodeElement,ye,E)}})}),Ne)),ve.push({id:Ae.id,type:"dimensions",dimensions:Ne}))}return ve},[]);vr(w,E);const be=O||N&&!O&&Ri(c,Bt({initial:!0},l));o({nodeInternals:new Map(w),fitViewOnInitDone:be}),(re==null?void 0:re.length)>0&&(m==null||m(re))},updateNodePositions:(p,m=!0,w=!1)=>{const{triggerNodeChanges:N}=c(),O=p.map(l=>{const v={id:l.id,type:"position",dragging:w};return m&&(v.positionAbsolute=l.positionAbsolute,v.position=l.position),v});N(O)},triggerNodeChanges:p=>{const{onNodesChange:m,nodeInternals:w,hasDefaultNodes:N,nodeOrigin:O,getNodes:l,elevateNodesOnSelect:v}=c();if(p!=null&&p.length){if(N){const E=Xr(p,l()),L=io(E,w,O,v);o({nodeInternals:L})}m==null||m(p)}},addSelectedNodes:p=>{const{multiSelectionActive:m,edges:w,getNodes:N}=c();let O,l=null;m?O=p.map(v=>wr(v,!0)):(O=lo(N(),p),l=lo(w,[])),rr({changedNodes:O,changedEdges:l,get:c,set:o})},addSelectedEdges:p=>{const{multiSelectionActive:m,edges:w,getNodes:N}=c();let O,l=null;m?O=p.map(v=>wr(v,!0)):(O=lo(w,p),l=lo(N(),[])),rr({changedNodes:l,changedEdges:O,get:c,set:o})},unselectNodesAndEdges:({nodes:p,edges:m}={})=>{const{edges:w,getNodes:N}=c(),O=p||N(),l=m||w,v=O.map(L=>(L.selected=!1,wr(L.id,!1))),E=l.map(L=>wr(L.id,!1));rr({changedNodes:v,changedEdges:E,get:c,set:o})},setMinZoom:p=>{const{d3Zoom:m,maxZoom:w}=c();m==null||m.scaleExtent([p,w]),o({minZoom:p})},setMaxZoom:p=>{const{d3Zoom:m,minZoom:w}=c();m==null||m.scaleExtent([w,p]),o({maxZoom:p})},setTranslateExtent:p=>{var m;(m=c().d3Zoom)==null||m.translateExtent(p),o({translateExtent:p})},resetSelectedElements:()=>{const{edges:p,getNodes:m}=c(),N=m().filter(l=>l.selected).map(l=>wr(l.id,!1)),O=p.filter(l=>l.selected).map(l=>wr(l.id,!1));rr({changedNodes:N,changedEdges:O,get:c,set:o})},setNodeExtent:p=>{const{nodeInternals:m}=c();m.forEach(w=>{w.positionAbsolute=Y(w.position,p)}),o({nodeExtent:p,nodeInternals:new Map(m)})},panBy:p=>{const{transform:m,width:w,height:N,d3Zoom:O,d3Selection:l,translateExtent:v}=c();if(!O||!l||!p.x&&!p.y)return!1;const E=x.CR.translate(m[0]+p.x,m[1]+p.y).scale(m[2]),L=[[0,0],[w,N]],$=O==null?void 0:O.constrain()(E,L,v);return O.transform(l,$),m[0]!==$.x||m[1]!==$.y||m[2]!==$.k},cancelConnection:()=>o({connectionNodeId:gn.connectionNodeId,connectionHandleId:gn.connectionHandleId,connectionHandleType:gn.connectionHandleType,connectionStatus:gn.connectionStatus,connectionStartHandle:gn.connectionStartHandle,connectionEndHandle:gn.connectionEndHandle}),reset:()=>o(Bt({},gn))}),Object.is),Rn=({children:o})=>{const c=(0,i.useRef)(null);return c.current||(c.current=In()),i.createElement(z,{value:c.current},o)};Rn.displayName="ReactFlowProvider";const jn=({children:o})=>(0,i.useContext)(I)?i.createElement(i.Fragment,null,o):i.createElement(Rn,null,o);jn.displayName="ReactFlowWrapper";const Or={input:nr,default:hn,output:ar,group:Xn},Kn={default:yt,straight:ge,step:A,smoothstep:on,simplebezier:Tn},Hn=[0,0],Br=[15,15],Mr={x:0,y:0,zoom:1},Zr={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},or=(0,i.forwardRef)((aa,sa)=>{var ca=aa,{nodes:o,edges:c,defaultNodes:p,defaultEdges:m,className:w,nodeTypes:N=Or,edgeTypes:O=Kn,onNodeClick:l,onEdgeClick:v,onInit:E,onMove:L,onMoveStart:$,onMoveEnd:ye,onConnect:re,onConnectStart:be,onConnectEnd:ve,onClickConnectStart:Oe,onClickConnectEnd:Ae,onNodeMouseEnter:Ne,onNodeMouseMove:Fe,onNodeMouseLeave:gt,onNodeContextMenu:ut,onNodeDoubleClick:Lt,onNodeDragStart:Xt,onNodeDrag:zt,onNodeDragStop:dt,onNodesDelete:wt,onEdgesDelete:_t,onSelectionChange:Et,onSelectionDragStart:st,onSelectionDrag:Ve,onSelectionDragStop:ft,onSelectionContextMenu:Ot,onSelectionStart:Wt,onSelectionEnd:$t,connectionMode:Re=cn.Strict,connectionLineType:At=lt.Bezier,connectionLineStyle:It,connectionLineComponent:xt,connectionLineContainerStyle:qt,deleteKeyCode:mn="Backspace",selectionKeyCode:Ln="Shift",selectionOnDrag:Un=!1,selectionMode:Wn=Ke.Full,panActivationKeyCode:ur="Space",multiSelectionKeyCode:hr=xe()?"Meta":"Control",zoomActivationKeyCode:ir=xe()?"Meta":"Control",snapToGrid:Ur=!1,snapGrid:Yn=Br,onlyRenderVisibleElements:ho=!1,selectNodesOnDrag:Yr=!0,nodesDraggable:Jn,nodesConnectable:$r,nodesFocusable:Mn,nodeOrigin:Yt=Hn,edgesFocusable:Nr,edgesUpdatable:Yo,elementsSelectable:fs,defaultViewport:Gi=Mr,minZoom:Xi=.5,maxZoom:po=2,translateExtent:hi=pn,preventScrolling:ko=!0,nodeExtent:pi,defaultMarkerColor:gi="#b1b1b7",zoomOnScroll:Jo=!0,zoomOnPinch:Yi=!0,panOnScroll:Er=!1,panOnScrollSpeed:go=.5,panOnScrollMode:Fo=Ft.Free,zoomOnDoubleClick:mi=!0,panOnDrag:Qo=!0,onPaneClick:Io,onPaneMouseEnter:mo,onPaneMouseMove:Ji,onPaneMouseLeave:Ps,onPaneScroll:yi,onPaneContextMenu:qs,children:hs,onEdgeContextMenu:Hr,onEdgeDoubleClick:vi,onEdgeMouseEnter:Ca,onEdgeMouseMove:wi,onEdgeMouseLeave:Rs,onEdgeUpdate:bi,onEdgeUpdateStart:Qi,onEdgeUpdateEnd:Ls,onReconnect:ps,onReconnectStart:Wr,onReconnectEnd:Jr,reconnectRadius:gs=10,edgeUpdaterRadius:ka=10,onNodesChange:ea,onEdgesChange:qo,noDragClassName:ms="nodrag",noWheelClassName:Qr="nowheel",noPanClassName:ta="nopan",fitView:Kr=!1,fitViewOptions:xi,connectOnClick:ei=!0,attributionPosition:ys,proOptions:yo,defaultEdgeOptions:Ia,elevateNodesOnSelect:Bs=!0,elevateEdgesOnSelect:Ta=!1,disableKeyboardA11y:na=!1,autoPanOnConnect:Aa=!0,autoPanOnNodeDrag:ra=!0,connectionRadius:Xa=20,isValidConnection:Us,onError:Ya,style:Oa,id:oa,nodeDragThreshold:Ja}=ca,ia=Ai(ca,["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","onSelectionStart","onSelectionEnd","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","selectionOnDrag","selectionMode","panActivationKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","nodesFocusable","nodeOrigin","edgesFocusable","edgesUpdatable","elementsSelectable","defaultViewport","minZoom","maxZoom","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneMouseEnter","onPaneMouseMove","onPaneMouseLeave","onPaneScroll","onPaneContextMenu","children","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdate","onEdgeUpdateStart","onEdgeUpdateEnd","onReconnect","onReconnectStart","onReconnectEnd","reconnectRadius","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateNodesOnSelect","elevateEdgesOnSelect","disableKeyboardA11y","autoPanOnConnect","autoPanOnNodeDrag","connectionRadius","isValidConnection","onError","style","id","nodeDragThreshold"]);const zs=oa||"1";return i.createElement("div",$n(Bt({},ia),{style:Bt(Bt({},Oa),Zr),ref:sa,className:(0,M.Z)(["react-flow",w]),"data-testid":"rf__wrapper",id:oa}),i.createElement(jn,null,i.createElement(Ut,{onInit:E,onMove:L,onMoveStart:$,onMoveEnd:ye,onNodeClick:l,onEdgeClick:v,onNodeMouseEnter:Ne,onNodeMouseMove:Fe,onNodeMouseLeave:gt,onNodeContextMenu:ut,onNodeDoubleClick:Lt,nodeTypes:N,edgeTypes:O,connectionLineType:At,connectionLineStyle:It,connectionLineComponent:xt,connectionLineContainerStyle:qt,selectionKeyCode:Ln,selectionOnDrag:Un,selectionMode:Wn,deleteKeyCode:mn,multiSelectionKeyCode:hr,panActivationKeyCode:ur,zoomActivationKeyCode:ir,onlyRenderVisibleElements:ho,selectNodesOnDrag:Yr,defaultViewport:Gi,translateExtent:hi,minZoom:Xi,maxZoom:po,preventScrolling:ko,zoomOnScroll:Jo,zoomOnPinch:Yi,zoomOnDoubleClick:mi,panOnScroll:Er,panOnScrollSpeed:go,panOnScrollMode:Fo,panOnDrag:Qo,onPaneClick:Io,onPaneMouseEnter:mo,onPaneMouseMove:Ji,onPaneMouseLeave:Ps,onPaneScroll:yi,onPaneContextMenu:qs,onSelectionContextMenu:Ot,onSelectionStart:Wt,onSelectionEnd:$t,onEdgeContextMenu:Hr,onEdgeDoubleClick:vi,onEdgeMouseEnter:Ca,onEdgeMouseMove:wi,onEdgeMouseLeave:Rs,onReconnect:ps!=null?ps:bi,onReconnectStart:Wr!=null?Wr:Qi,onReconnectEnd:Jr!=null?Jr:Ls,reconnectRadius:gs!=null?gs:ka,defaultMarkerColor:gi,noDragClassName:ms,noWheelClassName:Qr,noPanClassName:ta,elevateEdgesOnSelect:Ta,rfId:zs,disableKeyboardA11y:na,nodeOrigin:Yt,nodeExtent:pi}),i.createElement(Oi,{nodes:o,edges:c,defaultNodes:p,defaultEdges:m,onConnect:re,onConnectStart:be,onConnectEnd:ve,onClickConnectStart:Oe,onClickConnectEnd:Ae,nodesDraggable:Jn,nodesConnectable:$r,nodesFocusable:Mn,edgesFocusable:Nr,edgesUpdatable:Yo,elementsSelectable:fs,elevateNodesOnSelect:Bs,minZoom:Xi,maxZoom:po,nodeExtent:pi,onNodesChange:ea,onEdgesChange:qo,snapToGrid:Ur,snapGrid:Yn,connectionMode:Re,translateExtent:hi,connectOnClick:ei,defaultEdgeOptions:Ia,fitView:Kr,fitViewOptions:xi,onNodesDelete:wt,onEdgesDelete:_t,onNodeDragStart:Xt,onNodeDrag:zt,onNodeDragStop:dt,onSelectionDrag:Ve,onSelectionDragStart:st,onSelectionDragStop:ft,noPanClassName:ta,nodeOrigin:Yt,rfId:zs,autoPanOnConnect:Aa,autoPanOnNodeDrag:ra,onError:Ya,connectionRadius:Xa,isValidConnection:Us,nodeDragThreshold:Ja}),i.createElement(jo,{onSelectionChange:Et}),hs,i.createElement(le,{proOptions:yo,position:ys}),i.createElement(Do,{rfId:zs,disableKeyboardA11y:na})))});or.displayName="ReactFlow";const us=o=>{var c;return(c=o.domNode)==null?void 0:c.querySelector(".react-flow__edgelabel-renderer")};function ks({children:o}){const c=K(us);return c?(0,C.createPortal)(o,c):null}function Is(){const o=ue();return(0,i.useCallback)(c=>{const{domNode:p,updateNodeDimensions:m}=o.getState(),N=(Array.isArray(c)?c:[c]).reduce((O,l)=>{const v=p==null?void 0:p.querySelector(`.react-flow__node[data-id="${l}"]`);return v&&O.push({id:l,nodeElement:v,forceUpdate:!0}),O},[]);requestAnimationFrame(()=>m(N))},[])}const Ts=o=>o.getNodes();function Ws(){return K(Ts,T.X)}const As=o=>o.edges;function Ks(){return K(As,T.X)}const ds=o=>({x:o.transform[0],y:o.transform[1],zoom:o.transform[2]});function Os(){return K(ds,T.X)}function Ms(o){return c=>{const[p,m]=(0,i.useState)(c),w=(0,i.useCallback)(N=>m(O=>o(N,O)),[]);return[p,m,w]}}const Ns=Ms(Xr),Ds=Ms(cr);function Gs({onStart:o,onChange:c,onEnd:p}){const m=ue();(0,i.useEffect)(()=>{m.setState({onViewportChangeStart:o})},[o]),(0,i.useEffect)(()=>{m.setState({onViewportChange:c})},[c]),(0,i.useEffect)(()=>{m.setState({onViewportChangeEnd:p})},[p])}function Xs({onChange:o}){const c=ue();(0,i.useEffect)(()=>{const p=[...c.getState().onSelectionChange,o];return c.setState({onSelectionChange:p}),()=>{const m=c.getState().onSelectionChange.filter(w=>w!==o);c.setState({onSelectionChange:m})}},[o])}const Ys=o=>c=>c.nodeInternals.size===0?!1:c.getNodes().filter(p=>o.includeHiddenNodes?!0:!p.hidden).every(p=>{var m;return((m=p[de])==null?void 0:m.handleBounds)!==void 0}),Js={includeHiddenNodes:!1};function Qs(o=Js){return K(Ys(o))}},86847:function(B,Z,d){"use strict";d.d(Z,{a:function(){return ne}});var i=d(75271),M=d(28680),_=d(24513),T=d(61697),x=d(41468),b=d(13802),h=d(87811);const y=({id:oe,x:H,y:Y,width:ie,height:te,style:Ee,color:Me,strokeColor:R,strokeWidth:J,className:Se,borderRadius:we,shapeRendering:je,onClick:Ce,selected:Q})=>{const{background:de,backgroundColor:Ue}=Ee||{},Qe=Me||de||Ue;return i.createElement("rect",{className:(0,M.Z)(["react-flow__minimap-node",{selected:Q},Se]),x:H,y:Y,rx:we,ry:we,width:ie,height:te,fill:Qe,stroke:R,strokeWidth:J,shapeRendering:je,onClick:Ce?Kt=>Ce(Kt,oe):void 0})};y.displayName="MiniMapNode";var C=(0,i.memo)(y);const I=oe=>oe.nodeOrigin,z=oe=>oe.getNodes().filter(H=>!H.hidden&&H.width&&H.height),D=oe=>oe instanceof Function?oe:()=>oe;function X({nodeStrokeColor:oe="transparent",nodeColor:H="#e2e2e2",nodeClassName:Y="",nodeBorderRadius:ie=5,nodeStrokeWidth:te=2,nodeComponent:Ee=C,onClick:Me}){const R=(0,h.oR)(z,_.X),J=(0,h.oR)(I),Se=D(H),we=D(oe),je=D(Y),Ce=typeof window=="undefined"||window.chrome?"crispEdges":"geometricPrecision";return i.createElement(i.Fragment,null,R.map(Q=>{const{x:de,y:Ue}=(0,h.VP)(Q,J).positionAbsolute;return i.createElement(Ee,{key:Q.id,x:de,y:Ue,width:Q.width,height:Q.height,style:Q.style,selected:Q.selected,className:je(Q),color:Se(Q),borderRadius:ie,strokeColor:we(Q),strokeWidth:te,shapeRendering:Ce,onClick:Me,id:Q.id})}))}var K=(0,i.memo)(X);const ue=200,Be=150,se=oe=>{const H=oe.getNodes(),Y={x:-oe.transform[0]/oe.transform[2],y:-oe.transform[1]/oe.transform[2],width:oe.width/oe.transform[2],height:oe.height/oe.transform[2]};return{viewBB:Y,boundingRect:H.length>0?(0,h.oI)((0,h.RX)(H,oe.nodeOrigin),Y):Y,rfId:oe.rfId}},le="react-flow__minimap-desc";function W({style:oe,className:H,nodeStrokeColor:Y="transparent",nodeColor:ie="#e2e2e2",nodeClassName:te="",nodeBorderRadius:Ee=5,nodeStrokeWidth:Me=2,nodeComponent:R,maskColor:J="rgb(240, 240, 240, 0.6)",maskStrokeColor:Se="none",maskStrokeWidth:we=1,position:je="bottom-right",onClick:Ce,onNodeClick:Q,pannable:de=!1,zoomable:Ue=!1,ariaLabel:Qe="React Flow mini map",inversePan:Kt=!1,zoomStep:Mt=10,offsetScale:G=5}){var en,on;const fe=(0,h.AC)(),xe=(0,i.useRef)(null),{boundingRect:me,viewBB:et,rfId:vt}=(0,h.oR)(se,_.X),mt=(en=oe==null?void 0:oe.width)!=null?en:ue,tt=(on=oe==null?void 0:oe.height)!=null?on:Be,cn=me.width/mt,Ft=me.height/tt,Ke=Math.max(cn,Ft),lt=Ke*mt,tn=Ke*tt,qe=G*Ke,Sn=me.x-(lt-me.width)/2-qe,Pn=me.y-(tn-me.height)/2-qe,Tn=lt+qe*2,Le=tn+qe*2,jt=`${le}-${vt}`,Nt=(0,i.useRef)(0);Nt.current=Ke,(0,i.useEffect)(()=>{if(xe.current){const A=(0,x.Z)(xe.current),j=ze=>{const{transform:pt,d3Selection:yt,d3Zoom:it}=fe.getState();if(ze.sourceEvent.type!=="wheel"||!yt||!it)return;const De=-ze.sourceEvent.deltaY*(ze.sourceEvent.deltaMode===1?.05:ze.sourceEvent.deltaMode?1:.002)*Mt,He=pt[2]*Math.pow(2,De);it.scaleTo(yt,He)},ge=ze=>{const{transform:pt,d3Selection:yt,d3Zoom:it,translateExtent:De,width:He,height:Gt}=fe.getState();if(ze.sourceEvent.type!=="mousemove"||!yt||!it)return;const yn=Nt.current*Math.max(1,pt[2])*(Kt?-1:1),Tt={x:pt[0]-ze.sourceEvent.movementX*yn,y:pt[1]-ze.sourceEvent.movementY*yn},nn=[[0,0],[He,Gt]],rn=T.CR.translate(Tt.x,Tt.y).scale(pt[2]),Jt=it.constrain()(rn,nn,De);it.transform(yt,Jt)},Ie=(0,T.sP)().on("zoom",de?ge:null).on("zoom.wheel",Ue?j:null);return A.call(Ie),()=>{A.on("zoom",null)}}},[de,Ue,Kt,Mt]);const rt=Ce?A=>{const j=(0,b.Z)(A);Ce(A,{x:j[0],y:j[1]})}:void 0,at=Q?(A,j)=>{const ge=fe.getState().nodeInternals.get(j);Q(A,ge)}:void 0;return i.createElement(h.s_,{position:je,style:oe,className:(0,M.Z)(["react-flow__minimap",H]),"data-testid":"rf__minimap"},i.createElement("svg",{width:mt,height:tt,viewBox:`${Sn} ${Pn} ${Tn} ${Le}`,role:"img","aria-labelledby":jt,ref:xe,onClick:rt},Qe&&i.createElement("title",{id:jt},Qe),i.createElement(K,{onClick:at,nodeColor:ie,nodeStrokeColor:Y,nodeBorderRadius:Ee,nodeClassName:te,nodeStrokeWidth:Me,nodeComponent:R}),i.createElement("path",{className:"react-flow__minimap-mask",d:`M${Sn-qe},${Pn-qe}h${Tn+qe*2}v${Le+qe*2}h${-Tn-qe*2}z
        M${et.x},${et.y}h${et.width}v${et.height}h${-et.width}z`,fill:J,fillRule:"evenodd",stroke:Se,strokeWidth:we,pointerEvents:"none"})))}W.displayName="MiniMap";var ne=(0,i.memo)(W)},98474:function(B,Z){"use strict";var d={value:function(){}};function i(){for(var b=0,h=arguments.length,y={},C;b<h;++b){if(!(C=arguments[b]+"")||C in y||/[\s.]/.test(C))throw new Error("illegal type: "+C);y[C]=[]}return new M(y)}function M(b){this._=b}function _(b,h){return b.trim().split(/^|\s+/).map(function(y){var C="",I=y.indexOf(".");if(I>=0&&(C=y.slice(I+1),y=y.slice(0,I)),y&&!h.hasOwnProperty(y))throw new Error("unknown type: "+y);return{type:y,name:C}})}M.prototype=i.prototype={constructor:M,on:function(h,y){var C=this._,I=_(h+"",C),z,D=-1,X=I.length;if(arguments.length<2){for(;++D<X;)if((z=(h=I[D]).type)&&(z=T(C[z],h.name)))return z;return}if(y!=null&&typeof y!="function")throw new Error("invalid callback: "+y);for(;++D<X;)if(z=(h=I[D]).type)C[z]=x(C[z],h.name,y);else if(y==null)for(z in C)C[z]=x(C[z],h.name,null);return this},copy:function(){var h={},y=this._;for(var C in y)h[C]=y[C].slice();return new M(h)},call:function(h,y){if((z=arguments.length-2)>0)for(var C=new Array(z),I=0,z,D;I<z;++I)C[I]=arguments[I+2];if(!this._.hasOwnProperty(h))throw new Error("unknown type: "+h);for(D=this._[h],I=0,z=D.length;I<z;++I)D[I].value.apply(y,C)},apply:function(h,y,C){if(!this._.hasOwnProperty(h))throw new Error("unknown type: "+h);for(var I=this._[h],z=0,D=I.length;z<D;++z)I[z].value.apply(y,C)}};function T(b,h){for(var y=0,C=b.length,I;y<C;++y)if((I=b[y]).name===h)return I.value}function x(b,h,y){for(var C=0,I=b.length;C<I;++C)if(b[C].name===h){b[C]=d,b=b.slice(0,C).concat(b.slice(C+1));break}return y!=null&&b.push({name:h,value:y}),b}Z.Z=i},28680:function(B,Z,d){"use strict";d.d(Z,{Z:function(){return i}});function i(M){if(typeof M=="string"||typeof M=="number")return""+M;let _="";if(Array.isArray(M))for(let T=0,x;T<M.length;T++)(x=i(M[T]))!==""&&(_+=(_&&" ")+x);else for(let T in M)M[T]&&(_+=(_&&" ")+T);return _}},45452:function(B,Z,d){"use strict";d.d(Z,{Z:function(){return D}});var i=d(98474),M=d(41468),_=d(13802),T=d(49289),x=d(5873),b=X=>()=>X;function h(X,{sourceEvent:K,subject:ue,target:Be,identifier:se,active:le,x:W,y:ne,dx:oe,dy:H,dispatch:Y}){Object.defineProperties(this,{type:{value:X,enumerable:!0,configurable:!0},sourceEvent:{value:K,enumerable:!0,configurable:!0},subject:{value:ue,enumerable:!0,configurable:!0},target:{value:Be,enumerable:!0,configurable:!0},identifier:{value:se,enumerable:!0,configurable:!0},active:{value:le,enumerable:!0,configurable:!0},x:{value:W,enumerable:!0,configurable:!0},y:{value:ne,enumerable:!0,configurable:!0},dx:{value:oe,enumerable:!0,configurable:!0},dy:{value:H,enumerable:!0,configurable:!0},_:{value:Y}})}h.prototype.on=function(){var X=this._.on.apply(this._,arguments);return X===this._?this:X};function y(X){return!X.ctrlKey&&!X.button}function C(){return this.parentNode}function I(X,K){return K==null?{x:X.x,y:X.y}:K}function z(){return navigator.maxTouchPoints||"ontouchstart"in this}function D(){var X=y,K=C,ue=I,Be=z,se={},le=(0,i.Z)("start","drag","end"),W=0,ne,oe,H,Y,ie=0;function te(Ce){Ce.on("mousedown.drag",Ee).filter(Be).on("touchstart.drag",J).on("touchmove.drag",Se,x.Q7).on("touchend.drag touchcancel.drag",we).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function Ee(Ce,Q){if(!(Y||!X.call(this,Ce,Q))){var de=je(this,K.call(this,Ce,Q),Ce,Q,"mouse");de&&((0,M.Z)(Ce.view).on("mousemove.drag",Me,x.Dd).on("mouseup.drag",R,x.Dd),(0,T.Z)(Ce.view),(0,x.rG)(Ce),H=!1,ne=Ce.clientX,oe=Ce.clientY,de("start",Ce))}}function Me(Ce){if((0,x.ZP)(Ce),!H){var Q=Ce.clientX-ne,de=Ce.clientY-oe;H=Q*Q+de*de>ie}se.mouse("drag",Ce)}function R(Ce){(0,M.Z)(Ce.view).on("mousemove.drag mouseup.drag",null),(0,T.D)(Ce.view,H),(0,x.ZP)(Ce),se.mouse("end",Ce)}function J(Ce,Q){if(X.call(this,Ce,Q)){var de=Ce.changedTouches,Ue=K.call(this,Ce,Q),Qe=de.length,Kt,Mt;for(Kt=0;Kt<Qe;++Kt)(Mt=je(this,Ue,Ce,Q,de[Kt].identifier,de[Kt]))&&((0,x.rG)(Ce),Mt("start",Ce,de[Kt]))}}function Se(Ce){var Q=Ce.changedTouches,de=Q.length,Ue,Qe;for(Ue=0;Ue<de;++Ue)(Qe=se[Q[Ue].identifier])&&((0,x.ZP)(Ce),Qe("drag",Ce,Q[Ue]))}function we(Ce){var Q=Ce.changedTouches,de=Q.length,Ue,Qe;for(Y&&clearTimeout(Y),Y=setTimeout(function(){Y=null},500),Ue=0;Ue<de;++Ue)(Qe=se[Q[Ue].identifier])&&((0,x.rG)(Ce),Qe("end",Ce,Q[Ue]))}function je(Ce,Q,de,Ue,Qe,Kt){var Mt=le.copy(),G=(0,_.Z)(Kt||de,Q),fe,xe,me;if((me=ue.call(Ce,new h("beforestart",{sourceEvent:de,target:te,identifier:Qe,active:W,x:G[0],y:G[1],dx:0,dy:0,dispatch:Mt}),Ue))!=null)return fe=me.x-G[0]||0,xe=me.y-G[1]||0,function et(vt,mt,tt){var cn=G,Ft;switch(vt){case"start":se[Qe]=et,Ft=W++;break;case"end":delete se[Qe],--W;case"drag":G=(0,_.Z)(tt||mt,Q),Ft=W;break}Mt.call(vt,Ce,new h(vt,{sourceEvent:mt,subject:me,target:te,identifier:Qe,active:Ft,x:G[0]+fe,y:G[1]+xe,dx:G[0]-cn[0],dy:G[1]-cn[1],dispatch:Mt}),Ue)}}return te.filter=function(Ce){return arguments.length?(X=typeof Ce=="function"?Ce:b(!!Ce),te):X},te.container=function(Ce){return arguments.length?(K=typeof Ce=="function"?Ce:b(Ce),te):K},te.subject=function(Ce){return arguments.length?(ue=typeof Ce=="function"?Ce:b(Ce),te):ue},te.touchable=function(Ce){return arguments.length?(Be=typeof Ce=="function"?Ce:b(!!Ce),te):Be},te.on=function(){var Ce=le.on.apply(le,arguments);return Ce===le?te:Ce},te.clickDistance=function(Ce){return arguments.length?(ie=(Ce=+Ce)*Ce,te):Math.sqrt(ie)},te}},49289:function(B,Z,d){"use strict";d.d(Z,{D:function(){return T},Z:function(){return _}});var i=d(41468),M=d(5873);function _(x){var b=x.document.documentElement,h=(0,i.Z)(x).on("dragstart.drag",M.ZP,M.Dd);"onselectstart"in b?h.on("selectstart.drag",M.ZP,M.Dd):(b.__noselect=b.style.MozUserSelect,b.style.MozUserSelect="none")}function T(x,b){var h=x.document.documentElement,y=(0,i.Z)(x).on("dragstart.drag",null);b&&(y.on("click.drag",M.ZP,M.Dd),setTimeout(function(){y.on("click.drag",null)},0)),"onselectstart"in h?y.on("selectstart.drag",null):(h.style.MozUserSelect=h.__noselect,delete h.__noselect)}},5873:function(B,Z,d){"use strict";d.d(Z,{Dd:function(){return M},Q7:function(){return i},ZP:function(){return T},rG:function(){return _}});const i={passive:!1},M={capture:!0,passive:!1};function _(x){x.stopImmediatePropagation()}function T(x){x.preventDefault(),x.stopImmediatePropagation()}},73409:function(B,Z,d){"use strict";d.d(Z,{P:function(){return M},Z:function(){return i}});function i(_){return function(){return this.matches(_)}}function M(_){return function(T){return T.matches(_)}}},60021:function(B,Z,d){"use strict";d.d(Z,{Z:function(){return M}});var i=d(17110);function M(_){var T=_+="",x=T.indexOf(":");return x>=0&&(T=_.slice(0,x))!=="xmlns"&&(_=_.slice(x+1)),i.Z.hasOwnProperty(T)?{space:i.Z[T],local:_}:_}},17110:function(B,Z,d){"use strict";d.d(Z,{P:function(){return i}});var i="http://www.w3.org/1999/xhtml";Z.Z={svg:"http://www.w3.org/2000/svg",xhtml:i,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},13802:function(B,Z,d){"use strict";d.d(Z,{Z:function(){return M}});function i(_){let T;for(;T=_.sourceEvent;)_=T;return _}function M(_,T){if(_=i(_),T===void 0&&(T=_.currentTarget),T){var x=T.ownerSVGElement||T;if(x.createSVGPoint){var b=x.createSVGPoint();return b.x=_.clientX,b.y=_.clientY,b=b.matrixTransform(T.getScreenCTM().inverse()),[b.x,b.y]}if(T.getBoundingClientRect){var h=T.getBoundingClientRect();return[_.clientX-h.left-T.clientLeft,_.clientY-h.top-T.clientTop]}}return[_.pageX,_.pageY]}},41468:function(B,Z,d){"use strict";d.d(Z,{Z:function(){return M}});var i=d(1776);function M(_){return typeof _=="string"?new i.Y1([[document.querySelector(_)]],[document.documentElement]):new i.Y1([[_]],i.Jz)}},1776:function(B,Z,d){"use strict";d.d(Z,{Y1:function(){return Qt},ZP:function(){return Qn},Jz:function(){return Dr}});var i=d(66456);function M(U){typeof U!="function"&&(U=(0,i.Z)(U));for(var he=this._groups,Je=he.length,ot=new Array(Je),$e=0;$e<Je;++$e)for(var ht=he[$e],kt=ht.length,St=ot[$e]=new Array(kt),Ht,hn,On=0;On<kt;++On)(Ht=ht[On])&&(hn=U.call(Ht,Ht.__data__,On,ht))&&("__data__"in Ht&&(hn.__data__=Ht.__data__),St[On]=hn);return new Qt(ot,this._parents)}function _(U){return U==null?[]:Array.isArray(U)?U:Array.from(U)}var T=d(16851);function x(U){return function(){return _(U.apply(this,arguments))}}function b(U){typeof U=="function"?U=x(U):U=(0,T.Z)(U);for(var he=this._groups,Je=he.length,ot=[],$e=[],ht=0;ht<Je;++ht)for(var kt=he[ht],St=kt.length,Ht,hn=0;hn<St;++hn)(Ht=kt[hn])&&(ot.push(U.call(Ht,Ht.__data__,hn,kt)),$e.push(Ht));return new Qt(ot,$e)}var h=d(73409),y=Array.prototype.find;function C(U){return function(){return y.call(this.children,U)}}function I(){return this.firstElementChild}function z(U){return this.select(U==null?I:C(typeof U=="function"?U:(0,h.P)(U)))}var D=Array.prototype.filter;function X(){return Array.from(this.children)}function K(U){return function(){return D.call(this.children,U)}}function ue(U){return this.selectAll(U==null?X:K(typeof U=="function"?U:(0,h.P)(U)))}function Be(U){typeof U!="function"&&(U=(0,h.Z)(U));for(var he=this._groups,Je=he.length,ot=new Array(Je),$e=0;$e<Je;++$e)for(var ht=he[$e],kt=ht.length,St=ot[$e]=[],Ht,hn=0;hn<kt;++hn)(Ht=ht[hn])&&U.call(Ht,Ht.__data__,hn,ht)&&St.push(Ht);return new Qt(ot,this._parents)}function se(U){return new Array(U.length)}function le(){return new Qt(this._enter||this._groups.map(se),this._parents)}function W(U,he){this.ownerDocument=U.ownerDocument,this.namespaceURI=U.namespaceURI,this._next=null,this._parent=U,this.__data__=he}W.prototype={constructor:W,appendChild:function(U){return this._parent.insertBefore(U,this._next)},insertBefore:function(U,he){return this._parent.insertBefore(U,he)},querySelector:function(U){return this._parent.querySelector(U)},querySelectorAll:function(U){return this._parent.querySelectorAll(U)}};function ne(U){return function(){return U}}function oe(U,he,Je,ot,$e,ht){for(var kt=0,St,Ht=he.length,hn=ht.length;kt<hn;++kt)(St=he[kt])?(St.__data__=ht[kt],ot[kt]=St):Je[kt]=new W(U,ht[kt]);for(;kt<Ht;++kt)(St=he[kt])&&($e[kt]=St)}function H(U,he,Je,ot,$e,ht,kt){var St,Ht,hn=new Map,On=he.length,nr=ht.length,yr=new Array(On),ar;for(St=0;St<On;++St)(Ht=he[St])&&(yr[St]=ar=kt.call(Ht,Ht.__data__,St,he)+"",hn.has(ar)?$e[St]=Ht:hn.set(ar,Ht));for(St=0;St<nr;++St)ar=kt.call(U,ht[St],St,ht)+"",(Ht=hn.get(ar))?(ot[St]=Ht,Ht.__data__=ht[St],hn.delete(ar)):Je[St]=new W(U,ht[St]);for(St=0;St<On;++St)(Ht=he[St])&&hn.get(yr[St])===Ht&&($e[St]=Ht)}function Y(U){return U.__data__}function ie(U,he){if(!arguments.length)return Array.from(this,Y);var Je=he?H:oe,ot=this._parents,$e=this._groups;typeof U!="function"&&(U=ne(U));for(var ht=$e.length,kt=new Array(ht),St=new Array(ht),Ht=new Array(ht),hn=0;hn<ht;++hn){var On=ot[hn],nr=$e[hn],yr=nr.length,ar=te(U.call(On,On&&On.__data__,hn,ot)),Xn=ar.length,wo=St[hn]=new Array(Xn),to=kt[hn]=new Array(Xn),ti=Ht[hn]=new Array(yr);Je(On,nr,wo,to,ti,ar,he);for(var Pr=0,no=0,jo,Mo;Pr<Xn;++Pr)if(jo=wo[Pr]){for(Pr>=no&&(no=Pr+1);!(Mo=to[no])&&++no<Xn;);jo._next=Mo||null}}return kt=new Qt(kt,ot),kt._enter=St,kt._exit=Ht,kt}function te(U){return typeof U=="object"&&"length"in U?U:Array.from(U)}function Ee(){return new Qt(this._exit||this._groups.map(se),this._parents)}function Me(U,he,Je){var ot=this.enter(),$e=this,ht=this.exit();return typeof U=="function"?(ot=U(ot),ot&&(ot=ot.selection())):ot=ot.append(U+""),he!=null&&($e=he($e),$e&&($e=$e.selection())),Je==null?ht.remove():Je(ht),ot&&$e?ot.merge($e).order():$e}function R(U){for(var he=U.selection?U.selection():U,Je=this._groups,ot=he._groups,$e=Je.length,ht=ot.length,kt=Math.min($e,ht),St=new Array($e),Ht=0;Ht<kt;++Ht)for(var hn=Je[Ht],On=ot[Ht],nr=hn.length,yr=St[Ht]=new Array(nr),ar,Xn=0;Xn<nr;++Xn)(ar=hn[Xn]||On[Xn])&&(yr[Xn]=ar);for(;Ht<$e;++Ht)St[Ht]=Je[Ht];return new Qt(St,this._parents)}function J(){for(var U=this._groups,he=-1,Je=U.length;++he<Je;)for(var ot=U[he],$e=ot.length-1,ht=ot[$e],kt;--$e>=0;)(kt=ot[$e])&&(ht&&kt.compareDocumentPosition(ht)^4&&ht.parentNode.insertBefore(kt,ht),ht=kt);return this}function Se(U){U||(U=we);function he(nr,yr){return nr&&yr?U(nr.__data__,yr.__data__):!nr-!yr}for(var Je=this._groups,ot=Je.length,$e=new Array(ot),ht=0;ht<ot;++ht){for(var kt=Je[ht],St=kt.length,Ht=$e[ht]=new Array(St),hn,On=0;On<St;++On)(hn=kt[On])&&(Ht[On]=hn);Ht.sort(he)}return new Qt($e,this._parents).order()}function we(U,he){return U<he?-1:U>he?1:U>=he?0:NaN}function je(){var U=arguments[0];return arguments[0]=this,U.apply(null,arguments),this}function Ce(){return Array.from(this)}function Q(){for(var U=this._groups,he=0,Je=U.length;he<Je;++he)for(var ot=U[he],$e=0,ht=ot.length;$e<ht;++$e){var kt=ot[$e];if(kt)return kt}return null}function de(){let U=0;for(const he of this)++U;return U}function Ue(){return!this.node()}function Qe(U){for(var he=this._groups,Je=0,ot=he.length;Je<ot;++Je)for(var $e=he[Je],ht=0,kt=$e.length,St;ht<kt;++ht)(St=$e[ht])&&U.call(St,St.__data__,ht,$e);return this}var Kt=d(60021);function Mt(U){return function(){this.removeAttribute(U)}}function G(U){return function(){this.removeAttributeNS(U.space,U.local)}}function fe(U,he){return function(){this.setAttribute(U,he)}}function xe(U,he){return function(){this.setAttributeNS(U.space,U.local,he)}}function me(U,he){return function(){var Je=he.apply(this,arguments);Je==null?this.removeAttribute(U):this.setAttribute(U,Je)}}function et(U,he){return function(){var Je=he.apply(this,arguments);Je==null?this.removeAttributeNS(U.space,U.local):this.setAttributeNS(U.space,U.local,Je)}}function vt(U,he){var Je=(0,Kt.Z)(U);if(arguments.length<2){var ot=this.node();return Je.local?ot.getAttributeNS(Je.space,Je.local):ot.getAttribute(Je)}return this.each((he==null?Je.local?G:Mt:typeof he=="function"?Je.local?et:me:Je.local?xe:fe)(Je,he))}var mt=d(77932);function tt(U){return function(){delete this[U]}}function cn(U,he){return function(){this[U]=he}}function Ft(U,he){return function(){var Je=he.apply(this,arguments);Je==null?delete this[U]:this[U]=Je}}function Ke(U,he){return arguments.length>1?this.each((he==null?tt:typeof he=="function"?Ft:cn)(U,he)):this.node()[U]}function lt(U){return U.trim().split(/^|\s+/)}function tn(U){return U.classList||new qe(U)}function qe(U){this._node=U,this._names=lt(U.getAttribute("class")||"")}qe.prototype={add:function(U){var he=this._names.indexOf(U);he<0&&(this._names.push(U),this._node.setAttribute("class",this._names.join(" ")))},remove:function(U){var he=this._names.indexOf(U);he>=0&&(this._names.splice(he,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(U){return this._names.indexOf(U)>=0}};function Sn(U,he){for(var Je=tn(U),ot=-1,$e=he.length;++ot<$e;)Je.add(he[ot])}function Pn(U,he){for(var Je=tn(U),ot=-1,$e=he.length;++ot<$e;)Je.remove(he[ot])}function Tn(U){return function(){Sn(this,U)}}function Le(U){return function(){Pn(this,U)}}function jt(U,he){return function(){(he.apply(this,arguments)?Sn:Pn)(this,U)}}function Nt(U,he){var Je=lt(U+"");if(arguments.length<2){for(var ot=tn(this.node()),$e=-1,ht=Je.length;++$e<ht;)if(!ot.contains(Je[$e]))return!1;return!0}return this.each((typeof he=="function"?jt:he?Tn:Le)(Je,he))}function rt(){this.textContent=""}function at(U){return function(){this.textContent=U}}function en(U){return function(){var he=U.apply(this,arguments);this.textContent=he==null?"":he}}function on(U){return arguments.length?this.each(U==null?rt:(typeof U=="function"?en:at)(U)):this.node().textContent}function A(){this.innerHTML=""}function j(U){return function(){this.innerHTML=U}}function ge(U){return function(){var he=U.apply(this,arguments);this.innerHTML=he==null?"":he}}function Ie(U){return arguments.length?this.each(U==null?A:(typeof U=="function"?ge:j)(U)):this.node().innerHTML}function ze(){this.nextSibling&&this.parentNode.appendChild(this)}function pt(){return this.each(ze)}function yt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function it(){return this.each(yt)}var De=d(17110);function He(U){return function(){var he=this.ownerDocument,Je=this.namespaceURI;return Je===De.P&&he.documentElement.namespaceURI===De.P?he.createElement(U):he.createElementNS(Je,U)}}function Gt(U){return function(){return this.ownerDocument.createElementNS(U.space,U.local)}}function yn(U){var he=(0,Kt.Z)(U);return(he.local?Gt:He)(he)}function Tt(U){var he=typeof U=="function"?U:yn(U);return this.select(function(){return this.appendChild(he.apply(this,arguments))})}function nn(){return null}function rn(U,he){var Je=typeof U=="function"?U:yn(U),ot=he==null?nn:typeof he=="function"?he:(0,i.Z)(he);return this.select(function(){return this.insertBefore(Je.apply(this,arguments),ot.apply(this,arguments)||null)})}function Jt(){var U=this.parentNode;U&&U.removeChild(this)}function Cn(){return this.each(Jt)}function Pt(){var U=this.cloneNode(!1),he=this.parentNode;return he?he.insertBefore(U,this.nextSibling):U}function Rt(){var U=this.cloneNode(!0),he=this.parentNode;return he?he.insertBefore(U,this.nextSibling):U}function ct(U){return this.select(U?Rt:Pt)}function Ct(U){return arguments.length?this.property("__data__",U):this.node().__data__}function sn(U){return function(he){U.call(this,he,this.__data__)}}function ln(U){return U.trim().split(/^|\s+/).map(function(he){var Je="",ot=he.indexOf(".");return ot>=0&&(Je=he.slice(ot+1),he=he.slice(0,ot)),{type:he,name:Je}})}function un(U){return function(){var he=this.__on;if(he){for(var Je=0,ot=-1,$e=he.length,ht;Je<$e;++Je)ht=he[Je],(!U.type||ht.type===U.type)&&ht.name===U.name?this.removeEventListener(ht.type,ht.listener,ht.options):he[++ot]=ht;++ot?he.length=ot:delete this.__on}}}function vn(U,he,Je){return function(){var ot=this.__on,$e,ht=sn(he);if(ot){for(var kt=0,St=ot.length;kt<St;++kt)if(($e=ot[kt]).type===U.type&&$e.name===U.name){this.removeEventListener($e.type,$e.listener,$e.options),this.addEventListener($e.type,$e.listener=ht,$e.options=Je),$e.value=he;return}}this.addEventListener(U.type,ht,Je),$e={type:U.type,name:U.name,value:he,listener:ht,options:Je},ot?ot.push($e):this.__on=[$e]}}function pr(U,he,Je){var ot=ln(U+""),$e,ht=ot.length,kt;if(arguments.length<2){var St=this.node().__on;if(St){for(var Ht=0,hn=St.length,On;Ht<hn;++Ht)for($e=0,On=St[Ht];$e<ht;++$e)if((kt=ot[$e]).type===On.type&&kt.name===On.name)return On.value}return}for(St=he?vn:un,$e=0;$e<ht;++$e)this.each(St(ot[$e],he,Je));return this}var Gn=d(4010);function mr(U,he,Je){var ot=(0,Gn.Z)(U),$e=ot.CustomEvent;typeof $e=="function"?$e=new $e(he,Je):($e=ot.document.createEvent("Event"),Je?($e.initEvent(he,Je.bubbles,Je.cancelable),$e.detail=Je.detail):$e.initEvent(he,!1,!1)),U.dispatchEvent($e)}function sr(U,he){return function(){return mr(this,U,he)}}function wn(U,he){return function(){return mr(this,U,he.apply(this,arguments))}}function xn(U,he){return this.each((typeof he=="function"?wn:sr)(U,he))}function*tr(){for(var U=this._groups,he=0,Je=U.length;he<Je;++he)for(var ot=U[he],$e=0,ht=ot.length,kt;$e<ht;++$e)(kt=ot[$e])&&(yield kt)}var Dr=[null];function Qt(U,he){this._groups=U,this._parents=he}function bn(){return new Qt([[document.documentElement]],Dr)}function kn(){return this}Qt.prototype=bn.prototype={constructor:Qt,select:M,selectAll:b,selectChild:z,selectChildren:ue,filter:Be,data:ie,enter:le,exit:Ee,join:Me,merge:R,selection:kn,order:J,sort:Se,call:je,nodes:Ce,node:Q,size:de,empty:Ue,each:Qe,attr:vt,style:mt.Z,property:Ke,classed:Nt,text:on,html:Ie,raise:pt,lower:it,append:Tt,insert:rn,remove:Cn,clone:ct,datum:Ct,on:pr,dispatch:xn,[Symbol.iterator]:tr};var Qn=bn},77932:function(B,Z,d){"use strict";d.d(Z,{S:function(){return b},Z:function(){return x}});var i=d(4010);function M(h){return function(){this.style.removeProperty(h)}}function _(h,y,C){return function(){this.style.setProperty(h,y,C)}}function T(h,y,C){return function(){var I=y.apply(this,arguments);I==null?this.style.removeProperty(h):this.style.setProperty(h,I,C)}}function x(h,y,C){return arguments.length>1?this.each((y==null?M:typeof y=="function"?T:_)(h,y,C==null?"":C)):b(this.node(),h)}function b(h,y){return h.style.getPropertyValue(y)||(0,i.Z)(h).getComputedStyle(h,null).getPropertyValue(y)}},66456:function(B,Z,d){"use strict";d.d(Z,{Z:function(){return M}});function i(){}function M(_){return _==null?i:function(){return this.querySelector(_)}}},16851:function(B,Z,d){"use strict";d.d(Z,{Z:function(){return M}});function i(){return[]}function M(_){return _==null?i:function(){return this.querySelectorAll(_)}}},4010:function(B,Z,d){"use strict";d.d(Z,{Z:function(){return i}});function i(M){return M.ownerDocument&&M.ownerDocument.defaultView||M.document&&M||M.defaultView}},61697:function(B,Z,d){"use strict";d.d(Z,{sP:function(){return Wi},CR:function(){return Uo}});var i=d(98474),M=d(49289),_=1e-12;function T(a){return((a=Math.exp(a))+1/a)/2}function x(a){return((a=Math.exp(a))-1/a)/2}function b(a){return((a=Math.exp(2*a))-1)/(a+1)}var h=function a(g,k,F){function pe(_e,ae){var Pe=_e[0],We=_e[1],Ge=_e[2],Xe=ae[0],Vt=ae[1],Zt=ae[2],an=Xe-Pe,lr=Vt-We,Vn=an*an+lr*lr,gr,dn;if(Vn<_)dn=Math.log(Zt/Ge)/g,gr=function(fr){return[Pe+fr*an,We+fr*lr,Ge*Math.exp(g*fr*dn)]};else{var Vr=Math.sqrt(Vn),br=(Zt*Zt-Ge*Ge+F*Vn)/(2*Ge*k*Vr),Lr=(Zt*Zt-Ge*Ge-F*Vn)/(2*Zt*k*Vr),jr=Math.log(Math.sqrt(br*br+1)-br),xr=Math.log(Math.sqrt(Lr*Lr+1)-Lr);dn=(xr-jr)/g,gr=function(fr){var Ar=fr*dn,Go=T(jr),Xo=Ge/(k*Vr)*(Go*b(g*Ar+jr)-x(jr));return[Pe+Xo*an,We+Xo*lr,Ge*Go/T(g*Ar+jr)]}}return gr.duration=dn*1e3*g/Math.SQRT2,gr}return pe.rho=function(_e){var ae=Math.max(.001,+_e),Pe=ae*ae,We=Pe*Pe;return a(ae,Pe,We)},pe}(Math.SQRT2,2,4),y=d(41468),C=d(13802),I=d(1776),z=0,D=0,X=0,K=1e3,ue,Be,se=0,le=0,W=0,ne=typeof performance=="object"&&performance.now?performance:Date,oe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};function H(){return le||(oe(Y),le=ne.now()+W)}function Y(){le=0}function ie(){this._call=this._time=this._next=null}ie.prototype=te.prototype={constructor:ie,restart:function(a,g,k){if(typeof a!="function")throw new TypeError("callback is not a function");k=(k==null?H():+k)+(g==null?0:+g),!this._next&&Be!==this&&(Be?Be._next=this:ue=this,Be=this),this._call=a,this._time=k,Se()},stop:function(){this._call&&(this._call=null,this._time=1/0,Se())}};function te(a,g,k){var F=new ie;return F.restart(a,g,k),F}function Ee(){H(),++z;for(var a=ue,g;a;)(g=le-a._time)>=0&&a._call.call(void 0,g),a=a._next;--z}function Me(){le=(se=ne.now())+W,z=D=0;try{Ee()}finally{z=0,J(),le=0}}function R(){var a=ne.now(),g=a-se;g>K&&(W-=g,se=a)}function J(){for(var a,g=ue,k,F=1/0;g;)g._call?(F>g._time&&(F=g._time),a=g,g=g._next):(k=g._next,g._next=null,g=a?a._next=k:ue=k);Be=a,Se(F)}function Se(a){if(!z){D&&(D=clearTimeout(D));var g=a-le;g>24?(a<1/0&&(D=setTimeout(Me,a-ne.now()-W)),X&&(X=clearInterval(X))):(X||(se=ne.now(),X=setInterval(R,K)),z=1,oe(Me))}}function we(a,g,k){var F=new ie;return g=g==null?0:+g,F.restart(pe=>{F.stop(),a(pe+g)},g,k),F}var je=(0,i.Z)("start","end","cancel","interrupt"),Ce=[],Q=0,de=1,Ue=2,Qe=3,Kt=4,Mt=5,G=6;function fe(a,g,k,F,pe,_e){var ae=a.__transition;if(!ae)a.__transition={};else if(k in ae)return;vt(a,k,{name:g,index:F,group:pe,on:je,tween:Ce,time:_e.time,delay:_e.delay,duration:_e.duration,ease:_e.ease,timer:null,state:Q})}function xe(a,g){var k=et(a,g);if(k.state>Q)throw new Error("too late; already scheduled");return k}function me(a,g){var k=et(a,g);if(k.state>Qe)throw new Error("too late; already running");return k}function et(a,g){var k=a.__transition;if(!k||!(k=k[g]))throw new Error("transition not found");return k}function vt(a,g,k){var F=a.__transition,pe;F[g]=k,k.timer=te(_e,0,k.time);function _e(Ge){k.state=de,k.timer.restart(ae,k.delay,k.time),k.delay<=Ge&&ae(Ge-k.delay)}function ae(Ge){var Xe,Vt,Zt,an;if(k.state!==de)return We();for(Xe in F)if(an=F[Xe],an.name===k.name){if(an.state===Qe)return we(ae);an.state===Kt?(an.state=G,an.timer.stop(),an.on.call("interrupt",a,a.__data__,an.index,an.group),delete F[Xe]):+Xe<g&&(an.state=G,an.timer.stop(),an.on.call("cancel",a,a.__data__,an.index,an.group),delete F[Xe])}if(we(function(){k.state===Qe&&(k.state=Kt,k.timer.restart(Pe,k.delay,k.time),Pe(Ge))}),k.state=Ue,k.on.call("start",a,a.__data__,k.index,k.group),k.state===Ue){for(k.state=Qe,pe=new Array(Zt=k.tween.length),Xe=0,Vt=-1;Xe<Zt;++Xe)(an=k.tween[Xe].value.call(a,a.__data__,k.index,k.group))&&(pe[++Vt]=an);pe.length=Vt+1}}function Pe(Ge){for(var Xe=Ge<k.duration?k.ease.call(null,Ge/k.duration):(k.timer.restart(We),k.state=Mt,1),Vt=-1,Zt=pe.length;++Vt<Zt;)pe[Vt].call(a,Xe);k.state===Mt&&(k.on.call("end",a,a.__data__,k.index,k.group),We())}function We(){k.state=G,k.timer.stop(),delete F[g];for(var Ge in F)return;delete a.__transition}}function mt(a,g){var k=a.__transition,F,pe,_e=!0,ae;if(k){g=g==null?null:g+"";for(ae in k){if((F=k[ae]).name!==g){_e=!1;continue}pe=F.state>Ue&&F.state<Mt,F.state=G,F.timer.stop(),F.on.call(pe?"interrupt":"cancel",a,a.__data__,F.index,F.group),delete k[ae]}_e&&delete a.__transition}}function tt(a){return this.each(function(){mt(this,a)})}function cn(a,g){return a=+a,g=+g,function(k){return a*(1-k)+g*k}}var Ft=180/Math.PI,Ke={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function lt(a,g,k,F,pe,_e){var ae,Pe,We;return(ae=Math.sqrt(a*a+g*g))&&(a/=ae,g/=ae),(We=a*k+g*F)&&(k-=a*We,F-=g*We),(Pe=Math.sqrt(k*k+F*F))&&(k/=Pe,F/=Pe,We/=Pe),a*F<g*k&&(a=-a,g=-g,We=-We,ae=-ae),{translateX:pe,translateY:_e,rotate:Math.atan2(g,a)*Ft,skewX:Math.atan(We)*Ft,scaleX:ae,scaleY:Pe}}var tn;function qe(a){var g=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(a+"");return g.isIdentity?Ke:lt(g.a,g.b,g.c,g.d,g.e,g.f)}function Sn(a){return a==null||(tn||(tn=document.createElementNS("http://www.w3.org/2000/svg","g")),tn.setAttribute("transform",a),!(a=tn.transform.baseVal.consolidate()))?Ke:(a=a.matrix,lt(a.a,a.b,a.c,a.d,a.e,a.f))}function Pn(a,g,k,F){function pe(Ge){return Ge.length?Ge.pop()+" ":""}function _e(Ge,Xe,Vt,Zt,an,lr){if(Ge!==Vt||Xe!==Zt){var Vn=an.push("translate(",null,g,null,k);lr.push({i:Vn-4,x:cn(Ge,Vt)},{i:Vn-2,x:cn(Xe,Zt)})}else(Vt||Zt)&&an.push("translate("+Vt+g+Zt+k)}function ae(Ge,Xe,Vt,Zt){Ge!==Xe?(Ge-Xe>180?Xe+=360:Xe-Ge>180&&(Ge+=360),Zt.push({i:Vt.push(pe(Vt)+"rotate(",null,F)-2,x:cn(Ge,Xe)})):Xe&&Vt.push(pe(Vt)+"rotate("+Xe+F)}function Pe(Ge,Xe,Vt,Zt){Ge!==Xe?Zt.push({i:Vt.push(pe(Vt)+"skewX(",null,F)-2,x:cn(Ge,Xe)}):Xe&&Vt.push(pe(Vt)+"skewX("+Xe+F)}function We(Ge,Xe,Vt,Zt,an,lr){if(Ge!==Vt||Xe!==Zt){var Vn=an.push(pe(an)+"scale(",null,",",null,")");lr.push({i:Vn-4,x:cn(Ge,Vt)},{i:Vn-2,x:cn(Xe,Zt)})}else(Vt!==1||Zt!==1)&&an.push(pe(an)+"scale("+Vt+","+Zt+")")}return function(Ge,Xe){var Vt=[],Zt=[];return Ge=a(Ge),Xe=a(Xe),_e(Ge.translateX,Ge.translateY,Xe.translateX,Xe.translateY,Vt,Zt),ae(Ge.rotate,Xe.rotate,Vt,Zt),Pe(Ge.skewX,Xe.skewX,Vt,Zt),We(Ge.scaleX,Ge.scaleY,Xe.scaleX,Xe.scaleY,Vt,Zt),Ge=Xe=null,function(an){for(var lr=-1,Vn=Zt.length,gr;++lr<Vn;)Vt[(gr=Zt[lr]).i]=gr.x(an);return Vt.join("")}}}var Tn=Pn(qe,"px, ","px)","deg)"),Le=Pn(Sn,", ",")",")"),jt=d(60021);function Nt(a,g){var k,F;return function(){var pe=me(this,a),_e=pe.tween;if(_e!==k){F=k=_e;for(var ae=0,Pe=F.length;ae<Pe;++ae)if(F[ae].name===g){F=F.slice(),F.splice(ae,1);break}}pe.tween=F}}function rt(a,g,k){var F,pe;if(typeof k!="function")throw new Error;return function(){var _e=me(this,a),ae=_e.tween;if(ae!==F){pe=(F=ae).slice();for(var Pe={name:g,value:k},We=0,Ge=pe.length;We<Ge;++We)if(pe[We].name===g){pe[We]=Pe;break}We===Ge&&pe.push(Pe)}_e.tween=pe}}function at(a,g){var k=this._id;if(a+="",arguments.length<2){for(var F=et(this.node(),k).tween,pe=0,_e=F.length,ae;pe<_e;++pe)if((ae=F[pe]).name===a)return ae.value;return null}return this.each((g==null?Nt:rt)(k,a,g))}function en(a,g,k){var F=a._id;return a.each(function(){var pe=me(this,F);(pe.value||(pe.value={}))[g]=k.apply(this,arguments)}),function(pe){return et(pe,F).value[g]}}function on(a,g,k){a.prototype=g.prototype=k,k.constructor=a}function A(a,g){var k=Object.create(a.prototype);for(var F in g)k[F]=g[F];return k}function j(){}var ge=.7,Ie=1/ge,ze="\\s*([+-]?\\d+)\\s*",pt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",it=/^#([0-9a-f]{3,8})$/,De=new RegExp("^rgb\\(".concat(ze,",").concat(ze,",").concat(ze,"\\)$")),He=new RegExp("^rgb\\(".concat(yt,",").concat(yt,",").concat(yt,"\\)$")),Gt=new RegExp("^rgba\\(".concat(ze,",").concat(ze,",").concat(ze,",").concat(pt,"\\)$")),yn=new RegExp("^rgba\\(".concat(yt,",").concat(yt,",").concat(yt,",").concat(pt,"\\)$")),Tt=new RegExp("^hsl\\(".concat(pt,",").concat(yt,",").concat(yt,"\\)$")),nn=new RegExp("^hsla\\(".concat(pt,",").concat(yt,",").concat(yt,",").concat(pt,"\\)$")),rn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};on(j,ct,{copy:function(g){return Object.assign(new this.constructor,this,g)},displayable:function(){return this.rgb().displayable()},hex:Jt,formatHex:Jt,formatHex8:Cn,formatHsl:Pt,formatRgb:Rt,toString:Rt});function Jt(){return this.rgb().formatHex()}function Cn(){return this.rgb().formatHex8()}function Pt(){return Dr(this).formatHsl()}function Rt(){return this.rgb().formatRgb()}function ct(a){var g,k;return a=(a+"").trim().toLowerCase(),(g=it.exec(a))?(k=g[1].length,g=parseInt(g[1],16),k===6?Ct(g):k===3?new vn(g>>8&15|g>>4&240,g>>4&15|g&240,(g&15)<<4|g&15,1):k===8?sn(g>>24&255,g>>16&255,g>>8&255,(g&255)/255):k===4?sn(g>>12&15|g>>8&240,g>>8&15|g>>4&240,g>>4&15|g&240,((g&15)<<4|g&15)/255):null):(g=De.exec(a))?new vn(g[1],g[2],g[3],1):(g=He.exec(a))?new vn(g[1]*255/100,g[2]*255/100,g[3]*255/100,1):(g=Gt.exec(a))?sn(g[1],g[2],g[3],g[4]):(g=yn.exec(a))?sn(g[1]*255/100,g[2]*255/100,g[3]*255/100,g[4]):(g=Tt.exec(a))?tr(g[1],g[2]/100,g[3]/100,1):(g=nn.exec(a))?tr(g[1],g[2]/100,g[3]/100,g[4]):rn.hasOwnProperty(a)?Ct(rn[a]):a==="transparent"?new vn(NaN,NaN,NaN,0):null}function Ct(a){return new vn(a>>16&255,a>>8&255,a&255,1)}function sn(a,g,k,F){return F<=0&&(a=g=k=NaN),new vn(a,g,k,F)}function ln(a){return a instanceof j||(a=ct(a)),a?(a=a.rgb(),new vn(a.r,a.g,a.b,a.opacity)):new vn}function un(a,g,k,F){return arguments.length===1?ln(a):new vn(a,g,k,F==null?1:F)}function vn(a,g,k,F){this.r=+a,this.g=+g,this.b=+k,this.opacity=+F}on(vn,un,A(j,{brighter:function(g){return g=g==null?Ie:Math.pow(Ie,g),new vn(this.r*g,this.g*g,this.b*g,this.opacity)},darker:function(g){return g=g==null?ge:Math.pow(ge,g),new vn(this.r*g,this.g*g,this.b*g,this.opacity)},rgb:function(){return this},clamp:function(){return new vn(wn(this.r),wn(this.g),wn(this.b),sr(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pr,formatHex:pr,formatHex8:Gn,formatRgb:mr,toString:mr}));function pr(){return"#".concat(xn(this.r)).concat(xn(this.g)).concat(xn(this.b))}function Gn(){return"#".concat(xn(this.r)).concat(xn(this.g)).concat(xn(this.b)).concat(xn((isNaN(this.opacity)?1:this.opacity)*255))}function mr(){var a=sr(this.opacity);return"".concat(a===1?"rgb(":"rgba(").concat(wn(this.r),", ").concat(wn(this.g),", ").concat(wn(this.b)).concat(a===1?")":", ".concat(a,")"))}function sr(a){return isNaN(a)?1:Math.max(0,Math.min(1,a))}function wn(a){return Math.max(0,Math.min(255,Math.round(a)||0))}function xn(a){return a=wn(a),(a<16?"0":"")+a.toString(16)}function tr(a,g,k,F){return F<=0?a=g=k=NaN:k<=0||k>=1?a=g=NaN:g<=0&&(a=NaN),new bn(a,g,k,F)}function Dr(a){if(a instanceof bn)return new bn(a.h,a.s,a.l,a.opacity);if(a instanceof j||(a=ct(a)),!a)return new bn;if(a instanceof bn)return a;a=a.rgb();var g=a.r/255,k=a.g/255,F=a.b/255,pe=Math.min(g,k,F),_e=Math.max(g,k,F),ae=NaN,Pe=_e-pe,We=(_e+pe)/2;return Pe?(g===_e?ae=(k-F)/Pe+(k<F)*6:k===_e?ae=(F-g)/Pe+2:ae=(g-k)/Pe+4,Pe/=We<.5?_e+pe:2-_e-pe,ae*=60):Pe=We>0&&We<1?0:ae,new bn(ae,Pe,We,a.opacity)}function Qt(a,g,k,F){return arguments.length===1?Dr(a):new bn(a,g,k,F==null?1:F)}function bn(a,g,k,F){this.h=+a,this.s=+g,this.l=+k,this.opacity=+F}on(bn,Qt,A(j,{brighter:function(g){return g=g==null?Ie:Math.pow(Ie,g),new bn(this.h,this.s,this.l*g,this.opacity)},darker:function(g){return g=g==null?ge:Math.pow(ge,g),new bn(this.h,this.s,this.l*g,this.opacity)},rgb:function(){var g=this.h%360+(this.h<0)*360,k=isNaN(g)||isNaN(this.s)?0:this.s,F=this.l,pe=F+(F<.5?F:1-F)*k,_e=2*F-pe;return new vn(U(g>=240?g-240:g+120,_e,pe),U(g,_e,pe),U(g<120?g+240:g-120,_e,pe),this.opacity)},clamp:function(){return new bn(kn(this.h),Qn(this.s),Qn(this.l),sr(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var g=sr(this.opacity);return"".concat(g===1?"hsl(":"hsla(").concat(kn(this.h),", ").concat(Qn(this.s)*100,"%, ").concat(Qn(this.l)*100,"%").concat(g===1?")":", ".concat(g,")"))}}));function kn(a){return a=(a||0)%360,a<0?a+360:a}function Qn(a){return Math.max(0,Math.min(1,a||0))}function U(a,g,k){return(a<60?g+(k-g)*a/60:a<180?k:a<240?g+(k-g)*(240-a)/60:g)*255}function he(a,g,k,F,pe){var _e=a*a,ae=_e*a;return((1-3*a+3*_e-ae)*g+(4-6*_e+3*ae)*k+(1+3*a+3*_e-3*ae)*F+ae*pe)/6}function Je(a){var g=a.length-1;return function(k){var F=k<=0?k=0:k>=1?(k=1,g-1):Math.floor(k*g),pe=a[F],_e=a[F+1],ae=F>0?a[F-1]:2*pe-_e,Pe=F<g-1?a[F+2]:2*_e-pe;return he((k-F/g)*g,ae,pe,_e,Pe)}}function ot(a){var g=a.length;return function(k){var F=Math.floor(((k%=1)<0?++k:k)*g),pe=a[(F+g-1)%g],_e=a[F%g],ae=a[(F+1)%g],Pe=a[(F+2)%g];return he((k-F/g)*g,pe,_e,ae,Pe)}}var $e=function(a){return function(){return a}};function ht(a,g){return function(k){return a+k*g}}function kt(a,g,k){return a=Math.pow(a,k),g=Math.pow(g,k)-a,k=1/k,function(F){return Math.pow(a+F*g,k)}}function St(a,g){var k=g-a;return k?ht(a,k>180||k<-180?k-360*Math.round(k/360):k):constant(isNaN(a)?g:a)}function Ht(a){return(a=+a)==1?hn:function(g,k){return k-g?kt(g,k,a):$e(isNaN(g)?k:g)}}function hn(a,g){var k=g-a;return k?ht(a,k):$e(isNaN(a)?g:a)}var On=function a(g){var k=Ht(g);function F(pe,_e){var ae=k((pe=un(pe)).r,(_e=un(_e)).r),Pe=k(pe.g,_e.g),We=k(pe.b,_e.b),Ge=hn(pe.opacity,_e.opacity);return function(Xe){return pe.r=ae(Xe),pe.g=Pe(Xe),pe.b=We(Xe),pe.opacity=Ge(Xe),pe+""}}return F.gamma=a,F}(1);function nr(a){return function(g){var k=g.length,F=new Array(k),pe=new Array(k),_e=new Array(k),ae,Pe;for(ae=0;ae<k;++ae)Pe=un(g[ae]),F[ae]=Pe.r||0,pe[ae]=Pe.g||0,_e[ae]=Pe.b||0;return F=a(F),pe=a(pe),_e=a(_e),Pe.opacity=1,function(We){return Pe.r=F(We),Pe.g=pe(We),Pe.b=_e(We),Pe+""}}}var yr=nr(Je),ar=nr(ot),Xn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wo=new RegExp(Xn.source,"g");function to(a){return function(){return a}}function ti(a){return function(g){return a(g)+""}}function Pr(a,g){var k=Xn.lastIndex=wo.lastIndex=0,F,pe,_e,ae=-1,Pe=[],We=[];for(a=a+"",g=g+"";(F=Xn.exec(a))&&(pe=wo.exec(g));)(_e=pe.index)>k&&(_e=g.slice(k,_e),Pe[ae]?Pe[ae]+=_e:Pe[++ae]=_e),(F=F[0])===(pe=pe[0])?Pe[ae]?Pe[ae]+=pe:Pe[++ae]=pe:(Pe[++ae]=null,We.push({i:ae,x:cn(F,pe)})),k=wo.lastIndex;return k<g.length&&(_e=g.slice(k),Pe[ae]?Pe[ae]+=_e:Pe[++ae]=_e),Pe.length<2?We[0]?ti(We[0].x):to(g):(g=We.length,function(Ge){for(var Xe=0,Vt;Xe<g;++Xe)Pe[(Vt=We[Xe]).i]=Vt.x(Ge);return Pe.join("")})}function no(a,g){var k;return(typeof g=="number"?cn:g instanceof ct?On:(k=ct(g))?(g=k,On):Pr)(a,g)}function jo(a){return function(){this.removeAttribute(a)}}function Mo(a){return function(){this.removeAttributeNS(a.space,a.local)}}function ro(a,g,k){var F,pe=k+"",_e;return function(){var ae=this.getAttribute(a);return ae===pe?null:ae===F?_e:_e=g(F=ae,k)}}function _n(a,g,k){var F,pe=k+"",_e;return function(){var ae=this.getAttributeNS(a.space,a.local);return ae===pe?null:ae===F?_e:_e=g(F=ae,k)}}function Oi(a,g,k){var F,pe,_e;return function(){var ae,Pe=k(this),We;return Pe==null?void this.removeAttribute(a):(ae=this.getAttribute(a),We=Pe+"",ae===We?null:ae===F&&We===pe?_e:(pe=We,_e=g(F=ae,Pe)))}}function No(a,g,k){var F,pe,_e;return function(){var ae,Pe=k(this),We;return Pe==null?void this.removeAttributeNS(a.space,a.local):(ae=this.getAttributeNS(a.space,a.local),We=Pe+"",ae===We?null:ae===F&&We===pe?_e:(pe=We,_e=g(F=ae,Pe)))}}function ns(a,g){var k=(0,jt.Z)(a),F=k==="transform"?Le:no;return this.attrTween(a,typeof g=="function"?(k.local?No:Oi)(k,F,en(this,"attr."+a,g)):g==null?(k.local?Mo:jo)(k):(k.local?_n:ro)(k,F,g))}function ni(a,g){return function(k){this.setAttribute(a,g.call(this,k))}}function oo(a,g){return function(k){this.setAttributeNS(a.space,a.local,g.call(this,k))}}function rs(a,g){var k,F;function pe(){var _e=g.apply(this,arguments);return _e!==F&&(k=(F=_e)&&oo(a,_e)),k}return pe._value=g,pe}function Mi(a,g){var k,F;function pe(){var _e=g.apply(this,arguments);return _e!==F&&(k=(F=_e)&&ni(a,_e)),k}return pe._value=g,pe}function Ni(a,g){var k="attr."+a;if(arguments.length<2)return(k=this.tween(k))&&k._value;if(g==null)return this.tween(k,null);if(typeof g!="function")throw new Error;var F=(0,jt.Z)(a);return this.tween(k,(F.local?rs:Mi)(F,g))}function Do(a,g){return function(){xe(this,a).delay=+g.apply(this,arguments)}}function bo(a,g){return g=+g,function(){xe(this,a).delay=g}}function ri(a){var g=this._id;return arguments.length?this.each((typeof a=="function"?Do:bo)(g,a)):et(this.node(),g).delay}function Di(a,g){return function(){me(this,a).duration=+g.apply(this,arguments)}}function Pi(a,g){return g=+g,function(){me(this,a).duration=g}}function vr(a){var g=this._id;return arguments.length?this.each((typeof a=="function"?Di:Pi)(g,a)):et(this.node(),g).duration}function io(a,g){if(typeof g!="function")throw new Error;return function(){me(this,a).ease=g}}function Ri(a){var g=this._id;return arguments.length?this.each(io(g,a)):et(this.node(),g).ease}function oi(a,g){return function(){var k=g.apply(this,arguments);if(typeof k!="function")throw new Error;me(this,a).ease=k}}function Li(a){if(typeof a!="function")throw new Error;return this.each(oi(this._id,a))}var rr=d(73409);function so(a){typeof a!="function"&&(a=(0,rr.Z)(a));for(var g=this._groups,k=g.length,F=new Array(k),pe=0;pe<k;++pe)for(var _e=g[pe],ae=_e.length,Pe=F[pe]=[],We,Ge=0;Ge<ae;++Ge)(We=_e[Ge])&&a.call(We,We.__data__,Ge,_e)&&Pe.push(We);return new Ir(F,this._parents,this._name,this._id)}function Bn(a){if(a._id!==this._id)throw new Error;for(var g=this._groups,k=a._groups,F=g.length,pe=k.length,_e=Math.min(F,pe),ae=new Array(F),Pe=0;Pe<_e;++Pe)for(var We=g[Pe],Ge=k[Pe],Xe=We.length,Vt=ae[Pe]=new Array(Xe),Zt,an=0;an<Xe;++an)(Zt=We[an]||Ge[an])&&(Vt[an]=Zt);for(;Pe<F;++Pe)ae[Pe]=g[Pe];return new Ir(ae,this._parents,this._name,this._id)}function xo(a){return(a+"").trim().split(/^|\s+/).every(function(g){var k=g.indexOf(".");return k>=0&&(g=g.slice(0,k)),!g||g==="start"})}function Zo(a,g,k){var F,pe,_e=xo(g)?xe:me;return function(){var ae=_e(this,a),Pe=ae.on;Pe!==F&&(pe=(F=Pe).copy()).on(g,k),ae.on=pe}}function Po(a,g){var k=this._id;return arguments.length<2?et(this.node(),k).on.on(a):this.each(Zo(k,a,g))}function os(a){return function(){var g=this.parentNode;for(var k in this.__transition)if(+k!==a)return;g&&g.removeChild(this)}}function is(){return this.on("end.remove",os(this._id))}var Bi=d(66456);function ii(a){var g=this._name,k=this._id;typeof a!="function"&&(a=(0,Bi.Z)(a));for(var F=this._groups,pe=F.length,_e=new Array(pe),ae=0;ae<pe;++ae)for(var Pe=F[ae],We=Pe.length,Ge=_e[ae]=new Array(We),Xe,Vt,Zt=0;Zt<We;++Zt)(Xe=Pe[Zt])&&(Vt=a.call(Xe,Xe.__data__,Zt,Pe))&&("__data__"in Xe&&(Vt.__data__=Xe.__data__),Ge[Zt]=Vt,fe(Ge[Zt],g,k,Zt,Ge,et(Xe,k)));return new Ir(_e,this._parents,g,k)}var si=d(16851);function An(a){var g=this._name,k=this._id;typeof a!="function"&&(a=(0,si.Z)(a));for(var F=this._groups,pe=F.length,_e=[],ae=[],Pe=0;Pe<pe;++Pe)for(var We=F[Pe],Ge=We.length,Xe,Vt=0;Vt<Ge;++Vt)if(Xe=We[Vt]){for(var Zt=a.call(Xe,Xe.__data__,Vt,We),an,lr=et(Xe,k),Vn=0,gr=Zt.length;Vn<gr;++Vn)(an=Zt[Vn])&&fe(an,g,k,Vn,Zt,lr);_e.push(Zt),ae.push(Xe)}return new Ir(_e,ae,g,k)}var kr=I.ZP.prototype.constructor;function Ro(){return new kr(this._groups,this._parents)}var ao=d(77932);function ai(a,g){var k,F,pe;return function(){var _e=(0,ao.S)(this,a),ae=(this.style.removeProperty(a),(0,ao.S)(this,a));return _e===ae?null:_e===k&&ae===F?pe:pe=g(k=_e,F=ae)}}function $o(a){return function(){this.style.removeProperty(a)}}function co(a,g,k){var F,pe=k+"",_e;return function(){var ae=(0,ao.S)(this,a);return ae===pe?null:ae===F?_e:_e=g(F=ae,k)}}function Ui(a,g,k){var F,pe,_e;return function(){var ae=(0,ao.S)(this,a),Pe=k(this),We=Pe+"";return Pe==null&&(We=Pe=(this.style.removeProperty(a),(0,ao.S)(this,a))),ae===We?null:ae===F&&We===pe?_e:(pe=We,_e=g(F=ae,Pe))}}function Ho(a,g){var k,F,pe,_e="style."+g,ae="end."+_e,Pe;return function(){var We=me(this,a),Ge=We.on,Xe=We.value[_e]==null?Pe||(Pe=$o(g)):void 0;(Ge!==k||pe!==Xe)&&(F=(k=Ge).copy()).on(ae,pe=Xe),We.on=F}}function zi(a,g,k){var F=(a+="")=="transform"?Tn:no;return g==null?this.styleTween(a,ai(a,F)).on("end.style."+a,$o(a)):typeof g=="function"?this.styleTween(a,Ui(a,F,en(this,"style."+a,g))).each(Ho(this._id,a)):this.styleTween(a,co(a,F,g),k).on("end.style."+a,null)}function Xr(a,g,k){return function(F){this.style.setProperty(a,g.call(this,F),k)}}function cr(a,g,k){var F,pe;function _e(){var ae=g.apply(this,arguments);return ae!==pe&&(F=(pe=ae)&&Xr(a,ae,k)),F}return _e._value=g,_e}function wr(a,g,k){var F="style."+(a+="");if(arguments.length<2)return(F=this.tween(F))&&F._value;if(g==null)return this.tween(F,null);if(typeof g!="function")throw new Error;return this.tween(F,cr(a,g,k==null?"":k))}function lo(a){return function(){this.textContent=a}}function Lo(a){return function(){var g=a(this);this.textContent=g==null?"":g}}function Fi(a){return this.tween("text",typeof a=="function"?Lo(en(this,"text",a)):lo(a==null?"":a+""))}function Vi(a){return function(g){this.textContent=a.call(this,g)}}function Wo(a){var g,k;function F(){var pe=a.apply(this,arguments);return pe!==k&&(g=(k=pe)&&Vi(pe)),g}return F._value=a,F}function ci(a){var g="text";if(arguments.length<1)return(g=this.tween(g))&&g._value;if(a==null)return this.tween(g,null);if(typeof a!="function")throw new Error;return this.tween(g,Wo(a))}function _o(){for(var a=this._name,g=this._id,k=Rr(),F=this._groups,pe=F.length,_e=0;_e<pe;++_e)for(var ae=F[_e],Pe=ae.length,We,Ge=0;Ge<Pe;++Ge)if(We=ae[Ge]){var Xe=et(We,g);fe(We,a,k,Ge,ae,{time:Xe.time+Xe.delay+Xe.duration,delay:0,duration:Xe.duration,ease:Xe.ease})}return new Ir(F,this._parents,a,k)}function li(){var a,g,k=this,F=k._id,pe=k.size();return new Promise(function(_e,ae){var Pe={value:ae},We={value:function(){--pe===0&&_e()}};k.each(function(){var Ge=me(this,F),Xe=Ge.on;Xe!==a&&(g=(a=Xe).copy(),g._.cancel.push(Pe),g._.interrupt.push(Pe),g._.end.push(We)),Ge.on=g}),pe===0&&_e()})}var ji=0;function Ir(a,g,k,F){this._groups=a,this._parents=g,this._name=k,this._id=F}function Eo(a){return(0,I.ZP)().transition(a)}function Rr(){return++ji}var Tr=I.ZP.prototype;Ir.prototype=Eo.prototype={constructor:Ir,select:ii,selectAll:An,selectChild:Tr.selectChild,selectChildren:Tr.selectChildren,filter:so,merge:Bn,selection:Ro,transition:_o,call:Tr.call,nodes:Tr.nodes,node:Tr.node,size:Tr.size,empty:Tr.empty,each:Tr.each,on:Po,attr:ns,attrTween:Ni,style:zi,styleTween:wr,text:Fi,textTween:ci,remove:is,tween:at,delay:ri,duration:vr,ease:Ri,easeVarying:Li,end:li,[Symbol.iterator]:Tr[Symbol.iterator]};function ui(a){return a*a*a}function Bo(a){return--a*a*a+1}function di(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}var Zi={time:null,delay:0,duration:250,ease:di};function uo(a,g){for(var k;!(k=a.__transition)||!(k=k[g]);)if(!(a=a.parentNode))throw new Error(`transition ${g} not found`);return k}function So(a){var g,k;a instanceof Ir?(g=a._id,a=a._name):(g=Rr(),(k=Zi).time=H(),a=a==null?null:a+"");for(var F=this._groups,pe=F.length,_e=0;_e<pe;++_e)for(var ae=F[_e],Pe=ae.length,We,Ge=0;Ge<Pe;++Ge)(We=ae[Ge])&&fe(We,a,g,Ge,ae,k||uo(We,g));return new Ir(F,this._parents,a,g)}I.ZP.prototype.interrupt=tt,I.ZP.prototype.transition=So;var Co=a=>()=>a;function ss(a,{sourceEvent:g,target:k,transform:F,dispatch:pe}){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:g,enumerable:!0,configurable:!0},target:{value:k,enumerable:!0,configurable:!0},transform:{value:F,enumerable:!0,configurable:!0},_:{value:pe}})}function Fr(a,g,k){this.k=a,this.x=g,this.y=k}Fr.prototype={constructor:Fr,scale:function(a){return a===1?this:new Fr(this.k*a,this.x,this.y)},translate:function(a,g){return a===0&g===0?this:new Fr(this.k,this.x+this.k*a,this.y+this.k*g)},apply:function(a){return[a[0]*this.k+this.x,a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Uo=new Fr(1,0,0);fi.prototype=Fr.prototype;function fi(a){for(;!a.__zoom;)if(!(a=a.parentNode))return Uo;return a.__zoom}function fo(a){a.stopImmediatePropagation()}function zo(a){a.preventDefault(),a.stopImmediatePropagation()}function as(a){return(!a.ctrlKey||a.type==="wheel")&&!a.button}function cs(){var a=this;return a instanceof SVGElement?(a=a.ownerSVGElement||a,a.hasAttribute("viewBox")?(a=a.viewBox.baseVal,[[a.x,a.y],[a.x+a.width,a.y+a.height]]):[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]):[[0,0],[a.clientWidth,a.clientHeight]]}function $i(){return this.__zoom||Uo}function Hi(a){return-a.deltaY*(a.deltaMode===1?.05:a.deltaMode?1:.002)*(a.ctrlKey?10:1)}function zn(){return navigator.maxTouchPoints||"ontouchstart"in this}function ls(a,g,k){var F=a.invertX(g[0][0])-k[0][0],pe=a.invertX(g[1][0])-k[1][0],_e=a.invertY(g[0][1])-k[0][1],ae=a.invertY(g[1][1])-k[1][1];return a.translate(pe>F?(F+pe)/2:Math.min(0,F)||Math.max(0,pe),ae>_e?(_e+ae)/2:Math.min(0,_e)||Math.max(0,ae))}function Wi(){var a=as,g=cs,k=ls,F=Hi,pe=zn,_e=[0,1/0],ae=[[-1/0,-1/0],[1/0,1/0]],Pe=250,We=h,Ge=(0,i.Z)("start","zoom","end"),Xe,Vt,Zt,an=500,lr=150,Vn=0,gr=10;function dn(Te){Te.property("__zoom",$i).on("wheel.zoom",fr,{passive:!1}).on("mousedown.zoom",Ar).on("dblclick.zoom",Go).filter(pe).on("touchstart.zoom",Xo).on("touchmove.zoom",_r).on("touchend.zoom touchcancel.zoom",Ki).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}dn.transform=function(Te,Dt,Ye,Ut){var pn=Te.selection?Te.selection():Te;pn.property("__zoom",$i),Te!==pn?jr(Te,Dt,Ye,Ut):pn.interrupt().each(function(){xr(this,arguments).event(Ut).start().zoom(null,typeof Dt=="function"?Dt.apply(this,arguments):Dt).end()})},dn.scaleBy=function(Te,Dt,Ye,Ut){dn.scaleTo(Te,function(){var pn=this.__zoom.k,gn=typeof Dt=="function"?Dt.apply(this,arguments):Dt;return pn*gn},Ye,Ut)},dn.scaleTo=function(Te,Dt,Ye,Ut){dn.transform(Te,function(){var pn=g.apply(this,arguments),gn=this.__zoom,In=Ye==null?Lr(pn):typeof Ye=="function"?Ye.apply(this,arguments):Ye,Rn=gn.invert(In),jn=typeof Dt=="function"?Dt.apply(this,arguments):Dt;return k(br(Vr(gn,jn),In,Rn),pn,ae)},Ye,Ut)},dn.translateBy=function(Te,Dt,Ye,Ut){dn.transform(Te,function(){return k(this.__zoom.translate(typeof Dt=="function"?Dt.apply(this,arguments):Dt,typeof Ye=="function"?Ye.apply(this,arguments):Ye),g.apply(this,arguments),ae)},null,Ut)},dn.translateTo=function(Te,Dt,Ye,Ut,pn){dn.transform(Te,function(){var gn=g.apply(this,arguments),In=this.__zoom,Rn=Ut==null?Lr(gn):typeof Ut=="function"?Ut.apply(this,arguments):Ut;return k(Uo.translate(Rn[0],Rn[1]).scale(In.k).translate(typeof Dt=="function"?-Dt.apply(this,arguments):-Dt,typeof Ye=="function"?-Ye.apply(this,arguments):-Ye),gn,ae)},Ut,pn)};function Vr(Te,Dt){return Dt=Math.max(_e[0],Math.min(_e[1],Dt)),Dt===Te.k?Te:new Fr(Dt,Te.x,Te.y)}function br(Te,Dt,Ye){var Ut=Dt[0]-Ye[0]*Te.k,pn=Dt[1]-Ye[1]*Te.k;return Ut===Te.x&&pn===Te.y?Te:new Fr(Te.k,Ut,pn)}function Lr(Te){return[(+Te[0][0]+ +Te[1][0])/2,(+Te[0][1]+ +Te[1][1])/2]}function jr(Te,Dt,Ye,Ut){Te.on("start.zoom",function(){xr(this,arguments).event(Ut).start()}).on("interrupt.zoom end.zoom",function(){xr(this,arguments).event(Ut).end()}).tween("zoom",function(){var pn=this,gn=arguments,In=xr(pn,gn).event(Ut),Rn=g.apply(pn,gn),jn=Ye==null?Lr(Rn):typeof Ye=="function"?Ye.apply(pn,gn):Ye,Or=Math.max(Rn[1][0]-Rn[0][0],Rn[1][1]-Rn[0][1]),Kn=pn.__zoom,Hn=typeof Dt=="function"?Dt.apply(pn,gn):Dt,Br=We(Kn.invert(jn).concat(Or/Kn.k),Hn.invert(jn).concat(Or/Hn.k));return function(Mr){if(Mr===1)Mr=Hn;else{var Zr=Br(Mr),or=Or/Zr[2];Mr=new Fr(or,jn[0]-Zr[0]*or,jn[1]-Zr[1]*or)}In.zoom(null,Mr)}})}function xr(Te,Dt,Ye){return!Ye&&Te.__zooming||new Ko(Te,Dt)}function Ko(Te,Dt){this.that=Te,this.args=Dt,this.active=0,this.sourceEvent=null,this.extent=g.apply(Te,Dt),this.taps=0}Ko.prototype={event:function(Te){return Te&&(this.sourceEvent=Te),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(Te,Dt){return this.mouse&&Te!=="mouse"&&(this.mouse[1]=Dt.invert(this.mouse[0])),this.touch0&&Te!=="touch"&&(this.touch0[1]=Dt.invert(this.touch0[0])),this.touch1&&Te!=="touch"&&(this.touch1[1]=Dt.invert(this.touch1[0])),this.that.__zoom=Dt,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(Te){var Dt=(0,y.Z)(this.that).datum();Ge.call(Te,this.that,new ss(Te,{sourceEvent:this.sourceEvent,target:dn,type:Te,transform:this.that.__zoom,dispatch:Ge}),Dt)}};function fr(Te,...Dt){if(!a.apply(this,arguments))return;var Ye=xr(this,Dt).event(Te),Ut=this.__zoom,pn=Math.max(_e[0],Math.min(_e[1],Ut.k*Math.pow(2,F.apply(this,arguments)))),gn=(0,C.Z)(Te);if(Ye.wheel)(Ye.mouse[0][0]!==gn[0]||Ye.mouse[0][1]!==gn[1])&&(Ye.mouse[1]=Ut.invert(Ye.mouse[0]=gn)),clearTimeout(Ye.wheel);else{if(Ut.k===pn)return;Ye.mouse=[gn,Ut.invert(gn)],mt(this),Ye.start()}zo(Te),Ye.wheel=setTimeout(In,lr),Ye.zoom("mouse",k(br(Vr(Ut,pn),Ye.mouse[0],Ye.mouse[1]),Ye.extent,ae));function In(){Ye.wheel=null,Ye.end()}}function Ar(Te,...Dt){if(Zt||!a.apply(this,arguments))return;var Ye=Te.currentTarget,Ut=xr(this,Dt,!0).event(Te),pn=(0,y.Z)(Te.view).on("mousemove.zoom",jn,!0).on("mouseup.zoom",Or,!0),gn=(0,C.Z)(Te,Ye),In=Te.clientX,Rn=Te.clientY;(0,M.Z)(Te.view),fo(Te),Ut.mouse=[gn,this.__zoom.invert(gn)],mt(this),Ut.start();function jn(Kn){if(zo(Kn),!Ut.moved){var Hn=Kn.clientX-In,Br=Kn.clientY-Rn;Ut.moved=Hn*Hn+Br*Br>Vn}Ut.event(Kn).zoom("mouse",k(br(Ut.that.__zoom,Ut.mouse[0]=(0,C.Z)(Kn,Ye),Ut.mouse[1]),Ut.extent,ae))}function Or(Kn){pn.on("mousemove.zoom mouseup.zoom",null),(0,M.D)(Kn.view,Ut.moved),zo(Kn),Ut.event(Kn).end()}}function Go(Te,...Dt){if(a.apply(this,arguments)){var Ye=this.__zoom,Ut=(0,C.Z)(Te.changedTouches?Te.changedTouches[0]:Te,this),pn=Ye.invert(Ut),gn=Ye.k*(Te.shiftKey?.5:2),In=k(br(Vr(Ye,gn),Ut,pn),g.apply(this,Dt),ae);zo(Te),Pe>0?(0,y.Z)(this).transition().duration(Pe).call(jr,In,Ut,Te):(0,y.Z)(this).call(dn.transform,In,Ut,Te)}}function Xo(Te,...Dt){if(a.apply(this,arguments)){var Ye=Te.touches,Ut=Ye.length,pn=xr(this,Dt,Te.changedTouches.length===Ut).event(Te),gn,In,Rn,jn;for(fo(Te),In=0;In<Ut;++In)Rn=Ye[In],jn=(0,C.Z)(Rn,this),jn=[jn,this.__zoom.invert(jn),Rn.identifier],pn.touch0?!pn.touch1&&pn.touch0[2]!==jn[2]&&(pn.touch1=jn,pn.taps=0):(pn.touch0=jn,gn=!0,pn.taps=1+!!Xe);Xe&&(Xe=clearTimeout(Xe)),gn&&(pn.taps<2&&(Vt=jn[0],Xe=setTimeout(function(){Xe=null},an)),mt(this),pn.start())}}function _r(Te,...Dt){if(this.__zooming){var Ye=xr(this,Dt).event(Te),Ut=Te.changedTouches,pn=Ut.length,gn,In,Rn,jn;for(zo(Te),gn=0;gn<pn;++gn)In=Ut[gn],Rn=(0,C.Z)(In,this),Ye.touch0&&Ye.touch0[2]===In.identifier?Ye.touch0[0]=Rn:Ye.touch1&&Ye.touch1[2]===In.identifier&&(Ye.touch1[0]=Rn);if(In=Ye.that.__zoom,Ye.touch1){var Or=Ye.touch0[0],Kn=Ye.touch0[1],Hn=Ye.touch1[0],Br=Ye.touch1[1],Mr=(Mr=Hn[0]-Or[0])*Mr+(Mr=Hn[1]-Or[1])*Mr,Zr=(Zr=Br[0]-Kn[0])*Zr+(Zr=Br[1]-Kn[1])*Zr;In=Vr(In,Math.sqrt(Mr/Zr)),Rn=[(Or[0]+Hn[0])/2,(Or[1]+Hn[1])/2],jn=[(Kn[0]+Br[0])/2,(Kn[1]+Br[1])/2]}else if(Ye.touch0)Rn=Ye.touch0[0],jn=Ye.touch0[1];else return;Ye.zoom("touch",k(br(In,Rn,jn),Ye.extent,ae))}}function Ki(Te,...Dt){if(this.__zooming){var Ye=xr(this,Dt).event(Te),Ut=Te.changedTouches,pn=Ut.length,gn,In;for(fo(Te),Zt&&clearTimeout(Zt),Zt=setTimeout(function(){Zt=null},an),gn=0;gn<pn;++gn)In=Ut[gn],Ye.touch0&&Ye.touch0[2]===In.identifier?delete Ye.touch0:Ye.touch1&&Ye.touch1[2]===In.identifier&&delete Ye.touch1;if(Ye.touch1&&!Ye.touch0&&(Ye.touch0=Ye.touch1,delete Ye.touch1),Ye.touch0)Ye.touch0[1]=this.__zoom.invert(Ye.touch0[0]);else if(Ye.end(),Ye.taps===2&&(In=(0,C.Z)(In,this),Math.hypot(Vt[0]-In[0],Vt[1]-In[1])<gr)){var Rn=(0,y.Z)(this).on("dblclick.zoom");Rn&&Rn.apply(this,arguments)}}}return dn.wheelDelta=function(Te){return arguments.length?(F=typeof Te=="function"?Te:Co(+Te),dn):F},dn.filter=function(Te){return arguments.length?(a=typeof Te=="function"?Te:Co(!!Te),dn):a},dn.touchable=function(Te){return arguments.length?(pe=typeof Te=="function"?Te:Co(!!Te),dn):pe},dn.extent=function(Te){return arguments.length?(g=typeof Te=="function"?Te:Co([[+Te[0][0],+Te[0][1]],[+Te[1][0],+Te[1][1]]]),dn):g},dn.scaleExtent=function(Te){return arguments.length?(_e[0]=+Te[0],_e[1]=+Te[1],dn):[_e[0],_e[1]]},dn.translateExtent=function(Te){return arguments.length?(ae[0][0]=+Te[0][0],ae[1][0]=+Te[1][0],ae[0][1]=+Te[0][1],ae[1][1]=+Te[1][1],dn):[[ae[0][0],ae[0][1]],[ae[1][0],ae[1][1]]]},dn.constrain=function(Te){return arguments.length?(k=Te,dn):k},dn.duration=function(Te){return arguments.length?(Pe=+Te,dn):Pe},dn.interpolate=function(Te){return arguments.length?(We=Te,dn):We},dn.on=function(){var Te=Ge.on.apply(Ge,arguments);return Te===Ge?dn:Te},dn.clickDistance=function(Te){return arguments.length?(Vn=(Te=+Te)*Te,dn):Math.sqrt(Vn)},dn.tapDistance=function(Te){return arguments.length?(gr=+Te,dn):gr},dn}},53874:function(B,Z,d){"use strict";d.d(Z,{Uy:function(){return Pn}});var i=Symbol.for("immer-nothing"),M=Symbol.for("immer-draftable"),_=Symbol.for("immer-state"),T=[];function x(A,...j){throw new Error(`[Immer] minified error nr: ${A}. Full error at: https://bit.ly/3cXEKWf`)}var b=Object.getPrototypeOf;function h(A){return!!A&&!!A[_]}function y(A){var j;return A?I(A)||Array.isArray(A)||!!A[M]||!!((j=A.constructor)!=null&&j[M])||le(A)||W(A):!1}var C=Object.prototype.constructor.toString();function I(A){if(!A||typeof A!="object")return!1;const j=b(A);if(j===null)return!0;const ge=Object.hasOwnProperty.call(j,"constructor")&&j.constructor;return ge===Object?!0:typeof ge=="function"&&Function.toString.call(ge)===C}function z(A){return h(A)||x(15,A),A[_].base_}function D(A,j){X(A)===0?Reflect.ownKeys(A).forEach(ge=>{j(ge,A[ge],A)}):A.forEach((ge,Ie)=>j(Ie,ge,A))}function X(A){const j=A[_];return j?j.type_:Array.isArray(A)?1:le(A)?2:W(A)?3:0}function K(A,j){return X(A)===2?A.has(j):Object.prototype.hasOwnProperty.call(A,j)}function ue(A,j){return X(A)===2?A.get(j):A[j]}function Be(A,j,ge){const Ie=X(A);Ie===2?A.set(j,ge):Ie===3?A.add(ge):A[j]=ge}function se(A,j){return A===j?A!==0||1/A===1/j:A!==A&&j!==j}function le(A){return A instanceof Map}function W(A){return A instanceof Set}function ne(A){return A.copy_||A.base_}function oe(A,j){if(le(A))return new Map(A);if(W(A))return new Set(A);if(Array.isArray(A))return Array.prototype.slice.call(A);const ge=I(A);if(j===!0||j==="class_only"&&!ge){const Ie=Object.getOwnPropertyDescriptors(A);delete Ie[_];let ze=Reflect.ownKeys(Ie);for(let pt=0;pt<ze.length;pt++){const yt=ze[pt],it=Ie[yt];it.writable===!1&&(it.writable=!0,it.configurable=!0),(it.get||it.set)&&(Ie[yt]={configurable:!0,writable:!0,enumerable:it.enumerable,value:A[yt]})}return Object.create(b(A),Ie)}else{const Ie=b(A);if(Ie!==null&&ge)return Bt({},A);const ze=Object.create(Ie);return Object.assign(ze,A)}}function H(A,j=!1){return ie(A)||h(A)||!y(A)||(X(A)>1&&(A.set=A.add=A.clear=A.delete=Y),Object.freeze(A),j&&Object.entries(A).forEach(([ge,Ie])=>H(Ie,!0))),A}function Y(){x(2)}function ie(A){return Object.isFrozen(A)}var te={};function Ee(A){const j=te[A];return j||x(0,A),j}function Me(A,j){te[A]||(te[A]=j)}var R;function J(){return R}function Se(A,j){return{drafts_:[],parent_:A,immer_:j,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function we(A,j){j&&(Ee("Patches"),A.patches_=[],A.inversePatches_=[],A.patchListener_=j)}function je(A){Ce(A),A.drafts_.forEach(de),A.drafts_=null}function Ce(A){A===R&&(R=A.parent_)}function Q(A){return R=Se(R,A)}function de(A){const j=A[_];j.type_===0||j.type_===1?j.revoke_():j.revoked_=!0}function Ue(A,j){j.unfinalizedDrafts_=j.drafts_.length;const ge=j.drafts_[0];return A!==void 0&&A!==ge?(ge[_].modified_&&(je(j),x(4)),y(A)&&(A=Qe(j,A),j.parent_||Mt(j,A)),j.patches_&&Ee("Patches").generateReplacementPatches_(ge[_].base_,A,j.patches_,j.inversePatches_)):A=Qe(j,ge,[]),je(j),j.patches_&&j.patchListener_(j.patches_,j.inversePatches_),A!==i?A:void 0}function Qe(A,j,ge){if(ie(j))return j;const Ie=j[_];if(!Ie)return D(j,(ze,pt)=>Kt(A,Ie,j,ze,pt,ge)),j;if(Ie.scope_!==A)return j;if(!Ie.modified_)return Mt(A,Ie.base_,!0),Ie.base_;if(!Ie.finalized_){Ie.finalized_=!0,Ie.scope_.unfinalizedDrafts_--;const ze=Ie.copy_;let pt=ze,yt=!1;Ie.type_===3&&(pt=new Set(ze),ze.clear(),yt=!0),D(pt,(it,De)=>Kt(A,Ie,ze,it,De,ge,yt)),Mt(A,ze,!1),ge&&A.patches_&&Ee("Patches").generatePatches_(Ie,ge,A.patches_,A.inversePatches_)}return Ie.copy_}function Kt(A,j,ge,Ie,ze,pt,yt){if(h(ze)){const it=pt&&j&&j.type_!==3&&!K(j.assigned_,Ie)?pt.concat(Ie):void 0,De=Qe(A,ze,it);if(Be(ge,Ie,De),h(De))A.canAutoFreeze_=!1;else return}else yt&&ge.add(ze);if(y(ze)&&!ie(ze)){if(!A.immer_.autoFreeze_&&A.unfinalizedDrafts_<1)return;Qe(A,ze),(!j||!j.scope_.parent_)&&typeof Ie!="symbol"&&Object.prototype.propertyIsEnumerable.call(ge,Ie)&&Mt(A,ze)}}function Mt(A,j,ge=!1){!A.parent_&&A.immer_.autoFreeze_&&A.canAutoFreeze_&&H(j,ge)}function G(A,j){const ge=Array.isArray(A),Ie={type_:ge?1:0,scope_:j?j.scope_:J(),modified_:!1,finalized_:!1,assigned_:{},parent_:j,base_:A,draft_:null,copy_:null,revoke_:null,isManual_:!1};let ze=Ie,pt=fe;ge&&(ze=[Ie],pt=xe);const{revoke:yt,proxy:it}=Proxy.revocable(ze,pt);return Ie.draft_=it,Ie.revoke_=yt,it}var fe={get(A,j){if(j===_)return A;const ge=ne(A);if(!K(ge,j))return et(A,ge,j);const Ie=ge[j];return A.finalized_||!y(Ie)?Ie:Ie===me(A.base_,j)?(tt(A),A.copy_[j]=Ft(Ie,A)):Ie},has(A,j){return j in ne(A)},ownKeys(A){return Reflect.ownKeys(ne(A))},set(A,j,ge){const Ie=vt(ne(A),j);if(Ie!=null&&Ie.set)return Ie.set.call(A.draft_,ge),!0;if(!A.modified_){const ze=me(ne(A),j),pt=ze==null?void 0:ze[_];if(pt&&pt.base_===ge)return A.copy_[j]=ge,A.assigned_[j]=!1,!0;if(se(ge,ze)&&(ge!==void 0||K(A.base_,j)))return!0;tt(A),mt(A)}return A.copy_[j]===ge&&(ge!==void 0||j in A.copy_)||Number.isNaN(ge)&&Number.isNaN(A.copy_[j])||(A.copy_[j]=ge,A.assigned_[j]=!0),!0},deleteProperty(A,j){return me(A.base_,j)!==void 0||j in A.base_?(A.assigned_[j]=!1,tt(A),mt(A)):delete A.assigned_[j],A.copy_&&delete A.copy_[j],!0},getOwnPropertyDescriptor(A,j){const ge=ne(A),Ie=Reflect.getOwnPropertyDescriptor(ge,j);return Ie&&{writable:!0,configurable:A.type_!==1||j!=="length",enumerable:Ie.enumerable,value:ge[j]}},defineProperty(){x(11)},getPrototypeOf(A){return b(A.base_)},setPrototypeOf(){x(12)}},xe={};D(fe,(A,j)=>{xe[A]=function(){return arguments[0]=arguments[0][0],j.apply(this,arguments)}}),xe.deleteProperty=function(A,j){return xe.set.call(this,A,j,void 0)},xe.set=function(A,j,ge){return fe.set.call(this,A[0],j,ge,A[0])};function me(A,j){const ge=A[_];return(ge?ne(ge):A)[j]}function et(A,j,ge){var ze;const Ie=vt(j,ge);return Ie?"value"in Ie?Ie.value:(ze=Ie.get)==null?void 0:ze.call(A.draft_):void 0}function vt(A,j){if(!(j in A))return;let ge=b(A);for(;ge;){const Ie=Object.getOwnPropertyDescriptor(ge,j);if(Ie)return Ie;ge=b(ge)}}function mt(A){A.modified_||(A.modified_=!0,A.parent_&&mt(A.parent_))}function tt(A){A.copy_||(A.copy_=oe(A.base_,A.scope_.immer_.useStrictShallowCopy_))}var cn=class{constructor(A){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(j,ge,Ie)=>{if(typeof j=="function"&&typeof ge!="function"){const pt=ge;ge=j;const yt=this;return function(De=pt,...He){return yt.produce(De,Gt=>ge.call(this,Gt,...He))}}typeof ge!="function"&&x(6),Ie!==void 0&&typeof Ie!="function"&&x(7);let ze;if(y(j)){const pt=Q(this),yt=Ft(j,void 0);let it=!0;try{ze=ge(yt),it=!1}finally{it?je(pt):Ce(pt)}return we(pt,Ie),Ue(ze,pt)}else if(!j||typeof j!="object"){if(ze=ge(j),ze===void 0&&(ze=j),ze===i&&(ze=void 0),this.autoFreeze_&&H(ze,!0),Ie){const pt=[],yt=[];Ee("Patches").generateReplacementPatches_(j,ze,pt,yt),Ie(pt,yt)}return ze}else x(1,j)},this.produceWithPatches=(j,ge)=>{if(typeof j=="function")return(yt,...it)=>this.produceWithPatches(yt,De=>j(De,...it));let Ie,ze;return[this.produce(j,ge,(yt,it)=>{Ie=yt,ze=it}),Ie,ze]},typeof(A==null?void 0:A.autoFreeze)=="boolean"&&this.setAutoFreeze(A.autoFreeze),typeof(A==null?void 0:A.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(A.useStrictShallowCopy)}createDraft(A){y(A)||x(8),h(A)&&(A=Ke(A));const j=Q(this),ge=Ft(A,void 0);return ge[_].isManual_=!0,Ce(j),ge}finishDraft(A,j){const ge=A&&A[_];(!ge||!ge.isManual_)&&x(9);const{scope_:Ie}=ge;return we(Ie,j),Ue(void 0,Ie)}setAutoFreeze(A){this.autoFreeze_=A}setUseStrictShallowCopy(A){this.useStrictShallowCopy_=A}applyPatches(A,j){let ge;for(ge=j.length-1;ge>=0;ge--){const ze=j[ge];if(ze.path.length===0&&ze.op==="replace"){A=ze.value;break}}ge>-1&&(j=j.slice(ge+1));const Ie=Ee("Patches").applyPatches_;return h(A)?Ie(A,j):this.produce(A,ze=>Ie(ze,j))}};function Ft(A,j){const ge=le(A)?Ee("MapSet").proxyMap_(A,j):W(A)?Ee("MapSet").proxySet_(A,j):G(A,j);return(j?j.scope_:J()).drafts_.push(ge),ge}function Ke(A){return h(A)||x(10,A),lt(A)}function lt(A){if(!y(A)||ie(A))return A;const j=A[_];let ge;if(j){if(!j.modified_)return j.base_;j.finalized_=!0,ge=oe(A,j.scope_.immer_.useStrictShallowCopy_)}else ge=oe(A,!0);return D(ge,(Ie,ze)=>{Be(ge,Ie,lt(ze))}),j&&(j.finalized_=!1),ge}function tn(){const j="replace",ge="add",Ie="remove";function ze(Tt,nn,rn,Jt){switch(Tt.type_){case 0:case 2:return yt(Tt,nn,rn,Jt);case 1:return pt(Tt,nn,rn,Jt);case 3:return it(Tt,nn,rn,Jt)}}function pt(Tt,nn,rn,Jt){let{base_:Cn,assigned_:Pt}=Tt,Rt=Tt.copy_;Rt.length<Cn.length&&([Cn,Rt]=[Rt,Cn],[rn,Jt]=[Jt,rn]);for(let ct=0;ct<Cn.length;ct++)if(Pt[ct]&&Rt[ct]!==Cn[ct]){const Ct=nn.concat([ct]);rn.push({op:j,path:Ct,value:yn(Rt[ct])}),Jt.push({op:j,path:Ct,value:yn(Cn[ct])})}for(let ct=Cn.length;ct<Rt.length;ct++){const Ct=nn.concat([ct]);rn.push({op:ge,path:Ct,value:yn(Rt[ct])})}for(let ct=Rt.length-1;Cn.length<=ct;--ct){const Ct=nn.concat([ct]);Jt.push({op:Ie,path:Ct})}}function yt(Tt,nn,rn,Jt){const{base_:Cn,copy_:Pt}=Tt;D(Tt.assigned_,(Rt,ct)=>{const Ct=ue(Cn,Rt),sn=ue(Pt,Rt),ln=ct?K(Cn,Rt)?j:ge:Ie;if(Ct===sn&&ln===j)return;const un=nn.concat(Rt);rn.push(ln===Ie?{op:ln,path:un}:{op:ln,path:un,value:sn}),Jt.push(ln===ge?{op:Ie,path:un}:ln===Ie?{op:ge,path:un,value:yn(Ct)}:{op:j,path:un,value:yn(Ct)})})}function it(Tt,nn,rn,Jt){let{base_:Cn,copy_:Pt}=Tt,Rt=0;Cn.forEach(ct=>{if(!Pt.has(ct)){const Ct=nn.concat([Rt]);rn.push({op:Ie,path:Ct,value:ct}),Jt.unshift({op:ge,path:Ct,value:ct})}Rt++}),Rt=0,Pt.forEach(ct=>{if(!Cn.has(ct)){const Ct=nn.concat([Rt]);rn.push({op:ge,path:Ct,value:ct}),Jt.unshift({op:Ie,path:Ct,value:ct})}Rt++})}function De(Tt,nn,rn,Jt){rn.push({op:j,path:[],value:nn===i?void 0:nn}),Jt.push({op:j,path:[],value:Tt})}function He(Tt,nn){return nn.forEach(rn=>{const{path:Jt,op:Cn}=rn;let Pt=Tt;for(let sn=0;sn<Jt.length-1;sn++){const ln=X(Pt);let un=Jt[sn];typeof un!="string"&&typeof un!="number"&&(un=""+un),(ln===0||ln===1)&&(un==="__proto__"||un==="constructor")&&x(19),typeof Pt=="function"&&un==="prototype"&&x(19),Pt=ue(Pt,un),typeof Pt!="object"&&x(18,Jt.join("/"))}const Rt=X(Pt),ct=Gt(rn.value),Ct=Jt[Jt.length-1];switch(Cn){case j:switch(Rt){case 2:return Pt.set(Ct,ct);case 3:x(16);default:return Pt[Ct]=ct}case ge:switch(Rt){case 1:return Ct==="-"?Pt.push(ct):Pt.splice(Ct,0,ct);case 2:return Pt.set(Ct,ct);case 3:return Pt.add(ct);default:return Pt[Ct]=ct}case Ie:switch(Rt){case 1:return Pt.splice(Ct,1);case 2:return Pt.delete(Ct);case 3:return Pt.delete(rn.value);default:return delete Pt[Ct]}default:x(17,Cn)}}),Tt}function Gt(Tt){if(!y(Tt))return Tt;if(Array.isArray(Tt))return Tt.map(Gt);if(le(Tt))return new Map(Array.from(Tt.entries()).map(([rn,Jt])=>[rn,Gt(Jt)]));if(W(Tt))return new Set(Array.from(Tt).map(Gt));const nn=Object.create(b(Tt));for(const rn in Tt)nn[rn]=Gt(Tt[rn]);return K(Tt,M)&&(nn[M]=Tt[M]),nn}function yn(Tt){return h(Tt)?Gt(Tt):Tt}Me("Patches",{applyPatches_:He,generatePatches_:ze,generateReplacementPatches_:De})}function qe(){class A extends Map{constructor(De,He){super(),this[_]={type_:2,parent_:He,scope_:He?He.scope_:J(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:De,draft_:this,isManual_:!1,revoked_:!1}}get size(){return ne(this[_]).size}has(De){return ne(this[_]).has(De)}set(De,He){const Gt=this[_];return yt(Gt),(!ne(Gt).has(De)||ne(Gt).get(De)!==He)&&(ge(Gt),mt(Gt),Gt.assigned_.set(De,!0),Gt.copy_.set(De,He),Gt.assigned_.set(De,!0)),this}delete(De){if(!this.has(De))return!1;const He=this[_];return yt(He),ge(He),mt(He),He.base_.has(De)?He.assigned_.set(De,!1):He.assigned_.delete(De),He.copy_.delete(De),!0}clear(){const De=this[_];yt(De),ne(De).size&&(ge(De),mt(De),De.assigned_=new Map,D(De.base_,He=>{De.assigned_.set(He,!1)}),De.copy_.clear())}forEach(De,He){const Gt=this[_];ne(Gt).forEach((yn,Tt,nn)=>{De.call(He,this.get(Tt),Tt,this)})}get(De){const He=this[_];yt(He);const Gt=ne(He).get(De);if(He.finalized_||!y(Gt)||Gt!==He.base_.get(De))return Gt;const yn=Ft(Gt,He);return ge(He),He.copy_.set(De,yn),yn}keys(){return ne(this[_]).keys()}values(){const De=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const He=De.next();return He.done?He:{done:!1,value:this.get(He.value)}}}}entries(){const De=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const He=De.next();if(He.done)return He;const Gt=this.get(He.value);return{done:!1,value:[He.value,Gt]}}}}[Symbol.iterator](){return this.entries()}}function j(it,De){return new A(it,De)}function ge(it){it.copy_||(it.assigned_=new Map,it.copy_=new Map(it.base_))}class Ie extends Set{constructor(De,He){super(),this[_]={type_:3,parent_:He,scope_:He?He.scope_:J(),modified_:!1,finalized_:!1,copy_:void 0,base_:De,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return ne(this[_]).size}has(De){const He=this[_];return yt(He),He.copy_?!!(He.copy_.has(De)||He.drafts_.has(De)&&He.copy_.has(He.drafts_.get(De))):He.base_.has(De)}add(De){const He=this[_];return yt(He),this.has(De)||(pt(He),mt(He),He.copy_.add(De)),this}delete(De){if(!this.has(De))return!1;const He=this[_];return yt(He),pt(He),mt(He),He.copy_.delete(De)||(He.drafts_.has(De)?He.copy_.delete(He.drafts_.get(De)):!1)}clear(){const De=this[_];yt(De),ne(De).size&&(pt(De),mt(De),De.copy_.clear())}values(){const De=this[_];return yt(De),pt(De),De.copy_.values()}entries(){const De=this[_];return yt(De),pt(De),De.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(De,He){const Gt=this.values();let yn=Gt.next();for(;!yn.done;)De.call(He,yn.value,yn.value,this),yn=Gt.next()}}function ze(it,De){return new Ie(it,De)}function pt(it){it.copy_||(it.copy_=new Set,it.base_.forEach(De=>{if(y(De)){const He=Ft(De,it);it.drafts_.set(De,He),it.copy_.add(He)}else it.copy_.add(De)}))}function yt(it){it.revoked_&&x(3,JSON.stringify(ne(it)))}Me("MapSet",{proxyMap_:j,proxySet_:ze})}var Sn=new cn,Pn=Sn.produce,Tn=Sn.produceWithPatches.bind(Sn),Le=Sn.setAutoFreeze.bind(Sn),jt=Sn.setUseStrictShallowCopy.bind(Sn),Nt=Sn.applyPatches.bind(Sn),rt=Sn.createDraft.bind(Sn),at=Sn.finishDraft.bind(Sn);function en(A){return A}function on(A){return A}},13727:function(B,Z,d){"use strict";d.d(Z,{Z:function(){return le}});var i=d(99615),M=i.Z.Symbol,_=M,T=Object.prototype,x=T.hasOwnProperty,b=T.toString,h=_?_.toStringTag:void 0;function y(W){var ne=x.call(W,h),oe=W[h];try{W[h]=void 0;var H=!0}catch(ie){}var Y=b.call(W);return H&&(ne?W[h]=oe:delete W[h]),Y}var C=y,I=Object.prototype,z=I.toString;function D(W){return z.call(W)}var X=D,K="[object Null]",ue="[object Undefined]",Be=_?_.toStringTag:void 0;function se(W){return W==null?W===void 0?ue:K:Be&&Be in Object(W)?C(W):X(W)}var le=se},97889:function(B,Z){"use strict";var d=typeof global=="object"&&global&&global.Object===Object&&global;Z.Z=d},99615:function(B,Z,d){"use strict";var i=d(97889),M=typeof self=="object"&&self&&self.Object===Object&&self,_=i.Z||M||Function("return this")();Z.Z=_},16116:function(B,Z,d){"use strict";d.d(Z,{Z:function(){return Me}});var i=d(82433),M=d(99615),_=function(){return M.Z.Date.now()},T=_,x=/\s/;function b(R){for(var J=R.length;J--&&x.test(R.charAt(J)););return J}var h=b,y=/^\s+/;function C(R){return R&&R.slice(0,h(R)+1).replace(y,"")}var I=C,z=d(13727),D=d(13795),X="[object Symbol]";function K(R){return typeof R=="symbol"||(0,D.Z)(R)&&(0,z.Z)(R)==X}var ue=K,Be=NaN,se=/^[-+]0x[0-9a-f]+$/i,le=/^0b[01]+$/i,W=/^0o[0-7]+$/i,ne=parseInt;function oe(R){if(typeof R=="number")return R;if(ue(R))return Be;if((0,i.Z)(R)){var J=typeof R.valueOf=="function"?R.valueOf():R;R=(0,i.Z)(J)?J+"":J}if(typeof R!="string")return R===0?R:+R;R=I(R);var Se=le.test(R);return Se||W.test(R)?ne(R.slice(2),Se?2:8):se.test(R)?Be:+R}var H=oe,Y="Expected a function",ie=Math.max,te=Math.min;function Ee(R,J,Se){var we,je,Ce,Q,de,Ue,Qe=0,Kt=!1,Mt=!1,G=!0;if(typeof R!="function")throw new TypeError(Y);J=H(J)||0,(0,i.Z)(Se)&&(Kt=!!Se.leading,Mt="maxWait"in Se,Ce=Mt?ie(H(Se.maxWait)||0,J):Ce,G="trailing"in Se?!!Se.trailing:G);function fe(Ke){var lt=we,tn=je;return we=je=void 0,Qe=Ke,Q=R.apply(tn,lt),Q}function xe(Ke){return Qe=Ke,de=setTimeout(vt,J),Kt?fe(Ke):Q}function me(Ke){var lt=Ke-Ue,tn=Ke-Qe,qe=J-lt;return Mt?te(qe,Ce-tn):qe}function et(Ke){var lt=Ke-Ue,tn=Ke-Qe;return Ue===void 0||lt>=J||lt<0||Mt&&tn>=Ce}function vt(){var Ke=T();if(et(Ke))return mt(Ke);de=setTimeout(vt,me(Ke))}function mt(Ke){return de=void 0,G&&we?fe(Ke):(we=je=void 0,Q)}function tt(){de!==void 0&&clearTimeout(de),Qe=0,we=Ue=je=de=void 0}function cn(){return de===void 0?Q:mt(T())}function Ft(){var Ke=T(),lt=et(Ke);if(we=arguments,je=this,Ue=Ke,lt){if(de===void 0)return xe(Ue);if(Mt)return clearTimeout(de),de=setTimeout(vt,J),fe(Ue)}return de===void 0&&(de=setTimeout(vt,J)),Q}return Ft.cancel=tt,Ft.flush=cn,Ft}var Me=Ee},97459:function(B,Z){"use strict";function d(i){return i===null}Z.Z=d},82433:function(B,Z){"use strict";function d(i){var M=typeof i;return i!=null&&(M=="object"||M=="function")}Z.Z=d},13795:function(B,Z){"use strict";function d(i){return i!=null&&typeof i=="object"}Z.Z=d},62071:function(B,Z,d){"use strict";d.d(Z,{Z:function(){return O}});function i(){this.__data__=[],this.size=0}var M=i;function _(l,v){return l===v||l!==l&&v!==v}var T=_;function x(l,v){for(var E=l.length;E--;)if(T(l[E][0],v))return E;return-1}var b=x,h=Array.prototype,y=h.splice;function C(l){var v=this.__data__,E=b(v,l);if(E<0)return!1;var L=v.length-1;return E==L?v.pop():y.call(v,E,1),--this.size,!0}var I=C;function z(l){var v=this.__data__,E=b(v,l);return E<0?void 0:v[E][1]}var D=z;function X(l){return b(this.__data__,l)>-1}var K=X;function ue(l,v){var E=this.__data__,L=b(E,l);return L<0?(++this.size,E.push([l,v])):E[L][1]=v,this}var Be=ue;function se(l){var v=-1,E=l==null?0:l.length;for(this.clear();++v<E;){var L=l[v];this.set(L[0],L[1])}}se.prototype.clear=M,se.prototype.delete=I,se.prototype.get=D,se.prototype.has=K,se.prototype.set=Be;var le=se;function W(){this.__data__=new le,this.size=0}var ne=W;function oe(l){var v=this.__data__,E=v.delete(l);return this.size=v.size,E}var H=oe;function Y(l){return this.__data__.get(l)}var ie=Y;function te(l){return this.__data__.has(l)}var Ee=te,Me=d(13727),R=d(82433),J="[object AsyncFunction]",Se="[object Function]",we="[object GeneratorFunction]",je="[object Proxy]";function Ce(l){if(!(0,R.Z)(l))return!1;var v=(0,Me.Z)(l);return v==Se||v==we||v==J||v==je}var Q=Ce,de=d(99615),Ue=de.Z["__core-js_shared__"],Qe=Ue,Kt=function(){var l=/[^.]+$/.exec(Qe&&Qe.keys&&Qe.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}();function Mt(l){return!!Kt&&Kt in l}var G=Mt,fe=Function.prototype,xe=fe.toString;function me(l){if(l!=null){try{return xe.call(l)}catch(v){}try{return l+""}catch(v){}}return""}var et=me,vt=/[\\^$.*+?()[\]{}|]/g,mt=/^\[object .+?Constructor\]$/,tt=Function.prototype,cn=Object.prototype,Ft=tt.toString,Ke=cn.hasOwnProperty,lt=RegExp("^"+Ft.call(Ke).replace(vt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tn(l){if(!(0,R.Z)(l)||G(l))return!1;var v=Q(l)?lt:mt;return v.test(et(l))}var qe=tn;function Sn(l,v){return l==null?void 0:l[v]}var Pn=Sn;function Tn(l,v){var E=Pn(l,v);return qe(E)?E:void 0}var Le=Tn,jt=Le(de.Z,"Map"),Nt=jt,rt=Le(Object,"create"),at=rt;function en(){this.__data__=at?at(null):{},this.size=0}var on=en;function A(l){var v=this.has(l)&&delete this.__data__[l];return this.size-=v?1:0,v}var j=A,ge="__lodash_hash_undefined__",Ie=Object.prototype,ze=Ie.hasOwnProperty;function pt(l){var v=this.__data__;if(at){var E=v[l];return E===ge?void 0:E}return ze.call(v,l)?v[l]:void 0}var yt=pt,it=Object.prototype,De=it.hasOwnProperty;function He(l){var v=this.__data__;return at?v[l]!==void 0:De.call(v,l)}var Gt=He,yn="__lodash_hash_undefined__";function Tt(l,v){var E=this.__data__;return this.size+=this.has(l)?0:1,E[l]=at&&v===void 0?yn:v,this}var nn=Tt;function rn(l){var v=-1,E=l==null?0:l.length;for(this.clear();++v<E;){var L=l[v];this.set(L[0],L[1])}}rn.prototype.clear=on,rn.prototype.delete=j,rn.prototype.get=yt,rn.prototype.has=Gt,rn.prototype.set=nn;var Jt=rn;function Cn(){this.size=0,this.__data__={hash:new Jt,map:new(Nt||le),string:new Jt}}var Pt=Cn;function Rt(l){var v=typeof l;return v=="string"||v=="number"||v=="symbol"||v=="boolean"?l!=="__proto__":l===null}var ct=Rt;function Ct(l,v){var E=l.__data__;return ct(v)?E[typeof v=="string"?"string":"hash"]:E.map}var sn=Ct;function ln(l){var v=sn(this,l).delete(l);return this.size-=v?1:0,v}var un=ln;function vn(l){return sn(this,l).get(l)}var pr=vn;function Gn(l){return sn(this,l).has(l)}var mr=Gn;function sr(l,v){var E=sn(this,l),L=E.size;return E.set(l,v),this.size+=E.size==L?0:1,this}var wn=sr;function xn(l){var v=-1,E=l==null?0:l.length;for(this.clear();++v<E;){var L=l[v];this.set(L[0],L[1])}}xn.prototype.clear=Pt,xn.prototype.delete=un,xn.prototype.get=pr,xn.prototype.has=mr,xn.prototype.set=wn;var tr=xn,Dr=200;function Qt(l,v){var E=this.__data__;if(E instanceof le){var L=E.__data__;if(!Nt||L.length<Dr-1)return L.push([l,v]),this.size=++E.size,this;E=this.__data__=new tr(L)}return E.set(l,v),this.size=E.size,this}var bn=Qt;function kn(l){var v=this.__data__=new le(l);this.size=v.size}kn.prototype.clear=ne,kn.prototype.delete=H,kn.prototype.get=ie,kn.prototype.has=Ee,kn.prototype.set=bn;var Qn=kn,U=function(){try{var l=Le(Object,"defineProperty");return l({},"",{}),l}catch(v){}}(),he=U;function Je(l,v,E){v=="__proto__"&&he?he(l,v,{configurable:!0,enumerable:!0,value:E,writable:!0}):l[v]=E}var ot=Je;function $e(l,v,E){(E!==void 0&&!T(l[v],E)||E===void 0&&!(v in l))&&ot(l,v,E)}var ht=$e;function kt(l){return function(v,E,L){for(var $=-1,ye=Object(v),re=L(v),be=re.length;be--;){var ve=re[l?be:++$];if(E(ye[ve],ve,ye)===!1)break}return v}}var St=kt,Ht=St(),hn=Ht,On=typeof exports=="object"&&exports&&!exports.nodeType&&exports,nr=On&&typeof module=="object"&&module&&!module.nodeType&&module,yr=nr&&nr.exports===On,ar=yr?de.Z.Buffer:void 0,Xn=ar?ar.allocUnsafe:void 0;function wo(l,v){if(v)return l.slice();var E=l.length,L=Xn?Xn(E):new l.constructor(E);return l.copy(L),L}var to=wo,ti=de.Z.Uint8Array,Pr=ti;function no(l){var v=new l.constructor(l.byteLength);return new Pr(v).set(new Pr(l)),v}var jo=no;function Mo(l,v){var E=v?jo(l.buffer):l.buffer;return new l.constructor(E,l.byteOffset,l.length)}var ro=Mo;function _n(l,v){var E=-1,L=l.length;for(v||(v=Array(L));++E<L;)v[E]=l[E];return v}var Oi=_n,No=Object.create,ns=function(){function l(){}return function(v){if(!(0,R.Z)(v))return{};if(No)return No(v);l.prototype=v;var E=new l;return l.prototype=void 0,E}}(),ni=ns;function oo(l,v){return function(E){return l(v(E))}}var rs=oo,Mi=rs(Object.getPrototypeOf,Object),Ni=Mi,Do=Object.prototype;function bo(l){var v=l&&l.constructor,E=typeof v=="function"&&v.prototype||Do;return l===E}var ri=bo;function Di(l){return typeof l.constructor=="function"&&!ri(l)?ni(Ni(l)):{}}var Pi=Di,vr=d(13795),io="[object Arguments]";function Ri(l){return(0,vr.Z)(l)&&(0,Me.Z)(l)==io}var oi=Ri,Li=Object.prototype,rr=Li.hasOwnProperty,so=Li.propertyIsEnumerable,Bn=oi(function(){return arguments}())?oi:function(l){return(0,vr.Z)(l)&&rr.call(l,"callee")&&!so.call(l,"callee")},xo=Bn,Zo=Array.isArray,Po=Zo,os=9007199254740991;function is(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=os}var Bi=is;function ii(l){return l!=null&&Bi(l.length)&&!Q(l)}var si=ii;function An(l){return(0,vr.Z)(l)&&si(l)}var kr=An;function Ro(){return!1}var ao=Ro,ai=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$o=ai&&typeof module=="object"&&module&&!module.nodeType&&module,co=$o&&$o.exports===ai,Ui=co?de.Z.Buffer:void 0,Ho=Ui?Ui.isBuffer:void 0,zi=Ho||ao,Xr=zi,cr="[object Object]",wr=Function.prototype,lo=Object.prototype,Lo=wr.toString,Fi=lo.hasOwnProperty,Vi=Lo.call(Object);function Wo(l){if(!(0,vr.Z)(l)||(0,Me.Z)(l)!=cr)return!1;var v=Ni(l);if(v===null)return!0;var E=Fi.call(v,"constructor")&&v.constructor;return typeof E=="function"&&E instanceof E&&Lo.call(E)==Vi}var ci=Wo,_o="[object Arguments]",li="[object Array]",ji="[object Boolean]",Ir="[object Date]",Eo="[object Error]",Rr="[object Function]",Tr="[object Map]",ui="[object Number]",Bo="[object Object]",di="[object RegExp]",Zi="[object Set]",uo="[object String]",So="[object WeakMap]",Co="[object ArrayBuffer]",ss="[object DataView]",Fr="[object Float32Array]",Uo="[object Float64Array]",fi="[object Int8Array]",fo="[object Int16Array]",zo="[object Int32Array]",as="[object Uint8Array]",cs="[object Uint8ClampedArray]",$i="[object Uint16Array]",Hi="[object Uint32Array]",zn={};zn[Fr]=zn[Uo]=zn[fi]=zn[fo]=zn[zo]=zn[as]=zn[cs]=zn[$i]=zn[Hi]=!0,zn[_o]=zn[li]=zn[Co]=zn[ji]=zn[ss]=zn[Ir]=zn[Eo]=zn[Rr]=zn[Tr]=zn[ui]=zn[Bo]=zn[di]=zn[Zi]=zn[uo]=zn[So]=!1;function ls(l){return(0,vr.Z)(l)&&Bi(l.length)&&!!zn[(0,Me.Z)(l)]}var Wi=ls;function a(l){return function(v){return l(v)}}var g=a,k=d(97889),F=typeof exports=="object"&&exports&&!exports.nodeType&&exports,pe=F&&typeof module=="object"&&module&&!module.nodeType&&module,_e=pe&&pe.exports===F,ae=_e&&k.Z.process,Pe=function(){try{var l=pe&&pe.require&&pe.require("util").types;return l||ae&&ae.binding&&ae.binding("util")}catch(v){}}(),We=Pe,Ge=We&&We.isTypedArray,Xe=Ge?g(Ge):Wi,Vt=Xe;function Zt(l,v){if(!(v==="constructor"&&typeof l[v]=="function")&&v!="__proto__")return l[v]}var an=Zt,lr=Object.prototype,Vn=lr.hasOwnProperty;function gr(l,v,E){var L=l[v];(!(Vn.call(l,v)&&T(L,E))||E===void 0&&!(v in l))&&ot(l,v,E)}var dn=gr;function Vr(l,v,E,L){var $=!E;E||(E={});for(var ye=-1,re=v.length;++ye<re;){var be=v[ye],ve=L?L(E[be],l[be],be,E,l):void 0;ve===void 0&&(ve=l[be]),$?ot(E,be,ve):dn(E,be,ve)}return E}var br=Vr;function Lr(l,v){for(var E=-1,L=Array(l);++E<l;)L[E]=v(E);return L}var jr=Lr,xr=9007199254740991,Ko=/^(?:0|[1-9]\d*)$/;function fr(l,v){var E=typeof l;return v=v==null?xr:v,!!v&&(E=="number"||E!="symbol"&&Ko.test(l))&&l>-1&&l%1==0&&l<v}var Ar=fr,Go=Object.prototype,Xo=Go.hasOwnProperty;function _r(l,v){var E=Po(l),L=!E&&xo(l),$=!E&&!L&&Xr(l),ye=!E&&!L&&!$&&Vt(l),re=E||L||$||ye,be=re?jr(l.length,String):[],ve=be.length;for(var Oe in l)(v||Xo.call(l,Oe))&&!(re&&(Oe=="length"||$&&(Oe=="offset"||Oe=="parent")||ye&&(Oe=="buffer"||Oe=="byteLength"||Oe=="byteOffset")||Ar(Oe,ve)))&&be.push(Oe);return be}var Ki=_r;function Te(l){var v=[];if(l!=null)for(var E in Object(l))v.push(E);return v}var Dt=Te,Ye=Object.prototype,Ut=Ye.hasOwnProperty;function pn(l){if(!(0,R.Z)(l))return Dt(l);var v=ri(l),E=[];for(var L in l)L=="constructor"&&(v||!Ut.call(l,L))||E.push(L);return E}var gn=pn;function In(l){return si(l)?Ki(l,!0):gn(l)}var Rn=In;function jn(l){return br(l,Rn(l))}var Or=jn;function Kn(l,v,E,L,$,ye,re){var be=an(l,E),ve=an(v,E),Oe=re.get(ve);if(Oe){ht(l,E,Oe);return}var Ae=ye?ye(be,ve,E+"",l,v,re):void 0,Ne=Ae===void 0;if(Ne){var Fe=Po(ve),gt=!Fe&&Xr(ve),ut=!Fe&&!gt&&Vt(ve);Ae=ve,Fe||gt||ut?Po(be)?Ae=be:kr(be)?Ae=Oi(be):gt?(Ne=!1,Ae=to(ve,!0)):ut?(Ne=!1,Ae=ro(ve,!0)):Ae=[]:ci(ve)||xo(ve)?(Ae=be,xo(be)?Ae=Or(be):(!(0,R.Z)(be)||Q(be))&&(Ae=Pi(ve))):Ne=!1}Ne&&(re.set(ve,Ae),$(Ae,ve,L,ye,re),re.delete(ve)),ht(l,E,Ae)}var Hn=Kn;function Br(l,v,E,L,$){l!==v&&hn(v,function(ye,re){if($||($=new Qn),(0,R.Z)(ye))Hn(l,v,re,E,Br,L,$);else{var be=L?L(an(l,re),ye,re+"",l,v,$):void 0;be===void 0&&(be=ye),ht(l,re,be)}},Rn)}var Mr=Br;function Zr(l){return l}var or=Zr;function us(l,v,E){switch(E.length){case 0:return l.call(v);case 1:return l.call(v,E[0]);case 2:return l.call(v,E[0],E[1]);case 3:return l.call(v,E[0],E[1],E[2])}return l.apply(v,E)}var ks=us,Is=Math.max;function Ts(l,v,E){return v=Is(v===void 0?l.length-1:v,0),function(){for(var L=arguments,$=-1,ye=Is(L.length-v,0),re=Array(ye);++$<ye;)re[$]=L[v+$];$=-1;for(var be=Array(v+1);++$<v;)be[$]=L[$];return be[v]=E(re),ks(l,this,be)}}var Ws=Ts;function As(l){return function(){return l}}var Ks=As,ds=he?function(l,v){return he(l,"toString",{configurable:!0,enumerable:!1,value:Ks(v),writable:!0})}:or,Os=ds,Ms=800,Ns=16,Ds=Date.now;function Gs(l){var v=0,E=0;return function(){var L=Ds(),$=Ns-(L-E);if(E=L,$>0){if(++v>=Ms)return arguments[0]}else v=0;return l.apply(void 0,arguments)}}var Xs=Gs,Ys=Xs(Os),Js=Ys;function Qs(l,v){return Js(Ws(l,v,or),l+"")}var o=Qs;function c(l,v,E){if(!(0,R.Z)(E))return!1;var L=typeof v;return(L=="number"?si(E)&&Ar(v,E.length):L=="string"&&v in E)?T(E[v],l):!1}var p=c;function m(l){return o(function(v,E){var L=-1,$=E.length,ye=$>1?E[$-1]:void 0,re=$>2?E[2]:void 0;for(ye=l.length>3&&typeof ye=="function"?($--,ye):void 0,re&&p(E[0],E[1],re)&&(ye=$<3?void 0:ye,$=1),v=Object(v);++L<$;){var be=E[L];be&&l(v,be,L,ye)}return v})}var w=m,N=w(function(l,v,E){Mr(l,v,E)}),O=N},67197:function(B,Z,d){"use strict";d.d(Z,{kP:function(){return _}});let i=x=>crypto.getRandomValues(new Uint8Array(x)),M=(x,b,h)=>{let y=(2<<Math.log(x.length-1)/Math.LN2)-1,C=-~(1.6*y*b/x.length);return(I=b)=>{let z="";for(;;){let D=h(C),X=C;for(;X--;)if(z+=x[D[X]&y]||"",z.length===I)return z}}},_=(x,b=21)=>M(x,b,i),T=(x=21)=>crypto.getRandomValues(new Uint8Array(x)).reduce((b,h)=>(h&=63,h<36?b+=h.toString(36):h<62?b+=(h-26).toString(36).toUpperCase():h>62?b+="-":b+="_",b),"")},5449:function(B,Z,d){"use strict";d.d(Z,{QW:function(){return qo},H6:function(){return dl}});const i=()=>new Map,M=t=>{const e=i();return t.forEach((n,r)=>{e.set(r,n)}),e},_=(t,e,n)=>{let r=t.get(e);return r===void 0&&t.set(e,r=n()),r},T=(t,e)=>{const n=[];for(const[r,s]of t)n.push(e(s,r));return n},x=(t,e)=>{for(const[n,r]of t)if(e(r,n))return!0;return!1},b=(t,e)=>{for(const[n,r]of t)if(!e(r,n))return!1;return!0},h=()=>new Set,y=t=>Array.from(t),C=t=>{var e;return(e=t.values().next().value)!=null?e:void 0},I=t=>new Set(t),z=t=>t[t.length-1],D=()=>[],X=t=>t.slice(),K=(t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},ue=Array.from,Be=(t,e)=>{for(let n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0},se=(t,e)=>{for(let n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},le=(t,e)=>t.length===e.length&&Be(t,(n,r)=>n===e[r]),W=t=>oe(t,[],(e,n)=>e.concat(n)),ne=(t,e)=>{const n=new Array(t);for(let r=0;r<t;r++)n[r]=e(r,n);return n},oe=(t,e,n)=>t.reduce(n,e),H=Array.isArray,Y=t=>ue(set.from(t)),ie=(t,e)=>{const n=set.create(),r=[];for(let s=0;s<t.length;s++){const u=t[s],S=e(u);n.has(S)||(n.add(S),r.push(u))}return r},te=(t,e)=>{const n=Array(t.length);for(let r=0;r<t.length;r++)n[r]=e(t[r],r,t);return n};class Ee{constructor(){this._observers=i()}on(e,n){return _(this._observers,e,h).add(n),n}once(e,n){const r=(...s)=>{this.off(e,r),n(...s)};this.on(e,r)}off(e,n){const r=this._observers.get(e);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(e))}emit(e,n){return ue((this._observers.get(e)||i()).values()).forEach(r=>r(...n))}destroy(){this._observers=i()}}class Me{constructor(){this._observers=map.create()}on(e,n){map.setIfUndefined(this._observers,e,set.create).add(n)}once(e,n){const r=(...s)=>{this.off(e,r),n(...s)};this.on(e,r)}off(e,n){const r=this._observers.get(e);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(e))}emit(e,n){return array.from((this._observers.get(e)||map.create()).values()).forEach(r=>r(...n))}destroy(){this._observers=map.create()}}const R=Math.floor,J=Math.ceil,Se=Math.abs,we=Math.imul,je=Math.round,Ce=Math.log10,Q=Math.log2,de=Math.log,Ue=Math.sqrt,Qe=(t,e)=>t+e,Kt=(t,e)=>t<e?t:e,Mt=(t,e)=>t>e?t:e,G=Number.isNaN,fe=Math.pow,xe=t=>Math.pow(10,t),me=Math.sign,et=t=>t!==0?t<0:1/t<0,vt=1,mt=2,tt=4,cn=8,Ft=16,Ke=32,lt=64,tn=128,qe=256,Sn=512,Pn=1024,Tn=2048,Le=4096,jt=8192,Nt=16384,rt=32768,at=65536,en=1<<17,on=1<<18,A=1<<19,j=1<<20,ge=1<<21,Ie=1<<22,ze=1<<23,pt=1<<24,yt=1<<25,it=1<<26,De=1<<27,He=1<<28,Gt=1<<29,yn=1<<30,Tt=null,nn=0,rn=1,Jt=3,Cn=7,Pt=15,Rt=31,ct=63,Ct=127,sn=255,ln=511,un=1023,vn=2047,pr=4095,Gn=8191,mr=16383,sr=32767,wn=65535,xn=en-1,tr=on-1,Dr=A-1,Qt=j-1,bn=ge-1,kn=Ie-1,Qn=ze-1,U=pt-1,he=yt-1,Je=it-1,ot=De-1,$e=He-1,ht=Gt-1,kt=yn-1,St=2147483647,Ht=4294967295,hn=Number.MAX_SAFE_INTEGER,On=Number.MIN_SAFE_INTEGER,nr=null,yr=St,ar=Ht,Xn=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&R(t)===t),wo=Number.isNaN,to=Number.parseInt,ti=t=>{t&=binary.BITS32;let e=0;for(;t;)t&=t-1,e++;return e},Pr=String.fromCharCode,no=String.fromCodePoint,jo=Pr(65535),Mo=t=>t.toLowerCase(),ro=/^\s*/g,_n=t=>t.replace(ro,""),Oi=/([A-Z])/g,No=(t,e)=>_n(t.replace(Oi,n=>`${e}${Mo(n)}`)),ns=t=>unescape(encodeURIComponent(t)).length,ni=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=e.codePointAt(s);return r},oo=typeof TextEncoder!="undefined"?new TextEncoder:null,Mi=oo?t=>oo.encode(t):ni,Ni=t=>{let e=t.length,n="",r=0;for(;e>0;){const s=e<1e4?e:1e4,u=t.subarray(r,r+s);r+=s,n+=String.fromCodePoint.apply(null,u),e-=s}return decodeURIComponent(escape(n))};let Do=typeof TextDecoder=="undefined"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Do&&Do.decode(new Uint8Array).length===1&&(Do=null);const bo=t=>Do.decode(t),ri=null,Di=(t,e,n,r="")=>t.slice(0,e)+r+t.slice(e+n),Pi=(t,e)=>array.unfold(e,()=>t).join("");class vr{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const io=()=>new vr,Ri=t=>{const e=io();return t(e),rr(e)},oi=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},Li=t=>t.cpos>0||t.bufs.length>0,rr=t=>{const e=new Uint8Array(oi(t));let n=0;for(let r=0;r<t.bufs.length;r++){const s=t.bufs[r];e.set(s,n),n+=s.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},so=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(Mt(n,e)*2),t.cpos=0)},Bn=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},xo=(t,e,n)=>{let r=null;for(let s=0;s<t.bufs.length&&r===null;s++){const u=t.bufs[s];e<u.length?r=u:e-=u.length}r===null&&(r=t.cbuf),r[e]=n},Zo=Bn,Po=null,os=(t,e)=>{Bn(t,e&binary.BITS8),Bn(t,e>>>8&binary.BITS8)},is=(t,e,n)=>{xo(t,e,n&binary.BITS8),xo(t,e+1,n>>>8&binary.BITS8)},Bi=(t,e)=>{for(let n=0;n<4;n++)Bn(t,e&binary.BITS8),e>>>=8},ii=(t,e)=>{for(let n=3;n>=0;n--)Bn(t,e>>>8*n&binary.BITS8)},si=(t,e,n)=>{for(let r=0;r<4;r++)xo(t,e+r,n&binary.BITS8),n>>>=8},An=(t,e)=>{for(;e>Ct;)Bn(t,tn|Ct&e),e=R(e/128);Bn(t,Ct&e)},kr=(t,e)=>{const n=et(e);for(n&&(e=-e),Bn(t,(e>ct?tn:0)|(n?lt:0)|ct&e),e=R(e/64);e>0;)Bn(t,(e>Ct?tn:0)|Ct&e),e=R(e/128)},Ro=new Uint8Array(3e4),ao=Ro.length/3,ai=(t,e)=>{if(e.length<ao){const n=oo.encodeInto(e,Ro).written||0;An(t,n);for(let r=0;r<n;r++)Bn(t,Ro[r])}else cr(t,Mi(e))},$o=(t,e)=>{const n=unescape(encodeURIComponent(e)),r=n.length;An(t,r);for(let s=0;s<r;s++)Bn(t,n.codePointAt(s))},co=oo&&oo.encodeInto?ai:$o,Ui=(t,e)=>Ho(t,string.encodeUtf8(e)),Ho=(t,e)=>{for(let n=0;n<e.length;n++){const r=e[n];(r===0||r===1)&&Bn(t,1),Bn(t,e[n])}Bn(t,0)},zi=(t,e)=>Xr(t,rr(e)),Xr=(t,e)=>{const n=t.cbuf.length,r=t.cpos,s=Kt(n-r,e.length),u=e.length-s;t.cbuf.set(e.subarray(0,s),r),t.cpos+=s,u>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(Mt(n*2,u)),t.cbuf.set(e.subarray(s)),t.cpos=u)},cr=(t,e)=>{An(t,e.byteLength),Xr(t,e)},wr=(t,e)=>{so(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},lo=(t,e)=>wr(t,4).setFloat32(0,e,!1),Lo=(t,e)=>wr(t,8).setFloat64(0,e,!1),Fi=(t,e)=>wr(t,8).setBigInt64(0,e,!1),Vi=(t,e)=>wr(t,8).setBigUint64(0,e,!1),Wo=new DataView(new ArrayBuffer(4)),ci=t=>(Wo.setFloat32(0,t),Wo.getFloat32(0)===t),_o=(t,e)=>{switch(typeof e){case"string":Bn(t,119),co(t,e);break;case"number":Xn(e)&&Se(e)<=St?(Bn(t,125),kr(t,e)):ci(e)?(Bn(t,124),lo(t,e)):(Bn(t,123),Lo(t,e));break;case"bigint":Bn(t,122),Fi(t,e);break;case"object":if(e===null)Bn(t,126);else if(H(e)){Bn(t,117),An(t,e.length);for(let n=0;n<e.length;n++)_o(t,e[n])}else if(e instanceof Uint8Array)Bn(t,116),cr(t,e);else{Bn(t,118);const n=Object.keys(e);An(t,n.length);for(let r=0;r<n.length;r++){const s=n[r];co(t,s),_o(t,e[s])}}break;case"boolean":Bn(t,e?120:121);break;default:Bn(t,127)}};class li extends vr{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&An(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}class ji extends null{constructor(e){super(),this.s=e}write(e){kr(this,e-this.s),this.s=e}}class Ir extends null{constructor(e){super(),this.s=e,this.count=0}write(e){this.s===e&&this.count>0?this.count++:(this.count>0&&An(this,this.count-1),this.count=1,kr(this,e-this.s),this.s=e)}}const Eo=t=>{t.count>0&&(kr(t.encoder,t.count===1?t.s:-t.s),t.count>1&&An(t.encoder,t.count-2))};class Rr{constructor(){this.encoder=new vr,this.s=0,this.count=0}write(e){this.s===e?this.count++:(Eo(this),this.count=1,this.s=e)}toUint8Array(){return Eo(this),rr(this.encoder)}}class Tr{constructor(){this.encoder=new vr,this.s=0,this.count=0}write(e){this.s+this.count===e?this.count++:(Eo(this),this.count=1,this.s=e)}toUint8Array(){return Eo(this),rr(this.encoder)}}const ui=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);kr(t.encoder,e),t.count>1&&An(t.encoder,t.count-2)}};class Bo{constructor(){this.encoder=new vr,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(ui(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return ui(this),rr(this.encoder)}}class di{constructor(){this.sarr=[],this.s="",this.lensE=new Rr}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new vr;return this.sarr.push(this.s),this.s="",co(e,this.sarr.join("")),Xr(e,this.lensE.toUint8Array()),rr(e)}}const Zi=crypto.subtle,uo=crypto.getRandomValues.bind(crypto),So=Math.random,Co=()=>uo(new Uint32Array(1))[0],ss=()=>{const t=getRandomValues(new Uint32Array(8));return(t[0]&binary.BITS21)*(binary.BITS32+1)+(t[1]>>>0)},Fr=t=>t[math.floor(So()*t.length)],Uo="10000000-1000-4000-8000"+-1e11,fi=()=>Uo.replace(/[018]/g,t=>(t^Co()&15>>t/4).toString(16)),fo=t=>new Promise(t),zo=t=>new Promise(t),as=Promise.all.bind(Promise),cs=t=>Promise.reject(t),$i=t=>Promise.resolve(t),Hi=t=>Promise.resolve(t),zn=(t,e,n=10)=>fo((r,s)=>{const u=time.getUnixTime(),S=t>0,V=setInterval(()=>{e()?(clearInterval(V),r()):S&&time.getUnixTime()-u>t&&(clearInterval(V),s(new Error("Timeout")))},n)}),ls=(t,e=0,n=10)=>Qc(this,null,function*(){const r=time.getUnixTime(),s=e<=0;for(;s||time.getUnixTime()-r<=e;){if(yield t())return;yield Wi(n)}throw new Error("Timeout")}),Wi=t=>fo((e,n)=>setTimeout(e,t)),a=t=>t instanceof Promise||t&&t.then&&t.catch&&t.finally,g=t=>new Error(t),k=()=>{throw g("Method unimplemented")},F=()=>{throw g("Unexpected case")},pe=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&pe(t,e,n+1)}},_e=()=>{},ae=t=>t(),Pe=t=>t,We=(t,e)=>t===e,Ge=(t,e)=>t===e||t!=null&&e!=null&&t.constructor===e.constructor&&(array.isArray(t)&&array.equalFlat(t,e)||typeof t=="object"&&object.equalFlat(t,e)),Xe=(t,e)=>{if(t==null||e==null)return We(t,e);if(t.constructor!==e.constructor)return!1;if(t===e)return!0;switch(t.constructor){case ArrayBuffer:t=new Uint8Array(t),e=new Uint8Array(e);case Uint8Array:{if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;break}case Set:{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;break}case Map:{if(t.size!==e.size)return!1;for(const n of t.keys())if(!e.has(n)||!Xe(t.get(n),e.get(n)))return!1;break}case Object:if(object.length(t)!==object.length(e))return!1;for(const n in t)if(!object.hasProperty(t,n)||!Xe(t[n],e[n]))return!1;break;case Array:if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Xe(t[n],e[n]))return!1;break;default:return!1}return!0},Vt=(t,e)=>e.includes(t),Zt=H,an=t=>t&&t.constructor===String,lr=t=>t!=null&&t.constructor===Number,Vn=(t,e)=>t&&t.constructor===e,gr=t=>e=>e&&e.constructor===t,dn=t=>t===void 0?null:t;class Vr{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let br=new Vr,Lr=!0;try{typeof localStorage!="undefined"&&localStorage&&(br=localStorage,Lr=!1)}catch(t){}const jr=br,xr=t=>Lr||addEventListener("storage",t),Ko=t=>Lr||removeEventListener("storage",t);var fr=d(14224);const Ar=typeof fr!="undefined"&&fr.release&&/node|io\.js/.test(fr.release.name)&&Object.prototype.toString.call(typeof fr!="undefined"?fr:0)==="[object process]",Go=typeof window!="undefined"&&typeof document!="undefined"&&!Ar,Xo=typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1;let _r;const Ki=[],Te=()=>{if(_r===void 0)if(Ar){_r=i();const t=fr.argv;let e=null;for(let n=0;n<t.length;n++){const r=t[n];r[0]==="-"?(e!==null&&_r.set(e,""),e=r):e!==null?(_r.set(e,r),e=null):Ki.push(r)}e!==null&&_r.set(e,"")}else typeof location=="object"?(_r=i(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");_r.set(`--${No(e,"-")}`,n),_r.set(`-${No(e,"-")}`,n)}})):_r=i();return _r},Dt=t=>Te().has(t),Ye=(t,e)=>Te().get(t)||e,Ut=t=>dn(Ar?{NODE_ENV:"production",PUBLIC_PATH:"/"}[t.toUpperCase().replaceAll("-","_")]:jr.getItem(t)),pn=t=>Te().get("--"+t)||Ut(t),gn=t=>{const e=pn(t);if(e==null)throw new Error(`Expected configuration "${t.toUpperCase().replaceAll("-","_")}"`);return e},In=t=>Dt("--"+t)||Ut(t)!==null,Rn=In("production"),Or=Ar&&Vt({NODE_ENV:"production",PUBLIC_PATH:"/"}.FORCE_COLOR,["true","1","2"])||!Dt("--no-colors")&&!In("no-color")&&(!Ar||fr.stdout.isTTY)&&(!Ar||Dt("--color")||Ut("COLORTERM")!==null||(Ut("TERM")||"").includes("color"));class Kn{constructor(e,n){this.left=e,this.right=n}}const Hn=(t,e)=>new Kn(t,e),Br=(t,e)=>new Kn(e,t),Mr=(t,e)=>t.forEach(n=>e(n.left,n.right)),Zr=(t,e)=>t.map(n=>e(n.left,n.right)),or=typeof document!="undefined"?document:{},us=t=>or.createElement(t),ks=()=>or.createDocumentFragment(),Is=t=>or.createTextNode(t),Ts=typeof DOMParser!="undefined"?new DOMParser:null,Ws=(t,e,n)=>t.dispatchEvent(new CustomEvent(e,n)),As=(t,e)=>(pair.forEach(e,(n,r)=>{r===!1?t.removeAttribute(n):r===!0?t.setAttribute(n,""):t.setAttribute(n,r)}),t),Ks=(t,e)=>(e.forEach((n,r)=>{t.setAttribute(r,n)}),t),ds=t=>{const e=ks();for(let n=0;n<t.length;n++)$(e,t[n]);return e},Os=(t,e)=>($(t,ds(e)),t),Ms=t=>t.remove(),Ns=(t,e,n)=>t.addEventListener(e,n),Ds=(t,e,n)=>t.removeEventListener(e,n),Gs=(t,e)=>(pair.forEach(e,(n,r)=>Ns(t,n,r)),t),Xs=(t,e)=>(pair.forEach(e,(n,r)=>Ds(t,n,r)),t),Ys=(t,e=[],n=[])=>Os(As(us(t),e),n),Js=(t,e)=>{const n=us("canvas");return n.height=e,n.width=t,n},Qs=null,o=t=>`${t.left}:${t.right};`,c=t=>t.map(o).join(""),p=t=>T(t,(e,n)=>`${n}:${e};`).join(""),m=(t,e)=>t.querySelector(e),w=(t,e)=>t.querySelectorAll(e),N=t=>or.getElementById(t),O=t=>Ts.parseFromString(`<html><body>${t}</body></html>`,"text/html").body,l=t=>ds(O(t).childNodes),v=t=>O(t).firstElementChild,E=(t,e)=>t.replaceWith(e),L=(t,e,n)=>t.insertBefore(e,n),$=(t,e)=>t.appendChild(e),ye=or.ELEMENT_NODE,re=or.TEXT_NODE,be=or.CDATA_SECTION_NODE,ve=or.COMMENT_NODE,Oe=or.DOCUMENT_NODE,Ae=or.DOCUMENT_TYPE_NODE,Ne=or.DOCUMENT_FRAGMENT_NODE,Fe=(t,e)=>t.nodeType===e,gt=(t,e)=>{let n=e.parentNode;for(;n&&n!==t;)n=n.parentNode;return n===t},ut=Symbol,Lt=t=>typeof t=="symbol",Xt=()=>new Date,zt=Date.now,dt=t=>{if(t<6e4){const u=metric.prefix(t,-1);return math.round(u.n*100)/100+u.prefix+"s"}t=math.floor(t/1e3);const e=t%60,n=math.floor(t/60)%60,r=math.floor(t/3600)%24,s=math.floor(t/86400);return s>0?s+"d"+(r>0||n>30?" "+(n>30?r+1:r)+"h":""):r>0?r+"h"+(n>0||e>30?" "+(e>30?n+1:n)+"min":""):n+"min"+(e>0?" "+e+"s":"")},wt=ut(),_t=ut(),Et=ut(),st=ut(),Ve=ut(),ft=ut(),Ot=ut(),Wt=ut(),$t=ut(),Re=t=>{var s;t.length===1&&((s=t[0])==null?void 0:s.constructor)===Function&&(t=t[0]());const e=[],n=[];let r=0;for(;r<t.length;r++){const u=t[r];if(u===void 0)break;if(u.constructor===String||u.constructor===Number)e.push(u);else if(u.constructor===Object)break}for(r>0&&n.push(e.join(""));r<t.length;r++){const u=t[r];u instanceof Symbol||n.push(u)}return n},At=[Ve,Ot,Wt,Et];let It=0,xt=zt();const qt=(t,e)=>{const n=At[It],r=env.getVariable("log"),s=r!==null&&(r==="*"||r==="true"||new RegExp(r,"gi").test(e));return It=(It+1)%At.length,e+=": ",s?(...u)=>{var V;u.length===1&&((V=u[0])==null?void 0:V.constructor)===Function&&(u=u[0]());const S=time.getUnixTime(),P=S-xt;xt=S,t(n,e,$t,...u.map(ee=>{switch(ee!=null&&ee.constructor===Uint8Array&&(ee=Array.from(ee)),typeof ee){case"string":case"symbol":return ee;default:return json.stringify(ee)}}),n," +"+P+"ms")}:func.nop},mn={[wt]:Hn("font-weight","bold"),[_t]:Hn("font-weight","normal"),[Et]:Hn("color","blue"),[Ve]:Hn("color","green"),[st]:Hn("color","grey"),[ft]:Hn("color","red"),[Ot]:Hn("color","purple"),[Wt]:Hn("color","orange"),[$t]:Hn("color","black")},Un=Or?t=>{var S;t.length===1&&((S=t[0])==null?void 0:S.constructor)===Function&&(t=t[0]());const e=[],n=[],r=i();let s=[],u=0;for(;u<t.length;u++){const P=t[u],V=mn[P];if(V!==void 0)r.set(V.left,V.right);else{if(P===void 0)break;if(P.constructor===String||P.constructor===Number){const ee=p(r);u>0||ee.length>0?(e.push("%c"+P),n.push(ee)):e.push(P)}else break}}for(u>0&&(s=n,s.unshift(e.join("")));u<t.length;u++){const P=t[u];P instanceof Symbol||s.push(P)}return s}:Re,Wn=(...t)=>{console.log(...Un(t)),Mn.forEach(e=>e.print(t))},ur=(...t)=>{console.warn(...Un(t)),t.unshift(Wt),Mn.forEach(e=>e.print(t))},hr=t=>{console.error(t),Mn.forEach(e=>e.printError(t))},ir=(t,e)=>{env.isBrowser&&console.log("%c                      ",`font-size: ${e}px; background-size: contain; background-repeat: no-repeat; background-image: url(${t})`),Mn.forEach(n=>n.printImg(t,e))},Ur=(t,e)=>ir(`data:image/gif;base64,${t}`,e),Yn=(...t)=>{console.group(...Un(t)),Mn.forEach(e=>e.group(t))},ho=(...t)=>{console.groupCollapsed(...Un(t)),Mn.forEach(e=>e.groupCollapsed(t))},Yr=()=>{console.groupEnd(),Mn.forEach(t=>t.groupEnd())},Jn=t=>Mn.forEach(e=>e.printDom(t())),$r=(t,e)=>ir(t.toDataURL(),e),Mn=h(),Yt=t=>{const e=[],n=new Map;let r=0;for(;r<t.length;r++){let s=t[r];const u=mn[s];if(u!==void 0)n.set(u.left,u.right);else if(s===void 0&&(s="undefined "),s.constructor===String||s.constructor===Number){const S=dom.element("span",[pair.create("style",dom.mapToStyleString(n))],[dom.text(s.toString())]);S.innerHTML===""&&(S.innerHTML="&nbsp;"),e.push(S)}else break}for(;r<t.length;r++){let s=t[r];s instanceof Symbol||(s.constructor!==String&&s.constructor!==Number&&(s=" "+json.stringify(s)+" "),e.push(dom.element("span",[],[dom.text(s)])))}return e},Nr="font-family:monospace;border-bottom:1px solid #e2e2e2;padding:2px;";class Yo{constructor(e){this.dom=e,this.ccontainer=this.dom,this.depth=0,Mn.add(this)}group(e,n=!1){eventloop.enqueue(()=>{const r=dom.element("span",[pair.create("hidden",n),pair.create("style","color:grey;font-size:120%;")],[dom.text("\u25BC")]),s=dom.element("span",[pair.create("hidden",!n),pair.create("style","color:grey;font-size:125%;")],[dom.text("\u25B6")]),u=dom.element("div",[pair.create("style",`${Nr};padding-left:${this.depth*10}px`)],[r,s,dom.text(" ")].concat(Yt(e))),S=dom.element("div",[pair.create("hidden",n)]),P=dom.element("div",[],[u,S]);dom.append(this.ccontainer,[P]),this.ccontainer=S,this.depth++,dom.addEventListener(u,"click",V=>{S.toggleAttribute("hidden"),r.toggleAttribute("hidden"),s.toggleAttribute("hidden")})})}groupCollapsed(e){this.group(e,!0)}groupEnd(){eventloop.enqueue(()=>{this.depth>0&&(this.depth--,this.ccontainer=this.ccontainer.parentElement.parentElement)})}print(e){eventloop.enqueue(()=>{dom.append(this.ccontainer,[dom.element("div",[pair.create("style",`${Nr};padding-left:${this.depth*10}px`)],Yt(e))])})}printError(e){this.print([common.RED,common.BOLD,e.toString()])}printImg(e,n){eventloop.enqueue(()=>{dom.append(this.ccontainer,[dom.element("img",[pair.create("src",e),pair.create("height",`${math.round(n*1.5)}px`)])])})}printDom(e){eventloop.enqueue(()=>{dom.append(this.ccontainer,[e])})}destroy(){eventloop.enqueue(()=>{Mn.delete(this)})}}const fs=t=>new Yo(t),Gi=t=>common.createModuleLogger(Wn,t),Xi=(t,e)=>({[Symbol.iterator](){return this},next(){const n=t.next();return{value:n.done?void 0:e(n.value),done:n.done}}}),po=t=>({[Symbol.iterator](){return this},next:t}),hi=(t,e)=>po(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),ko=(t,e)=>po(()=>{const{done:n,value:r}=t.next();return{done:n,value:n?void 0:e(r)}}),pi=()=>Object.create(null),gi=Object.assign,Jo=Object.keys,Yi=(t,e)=>{for(const n in t)e(t[n],n)},Er=(t,e)=>{const n=[];for(const r in t)n.push(e(t[r],r));return n},go=t=>Jo(t).length,Fo=t=>Jo(t).length,mi=(t,e)=>{for(const n in t)if(e(t[n],n))return!0;return!1},Qo=t=>{for(const e in t)return!1;return!0},Io=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},mo=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),Ji=(t,e)=>t===e||Fo(t)===Fo(e)&&Io(t,(n,r)=>(n!==void 0||mo(e,r))&&e[r]===n),Ps=Object.freeze,yi=t=>{for(const e in t){const n=t[e];(typeof n=="object"||typeof n=="function")&&yi(t[e])}return Ps(t)};class qs extends null{constructor(e,n){super(),this.doc=e,this.awareness=n}}class hs{constructor(e,n){this.clock=e,this.len=n}}class Hr{constructor(){this.clients=new Map}}const vi=(t,e,n)=>e.clients.forEach((r,s)=>{const u=t.doc.store.clients.get(s);for(let S=0;S<r.length;S++){const P=r[S];uc(t,u,P.clock,P.len,n)}}),Ca=(t,e)=>{let n=0,r=t.length-1;for(;n<=r;){const s=R((n+r)/2),u=t[s],S=u.clock;if(S<=e){if(e<S+u.len)return s;n=s+1}else r=s-1}return null},wi=(t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&Ca(n,e.clock)!==null},Rs=t=>{t.clients.forEach(e=>{e.sort((s,u)=>s.clock-u.clock);let n,r;for(n=1,r=1;n<e.length;n++){const s=e[r-1],u=e[n];s.clock+s.len>=u.clock?s.len=Mt(s.len,u.clock+u.len-s.clock):(r<n&&(e[r]=u),r++)}e.length=r})},bi=t=>{const e=new Hr;for(let n=0;n<t.length;n++)t[n].clients.forEach((r,s)=>{if(!e.clients.has(s)){const u=r.slice();for(let S=n+1;S<t.length;S++)K(u,t[S].clients.get(s)||[]);e.clients.set(s,u)}});return Rs(e),e},Qi=(t,e,n,r)=>{_(t.clients,e,()=>[]).push(new hs(n,r))},Ls=()=>new Hr,ps=t=>{const e=Ls();return t.clients.forEach((n,r)=>{const s=[];for(let u=0;u<n.length;u++){const S=n[u];if(S.deleted){const P=S.id.clock;let V=S.length;if(u+1<n.length)for(let ee=n[u+1];u+1<n.length&&ee.deleted;ee=n[++u+1])V+=ee.length;s.push(new hs(P,V))}}s.length>0&&e.clients.set(r,s)}),e},Wr=(t,e)=>{An(t.restEncoder,e.clients.size),ue(e.clients.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{t.resetDsCurVal(),An(t.restEncoder,n);const s=r.length;An(t.restEncoder,s);for(let u=0;u<s;u++){const S=r[u];t.writeDsClock(S.clock),t.writeDsLen(S.len)}})},Jr=t=>{const e=new Hr,n=decoding.readVarUint(t.restDecoder);for(let r=0;r<n;r++){t.resetDsCurVal();const s=decoding.readVarUint(t.restDecoder),u=decoding.readVarUint(t.restDecoder);if(u>0){const S=map.setIfUndefined(e.clients,s,()=>[]);for(let P=0;P<u;P++)S.push(new hs(t.readDsClock(),t.readDsLen()))}}return e},gs=(t,e,n)=>{const r=new Hr,s=decoding.readVarUint(t.restDecoder);for(let u=0;u<s;u++){t.resetDsCurVal();const S=decoding.readVarUint(t.restDecoder),P=decoding.readVarUint(t.restDecoder),V=n.clients.get(S)||[],ee=qn(n,S);for(let q=0;q<P;q++){const ce=t.readDsClock(),ke=ce+t.readDsLen();if(ce<ee){ee<ke&&Qi(r,S,ee,ke-ee);let nt=To(V,ce),bt=V[nt];for(!bt.deleted&&bt.id.clock<ce&&(V.splice(nt+1,0,_a(e,bt,ce-bt.id.clock)),nt++);nt<V.length&&(bt=V[nt++],bt.id.clock<ke);)bt.deleted||(ke<bt.id.clock+bt.length&&V.splice(nt,0,_a(e,bt,ke-bt.id.clock)),bt.delete(e))}else Qi(r,S,ce,ke-ce)}}if(r.clients.size>0){const u=new yo;return encoding.writeVarUint(u.restEncoder,0),Wr(u,r),u.toUint8Array()}return null},ka=(t,e)=>{if(t.clients.size!==e.clients.size)return!1;for(const[n,r]of t.clients.entries()){const s=e.clients.get(n);if(s===void 0||r.length!==s.length)return!1;for(let u=0;u<r.length;u++){const S=r[u],P=s[u];if(S.clock!==P.clock||S.len!==P.len)return!1}}return!0},ea=Co;class qo extends Ee{constructor({guid:e=fi(),collectionid:n=null,gc:r=!0,gcFilter:s=()=>!0,meta:u=null,autoLoad:S=!1,shouldLoad:P=!0}={}){super(),this.gc=r,this.gcFilter=s,this.clientID=ea(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new ac,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=P,this.autoLoad=S,this.meta=u,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=fo(ee=>{this.on("load",()=>{this.isLoaded=!0,ee(this)})});const V=()=>fo(ee=>{const q=ce=>{(ce===void 0||ce===!0)&&(this.off("sync",q),ee())};this.on("sync",q)});this.on("sync",ee=>{ee===!1&&this.isSynced&&(this.whenSynced=V()),this.isSynced=ee===void 0||ee===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=V()}load(){const e=this._item;e!==null&&!this.shouldLoad&&Zn(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(ue(this.subdocs).map(e=>e.guid))}transact(e,n=null){return Zn(this,e,n)}get(e,n=Cr){const r=_(this.share,e,()=>{const u=new n;return u._integrate(this,null),u}),s=r.constructor;if(n!==Cr&&s!==n)if(s===Cr){const u=new n;u._map=r._map,r._map.forEach(S=>{for(;S!==null;S=S.left)S.parent=u}),u._start=r._start;for(let S=u._start;S!==null;S=S.right)S.parent=u;return u._length=r._length,this.share.set(e,u),u._integrate(this,null),u}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return r}getArray(e=""){return this.get(e,Ci)}getText(e=""){return this.get(e,_s)}getMap(e=""){return this.get(e,qi)}getXmlElement(e=""){return this.get(e,ts)}getXmlFragment(e=""){return this.get(e,es)}toJSON(){const e={};return this.share.forEach((n,r)=>{e[r]=n.toJSON()}),e}destroy(){this.isDestroyed=!0,ue(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new qo($n(Bt({guid:this.guid},n.opts),{shouldLoad:!1})),n.doc._item=e,Zn(e.parent.doc,r=>{const s=n.doc;e.deleted||r.subdocsAdded.add(s),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class ms{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return decoding.readVarUint(this.restDecoder)}readDsLen(){return decoding.readVarUint(this.restDecoder)}}class Qr extends null{readLeftID(){return En(decoding.readVarUint(this.restDecoder),decoding.readVarUint(this.restDecoder))}readRightID(){return En(decoding.readVarUint(this.restDecoder),decoding.readVarUint(this.restDecoder))}readClient(){return decoding.readVarUint(this.restDecoder)}readInfo(){return decoding.readUint8(this.restDecoder)}readString(){return decoding.readVarString(this.restDecoder)}readParentInfo(){return decoding.readVarUint(this.restDecoder)===1}readTypeRef(){return decoding.readVarUint(this.restDecoder)}readLen(){return decoding.readVarUint(this.restDecoder)}readAny(){return decoding.readAny(this.restDecoder)}readBuf(){return buffer.copyUint8Array(decoding.readVarUint8Array(this.restDecoder))}readJSON(){return JSON.parse(decoding.readVarString(this.restDecoder))}readKey(){return decoding.readVarString(this.restDecoder)}}class ta{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=decoding.readVarUint(this.restDecoder),this.dsCurrVal}readDsLen(){const e=decoding.readVarUint(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class Kr extends null{constructor(e){super(e),this.keys=[],decoding.readVarUint(e),this.keyClockDecoder=new decoding.IntDiffOptRleDecoder(decoding.readVarUint8Array(e)),this.clientDecoder=new decoding.UintOptRleDecoder(decoding.readVarUint8Array(e)),this.leftClockDecoder=new decoding.IntDiffOptRleDecoder(decoding.readVarUint8Array(e)),this.rightClockDecoder=new decoding.IntDiffOptRleDecoder(decoding.readVarUint8Array(e)),this.infoDecoder=new decoding.RleDecoder(decoding.readVarUint8Array(e),decoding.readUint8),this.stringDecoder=new decoding.StringDecoder(decoding.readVarUint8Array(e)),this.parentInfoDecoder=new decoding.RleDecoder(decoding.readVarUint8Array(e),decoding.readUint8),this.typeRefDecoder=new decoding.UintOptRleDecoder(decoding.readVarUint8Array(e)),this.lenDecoder=new decoding.UintOptRleDecoder(decoding.readVarUint8Array(e))}readLeftID(){return new vs(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new vs(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return decoding.readAny(this.restDecoder)}readBuf(){return decoding.readVarUint8Array(this.restDecoder)}readJSON(){return decoding.readAny(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class xi{constructor(){this.restEncoder=io()}toUint8Array(){return rr(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){An(this.restEncoder,e)}writeDsLen(e){An(this.restEncoder,e)}}class ei extends xi{writeLeftID(e){An(this.restEncoder,e.client),An(this.restEncoder,e.clock)}writeRightID(e){An(this.restEncoder,e.client),An(this.restEncoder,e.clock)}writeClient(e){An(this.restEncoder,e)}writeInfo(e){Zo(this.restEncoder,e)}writeString(e){co(this.restEncoder,e)}writeParentInfo(e){An(this.restEncoder,e?1:0)}writeTypeRef(e){An(this.restEncoder,e)}writeLen(e){An(this.restEncoder,e)}writeAny(e){_o(this.restEncoder,e)}writeBuf(e){cr(this.restEncoder,e)}writeJSON(e){co(this.restEncoder,JSON.stringify(e))}writeKey(e){co(this.restEncoder,e)}}class ys{constructor(){this.restEncoder=io(),this.dsCurrVal=0}toUint8Array(){return rr(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,An(this.restEncoder,n)}writeDsLen(e){e===0&&F(),An(this.restEncoder,e-1),this.dsCurrVal+=e}}class yo extends ys{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Bo,this.clientEncoder=new Rr,this.leftClockEncoder=new Bo,this.rightClockEncoder=new Bo,this.infoEncoder=new li(Zo),this.stringEncoder=new di,this.parentInfoEncoder=new li(Zo),this.typeRefEncoder=new Rr,this.lenEncoder=new Rr}toUint8Array(){const e=io();return An(e,0),cr(e,this.keyClockEncoder.toUint8Array()),cr(e,this.clientEncoder.toUint8Array()),cr(e,this.leftClockEncoder.toUint8Array()),cr(e,this.rightClockEncoder.toUint8Array()),cr(e,rr(this.infoEncoder)),cr(e,this.stringEncoder.toUint8Array()),cr(e,rr(this.parentInfoEncoder)),cr(e,this.typeRefEncoder.toUint8Array()),cr(e,this.lenEncoder.toUint8Array()),Xr(e,rr(this.restEncoder)),rr(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){_o(this.restEncoder,e)}writeBuf(e){cr(this.restEncoder,e)}writeJSON(e){_o(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const Ia=(t,e,n,r)=>{r=Mt(r,e[0].id.clock);const s=To(e,r);An(t.restEncoder,e.length-s),t.writeClient(n),An(t.restEncoder,r);const u=e[s];u.write(t,r-u.id.clock);for(let S=s+1;S<e.length;S++)e[S].write(t,0)},Bs=(t,e,n)=>{const r=new Map;n.forEach((s,u)=>{qn(e,u)>s&&r.set(u,s)}),Fs(e).forEach((s,u)=>{n.has(u)||r.set(u,0)}),An(t.restEncoder,r.size),ue(r.entries()).sort((s,u)=>u[0]-s[0]).forEach(([s,u])=>{Ia(t,e.clients.get(s),s,u)})},Ta=(t,e)=>{const n=map.create(),r=decoding.readVarUint(t.restDecoder);for(let s=0;s<r;s++){const u=decoding.readVarUint(t.restDecoder),S=new Array(u),P=t.readClient();let V=decoding.readVarUint(t.restDecoder);n.set(P,{i:0,refs:S});for(let ee=0;ee<u;ee++){const q=t.readInfo();switch(binary.BITS5&q){case 0:{const ce=t.readLen();S[ee]=new qr(En(P,V),ce),V+=ce;break}case 10:{const ce=decoding.readVarUint(t.restDecoder);S[ee]=new Gr(En(P,V),ce),V+=ce;break}default:{const ce=(q&(binary.BIT7|binary.BIT8))===0,ke=new Fn(En(P,V),null,(q&binary.BIT8)===binary.BIT8?t.readLeftID():null,null,(q&binary.BIT7)===binary.BIT7?t.readRightID():null,ce?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,ce&&(q&binary.BIT6)===binary.BIT6?t.readString():null,$c(t,q));S[ee]=ke,V+=ke.length}}}}return n},na=(t,e,n)=>{const r=[];let s=array.from(n.keys()).sort((nt,bt)=>nt-bt);if(s.length===0)return null;const u=()=>{if(s.length===0)return null;let nt=n.get(s[s.length-1]);for(;nt.refs.length===nt.i;)if(s.pop(),s.length>0)nt=n.get(s[s.length-1]);else return null;return nt};let S=u();if(S===null)return null;const P=new ac,V=new Map,ee=(nt,bt)=>{const Dn=V.get(nt);(Dn==null||Dn>bt)&&V.set(nt,bt)};let q=S.refs[S.i++];const ce=new Map,ke=()=>{for(const nt of r){const bt=nt.id.client,Dn=n.get(bt);Dn?(Dn.i--,P.clients.set(bt,Dn.refs.slice(Dn.i)),n.delete(bt),Dn.i=0,Dn.refs=[]):P.clients.set(bt,[nt]),s=s.filter(fn=>fn!==bt)}r.length=0};for(;;){if(q.constructor!==Gr){const bt=map.setIfUndefined(ce,q.id.client,()=>qn(e,q.id.client))-q.id.clock;if(bt<0)r.push(q),ee(q.id.client,q.id.clock-1),ke();else{const Dn=q.getMissing(t,e);if(Dn!==null){r.push(q);const fn=n.get(Dn)||{refs:[],i:0};if(fn.refs.length===fn.i)ee(Dn,qn(e,Dn)),ke();else{q=fn.refs[fn.i++];continue}}else(bt===0||bt<q.length)&&(q.integrate(t,bt),ce.set(q.id.client,q.id.clock+q.length))}}if(r.length>0)q=r.pop();else if(S!==null&&S.i<S.refs.length)q=S.refs[S.i++];else{if(S=u(),S===null)break;q=S.refs[S.i++]}}if(P.clients.size>0){const nt=new yo;return Bs(nt,P,new Map),encoding.writeVarUint(nt.restEncoder,0),{missing:V,update:nt.toUint8Array()}}return null},Aa=(t,e)=>Bs(t,e.doc.store,e.beforeState),ra=(t,e,n,r=new Kr(t))=>Zn(e,s=>{s.local=!1;let u=!1;const S=s.doc,P=S.store,V=Ta(r,S),ee=na(s,P,V),q=P.pendingStructs;if(q){for(const[ke,nt]of q.missing)if(nt<qn(P,ke)){u=!0;break}if(ee){for(const[ke,nt]of ee.missing){const bt=q.missing.get(ke);(bt==null||bt>nt)&&q.missing.set(ke,nt)}q.update=fa([q.update,ee.update])}}else P.pendingStructs=ee;const ce=gs(r,s,P);if(P.pendingDs){const ke=new Kr(decoding.createDecoder(P.pendingDs));decoding.readVarUint(ke.restDecoder);const nt=gs(ke,s,P);ce&&nt?P.pendingDs=fa([ce,nt]):P.pendingDs=ce||nt}else P.pendingDs=ce;if(u){const ke=P.pendingStructs.update;P.pendingStructs=null,Us(s.doc,ke)}},n,!1),Xa=(t,e,n)=>ra(t,e,n,new Qr(t)),Us=(t,e,n,r=Kr)=>{const s=decoding.createDecoder(e);ra(s,t,n,new r(s))},Ya=(t,e,n)=>Us(t,e,n,Qr),Oa=(t,e,n=new Map)=>{Bs(t,e.store,n),Wr(t,ps(e.store))},oa=(t,e=new Uint8Array([0]),n=new yo)=>{const r=sa(e);Oa(n,t,r);const s=[n.toUint8Array()];if(t.store.pendingDs&&s.push(t.store.pendingDs),t.store.pendingStructs&&s.push(vc(t.store.pendingStructs.update,e)),s.length>1){if(n.constructor===ei)return gl(s.map((u,S)=>S===0?u:wl(u)));if(n.constructor===yo)return fa(s)}return s[0]},Ja=(t,e)=>oa(t,e,new ei),ia=t=>{const e=new Map,n=decoding.readVarUint(t.restDecoder);for(let r=0;r<n;r++){const s=decoding.readVarUint(t.restDecoder),u=decoding.readVarUint(t.restDecoder);e.set(s,u)}return e},sa=t=>ia(new ms(decoding.createDecoder(t))),aa=(t,e)=>(encoding.writeVarUint(t.restEncoder,e.size),array.from(e.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{encoding.writeVarUint(t.restEncoder,n),encoding.writeVarUint(t.restEncoder,r)}),t),ca=(t,e)=>aa(t,Fs(e.store)),zs=(t,e=new ys)=>(t instanceof Map?aa(e,t):ca(e,t),e.toUint8Array()),du=t=>zs(t,new xi);class qc{constructor(){this.l=[]}}const Qa=()=>new qc,qa=(t,e)=>t.l.push(e),ec=(t,e)=>{const n=t.l,r=n.length;t.l=n.filter(s=>e!==s),r===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},tc=(t,e,n)=>pe(t.l,[e,n]);class vs{constructor(e,n){this.client=e,this.clock=n}}const ws=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,En=(t,e)=>new vs(t,e),nc=(t,e)=>{encoding.writeVarUint(t,e.client),encoding.writeVarUint(t,e.clock)},rc=t=>En(decoding.readVarUint(t),decoding.readVarUint(t)),oc=t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw F()},la=(t,e)=>{for(;e!==null;){if(e.parent===t)return!0;e=e.parent._item}return!1},fu=t=>{const e=[];let n=t._start;for(;n;)e.push(n),n=n.right;console.log("Children: ",e),console.log("Children content: ",e.filter(r=>!r.deleted).map(r=>r.content))};class hu{constructor(e,n=e.getMap("users")){const r=new Map;this.yusers=n,this.doc=e,this.clients=new Map,this.dss=r;const s=(u,S)=>{const P=u.get("ds"),V=u.get("ids"),ee=q=>this.clients.set(q,S);P.observe(q=>{q.changes.added.forEach(ce=>{ce.content.getContent().forEach(ke=>{ke instanceof Uint8Array&&this.dss.set(S,bi([this.dss.get(S)||Ls(),Jr(new ms(decoding.createDecoder(ke)))]))})})}),this.dss.set(S,bi(P.map(q=>Jr(new ms(decoding.createDecoder(q)))))),V.observe(q=>q.changes.added.forEach(ce=>ce.content.getContent().forEach(ee))),V.forEach(ee)};n.observe(u=>{u.keysChanged.forEach(S=>s(n.get(S),S))}),n.forEach(s)}setUserMapping(e,n,r,{filter:s=()=>!0}={}){const u=this.yusers;let S=u.get(r);S||(S=new qi,S.set("ids",new Ci),S.set("ds",new Ci),u.set(r,S)),S.get("ids").push([n]),u.observe(P=>{setTimeout(()=>{const V=u.get(r);if(V!==S){S=V,this.clients.forEach((ce,ke)=>{r===ce&&S.get("ids").push([ke])});const ee=new xi,q=this.dss.get(r);q&&(Wr(ee,q),S.get("ds").push([ee.toUint8Array()]))}},0)}),e.on("afterTransaction",P=>{setTimeout(()=>{const V=S.get("ds"),ee=P.deleteSet;if(P.local&&ee.clients.size>0&&s(P,ee)){const q=new xi;Wr(q,ee),V.push([q.toUint8Array()])}})})}getUserByClientId(e){return this.clients.get(e)||null}getUserByDeletedId(e){for(const[n,r]of this.dss.entries())if(wi(r,e))return n;return null}}class Ma{constructor(e,n,r,s=0){this.type=e,this.tname=n,this.item=r,this.assoc=s}}const pu=t=>{const e={};return t.type&&(e.type=t.type),t.tname&&(e.tname=t.tname),t.item&&(e.item=t.item),t.assoc!=null&&(e.assoc=t.assoc),e},gu=t=>{var e;return new Ma(t.type==null?null:En(t.type.client,t.type.clock),(e=t.tname)!=null?e:null,t.item==null?null:En(t.item.client,t.item.clock),t.assoc==null?0:t.assoc)};class el{constructor(e,n,r=0){this.type=e,this.index=n,this.assoc=r}}const tl=(t,e,n=0)=>new el(t,e,n),ua=(t,e,n)=>{let r=null,s=null;return t._item===null?s=oc(t):r=En(t._item.id.client,t._item.id.clock),new Ma(r,s,e,n)},mu=(t,e,n=0)=>{let r=t._start;if(n<0){if(e===0)return ua(t,null,n);e--}for(;r!==null;){if(!r.deleted&&r.countable){if(r.length>e)return ua(t,En(r.id.client,r.id.clock+e),n);e-=r.length}if(r.right===null&&n<0)return ua(t,r.lastId,n);r=r.right}return ua(t,null,n)},nl=(t,e)=>{const{type:n,tname:r,item:s,assoc:u}=e;if(s!==null)encoding.writeVarUint(t,0),nc(t,s);else if(r!==null)encoding.writeUint8(t,1),encoding.writeVarString(t,r);else if(n!==null)encoding.writeUint8(t,2),nc(t,n);else throw error.unexpectedCase();return encoding.writeVarInt(t,u),t},yu=t=>{const e=encoding.createEncoder();return nl(e,t),encoding.toUint8Array(e)},rl=t=>{let e=null,n=null,r=null;switch(decoding.readVarUint(t)){case 0:r=rc(t);break;case 1:n=decoding.readVarString(t);break;case 2:e=rc(t)}const s=decoding.hasContent(t)?decoding.readVarInt(t):0;return new Ma(e,n,r,s)},vu=t=>rl(decoding.createDecoder(t)),ol=(t,e)=>{const n=bs(t,e),r=e.clock-n.id.clock;return{item:n,diff:r}},wu=(t,e,n=!0)=>{const r=e.store,s=t.item,u=t.type,S=t.tname,P=t.assoc;let V=null,ee=0;if(s!==null){if(qn(r,s.client)<=s.clock)return null;const q=n?ja(r,s):ol(r,s),ce=q.item;if(!(ce instanceof Fn))return null;if(V=ce.parent,V._item===null||!V._item.deleted){ee=ce.deleted||!ce.countable?0:q.diff+(P>=0?0:1);let ke=ce.left;for(;ke!==null;)!ke.deleted&&ke.countable&&(ee+=ke.length),ke=ke.left}}else{if(S!==null)V=e.get(S);else if(u!==null){if(qn(r,u.client)<=u.clock)return null;const{item:q}=n?ja(r,u):{item:bs(r,u)};if(q instanceof Fn&&q.content instanceof Oo)V=q.content.type;else return null}else throw error.unexpectedCase();P>=0?ee=V._length:ee=0}return tl(V,ee,t.assoc)},bu=(t,e)=>t===e||t!==null&&e!==null&&t.tname===e.tname&&ws(t.item,e.item)&&ws(t.type,e.type)&&t.assoc===e.assoc;class ic{constructor(e,n){this.ds=e,this.sv=n}}const xu=(t,e)=>{const n=t.ds.clients,r=e.ds.clients,s=t.sv,u=e.sv;if(s.size!==u.size||n.size!==r.size)return!1;for(const[S,P]of s.entries())if(u.get(S)!==P)return!1;for(const[S,P]of n.entries()){const V=r.get(S)||[];if(P.length!==V.length)return!1;for(let ee=0;ee<P.length;ee++){const q=P[ee],ce=V[ee];if(q.clock!==ce.clock||q.len!==ce.len)return!1}}return!0},il=(t,e=new ys)=>(Wr(e,t.ds),aa(e,t.sv),e.toUint8Array()),_u=t=>il(t,new xi),sl=(t,e=new ta(decoding.createDecoder(t)))=>new ic(Jr(e),ia(e)),Eu=t=>sl(t,new ms(decoding.createDecoder(t))),sc=(t,e)=>new ic(t,e),Su=sc(Ls(),new Map),Cu=t=>sc(ps(t.store),Fs(t.store)),_i=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!wi(e.ds,t.id),Na=(t,e)=>{const n=_(t.meta,Na,h),r=t.doc.store;n.has(e)||(e.sv.forEach((s,u)=>{s<qn(r,u)&&zr(t,En(u,s))}),vi(t,e.ds,s=>{}),n.add(e))},ku=(t,e,n=new qo)=>{if(t.gc)throw new Error("Garbage-collection must be disabled in `originDoc`!");const{sv:r,ds:s}=e,u=new yo;return t.transact(S=>{let P=0;r.forEach(V=>{V>0&&P++}),encoding.writeVarUint(u.restEncoder,P);for(const[V,ee]of r){if(ee===0)continue;ee<qn(t.store,V)&&zr(S,En(V,ee));const q=t.store.clients.get(V)||[],ce=To(q,ee-1);encoding.writeVarUint(u.restEncoder,ce+1),u.writeClient(V),encoding.writeVarUint(u.restEncoder,0);for(let ke=0;ke<=ce;ke++)q[ke].write(u,0)}Wr(u,s)}),Us(n,u.toUint8Array(),"snapshot"),n},al=(t,e,n=Kr)=>{const r=new n(decoding.createDecoder(e)),s=new Ei(r,!1);for(let S=s.curr;S!==null;S=s.next())if((t.sv.get(S.id.client)||0)<S.id.clock+S.length)return!1;const u=bi([t.ds,Jr(r)]);return ka(t.ds,u)},Iu=(t,e)=>al(t,e,Qr);class ac{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const Fs=t=>{const e=new Map;return t.clients.forEach((n,r)=>{const s=n[n.length-1];e.set(r,s.id.clock+s.length)}),e},qn=(t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const r=n[n.length-1];return r.id.clock+r.length},cc=(t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const r=n[n.length-1];if(r.id.clock+r.length!==e.id.clock)throw F()}n.push(e)},To=(t,e)=>{let n=0,r=t.length-1,s=t[r],u=s.id.clock;if(u===e)return r;let S=R(e/(u+s.length-1)*r);for(;n<=r;){if(s=t[S],u=s.id.clock,u<=e){if(e<u+s.length)return S;n=S+1}else r=S-1;S=R((n+r)/2)}throw F()},bs=(t,e)=>{const n=t.clients.get(e.client);return n[To(n,e.clock)]},Da=(t,e,n)=>{const r=To(e,n),s=e[r];return s.id.clock<n&&s instanceof Fn?(e.splice(r+1,0,_a(t,s,n-s.id.clock)),r+1):r},zr=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[Da(t,n,e.clock)]},lc=(t,e,n)=>{const r=e.clients.get(n.client),s=To(r,n.clock),u=r[s];return n.clock!==u.id.clock+u.length-1&&u.constructor!==qr&&r.splice(s+1,0,_a(t,u,n.clock-u.id.clock+1)),u},cl=(t,e,n)=>{const r=t.clients.get(e.id.client);r[To(r,e.id.clock)]=n},uc=(t,e,n,r,s)=>{if(r===0)return;const u=n+r;let S=Da(t,e,n),P;do P=e[S++],u<P.id.clock+P.length&&Da(t,e,u),s(P);while(S<e.length&&e[S].id.clock<u)};class ll{constructor(e,n,r){this.doc=e,this.deleteSet=new Hr,this.beforeState=Fs(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const dc=(t,e)=>e.deleteSet.clients.size===0&&!x(e.afterState,(n,r)=>e.beforeState.get(r)!==n)?!1:(Rs(e.deleteSet),Aa(t,e),Wr(t,e.deleteSet),!0),fc=(t,e,n)=>{const r=e._item;(r===null||r.id.clock<(t.beforeState.get(r.id.client)||0)&&!r.deleted)&&_(t.changed,e,h).add(n)},da=(t,e)=>{let n=t[e],r=t[e-1],s=e;for(;s>0;n=r,r=t[--s-1]){if(r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)){n instanceof Fn&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);continue}break}const u=e-s;return u&&t.splice(e+1-u,u),u},hc=(t,e,n)=>{for(const[r,s]of t.clients.entries()){const u=e.clients.get(r);for(let S=s.length-1;S>=0;S--){const P=s[S],V=P.clock+P.len;for(let ee=To(u,P.clock),q=u[ee];ee<u.length&&q.id.clock<V;q=u[++ee]){const ce=u[ee];if(P.clock+P.len<=ce.id.clock)break;ce instanceof Fn&&ce.deleted&&!ce.keep&&n(ce)&&ce.gc(e,!1)}}}},pc=(t,e)=>{t.clients.forEach((n,r)=>{const s=e.clients.get(r);for(let u=n.length-1;u>=0;u--){const S=n[u],P=Kt(s.length-1,1+To(s,S.clock+S.len-1));for(let V=P,ee=s[V];V>0&&ee.id.clock>=S.clock;ee=s[V])V-=1+da(s,V)}})},Au=(t,e,n)=>{hc(t,e,n),pc(t,e)},gc=(t,e)=>{if(e<t.length){const n=t[e],r=n.doc,s=r.store,u=n.deleteSet,S=n._mergeStructs;try{Rs(u),n.afterState=Fs(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const P=[];n.changed.forEach((V,ee)=>P.push(()=>{(ee._item===null||!ee._item.deleted)&&ee._callObserver(n,V)})),P.push(()=>{n.changedParentTypes.forEach((V,ee)=>{ee._dEH.l.length>0&&(ee._item===null||!ee._item.deleted)&&(V=V.filter(q=>q.target._item===null||!q.target._item.deleted),V.forEach(q=>{q.currentTarget=ee,q._path=null}),V.sort((q,ce)=>q.path.length-ce.path.length),tc(ee._dEH,V,n))})}),P.push(()=>r.emit("afterTransaction",[n,r])),pe(P,[]),n._needFormattingCleanup&&Dl(n)}finally{r.gc&&hc(u,s,r.gcFilter),pc(u,s),n.afterState.forEach((q,ce)=>{const ke=n.beforeState.get(ce)||0;if(ke!==q){const nt=s.clients.get(ce),bt=Mt(To(nt,ke),1);for(let Dn=nt.length-1;Dn>=bt;)Dn-=1+da(nt,Dn)}});for(let q=S.length-1;q>=0;q--){const{client:ce,clock:ke}=S[q].id,nt=s.clients.get(ce),bt=To(nt,ke);bt+1<nt.length&&da(nt,bt+1)>1||bt>0&&da(nt,bt)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(Wn(Wt,wt,"[yjs] ",_t,ft,"Changed the client-id because another client seems to be using it."),r.clientID=ea()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const q=new ei;dc(q,n)&&r.emit("update",[q.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const q=new yo;dc(q,n)&&r.emit("updateV2",[q.toUint8Array(),n.origin,r,n])}const{subdocsAdded:P,subdocsLoaded:V,subdocsRemoved:ee}=n;(P.size>0||ee.size>0||V.size>0)&&(P.forEach(q=>{q.clientID=r.clientID,q.collectionid==null&&(q.collectionid=r.collectionid),r.subdocs.add(q)}),ee.forEach(q=>r.subdocs.delete(q)),r.emit("subdocs",[{loaded:V,added:P,removed:ee},r,n]),ee.forEach(q=>q.destroy())),t.length<=e+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,t])):gc(t,e+1)}}},Zn=(t,e,n=null,r=!0)=>{const s=t._transactionCleanups;let u=!1,S=null;t._transaction===null&&(u=!0,t._transaction=new ll(t,n,r),s.push(t._transaction),s.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{S=e(t._transaction)}finally{if(u){const P=t._transaction===s[0];t._transaction=null,P&&gc(s,0)}}return S};class ul{constructor(e,n){this.insertions=n,this.deletions=e,this.meta=new Map}}const mc=(t,e,n)=>{vi(t,n.deletions,r=>{r instanceof Fn&&e.scope.some(s=>la(s,r))&&Za(r,!1)})},yc=(t,e,n)=>{let r=null;const s=t.doc,u=t.scope;Zn(s,P=>{for(;e.length>0&&t.currStackItem===null;){const V=s.store,ee=e.pop(),q=new Set,ce=[];let ke=!1;vi(P,ee.insertions,nt=>{if(nt instanceof Fn){if(nt.redone!==null){let{item:bt,diff:Dn}=ja(V,nt.id);Dn>0&&(bt=zr(P,En(bt.id.client,bt.id.clock+Dn))),nt=bt}!nt.deleted&&u.some(bt=>la(bt,nt))&&ce.push(nt)}}),vi(P,ee.deletions,nt=>{nt instanceof Fn&&u.some(bt=>la(bt,nt))&&!wi(ee.insertions,nt.id)&&q.add(nt)}),q.forEach(nt=>{ke=Zc(P,nt,q,ee.insertions,t.ignoreRemoteMapChanges,t)!==null||ke});for(let nt=ce.length-1;nt>=0;nt--){const bt=ce[nt];t.deleteFilter(bt)&&(bt.delete(P),ke=!0)}t.currStackItem=ke?ee:null}P.changed.forEach((V,ee)=>{V.has(null)&&ee._searchMarker&&(ee._searchMarker.length=0)}),r=P},t);const S=t.currStackItem;if(S!=null){const P=r.changedParentTypes;t.emit("stack-item-popped",[{stackItem:S,type:n,changedParentTypes:P,origin:t},t]),t.currStackItem=null}return S};class dl extends Ee{constructor(e,{captureTimeout:n=500,captureTransaction:r=V=>!0,deleteFilter:s=()=>!0,trackedOrigins:u=new Set([null]),ignoreRemoteMapChanges:S=!1,doc:P=H(e)?e[0].doc:e.doc}={}){super(),this.scope=[],this.doc=P,this.addToScope(e),this.deleteFilter=s,u.add(this),this.trackedOrigins=u,this.captureTransaction=r,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=S,this.captureTimeout=n,this.afterTransactionHandler=V=>{if(!this.captureTransaction(V)||!this.scope.some(fn=>V.changedParentTypes.has(fn))||!this.trackedOrigins.has(V.origin)&&(!V.origin||!this.trackedOrigins.has(V.origin.constructor)))return;const ee=this.undoing,q=this.redoing,ce=ee?this.redoStack:this.undoStack;ee?this.stopCapturing():q||this.clear(!1,!0);const ke=new Hr;V.afterState.forEach((fn,Nn)=>{const eo=V.beforeState.get(Nn)||0,Kc=fn-eo;Kc>0&&Qi(ke,Nn,eo,Kc)});const nt=zt();let bt=!1;if(this.lastChange>0&&nt-this.lastChange<this.captureTimeout&&ce.length>0&&!ee&&!q){const fn=ce[ce.length-1];fn.deletions=bi([fn.deletions,V.deleteSet]),fn.insertions=bi([fn.insertions,ke])}else ce.push(new ul(V.deleteSet,ke)),bt=!0;!ee&&!q&&(this.lastChange=nt),vi(V,V.deleteSet,fn=>{fn instanceof Fn&&this.scope.some(Nn=>la(Nn,fn))&&Za(fn,!0)});const Dn=[{stackItem:ce[ce.length-1],origin:V.origin,type:ee?"redo":"undo",changedParentTypes:V.changedParentTypes},this];bt?this.emit("stack-item-added",Dn):this.emit("stack-item-updated",Dn)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){e=H(e)?e:[e],e.forEach(n=>{this.scope.every(r=>r!==n)&&(n.doc!==this.doc&&ur("[yjs#509] Not same Y.Doc"),this.scope.push(n))})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,n=!0){(e&&this.canUndo()||n&&this.canRedo())&&this.doc.transact(r=>{e&&(this.undoStack.forEach(s=>mc(r,this,s)),this.undoStack=[]),n&&(this.redoStack.forEach(s=>mc(r,this,s)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:n}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=yc(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=yc(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}function*fl(t){const e=decoding.readVarUint(t.restDecoder);for(let n=0;n<e;n++){const r=decoding.readVarUint(t.restDecoder),s=t.readClient();let u=decoding.readVarUint(t.restDecoder);for(let S=0;S<r;S++){const P=t.readInfo();if(P===10){const V=decoding.readVarUint(t.restDecoder);yield new Gr(En(s,u),V),u+=V}else if(binary.BITS5&P){const V=(P&(binary.BIT7|binary.BIT8))===0,ee=new Fn(En(s,u),null,(P&binary.BIT8)===binary.BIT8?t.readLeftID():null,null,(P&binary.BIT7)===binary.BIT7?t.readRightID():null,V?t.readParentInfo()?t.readString():t.readLeftID():null,V&&(P&binary.BIT6)===binary.BIT6?t.readString():null,$c(t,P));yield ee,u+=ee.length}else{const V=t.readLen();yield new qr(En(s,u),V),u+=V}}}}class Ei{constructor(e,n){this.gen=fl(e),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===Gr);return this.curr}}const Ou=t=>hl(t,Qr),hl=(t,e=Kr)=>{const n=[],r=new e(decoding.createDecoder(t)),s=new Ei(r,!1);for(let S=s.curr;S!==null;S=s.next())n.push(S);logging.print("Structs: ",n);const u=Jr(r);logging.print("DeleteSet: ",u)},Mu=t=>pl(t,Qr),pl=(t,e=Kr)=>{const n=[],r=new e(decoding.createDecoder(t)),s=new Ei(r,!1);for(let u=s.curr;u!==null;u=s.next())n.push(u);return{structs:n,ds:Jr(r)}};class Pa{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const gl=t=>fa(t,Qr,ei),ml=(t,e=ys,n=Kr)=>{const r=new e,s=new Ei(new n(decoding.createDecoder(t)),!1);let u=s.curr;if(u!==null){let S=0,P=u.id.client,V=u.id.clock!==0,ee=V?0:u.id.clock+u.length;for(;u!==null;u=s.next())P!==u.id.client&&(ee!==0&&(S++,encoding.writeVarUint(r.restEncoder,P),encoding.writeVarUint(r.restEncoder,ee)),P=u.id.client,ee=0,V=u.id.clock!==0),u.constructor===Gr&&(V=!0),V||(ee=u.id.clock+u.length);ee!==0&&(S++,encoding.writeVarUint(r.restEncoder,P),encoding.writeVarUint(r.restEncoder,ee));const q=encoding.createEncoder();return encoding.writeVarUint(q,S),encoding.writeBinaryEncoder(q,r.restEncoder),r.restEncoder=q,r.toUint8Array()}else return encoding.writeVarUint(r.restEncoder,0),r.toUint8Array()},Nu=t=>ml(t,xi,Qr),yl=(t,e=Kr)=>{const n=new Map,r=new Map,s=new Ei(new e(decoding.createDecoder(t)),!1);let u=s.curr;if(u!==null){let S=u.id.client,P=u.id.clock;for(n.set(S,P);u!==null;u=s.next())S!==u.id.client&&(r.set(S,P),n.set(u.id.client,u.id.clock),S=u.id.client),P=u.id.clock+u.length;r.set(S,P)}return{from:n,to:r}},Du=t=>yl(t,Qr),vl=(t,e)=>{if(t.constructor===qr){const{client:n,clock:r}=t.id;return new qr(En(n,r+e),t.length-e)}else if(t.constructor===Gr){const{client:n,clock:r}=t.id;return new Gr(En(n,r+e),t.length-e)}else{const n=t,{client:r,clock:s}=n.id;return new Fn(En(r,s+e),null,En(r,s+e-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(e))}},fa=(t,e=Kr,n=yo)=>{if(t.length===1)return t[0];const r=t.map(q=>new e(decoding.createDecoder(q)));let s=r.map(q=>new Ei(q,!0)),u=null;const S=new n,P=new Pa(S);for(;s=s.filter(ke=>ke.curr!==null),s.sort((ke,nt)=>{if(ke.curr.id.client===nt.curr.id.client){const bt=ke.curr.id.clock-nt.curr.id.clock;return bt===0?ke.curr.constructor===nt.curr.constructor?0:ke.curr.constructor===Gr?1:-1:bt}else return nt.curr.id.client-ke.curr.id.client}),s.length!==0;){const q=s[0],ce=q.curr.id.client;if(u!==null){let ke=q.curr,nt=!1;for(;ke!==null&&ke.id.clock+ke.length<=u.struct.id.clock+u.struct.length&&ke.id.client>=u.struct.id.client;)ke=q.next(),nt=!0;if(ke===null||ke.id.client!==ce||nt&&ke.id.clock>u.struct.id.clock+u.struct.length)continue;if(ce!==u.struct.id.client)Si(P,u.struct,u.offset),u={struct:ke,offset:0},q.next();else if(u.struct.id.clock+u.struct.length<ke.id.clock)if(u.struct.constructor===Gr)u.struct.length=ke.id.clock+ke.length-u.struct.id.clock;else{Si(P,u.struct,u.offset);const bt=ke.id.clock-u.struct.id.clock-u.struct.length;u={struct:new Gr(En(ce,u.struct.id.clock+u.struct.length),bt),offset:0}}else{const bt=u.struct.id.clock+u.struct.length-ke.id.clock;bt>0&&(u.struct.constructor===Gr?u.struct.length-=bt:ke=vl(ke,bt)),u.struct.mergeWith(ke)||(Si(P,u.struct,u.offset),u={struct:ke,offset:0},q.next())}}else u={struct:q.curr,offset:0},q.next();for(let ke=q.curr;ke!==null&&ke.id.client===ce&&ke.id.clock===u.struct.id.clock+u.struct.length&&ke.constructor!==Gr;ke=q.next())Si(P,u.struct,u.offset),u={struct:ke,offset:0}}u!==null&&(Si(P,u.struct,u.offset),u=null),Ra(P);const V=r.map(q=>Jr(q)),ee=bi(V);return Wr(S,ee),S.toUint8Array()},vc=(t,e,n=Kr,r=yo)=>{const s=sa(e),u=new r,S=new Pa(u),P=new n(decoding.createDecoder(t)),V=new Ei(P,!1);for(;V.curr;){const q=V.curr,ce=q.id.client,ke=s.get(ce)||0;if(V.curr.constructor===Gr){V.next();continue}if(q.id.clock+q.length>ke)for(Si(S,q,math.max(ke-q.id.clock,0)),V.next();V.curr&&V.curr.id.client===ce;)Si(S,V.curr,0),V.next();else for(;V.curr&&V.curr.id.client===ce&&V.curr.id.clock+V.curr.length<=ke;)V.next()}Ra(S);const ee=Jr(P);return Wr(u,ee),u.toUint8Array()},Pu=(t,e)=>vc(t,e,Qr,ei),wc=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:encoding.toUint8Array(t.encoder.restEncoder)}),t.encoder.restEncoder=encoding.createEncoder(),t.written=0)},Si=(t,e,n)=>{t.written>0&&t.currClient!==e.id.client&&wc(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),encoding.writeVarUint(t.encoder.restEncoder,e.id.clock+n)),e.write(t.encoder,n),t.written++},Ra=t=>{wc(t);const e=t.encoder.restEncoder;encoding.writeVarUint(e,t.clientStructs.length);for(let n=0;n<t.clientStructs.length;n++){const r=t.clientStructs[n];encoding.writeVarUint(e,r.written),encoding.writeUint8Array(e,r.restEncoder)}},ha=(t,e,n,r)=>{const s=new n(decoding.createDecoder(t)),u=new Ei(s,!1),S=new r,P=new Pa(S);for(let ee=u.curr;ee!==null;ee=u.next())Si(P,e(ee),0);Ra(P);const V=Jr(s);return Wr(S,V),S.toUint8Array()},bc=({formatting:t=!0,subdocs:e=!0,yxml:n=!0}={})=>{let r=0;const s=map.create(),u=map.create(),S=map.create(),P=map.create();return P.set(null,null),V=>{switch(V.constructor){case qr:case Gr:return V;case Fn:{const ee=V,q=ee.content;switch(q.constructor){case Ss:break;case Oo:{if(n){const ce=q.type;ce instanceof ts&&(ce.nodeName=map.setIfUndefined(u,ce.nodeName,()=>"node-"+r)),ce instanceof Zs&&(ce.hookName=map.setIfUndefined(u,ce.hookName,()=>"hook-"+r))}break}case Ti:{const ce=q;ce.arr=ce.arr.map(()=>r);break}case Es:{const ce=q;ce.content=new Uint8Array([r]);break}case Cs:{const ce=q;e&&(ce.opts={},ce.doc.guid=r+"");break}case Ii:{const ce=q;ce.embed={};break}case dr:{const ce=q;t&&(ce.key=map.setIfUndefined(S,ce.key,()=>r+""),ce.value=map.setIfUndefined(P,ce.value,()=>({i:r})));break}case $s:{const ce=q;ce.arr=ce.arr.map(()=>r);break}case Ao:{const ce=q;ce.str=string.repeat(r%10+"",ce.str.length);break}default:error.unexpectedCase()}return ee.parentSub&&(ee.parentSub=map.setIfUndefined(s,ee.parentSub,()=>r+"")),r++,V}default:error.unexpectedCase()}}},Ru=(t,e)=>ha(t,bc(e),Qr,ei),Lu=(t,e)=>ha(t,bc(e),Kr,yo),Bu=t=>ha(t,f.id,Qr,yo),wl=t=>ha(t,f.id,Kr,ei),xc="You must not compute changes after the event-handler fired.";class pa{constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=bl(this.currentTarget,this.target))}deletes(e){return wi(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw g(xc);const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(s=>{if(s!==null){const u=n._map.get(s);let S,P;if(this.adds(u)){let V=u.left;for(;V!==null&&this.adds(V);)V=V.left;if(this.deletes(u))if(V!==null&&this.deletes(V))S="delete",P=z(V.content.getContent());else return;else V!==null&&this.deletes(V)?(S="update",P=z(V.content.getContent())):(S="add",P=void 0)}else if(this.deletes(u))S="delete",P=z(u.content.getContent());else return;e.set(s,{action:S,oldValue:P})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw g(xc);const n=this.target,r=h(),s=h(),u=[];if(e={added:r,deleted:s,delta:u,keys:this.keys},this.transaction.changed.get(n).has(null)){let P=null;const V=()=>{P&&u.push(P)};for(let ee=n._start;ee!==null;ee=ee.right)ee.deleted?this.deletes(ee)&&!this.adds(ee)&&((P===null||P.delete===void 0)&&(V(),P={delete:0}),P.delete+=ee.length,s.add(ee)):this.adds(ee)?((P===null||P.insert===void 0)&&(V(),P={insert:[]}),P.insert=P.insert.concat(ee.content.getContent()),r.add(ee)):((P===null||P.retain===void 0)&&(V(),P={retain:0}),P.retain+=ee.length);P!==null&&P.retain===void 0&&V()}this._changes=e}return e}}const bl=(t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let r=0,s=e._item.parent._start;for(;s!==e._item&&s!==null;)!s.deleted&&s.countable&&(r+=s.length),s=s.right;n.unshift(r)}e=e._item.parent}return n},Sr=()=>{ur("Invalid access: Add Yjs type to a document before reading data.")},_c=80;let La=0;class xl{constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=La++}}const _l=t=>{t.timestamp=La++},Ec=(t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=La++},El=(t,e,n)=>{if(t.length>=_c){const r=t.reduce((s,u)=>s.timestamp<u.timestamp?s:u);return Ec(r,e,n),r}else{const r=new xl(e,n);return t.push(r),r}},ga=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((u,S)=>Se(e-u.index)<Se(e-S.index)?u:S);let r=t._start,s=0;for(n!==null&&(r=n.p,s=n.index,_l(n));r.right!==null&&s<e;){if(!r.deleted&&r.countable){if(e<s+r.length)break;s+=r.length}r=r.right}for(;r.left!==null&&s>e;)r=r.left,!r.deleted&&r.countable&&(s-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(s-=r.length);return n!==null&&Se(n.index-s)<r.parent.length/_c?(Ec(n,r,s),n):El(t._searchMarker,r,s)},Vs=(t,e,n)=>{for(let r=t.length-1;r>=0;r--){const s=t[r];if(n>0){let u=s.p;for(u.marker=!1;u&&(u.deleted||!u.countable);)u=u.left,u&&!u.deleted&&u.countable&&(s.index-=u.length);if(u===null||u.marker===!0){t.splice(r,1);continue}s.p=u,u.marker=!0}(e<s.index||n>0&&e===s.index)&&(s.index=Mt(e,s.index+n))}},Uu=t=>{var r;(r=t.doc)!=null||Sr();let e=t._start;const n=[];for(;e;)n.push(e),e=e.right;return n},ma=(t,e,n)=>{const r=t,s=e.changedParentTypes;for(;_(s,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;tc(r._eH,n,e)};class Cr{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=Qa(),this._dEH=Qa(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw k()}clone(){throw k()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){qa(this._eH,e)}observeDeep(e){qa(this._dEH,e)}unobserve(e){ec(this._eH,e)}unobserveDeep(e){ec(this._dEH,e)}toJSON(){}}const Sc=(t,e,n)=>{var S;(S=t.doc)!=null||Sr(),e<0&&(e=t._length+e),n<0&&(n=t._length+n);let r=n-e;const s=[];let u=t._start;for(;u!==null&&r>0;){if(u.countable&&!u.deleted){const P=u.content.getContent();if(P.length<=e)e-=P.length;else{for(let V=e;V<P.length&&r>0;V++)s.push(P[V]),r--;e=0}}u=u.right}return s},Cc=t=>{var r;(r=t.doc)!=null||Sr();const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const s=n.content.getContent();for(let u=0;u<s.length;u++)e.push(s[u])}n=n.right}return e},zu=(t,e)=>{const n=[];let r=t._start;for(;r!==null;){if(r.countable&&_i(r,e)){const s=r.content.getContent();for(let u=0;u<s.length;u++)n.push(s[u])}r=r.right}return n},js=(t,e)=>{var s;let n=0,r=t._start;for((s=t.doc)!=null||Sr();r!==null;){if(r.countable&&!r.deleted){const u=r.content.getContent();for(let S=0;S<u.length;S++)e(u[S],n++,t)}r=r.right}},kc=(t,e)=>{const n=[];return js(t,(r,s)=>{n.push(e(r,s,t))}),n},Sl=t=>{let e=t._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),r=0,e=e.right}const s=n[r++];return n.length<=r&&(n=null),{done:!1,value:s}}}},Ic=(t,e)=>{var s;(s=t.doc)!=null||Sr();const n=ga(t,e);let r=t._start;for(n!==null&&(r=n.p,e-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(e<r.length)return r.content.getContent()[e];e-=r.length}},ya=(t,e,n,r)=>{let s=n;const u=t.doc,S=u.clientID,P=u.store,V=n===null?e._start:n.right;let ee=[];const q=()=>{ee.length>0&&(s=new Fn(En(S,qn(P,S)),s,s&&s.lastId,V,V&&V.id,e,null,new Ti(ee)),s.integrate(t,0),ee=[])};r.forEach(ce=>{if(ce===null)ee.push(ce);else switch(ce.constructor){case Number:case Object:case Boolean:case Array:case String:ee.push(ce);break;default:switch(q(),ce.constructor){case Uint8Array:case ArrayBuffer:s=new Fn(En(S,qn(P,S)),s,s&&s.lastId,V,V&&V.id,e,null,new Es(new Uint8Array(ce))),s.integrate(t,0);break;case qo:s=new Fn(En(S,qn(P,S)),s,s&&s.lastId,V,V&&V.id,e,null,new Cs(ce)),s.integrate(t,0);break;default:if(ce instanceof Cr)s=new Fn(En(S,qn(P,S)),s,s&&s.lastId,V,V&&V.id,e,null,new Oo(ce)),s.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),q()},Tc=()=>g("Length exceeded!"),Ac=(t,e,n,r)=>{if(n>e._length)throw Tc();if(n===0)return e._searchMarker&&Vs(e._searchMarker,n,r.length),ya(t,e,null,r);const s=n,u=ga(e,n);let S=e._start;for(u!==null&&(S=u.p,n-=u.index,n===0&&(S=S.prev,n+=S&&S.countable&&!S.deleted?S.length:0));S!==null;S=S.right)if(!S.deleted&&S.countable){if(n<=S.length){n<S.length&&zr(t,En(S.id.client,S.id.clock+n));break}n-=S.length}return e._searchMarker&&Vs(e._searchMarker,s,r.length),ya(t,e,S,r)},Cl=(t,e,n)=>{let s=(e._searchMarker||[]).reduce((u,S)=>S.index>u.index?S:u,{index:0,p:e._start}).p;if(s)for(;s.right;)s=s.right;return ya(t,e,s,n)},Oc=(t,e,n,r)=>{if(r===0)return;const s=n,u=r,S=ga(e,n);let P=e._start;for(S!==null&&(P=S.p,n-=S.index);P!==null&&n>0;P=P.right)!P.deleted&&P.countable&&(n<P.length&&zr(t,En(P.id.client,P.id.clock+n)),n-=P.length);for(;r>0&&P!==null;)P.deleted||(r<P.length&&zr(t,En(P.id.client,P.id.clock+r)),P.delete(t),r-=P.length),P=P.right;if(r>0)throw Tc();e._searchMarker&&Vs(e._searchMarker,s,-u+r)},va=(t,e,n)=>{const r=e._map.get(n);r!==void 0&&r.delete(t)},Ba=(t,e,n,r)=>{const s=e._map.get(n)||null,u=t.doc,S=u.clientID;let P;if(r==null)P=new Ti([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:P=new Ti([r]);break;case Uint8Array:P=new Es(r);break;case qo:P=new Cs(r);break;default:if(r instanceof Cr)P=new Oo(r);else throw new Error("Unexpected content type")}new Fn(En(S,qn(u.store,S)),s,s&&s.lastId,null,null,e,n,P).integrate(t,0)},Ua=(t,e)=>{var r;(r=t.doc)!=null||Sr();const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},Mc=t=>{var n;const e={};return(n=t.doc)!=null||Sr(),t._map.forEach((r,s)=>{r.deleted||(e[s]=r.content.getContent()[r.length-1])}),e},Nc=(t,e)=>{var r;(r=t.doc)!=null||Sr();const n=t._map.get(e);return n!==void 0&&!n.deleted},Fu=(t,e,n)=>{let r=t._map.get(e)||null;for(;r!==null&&(!n.sv.has(r.id.client)||r.id.clock>=(n.sv.get(r.id.client)||0));)r=r.left;return r!==null&&_i(r,n)?r.content.getContent()[r.length-1]:void 0},kl=(t,e)=>{const n={};return t._map.forEach((r,s)=>{let u=r;for(;u!==null&&(!e.sv.has(u.id.client)||u.id.clock>=(e.sv.get(u.id.client)||0));)u=u.left;u!==null&&_i(u,e)&&(n[s]=u.content.getContent()[u.length-1])}),n},wa=t=>{var e;return(e=t.doc)!=null||Sr(),hi(t._map.entries(),n=>!n[1].deleted)};class Il extends pa{}class Ci extends Cr{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new Ci;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Ci}clone(){const e=new Ci;return e.insert(0,this.toArray().map(n=>n instanceof Cr?n.clone():n)),e}get length(){var e;return(e=this.doc)!=null||Sr(),this._length}_callObserver(e,n){super._callObserver(e,n),ma(this,e,new Il(this,e))}insert(e,n){this.doc!==null?Zn(this.doc,r=>{Ac(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?Zn(this.doc,n=>{Cl(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?Zn(this.doc,r=>{Oc(r,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return Ic(this,e)}toArray(){return Cc(this)}slice(e=0,n=this.length){return Sc(this,e,n)}toJSON(){return this.map(e=>e instanceof Cr?e.toJSON():e)}map(e){return kc(this,e)}forEach(e){js(this,e)}[Symbol.iterator](){return Sl(this)}_write(e){e.writeTypeRef(Ql)}}const Tl=t=>new Ci;class Al extends pa{constructor(e,n,r){super(e,n),this.keysChanged=r}}class qi extends Cr{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((r,s)=>{this.set(s,r)}),this._prelimContent=null}_copy(){return new qi}clone(){const e=new qi;return this.forEach((n,r)=>{e.set(r,n instanceof Cr?n.clone():n)}),e}_callObserver(e,n){ma(this,e,new Al(this,e,n))}toJSON(){var n;(n=this.doc)!=null||Sr();const e={};return this._map.forEach((r,s)=>{if(!r.deleted){const u=r.content.getContent()[r.length-1];e[s]=u instanceof Cr?u.toJSON():u}}),e}get size(){return[...wa(this)].length}keys(){return ko(wa(this),e=>e[0])}values(){return ko(wa(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return ko(wa(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){var n;(n=this.doc)!=null||Sr(),this._map.forEach((r,s)=>{r.deleted||e(r.content.getContent()[r.length-1],s,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?Zn(this.doc,n=>{va(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?Zn(this.doc,r=>{Ba(r,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return Ua(this,e)}has(e){return Nc(this,e)}clear(){this.doc!==null?Zn(this.doc,e=>{this.forEach(function(n,r,s){va(e,s,r)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(ql)}}const Ol=t=>new qi,ki=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&Ji(t,e);class za{constructor(e,n,r,s){this.left=e,this.right=n,this.index=r,this.currentAttributes=s}forward(){switch(this.right===null&&F(),this.right.content.constructor){case dr:this.right.deleted||xs(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const Dc=(t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case dr:e.right.deleted||xs(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&zr(t,En(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},ba=(t,e,n,r)=>{const s=new Map,u=r?ga(e,n):null;if(u){const S=new za(u.p.left,u.p,u.index,s);return Dc(t,S,n-u.index)}else{const S=new za(null,e._start,0,s);return Dc(t,S,n)}},Pc=(t,e,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===dr&&ki(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const s=t.doc,u=s.clientID;r.forEach((S,P)=>{const V=n.left,ee=n.right,q=new Fn(En(u,qn(s.store,u)),V,V&&V.lastId,ee,ee&&ee.id,e,null,new dr(P,S));q.integrate(t,0),n.right=q,n.forward()})},xs=(t,e)=>{const{key:n,value:r}=e;r===null?t.delete(n):t.set(n,r)},Rc=(t,e)=>{var n;for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===dr&&ki((n=e[t.right.content.key])!=null?n:null,t.right.content.value)))break;t.forward()}},Lc=(t,e,n,r)=>{var P;const s=t.doc,u=s.clientID,S=new Map;for(const V in r){const ee=r[V],q=(P=n.currentAttributes.get(V))!=null?P:null;if(!ki(q,ee)){S.set(V,q);const{left:ce,right:ke}=n;n.right=new Fn(En(u,qn(s.store,u)),ce,ce&&ce.lastId,ke,ke&&ke.id,e,null,new dr(V,ee)),n.right.integrate(t,0),n.forward()}}return S},Fa=(t,e,n,r,s)=>{n.currentAttributes.forEach((ke,nt)=>{s[nt]===void 0&&(s[nt]=null)});const u=t.doc,S=u.clientID;Rc(n,s);const P=Lc(t,e,n,s),V=r.constructor===String?new Ao(r):r instanceof Cr?new Oo(r):new Ii(r);let{left:ee,right:q,index:ce}=n;e._searchMarker&&Vs(e._searchMarker,n.index,V.getLength()),q=new Fn(En(S,qn(u.store,S)),ee,ee&&ee.lastId,q,q&&q.id,e,null,V),q.integrate(t,0),n.right=q,n.index=ce,n.forward(),Pc(t,e,n,P)},Bc=(t,e,n,r,s)=>{const u=t.doc,S=u.clientID;Rc(n,s);const P=Lc(t,e,n,s);e:for(;n.right!==null&&(r>0||P.size>0&&(n.right.deleted||n.right.content.constructor===dr));){if(!n.right.deleted)switch(n.right.content.constructor){case dr:{const{key:V,value:ee}=n.right.content,q=s[V];if(q!==void 0){if(ki(q,ee))P.delete(V);else{if(r===0)break e;P.set(V,ee)}n.right.delete(t)}else n.currentAttributes.set(V,ee);break}default:r<n.right.length&&zr(t,En(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let V="";for(;r>0;r--)V+=`
`;n.right=new Fn(En(S,qn(u.store,S)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new Ao(V)),n.right.integrate(t,0),n.forward()}Pc(t,e,n,P)},Uc=(t,e,n,r,s)=>{var ee,q;let u=e;const S=i();for(;u&&(!u.countable||u.deleted);){if(!u.deleted&&u.content.constructor===dr){const ce=u.content;S.set(ce.key,ce)}u=u.right}let P=0,V=!1;for(;e!==u;){if(n===e&&(V=!0),!e.deleted){const ce=e.content;switch(ce.constructor){case dr:{const{key:ke,value:nt}=ce,bt=(ee=r.get(ke))!=null?ee:null;(S.get(ke)!==ce||bt===nt)&&(e.delete(t),P++,!V&&((q=s.get(ke))!=null?q:null)===nt&&bt!==nt&&(bt===null?s.delete(ke):s.set(ke,bt))),!V&&!e.deleted&&xs(s,ce);break}}}e=e.right}return P},Ml=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===dr){const r=e.content.key;n.has(r)?e.delete(t):n.add(r)}e=e.left}},Nl=t=>{let e=0;return Zn(t.doc,n=>{let r=t._start,s=t._start,u=i();const S=M(u);for(;s;){if(s.deleted===!1)switch(s.content.constructor){case dr:xs(S,s.content);break;default:e+=Uc(n,r,s,u,S),u=M(S),r=s;break}s=s.right}}),e},Dl=t=>{const e=new Set,n=t.doc;for(const[r,s]of t.afterState.entries()){const u=t.beforeState.get(r)||0;s!==u&&uc(t,n.store.clients.get(r),u,s,S=>{!S.deleted&&S.content.constructor===dr&&S.constructor!==qr&&e.add(S.parent)})}Zn(n,r=>{vi(t,t.deleteSet,s=>{if(s instanceof qr||!s.parent._hasFormatting||e.has(s.parent))return;const u=s.parent;s.content.constructor===dr?e.add(u):Ml(r,s)});for(const s of e)Nl(s)})},zc=(t,e,n)=>{const r=n,s=M(e.currentAttributes),u=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case Oo:case Ii:case Ao:n<e.right.length&&zr(t,En(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}u&&Uc(t,u,e.right,s,e.currentAttributes);const S=(e.left||e.right).parent;return S._searchMarker&&Vs(S._searchMarker,e.index,-r+n),e};class Pl extends pa{constructor(e,n,r){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(s=>{s===null?this.childListChanged=!0:this.keysChanged.add(s)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];Zn(e,r=>{var nt,bt,Dn;const s=new Map,u=new Map;let S=this.target._start,P=null;const V={};let ee="",q=0,ce=0;const ke=()=>{if(P!==null){let fn=null;switch(P){case"delete":ce>0&&(fn={delete:ce}),ce=0;break;case"insert":(typeof ee=="object"||ee.length>0)&&(fn={insert:ee},s.size>0&&(fn.attributes={},s.forEach((Nn,eo)=>{Nn!==null&&(fn.attributes[eo]=Nn)}))),ee="";break;case"retain":q>0&&(fn={retain:q},Qo(V)||(fn.attributes=gi({},V))),q=0;break}fn&&n.push(fn),P=null}};for(;S!==null;){switch(S.content.constructor){case Oo:case Ii:this.adds(S)?this.deletes(S)||(ke(),P="insert",ee=S.content.getContent()[0],ke()):this.deletes(S)?(P!=="delete"&&(ke(),P="delete"),ce+=1):S.deleted||(P!=="retain"&&(ke(),P="retain"),q+=1);break;case Ao:this.adds(S)?this.deletes(S)||(P!=="insert"&&(ke(),P="insert"),ee+=S.content.str):this.deletes(S)?(P!=="delete"&&(ke(),P="delete"),ce+=S.length):S.deleted||(P!=="retain"&&(ke(),P="retain"),q+=S.length);break;case dr:{const{key:fn,value:Nn}=S.content;if(this.adds(S)){if(!this.deletes(S)){const eo=(nt=s.get(fn))!=null?nt:null;ki(eo,Nn)?Nn!==null&&S.delete(r):(P==="retain"&&ke(),ki(Nn,(bt=u.get(fn))!=null?bt:null)?delete V[fn]:V[fn]=Nn)}}else if(this.deletes(S)){u.set(fn,Nn);const eo=(Dn=s.get(fn))!=null?Dn:null;ki(eo,Nn)||(P==="retain"&&ke(),V[fn]=eo)}else if(!S.deleted){u.set(fn,Nn);const eo=V[fn];eo!==void 0&&(ki(eo,Nn)?eo!==null&&S.delete(r):(P==="retain"&&ke(),Nn===null?delete V[fn]:V[fn]=Nn))}S.deleted||(P==="insert"&&ke(),xs(s,S.content));break}}S=S.right}for(ke();n.length>0;){const fn=n[n.length-1];if(fn.retain!==void 0&&fn.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class _s extends Cr{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){var e;return(e=this.doc)!=null||Sr(),this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new _s}clone(){const e=new _s;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const r=new Pl(this,e,n);ma(this,e,r),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){var r;(r=this.doc)!=null||Sr();let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===Ao&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?Zn(this.doc,r=>{const s=new za(null,this._start,0,new Map);for(let u=0;u<e.length;u++){const S=e[u];if(S.insert!==void 0){const P=!n&&typeof S.insert=="string"&&u===e.length-1&&s.right===null&&S.insert.slice(-1)===`
`?S.insert.slice(0,-1):S.insert;(typeof P!="string"||P.length>0)&&Fa(r,this,s,P,S.attributes||{})}else S.retain!==void 0?Bc(r,this,s,S.retain,S.attributes||{}):S.delete!==void 0&&zc(r,s,S.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,r){var ce;(ce=this.doc)!=null||Sr();const s=[],u=new Map,S=this.doc;let P="",V=this._start;function ee(){if(P.length>0){const ke={};let nt=!1;u.forEach((Dn,fn)=>{nt=!0,ke[fn]=Dn});const bt={insert:P};nt&&(bt.attributes=ke),s.push(bt),P=""}}const q=()=>{for(;V!==null;){if(_i(V,e)||n!==void 0&&_i(V,n))switch(V.content.constructor){case Ao:{const ke=u.get("ychange");e!==void 0&&!_i(V,e)?(ke===void 0||ke.user!==V.id.client||ke.type!=="removed")&&(ee(),u.set("ychange",r?r("removed",V.id):{type:"removed"})):n!==void 0&&!_i(V,n)?(ke===void 0||ke.user!==V.id.client||ke.type!=="added")&&(ee(),u.set("ychange",r?r("added",V.id):{type:"added"})):ke!==void 0&&(ee(),u.delete("ychange")),P+=V.content.str;break}case Oo:case Ii:{ee();const ke={insert:V.content.getContent()[0]};if(u.size>0){const nt={};ke.attributes=nt,u.forEach((bt,Dn)=>{nt[Dn]=bt})}s.push(ke);break}case dr:_i(V,e)&&(ee(),xs(u,V.content));break}V=V.right}ee()};return e||n?Zn(S,ke=>{e&&Na(ke,e),n&&Na(ke,n),q()},"cleanup"):q(),s}insert(e,n,r){if(n.length<=0)return;const s=this.doc;s!==null?Zn(s,u=>{const S=ba(u,this,e,!r);r||(r={},S.currentAttributes.forEach((P,V)=>{r[V]=P})),Fa(u,this,S,n,r)}):this._pending.push(()=>this.insert(e,n,r))}insertEmbed(e,n,r){const s=this.doc;s!==null?Zn(s,u=>{const S=ba(u,this,e,!r);Fa(u,this,S,n,r||{})}):this._pending.push(()=>this.insertEmbed(e,n,r||{}))}delete(e,n){if(n===0)return;const r=this.doc;r!==null?Zn(r,s=>{zc(s,ba(s,this,e,!0),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,r){if(n===0)return;const s=this.doc;s!==null?Zn(s,u=>{const S=ba(u,this,e,!1);S.right!==null&&Bc(u,this,S,n,r)}):this._pending.push(()=>this.format(e,n,r))}removeAttribute(e){this.doc!==null?Zn(this.doc,n=>{va(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?Zn(this.doc,r=>{Ba(r,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return Ua(this,e)}getAttributes(){return Mc(this)}_write(e){e.writeTypeRef(eu)}}const Rl=t=>new _s;class Va{constructor(e,n=()=>!0){var r;this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0,(r=e.doc)!=null||Sr()}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===ts||n.constructor===es)&&n._start!==null)e=n._start;else for(;e!==null;)if(e.right!==null){e=e.right;break}else e.parent===this._root?e=null:e=e.parent._item;while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class es extends Cr{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new es}clone(){const e=new es;return e.insert(0,this.toArray().map(n=>n instanceof Cr?n.clone():n)),e}get length(){var e;return(e=this.doc)!=null||Sr(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new Va(this,e)}querySelector(e){e=e.toUpperCase();const r=new Va(this,s=>s.nodeName&&s.nodeName.toUpperCase()===e).next();return r.done?null:r.value}querySelectorAll(e){return e=e.toUpperCase(),ue(new Va(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){ma(this,e,new Ul(this,n,e))}toString(){return kc(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},r){const s=e.createDocumentFragment();return r!==void 0&&r._createAssociation(s,this),js(this,u=>{s.insertBefore(u.toDOM(e,n,r),null)}),s}insert(e,n){this.doc!==null?Zn(this.doc,r=>{Ac(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)Zn(this.doc,r=>{const s=e&&e instanceof Cr?e._item:e;ya(r,this,s,n)});else{const r=this._prelimContent,s=e===null?0:r.findIndex(u=>u===e)+1;if(s===0&&e!==null)throw g("Reference item not found");r.splice(s,0,...n)}}delete(e,n=1){this.doc!==null?Zn(this.doc,r=>{Oc(r,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return Cc(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return Ic(this,e)}slice(e=0,n=this.length){return Sc(this,e,n)}forEach(e){js(this,e)}_write(e){e.writeTypeRef(nu)}}const Ll=t=>new es;class ts extends es{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((r,s)=>{this.setAttribute(s,r)}),this._prelimAttrs=null}_copy(){return new ts(this.nodeName)}clone(){const e=new ts(this.nodeName),n=this.getAttributes();return Yi(n,(r,s)=>{typeof r=="string"&&e.setAttribute(s,r)}),e.insert(0,this.toArray().map(r=>r instanceof Cr?r.clone():r)),e}toString(){const e=this.getAttributes(),n=[],r=[];for(const P in e)r.push(P);r.sort();const s=r.length;for(let P=0;P<s;P++){const V=r[P];n.push(V+'="'+e[V]+'"')}const u=this.nodeName.toLocaleLowerCase(),S=n.length>0?" "+n.join(" "):"";return`<${u}${S}>${super.toString()}</${u}>`}removeAttribute(e){this.doc!==null?Zn(this.doc,n=>{va(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?Zn(this.doc,r=>{Ba(r,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return Ua(this,e)}hasAttribute(e){return Nc(this,e)}getAttributes(e){return e?kl(this,e):Mc(this)}toDOM(e=document,n={},r){const s=e.createElement(this.nodeName),u=this.getAttributes();for(const S in u){const P=u[S];typeof P=="string"&&s.setAttribute(S,P)}return js(this,S=>{s.appendChild(S.toDOM(e,n,r))}),r!==void 0&&r._createAssociation(s,this),s}_write(e){e.writeTypeRef(tu),e.writeKey(this.nodeName)}}const Bl=t=>new ts(t.readKey());class Ul extends pa{constructor(e,n,r){super(e,r),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(s=>{s===null?this.childListChanged=!0:this.attributesChanged.add(s)})}}class Zs extends qi{constructor(e){super(),this.hookName=e}_copy(){return new Zs(this.hookName)}clone(){const e=new Zs(this.hookName);return this.forEach((n,r)=>{e.set(r,n)}),e}toDOM(e=document,n={},r){const s=n[this.hookName];let u;return s!==void 0?u=s.createDom(this):u=document.createElement(this.hookName),u.setAttribute("data-yjs-hook",this.hookName),r!==void 0&&r._createAssociation(u,this),u}_write(e){e.writeTypeRef(ru),e.writeKey(this.hookName)}}const zl=t=>new Zs(t.readKey());class xa extends _s{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new xa}clone(){const e=new xa;return e.applyDelta(this.toDelta()),e}toDOM(e=document,n,r){const s=e.createTextNode(this.toString());return r!==void 0&&r._createAssociation(s,this),s}toString(){return this.toDelta().map(e=>{const n=[];for(const s in e.attributes){const u=[];for(const S in e.attributes[s])u.push({key:S,value:e.attributes[s][S]});u.sort((S,P)=>S.key<P.key?-1:1),n.push({nodeName:s,attrs:u})}n.sort((s,u)=>s.nodeName<u.nodeName?-1:1);let r="";for(let s=0;s<n.length;s++){const u=n[s];r+=`<${u.nodeName}`;for(let S=0;S<u.attrs.length;S++){const P=u.attrs[S];r+=` ${P.key}="${P.value}"`}r+=">"}r+=e.insert;for(let s=n.length-1;s>=0;s--)r+=`</${n[s].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(ou)}}const Fl=t=>new xa;class Fc{constructor(e,n){this.id=e,this.length=n}get deleted(){throw k()}mergeWith(e){return!1}write(e,n,r){throw k()}integrate(e,n){throw k()}}const Vl=0;class qr extends Fc{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),cc(e.doc.store,this)}write(e,n){e.writeInfo(Vl),e.writeLen(this.length-n)}getMissing(e,n){return null}}class Es{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Es(this.content)}splice(e){throw k()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}const jl=t=>new Es(t.readBuf());class Ss{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Ss(this.len)}splice(e){const n=new Ss(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){Qi(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const Zl=t=>new Ss(t.readLen()),Vc=(t,e)=>new qo($n(Bt({guid:t},e),{shouldLoad:e.shouldLoad||e.autoLoad||!1}));class Cs{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Cs(Vc(this.doc.guid,this.opts))}splice(e){throw k()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const $l=t=>new Cs(Vc(t.readString(),t.readAny()));class Ii{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new Ii(this.embed)}splice(e){throw k()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}const Hl=t=>new Ii(t.readJSON());class dr{constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new dr(this.key,this.value)}splice(e){throw k()}mergeWith(e){return!1}integrate(e,n){const r=n.parent;r._searchMarker=null,r._hasFormatting=!0}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const Wl=t=>new dr(t.readKey(),t.readJSON());class $s{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new $s(this.arr)}splice(e){const n=new $s(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let s=n;s<r;s++){const u=this.arr[s];e.writeString(u===void 0?"undefined":JSON.stringify(u))}}getRef(){return 2}}const Kl=t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++){const s=t.readString();s==="undefined"?n.push(void 0):n.push(JSON.parse(s))}return new $s(n)},Gl=Ut("node_env")==="development";class Ti{constructor(e){this.arr=e,Gl&&yi(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Ti(this.arr)}splice(e){const n=new Ti(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let s=n;s<r;s++){const u=this.arr[s];e.writeAny(u)}}getRef(){return 8}}const Xl=t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++)n.push(t.readAny());return new Ti(n)};class Ao{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Ao(this.str)}splice(e){const n=new Ao(this.str.slice(e));this.str=this.str.slice(0,e);const r=this.str.charCodeAt(e-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,e-1)+"\uFFFD",n.str="\uFFFD"+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const Yl=t=>new Ao(t.readString()),Jl=[Tl,Ol,Rl,Bl,Ll,zl,Fl],Ql=0,ql=1,eu=2,tu=3,nu=4,ru=5,ou=6;class Oo{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Oo(this.type._copy())}splice(e){throw k()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(e.beforeState.get(r.id.client)||0)&&e._mergeStructs.push(r):r.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(e,!0),r=r.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const iu=t=>new Oo(Jl[t.readTypeRef()](t)),ja=(t,e)=>{let n=e,r=0,s;do r>0&&(n=En(n.client,n.clock+r)),s=bs(t,n),r=n.clock-s.id.clock,n=s.redone;while(n!==null&&s instanceof Fn);return{item:s,diff:r}},Za=(t,e)=>{for(;t!==null&&t.keep!==e;)t.keep=e,t=t.parent._item},_a=(t,e,n)=>{const{client:r,clock:s}=e.id,u=new Fn(En(r,s+n),e,En(r,s+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&u.markDeleted(),e.keep&&(u.keep=!0),e.redone!==null&&(u.redone=En(e.redone.client,e.redone.clock+n)),e.right=u,u.right!==null&&(u.right.left=u),t._mergeStructs.push(u),u.parentSub!==null&&u.right===null&&u.parent._map.set(u.parentSub,u),e.length=n,u},jc=(t,e)=>se(t,n=>wi(n.deletions,e)),Zc=(t,e,n,r,s,u)=>{const S=t.doc,P=S.store,V=S.clientID,ee=e.redone;if(ee!==null)return zr(t,ee);let q=e.parent._item,ce=null,ke;if(q!==null&&q.deleted===!0){if(q.redone===null&&(!n.has(q)||Zc(t,q,n,r,s,u)===null))return null;for(;q.redone!==null;)q=zr(t,q.redone)}const nt=q===null?e.parent:q.content.type;if(e.parentSub===null){for(ce=e.left,ke=e;ce!==null;){let Nn=ce;for(;Nn!==null&&Nn.parent._item!==q;)Nn=Nn.redone===null?null:zr(t,Nn.redone);if(Nn!==null&&Nn.parent._item===q){ce=Nn;break}ce=ce.left}for(;ke!==null;){let Nn=ke;for(;Nn!==null&&Nn.parent._item!==q;)Nn=Nn.redone===null?null:zr(t,Nn.redone);if(Nn!==null&&Nn.parent._item===q){ke=Nn;break}ke=ke.right}}else if(ke=null,e.right&&!s){for(ce=e;ce!==null&&ce.right!==null&&(ce.right.redone||wi(r,ce.right.id)||jc(u.undoStack,ce.right.id)||jc(u.redoStack,ce.right.id));)for(ce=ce.right;ce.redone;)ce=zr(t,ce.redone);if(ce&&ce.right!==null)return null}else ce=nt._map.get(e.parentSub)||null;const bt=qn(P,V),Dn=En(V,bt),fn=new Fn(Dn,ce,ce&&ce.lastId,ke,ke&&ke.id,nt,e.parentSub,e.content.copy());return e.redone=Dn,Za(fn,!0),fn.integrate(t,0),fn};class Fn extends Fc{constructor(e,n,r,s,u,S,P,V){super(e,V.getLength()),this.origin=r,this.left=n,this.right=s,this.rightOrigin=u,this.parent=S,this.parentSub=P,this.redone=null,this.content=V,this.info=this.content.isCountable()?mt:0}set marker(e){(this.info&cn)>0!==e&&(this.info^=cn)}get marker(){return(this.info&cn)>0}get keep(){return(this.info&vt)>0}set keep(e){this.keep!==e&&(this.info^=vt)}get countable(){return(this.info&mt)>0}get deleted(){return(this.info&tt)>0}set deleted(e){this.deleted!==e&&(this.info^=tt)}markDeleted(){this.info|=tt}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=qn(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=qn(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===vs&&this.id.client!==this.parent.client&&this.parent.clock>=qn(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=lc(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=zr(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===qr||this.right&&this.right.constructor===qr)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===Fn&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===Fn&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===vs){const r=bs(n,this.parent);r.constructor===qr?this.parent=null:this.parent=r.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=lc(e,e.doc.store,En(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,s;if(r!==null)s=r.right;else if(this.parentSub!==null)for(s=this.parent._map.get(this.parentSub)||null;s!==null&&s.left!==null;)s=s.left;else s=this.parent._start;const u=new Set,S=new Set;for(;s!==null&&s!==this.right;){if(S.add(s),u.add(s),ws(this.origin,s.origin)){if(s.id.client<this.id.client)r=s,u.clear();else if(ws(this.rightOrigin,s.rightOrigin))break}else if(s.origin!==null&&S.has(bs(e.doc.store,s.origin)))u.has(bs(e.doc.store,s.origin))||(r=s,u.clear());else break;s=s.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),cc(e.doc.store,this),this.content.integrate(e,this),fc(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new qr(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:En(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&ws(e.origin,this.lastId)&&this.right===e&&ws(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===e&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),Qi(e.deleteSet,this.id.client,this.id.clock,this.length),fc(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw F();this.content.gc(e),n?cl(e,this,new qr(this.id,this.length)):this.content=new Ss(this.length)}write(e,n){const r=n>0?En(this.id.client,this.id.clock+n-1):this.origin,s=this.rightOrigin,u=this.parentSub,S=this.content.getRef()&Rt|(r===null?0:tn)|(s===null?0:lt)|(u===null?0:Ke);if(e.writeInfo(S),r!==null&&e.writeLeftID(r),s!==null&&e.writeRightID(s),r===null&&s===null){const P=this.parent;if(P._item!==void 0){const V=P._item;if(V===null){const ee=oc(P);e.writeParentInfo(!0),e.writeString(ee)}else e.writeParentInfo(!1),e.writeLeftID(V.id)}else P.constructor===String?(e.writeParentInfo(!0),e.writeString(P)):P.constructor===vs?(e.writeParentInfo(!1),e.writeLeftID(P)):F();u!==null&&e.writeString(u)}this.content.write(e,n)}}const $c=(t,e)=>su[e&binary.BITS5](t),su=[()=>{F()},Zl,Kl,jl,Yl,Hl,Wl,iu,Xl,$l,()=>{F()}],au=10;class Gr extends null{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){error.unexpectedCase()}write(e,n){e.writeInfo(au),encoding.writeVarUint(e.restEncoder,this.length-n)}getMissing(e,n){return null}}const Hc=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:{},Wc="__ $YJS$ __";Hc[Wc]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438"),Hc[Wc]=!0},75595:function(B,Z,d){"use strict";d.d(Z,{Ue:function(){return I}});var i=d(5221),M=d(75271),_=d(8769);const{useDebugValue:T}=M,{useSyncExternalStoreWithSelector:x}=_;let b=!1;const h=D=>D;function y(D,X=h,K){K&&!b&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),b=!0);const ue=x(D.subscribe,D.getState,D.getServerState||D.getInitialState,X,K);return T(ue),ue}const C=D=>{typeof D!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const X=typeof D=="function"?(0,i.M)(D):D,K=(ue,Be)=>y(X,ue,Be);return Object.assign(K,X),K},I=D=>D?C(D):C;var z=D=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),I(D))}}]);
}());