(self.webpackChunk_ant_design_pro_flow=self.webpackChunk_ant_design_pro_flow||[]).push([[1516],{30599:function(oe,b,e){"use strict";e.r(b),e.d(b,{BackgroundVariant:function(){return p.T}});var D=e(26068),d=e.n(D),p=e(6428),f=e(52676);b.default=function(u){var s=u.gap,c=s===void 0?10:s,E=u.color,N=E===void 0?"#bac3d4":E;return(0,f.jsx)(p.A,d()(d()({},u),{},{gap:c,color:N}))}},1847:function(oe,b,e){"use strict";e.d(b,{Z:function(){return m}});var D=e(26068),d=e.n(D),p=e(59635),f=e(63974),u=e(26188),s=e(13830),c=e(75271),E=e(45171),N=e(53649),v=e.n(N),M,P,L,h,U,i,x,K,W,A,F,I,j,H,R=(0,s.kc)(function(y){var _=y.css;return{groupWrap:_(M||(M=v()([`
    width: 355px;
    height: 614px;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-top: 16px;
    overflow: hidden;
    background-color: #fafafa;
    position: absolute;
    z-index: 10;
    border-radius: 8px;
    border: 1px solid #d9d9d9;
  `]))),btnWrap:_(P||(P=v()([`
    width: 100%;
    height: 70px;
    position: absolute;
    bottom: 0;
    left: 0;
    z-index: 11;
    background-color: #fefefe;
    opacity: 0.7;
  `]))),btn:_(L||(L=v()([`
    width: 110px;
    height: 32px;
    position: absolute;
    z-index: 12;
    background: #fff;
    border: 1px solid #d9d9d9;
    border-radius: 32px;
    box-shadow: 0 2px 0 0 rgba(0, 0, 0, 2%);
    font-size: 14px;
    color: rgba(0, 0, 0, 88%);
    line-height: 32px;
    bottom: 16px;
    left: 112px;
    text-align: center;

    img {
      width: 14px;
      height: 14px;
      margin-left: 4px;
      transform: translateY(2px);
    }
  `]))),groupItemWrap:_(h||(h=v()([`
    display: flex;
    border-radius: 12px;
    box-sizing: border-box;
    padding: 16px 12px;
    background: #fff;
    margin-bottom: 26px;
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.04);
    box-shadow: 0 4px 6px -2px rgba(25, 15, 15, 0.05), 0 0 1px 0 rgba(0, 0, 0, 0.08);

    &:last-child {
      opacity: 0.5;
    }

    img {
      width: 48px;
      height: 48px;
    }
  `]))),groupItemContent:_(U||(U=v()([`
    width: 230px;
    margin-left: 13px;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  `]))),groupItemTitle:_(i||(i=v()([`
    width: 100%;
    font-size: 16px;
    color: rgba(0, 0, 0, 88%);
    line-height: 22px;
    font-weight: 600;
    display: flex;
    align-items: center;
    display: inline-block;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    text-align: left;
  `]))),des:_(x||(x=v()([`
    font-size: 14px;
    color: rgba(0, 0, 0, 45%);
    line-height: 20px;
    white-space: nowrap;
    width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    text-align: left;
    margin-top: 11px;
  `]))),nodeSelected:_(K||(K=v()([`
    background-color: #ecf3fe;
    box-shadow: 0 0 0 3px #1677ff, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;

    .buttonWrap {
      width: 100%;
      height: 70px;
      position: absolute;
      bottom: 0;
      left: 0;
      z-index: 11;
      opacity: 0.7;
      background-color: #ecf3fe;
    }
  `]))),nodeSubSelected:_(W||(W=v()([`
    box-shadow: 0 0 0 1px #1677ff, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
    background-color: #ecf3fe;

    .buttonWrap {
      width: 100%;
      height: 70px;
      position: absolute;
      bottom: 0;
      left: 0;
      z-index: 11;
      opacity: 0.7;
      background-color: #ecf3fe;
    }
  `]))),nodeDanger:_(A||(A=v()([`
    box-shadow: 0 0 0 3px #f7636e, 0 1px 4px 1px rgba(0, 0, 0, 8%);
  `]))),nodeSubDanger:_(F||(F=v()([`
    box-shadow: 0 0 0 1px #f7636e, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
  `]))),nodeWarning:_(I||(I=v()([`
    box-shadow: 0 0 0 3px #ef9d3b, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
  `]))),nodeSubWarning:_(j||(j=v()([`
    box-shadow: 0 0 0 1px #ef9d3b, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
  `]))),nodeDefault:_(H||(H=v()([""])))}}),r=e(52676),l=function(_){return _.map(function(z){return d()(d()({},z),{},{type:"default",flowNodeType:"BasicNode"})})},O=function(_){var z=R(),X=z.styles,J=_.id,Y=_.title,ee=_.des,w=_.logo;return(0,r.jsxs)("div",{className:X.groupItemWrap,children:[(0,r.jsx)("img",{src:w,alt:""}),(0,r.jsxs)("div",{className:X.groupItemContent,children:[(0,r.jsx)("div",{className:X.groupItemTitle,children:Y}),(0,r.jsx)("div",{className:X.des,children:ee})]})]},"".concat(J,"-").concat(Y))},S=function(_){var z=_.data,X=R(),J=X.styles,Y=z.handleType,ee=Y===void 0?"both":Y,w=z.selectType,T=w===void 0?f.QB.SELECT:w,ae=z.zoom,re=ae===void 0?1:ae,de=z.label,_e=z.data;if(_e.length<5)return(0,r.jsx)("div",{className:J.groupWrap,children:"\u6570\u7EC4\u957F\u5EA6\u5FC5\u987B\u5927\u4E8E\u7B49\u4E8E5\uFF01"});var ue=l(_e);return(0,r.jsxs)("div",{style:{width:"357px",height:"632px",position:"relative"},children:[ee==="output"||ee==="both"?(0,r.jsx)(E.HH,{type:"target",position:E.Ly.Left,style:{top:41.5,left:-6}}):null,(0,r.jsxs)("div",{children:[de&&(0,r.jsx)("div",{style:{position:"absolute",zIndex:10,transform:"translate(0, -".concat((0,p.h)(20,re,!0),"px) scale(").concat(1/re,")"),color:"rgba(0, 0, 0, 0.45)",borderRadius:"4px",fontSize:"".concat(14,"px"),whiteSpace:"nowrap"},children:re<=.1?"".concat(String(de).substring(0,3),"..."):de}),(0,r.jsxs)("div",{className:(0,s.cx)(J.groupWrap,J[(0,u.X)(T)]),children:[ue.map(function(le,xe){var me=le.data;return le.position={x:0,y:100*xe},le.title=me.title,le.logo=me.logo,le.des=me.description,O(le)}),(0,r.jsx)("div",{className:"".concat(J.btnWrap," buttonWrap")}),(0,r.jsxs)("div",{className:J.btn,children:["\u67E5\u770B\u66F4\u591A",(0,r.jsx)("img",{src:"https://mdn.alipayobjects.com/huamei_ntgeqc/afts/img/A*W5bAS6ZOqOwAAAAAAAAAAAAADvuvAQ/original",alt:""})]})]})]}),ee==="input"||ee==="both"?(0,r.jsx)(E.HH,{type:"source",position:E.Ly.Right,style:{top:41.5,right:-6}}):null]})},m=S},59635:function(oe,b,e){"use strict";e.d(b,{Z:function(){return j},h:function(){return F}});var D=e(63974),d=e(26188),p=e(75271),f=e(45171),u=e(53649),s=e.n(u),c=e(13830),E,N,v,M,P,L,h,U,i,x,K,W=(0,c.kc)(function(H){var R=H.css,r=H.cx,l=H.prefixCls;return{nodeWrap:r("".concat(l,"-xx"),R(E||(E=s()([`
      display: flex;
      z-index: 10 !important;
      position: absolute;
      border-radius: 8px;
      padding: 16px 12px;
      box-sizing: border-box;
      /* border: 3px solid white; */
      flex: 1;
      background: #ffffff;
      border: 1px solid rgba(255, 255, 255, 0.04);
      box-shadow: 0 4px 6px -2px rgba(25, 15, 15, 0.05), 0 0 1px 0 rgba(0, 0, 0, 0.08);

      .img {
        width: 48px;
        height: 48px;
      }

      .content {
        width: 230px;
        margin-left: 13px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items: flex-start;

        .title {
          width: 100%;
          display: flex;
          flex: 1;

          span {
            font-size: 16px;
            color: rgba(0, 0, 0, 85%);
            line-height: 22px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            text-align: left;
          }

          .dangerLogo {
            width: 28px;
            height: 16px;
            background: #ffeef1;
            border-radius: 7px;
            margin-left: 8px;
            margin-top: 3px;
            display: flex;
            justify-content: center;
            align-items: center;
            img {
              width: 8px;
              height: 9px;
            }
          }
        }

        .des {
          font-size: 14px;
          color: rgba(0, 0, 0, 45%);
          line-height: 20px;
          white-space: nowrap;
          width: 100%;
          overflow: hidden;
          text-overflow: ellipsis;
          text-align: left;
        }
      }
    `])))),nodeSelected:R(N||(N=s()([`
    box-shadow: 0 0 0 3px #1677ff, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
  `]))),nodeSubSelected:R(v||(v=s()([`
    box-shadow: 0 0 0 1px #1677ff, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
  `]))),nodeDanger:R(M||(M=s()([`
    box-shadow: 0 0 0 3px #f7636e, 0 1px 4px 1px rgba(0, 0, 0, 8%);
  `]))),nodeSubDanger:R(P||(P=s()([`
    box-shadow: 0 0 0 1px #f7636e, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
  `]))),nodeWarning:R(L||(L=s()([`
    box-shadow: 0 0 0 3px #ef9d3b, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
  `]))),nodeSubWarning:R(h||(h=s()([`
    box-shadow: 0 0 0 1px #ef9d3b, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
  `]))),nodeDefault:R(U||(U=s()([""]))),titleSlotRight:R(i||(i=s()([`
    width: 28px;
    height: 28px;
    position: absolute;
    right: 13px;
    top: 9px;
  `]))),titleSlotLeft:R(x||(x=s()([`
    width: 28px;
    height: 28px;
    margin-left: 8px;
  `]))),wrap:R(K||(K=s()([`
    width: 320px;
    height: 83px;
    position: relative;
  `])))}}),A=e(52676),F=function(R,r,l){return l&&r>1?R:R/r},I=function(R){var r=R.data,l=W(),O=l.styles,S=l.cx,m=r.title,y=r.logo,_=r.description,z=r.className,X=r.selectType,J=X===void 0?D.QB.SELECT:X,Y=r.zoom,ee=Y===void 0?1:Y,w=r.label,T=r.titleSlot,ae=r.handleType,re=ae===void 0?"both":ae;return(0,A.jsxs)("div",{className:O.wrap,children:[re==="output"||re==="both"?(0,A.jsx)(f.HH,{type:"target",position:f.Ly.Left,style:{left:-6}}):null,(0,A.jsxs)("div",{children:[w&&(0,A.jsx)("div",{style:{position:"absolute",zIndex:10,transform:"translate(0, -".concat(F(20,ee,!0),"px) scale(").concat(1/ee,")"),color:"rgba(0, 0, 0, 0.45)",borderRadius:"4px",fontSize:"".concat(14,"px"),whiteSpace:"nowrap"},children:ee<=.1?"".concat(String(w).substring(0,3),"..."):w}),(0,A.jsxs)("div",{className:S(O.nodeWrap,O[(0,d.X)(J)],z),children:[(0,A.jsx)("img",{className:"img",src:y,alt:""}),(0,A.jsxs)("div",{className:"content",children:[(0,A.jsxs)("div",{className:"title",children:[(0,A.jsx)("span",{children:m}),!!T&&!!T.value&&T.type==="left"&&(0,A.jsx)("div",{className:O.titleSlotLeft,children:T.value}),!!T&&!!T.value&&T.type==="right"&&(0,A.jsxs)("div",{className:O.titleSlotLeft,children:[(0,A.jsx)("div",{style:{width:"28px"}}),(0,A.jsx)("div",{className:O.titleSlotRight,children:T.value})]})]}),(0,A.jsx)("div",{className:"des",children:_})]})]})]}),re==="input"||re==="both"?(0,A.jsx)(f.HH,{type:"source",position:f.Ly.Right,style:{right:-6}}):null]})},j=I},6445:function(oe,b,e){"use strict";var D=e(53649),d=e.n(D),p=e(13830),f=e(97459),u=e(24151),s=e(75271),c=e(55471),E=e(52676),N,v,M,P=(0,p.kc)(function(h){var U=h.css,i=h.token;return{container:U(N||(N=d()([`
    position: absolute;
    z-index: 100;
    top: 0;
    left: 0;

    width: 100%;
    height: 100%;

    background: `,`;
    backdrop-filter: blur(20px);
  `])),(0,u.m4)(i.colorBgContainer,.5)),loader:U(v||(v=d()([`
    width: 20px;
    aspect-ratio: 1;
    border-radius: 50%;
    background: `,`;
    box-shadow: 0 0 0 0 `,`;
    animation: l2 1.5s infinite linear;
    position: relative;

    &:before,
    &:after {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: inherit;
      box-shadow: 0 0 0 0 `,`;
      animation: inherit;
      animation-delay: -0.5s;
    }

    &:after {
      animation-delay: -1s;
    }

    @keyframes l2 {
      100% {
        box-shadow: 0 0 0 40px `,`;
      }
    }
  `])),i.colorText,(0,u.m4)(i.colorText,.2),(0,u.m4)(i.colorText,.2),(0,u.m4)(i.colorText,0)),tip:U(M||(M=d()([`
    color: `,`;
  `])),i.colorTextPlaceholder)}}),L=(0,s.memo)(function(h){var U=h.children,i=h.loading,x=h.tip,K=x===void 0?"\u753B\u5E03\u521D\u59CB\u5316...":x,W=P(),A=W.styles,F=(0,E.jsxs)(c.Z,{gap:12,className:A.container,children:[(0,E.jsx)(c.Z,{width:100,height:100,children:(0,E.jsx)("div",{className:A.loader})}),!(0,f.Z)(K)&&(0,E.jsx)("div",{className:A.tip,children:K})]});return U?(0,E.jsxs)(E.Fragment,{children:[typeof i=="undefined"||i?F:null,U]}):F});b.Z=L},97332:function(oe,b,e){"use strict";e.d(b,{F:function(){return P}});var D=e(26068),d=e.n(D),p=e(48305),f=e.n(p),u=e(67825),s=e.n(u),c=e(92430),E=e(58351),N=e(75271),v=e(52676),M=["value","onChange","onValueChanging","onChangeEnd"],P=(0,N.memo)(function(L){var h=L.value,U=L.onChange,i=L.onValueChanging,x=L.onChangeEnd,K=s()(L,M),W=h||"",A=(0,N.useState)(W),F=f()(A,2),I=F[0],j=F[1],H=(0,N.useRef)(null),R=(0,N.useRef)(!1),r=(0,N.useRef)(!1),l=(0,N.useCallback)(function(){U==null||U(I)},[I]);return(0,N.useEffect)(function(){typeof h!="undefined"&&j(h)},[h]),(0,v.jsx)(E.I,d()(d()({ref:H},K),{},{value:I,onCompositionStart:function(){R.current=!0},onCompositionEnd:function(){R.current=!1},onFocus:function(){r.current=!0},onBlur:function(){r.current=!1,x==null||x(I)},onChange:function(S){j(S.target.value),i==null||i(S.target.value)},onPressEnter:function(S){!S.shiftKey&&!R.current&&(S.preventDefault(),l(),r.current=!1,x==null||x(I))},suffix:h===I?(0,v.jsx)("span",{}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.ZP,{type:"link",size:"small",onClick:function(){j(h)},style:{padding:0},children:"\u91CD\u7F6E"}),(0,v.jsx)(c.ZP,{type:"link",size:"small",style:{padding:0},onClick:function(){l()},children:"\u4FDD\u5B58 \u21B5"})]})}))})},55407:function(oe,b,e){"use strict";e.d(b,{AC:function(){return M},iq:function(){return h},oR:function(){return v}});var D=e(15558),d=e.n(D),p=e(75271),f=e(99835),u=e(65697),s=e(32249),c=e(52676),E=function(i){var x=i.collapsedKeys,K=i.onCollapsedKeysChange;return(0,f.Ue)(function(W,A){return{collapsedKeys:x!=null?x:[],onCollapsedKeysChange:K,toggleCollapsedKey:function(I){var j,H,R=[];A().collapsedKeys.includes(I)?R=A().collapsedKeys.filter(function(r){return r!==I}):R=[].concat(d()(A().collapsedKeys),[I]),W({collapsedKeys:R}),(j=(H=A()).onCollapsedKeysChange)===null||j===void 0||j.call(H,R)}}})},N=(0,u.k)(),v=N.useStore,M=N.useStoreApi,P=N.Provider,L=(0,p.memo)(function(U){var i=U.collapsedKeys,x=M(),K=(0,s.N)(x);return K("collapsedKeys",i),null}),h=(0,p.memo)(function(U){var i=U.children,x=U.defaultCollapsedKeys,K=U.onCollapsedKeysChange,W=U.collapsedKeys;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(P,{createStore:function(){return E({collapsedKeys:x,onCollapsedKeysChange:K})},children:[i,(0,c.jsx)(L,{collapsedKeys:W})]})})})},41435:function(oe,b,e){"use strict";var D=e(26068),d=e.n(D),p=e(67825),f=e.n(p),u=e(53649),s=e.n(u),c=e(18626),E=e(7065),N=e(13830),v=e(75271),M=e(22732),P=e(596),L=e(55407),h=e(52676),U=["id","onTitleChange","onCollapsedKeysChange"],i,x,K=(0,N.kc)(function(I){var j=I.css,H=I.token,R=I.prefixCls;return{container:j(i||(i=s()([`
    will-change: transform;
    width: 100%;
    max-width: 600px;
    border: 1px solid `,`;
    border-radius: 12px;
    .`,`-card-head {
      padding-right: 16px;
    }

    .editor-field-item-container:not(:last-child) {
      margin-bottom: 24px;
    }
  `])),H.colorBorder,R),selected:j(x||(x=s()([`
    border-color: `,`;
    border-width: 2px;
    box-shadow: 0 9px 25px -6px rgba(0, 0, 0, 0.1);
  `])),H.colorPrimary)}}),W=(0,v.memo)(function(I){var j=I.active,H=I.collapsedKeys,R=I.onCollapsedKeysChange,r=I.onTitleChange,l=I.style,O=I.className,S=I.title,m=I.children,y=I.extra,_=K(),z=_.styles,X=_.cx,J=(0,v.useRef)(null);return(0,h.jsx)(c.ZP,{getPopupContainer:function(){return J.current||document.body},children:(0,h.jsx)(L.iq,{collapsedKeys:H,onCollapsedKeysChange:R,children:(0,h.jsx)(E.Z,{ref:J,title:(0,h.jsx)(M.Z,{onChange:r,value:S||"\u57FA\u7840\u8282\u70B9"}),className:X(z.container,j&&z.selected,O),extra:y,style:l,children:m})})})}),A=(0,v.memo)(function(I){var j=I.id,H=I.onTitleChange,R=I.onCollapsedKeysChange,r=f()(I,U),l=(0,P.d)();return(0,h.jsx)(W,d()({onTitleChange:function(S){l.updateNodeMeta(j,"title",S),H==null||H(S)},onCollapsedKeysChange:function(S){l.updateNodeState(j,"collapsedKeys",S),R==null||R(S)}},r))}),F=A;F.Preview=W,b.Z=F},22732:function(oe,b,e){"use strict";var D=e(48305),d=e.n(D),p=e(43229),f=e(2467),u=e(75271),s=e(90142),c=e(97332),E=e(52676),N=(0,u.memo)(function(v){var M=v.value,P=v.onChange,L=(0,u.useState)(!1),h=d()(L,2),U=h[0],i=h[1];return U?(0,E.jsx)(c.F,{onChange:P,onChangeEnd:function(){i(!1)},value:M}):(0,E.jsxs)(s.D,{gap:8,align:"center",horizontal:!0,children:[(0,E.jsx)("span",{style:{lineHeight:1},children:M}),(0,E.jsx)(f.Z,{icon:(0,E.jsx)(p.Z,{}),onClick:function(){i(!U)},placement:"right",title:"Edit"})]})});b.Z=N},3136:function(oe,b,e){"use strict";e.d(b,{N:function(){return u}});var D=e(75271),d=e(45171),p=e(52420),f=e(52676),u=(0,D.memo)(function(s){var c=s.children,E=s.showDevtools,N=!0,v=(0,f.jsx)(f.Fragment,{children:c});try{(0,p.AC)()}catch(M){N=!1}return N?v:(0,f.jsx)(d.tV,{children:(0,f.jsx)(p.zt,{createStore:function(){return(0,p.ze)(E)},children:v})})})},3859:function(oe,b,e){"use strict";var D=e(75271),d=e(32249),p=e(596),f=e(52420),u=function(c){var E=c.onFlattenNodesChange,N=c.onNodesChange,v=c.beforeNodesChange,M=c.afterNodesChange,P=c.onEdgesChange,L=c.beforeEdgesChange,h=c.afterEdgesChange,U=c.onFlattenEdgesChange,i=c.onNodesTreeChange,x=c.editorRef,K=c.useStateUpdater,W=c.flattenNodes,A=c.flattenEdges,F=(0,d.N)((0,f.AC)()),I=K!=null?K:F;I("flattenNodes",W),I("flattenEdges",A),F("onFlattenNodesChange",E),F("onFlattenEdgesChange",U),F("onNodesChange",N),F("beforeNodesChange",v),F("afterNodesChange",M),F("onEdgesChange",P),F("beforeEdgesChange",L),F("afterEdgesChange",h),F("onNodesTreeChange",i);var j=(0,p.d)();return(0,D.useImperativeHandle)(x,function(){return j}),null};b.Z=u},18793:function(oe,b,e){"use strict";e.d(b,{Z:function(){return Se}});var D=e(26068),d=e.n(D),p=e(67825),f=e.n(p),u=e(75271),s=e(53038),c=e(48305),E=e.n(c),N=e(53649),v=e.n(N),M=e(13830),P=e(3341),L=e.n(P),h=e(16116),U=e(90142),i=e(45171),x=e(6428),K=e(20979),W=e(6445),A=e(69809),F=e(90386),I=e(15309),j=e(67583),H=e(82260),R=e(52420),r=e(52676),l=16,O=function(){var k=(0,i._K)(),$=(0,R.oR)(function(a){return[a.selectAll]}),B=E()($,1),t=B[0];return(0,u.useMemo)(function(){return{DIVIDER:{type:"divider"},paste:{key:"paste",label:"\u7C98\u8D34",onClick:t,icon:(0,r.jsx)(j.Z,{size:l}),shortcut:["meta","V"]},selectAll:{key:"selectAll",label:"\u9009\u62E9\u5168\u90E8",icon:(0,r.jsx)(H.Z,{size:l}),onClick:t,shortcut:["meta","A"]},zoomIn:{label:"\u653E\u5927",icon:(0,r.jsx)(F.Z,{}),onClick:function(){k.zoomIn()},key:"zoomIn"},zoomOut:{label:"\u7F29\u5C0F",icon:(0,r.jsx)(I.Z,{}),onClick:function(){k.zoomOut()},key:"zoomOut"}}},[])},S=(0,u.memo)(function(){var Z=O(),k=[Z.paste,Z.DIVIDER,Z.selectAll,Z.zoomIn,Z.zoomOut];return(0,r.jsx)(A.Z,{items:k})}),m=S,y=e(91970),_=e(81347),z=e(68666),X=e(18626),J=e(89465),Y=e(20029),ee=e(7331),w=e(92430),T=e(6120),ae,re,de=(0,M.kc)(function(Z){var k=Z.css,$=Z.token;return{container:k(ae||(ae=v()([`
    position: absolute;
    z-index: 5;
    right: 10px;
    bottom: 10px;

    .ant-btn-default:not(:disabled):not(.ant-btn-dangerous) {
      border-color: `,`;
    }
  `])),$.colorBorder),minimap:k(re||(re=v()([`
    position: relative !important;
    right: 0;
    bottom: 0;

    overflow: hidden;

    height: 150px;
    margin: 0;

    background: `,`;
    border-radius: 4px;
  `])),$.colorBgContainer)}}),_e=(0,u.memo)(function(Z){var k=Z.zoom,$=de(),B=$.styles,t=$.theme,a=(0,i._K)(),n=function(){a.zoomIn()},o=function(){a.zoomOut()},C=function(){a.fitView()},g=function(){k===1?a.zoomTo(.5):a.zoomTo(1)},Q=[{icon:(0,r.jsx)(y.Z,{}),title:"\u7F29\u5C0F",onClick:o},{title:k===1?"\u7F29\u653E\u4E3A 2:1":"\u7F29\u653E\u4E3A 1:1",onClick:g,children:Math.round(k*100)+"%",style:{width:56}},{icon:(0,r.jsx)(_.Z,{}),title:"\u653E\u5927",onClick:n},{icon:(0,r.jsx)(z.Z,{}),title:"\u81EA\u9002\u5E94\u753B\u5E03",onClick:C}];return(0,r.jsxs)(U.D,{gap:12,align:"center",className:B.container,children:[(0,r.jsx)(X.ZP,{theme:{algorithm:[t.isDarkMode?J.Z.darkAlgorithm:J.Z.defaultAlgorithm,J.Z.compactAlgorithm]},children:(0,r.jsx)(U.D,{horizontal:!0,align:"center",children:(0,r.jsx)(Y.Z,{children:Q.map(function(V,G){return(0,r.jsx)(ee.Z,{arrow:!1,title:V.title,children:(0,r.jsx)(w.ZP,{onClick:V.onClick,icon:V.icon,style:V.style,children:V.children})},G)})})})}),(0,r.jsx)(T.a,{className:B.minimap,maskColor:t.colorBgMask,nodeColor:function(G){return G.data.color?G.data.color:t.colorFill}})]})}),ue=(0,u.memo)(function(){var Z=(0,i.Sj)(),k=Z.zoom;return(0,r.jsx)(_e,{zoom:k})}),le=e(596),xe=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,$=(0,R.oR)(function(g){return[g.selectAll,g.undo,g.redo,g.copySelection,g.paste]}),B=E()($,5),t=B[0],a=B[1],n=B[2],o=B[3],C=B[4];(0,s.y1)("meta+a",function(g){k&&(g.preventDefault(),t())}),(0,s.y1)("meta+z",function(g){k&&(g.preventDefault(),a())}),(0,s.y1)("meta+c",function(g){k&&(g.preventDefault(),o())}),(0,s.y1)("meta+v",function(g){k&&(g.preventDefault(),C())}),(0,s.y1)("meta+shift+z",function(g){k&&(g.preventDefault(),n())}),(0,s.y1)("backspace",function(g){k&&g.preventDefault()})},me=e(4181),se,ge,Pe=(0,M.kc)(function(Z){var k=Z.css,$=Z.token;return{container:k(se||(se=v()([`
    background: `,`;

    -webkit-font-smoothing: antialiased;

    .react-flow__pane {
      cursor: default;
    }
    .react-flow__edge-path,
    .react-flow__connection-path {
      stroke: `,`;
      stroke-width: 3px;
    }

    .react-flow__edge.selected .react-flow__edge-path,
    .react-flow__edge:focus .react-flow__edge-path,
    .react-flow__edge:focus-visible .react-flow__edge-path {
      stroke: `,`;
      stroke-width: 4px;
    }
  `])),$.colorBgLayout,$.colorBorder,$.colorPrimary),minimap:k(ge||(ge=v()([`
    overflow: hidden;
    height: 150px;
    background: `,`;
    border-radius: 4px;
  `])),$.colorBgContainer)}}),De=(0,u.forwardRef)(function(Z,k){var $=Z.nodeTypes,B=Z.contextMenuEnabled,t=B===void 0?!0:B,a=Z.style,n=Z.className,o=Z.flowProps,C=Z.defaultViewport,g=Z.children,Q=Z.background,V=Q===void 0?!0:Q,G=Z.miniMap,ne=G===void 0?!0:G,q=Z.hotkeyManager,pe=q===void 0?!0:q,te=Z.onNodesInit,ce=Z.beforeConnect,ie=ce===void 0?function(){return!0}:ce,fe=Z.onConnect,Oe=fe===void 0?function(){}:fe,Te=Z.afterConnect,be=Te===void 0?function(){}:Te,Be=Pe(),We=Be.theme,Ze=Be.styles,Ke=(0,R.oR)(me.k.nodeList,L()),$e=(0,R.oR)(me.k.edgeList,L()),Le=(0,le.d)(),we=(0,i.B)(),Fe=(0,u.useRef)(!1),He=(0,u.useMemo)(function(){return we?!0:!(Ke.length>0)},[Ke,we]),Ve=(0,R.oR)(function(Ie){return[Ie.handleNodesChange,Ie.handleEdgesChange,Ie.updateEdgesOnConnection,Ie.onViewPortChange]}),Ue=E()(Ve,4),Ge=Ue[0],Qe=Ue[1],Ce=Ue[2],Ae=Ue[3],ze=(0,i._K)();xe(pe),(0,i.CV)({onChange:Ae?(0,h.Z)(Ae,300):void 0}),(0,u.useEffect)(function(){Fe.current||(Fe.current=!0,C?ze.setViewport(C):ze.fitView())},[we]),(0,u.useEffect)(function(){we&&(te==null||te(Le))},[we]);var Xe=(0,u.useCallback)(function(Ie){if(ie(Ie)){Oe&&Oe(Ie);var ke=Ce(Ie);be&&ke&&be(ke)}},[Oe,ie,be]);return(0,r.jsxs)(U.D,{height:"100%",width:"100%",style:{position:"relative"},children:[!He&&(0,r.jsx)(W.Z,{}),(0,r.jsxs)(i.x$,d()(d()({nodeTypes:$,ref:k,className:(0,M.cx)(Ze.container,n),defaultViewport:C,fitView:!C,fitViewOptions:{padding:3},nodes:Ke,edges:$e,snapGrid:[20,20],minZoom:.05,panOnScroll:!0,panOnDrag:!1,zoomOnScroll:!1,selectionOnDrag:!0,style:a},o),{},{selectionMode:i.oW.Partial,selectionKeyCode:["Meta","Shift"],multiSelectionKeyCode:["Meta","Shift"],selectNodesOnDrag:!0,onNodesChange:Ge,onEdgesChange:Qe,onConnect:Xe,disableKeyboardA11y:!0,proOptions:{hideAttribution:!0},children:[V&&(0,r.jsx)(x.A,{color:We.colorTextQuaternary,variant:x.T.Dots,size:2}),ne&&(0,r.jsx)(ue,{}),t&&(0,r.jsx)(m,{}),g]}))]})}),he=De,Ee=e(3136),ve=e(32249),ye=e(3859),Ne=function(k){var $=k.flattenNodes,B=k.onFlattenNodesChange,t=k.onNodesChange,a=k.beforeNodesChange,n=k.afterNodesChange,o=k.flattenEdges,C=k.onEdgesChange,g=k.beforeEdgesChange,Q=k.afterEdgesChange,V=k.onFlattenEdgesChange,G=k.onNodesTreeChange,ne=k.onViewPortChange,q=k.editorRef,pe=(0,ve.N)((0,R.AC)()),te=(0,R.AC)(),ce=function(Oe,Te){pe(Oe,Te,[Te],function(be){if(!L()(Te,te.getState()[Oe])){te.setState(be);var Be=te.getState(),We=Be.yjsDoc;We.updateHistoryData(be)}})},ie=(0,i._K)();return pe("reactflow",ie),pe("onViewPortChange",ne),(0,r.jsx)(ye.Z,{flattenNodes:$,flattenEdges:o,editorRef:q,onEdgesChange:C,onNodesChange:t,beforeNodesChange:a,beforeEdgesChange:g,afterEdgesChange:Q,afterNodesChange:n,onNodesTreeChange:G,onFlattenEdgesChange:V,onFlattenNodesChange:B,useStateUpdater:ce})},Re=Ne,je=["devtools","onNodesInit","beforeConnect","onConnect","afterConnect","defaultViewport","contextMenuEnabled","flowProps","nodeTypes","children","miniMap","background"],Me=(0,u.forwardRef)(function(Z,k){var $=Z.devtools,B=Z.onNodesInit,t=Z.beforeConnect,a=Z.onConnect,n=Z.afterConnect,o=Z.defaultViewport,C=Z.contextMenuEnabled,g=Z.flowProps,Q=Z.nodeTypes,V=Z.children,G=Z.miniMap,ne=Z.background,q=f()(Z,je);return(0,r.jsx)(s.NL,{initiallyActiveScopes:["flow-editor"],children:(0,r.jsxs)(Ee.N,{showDevtools:$,children:[(0,r.jsx)(he,{ref:k,nodeTypes:Q,miniMap:G,background:ne,onNodesInit:B,beforeConnect:t,onConnect:a,afterConnect:n,contextMenuEnabled:C,defaultViewport:o,flowProps:g,children:V}),(0,r.jsx)(Re,d()({},q))]})})}),Se=Me},596:function(oe,b,e){"use strict";e.d(b,{d:function(){return v}});var D=e(26068),d=e.n(D),p=e(67825),f=e.n(p),u=e(62758),s=e(75271),c=e(45171),E=e(52420),N=["yjsDoc","flattenEdges","selectedKeys","onFlattenNodesChange","onEdgesChange","onFlattenEdgesChange","onNodesChange","beforeNodesChange","afterNodesChange","onViewPortChange","onNodesTreeChange","onSelectionChange","onElementSelectChange","updateEdgesOnEdgeChange","updateEdgesOnConnection","internalUpdateEdges","internalUpdateNodes","internalUpdateSelection"],v=function(){var P=(0,E.AC)(),L=(0,c._K)(),h=P.getState(),U=h.yjsDoc,i=h.flattenEdges,x=h.selectedKeys,K=h.onFlattenNodesChange,W=h.onEdgesChange,A=h.onFlattenEdgesChange,F=h.onNodesChange,I=h.beforeNodesChange,j=h.afterNodesChange,H=h.onViewPortChange,R=h.onNodesTreeChange,r=h.onSelectionChange,l=h.onElementSelectChange,O=h.updateEdgesOnEdgeChange,S=h.updateEdgesOnConnection,m=h.internalUpdateEdges,y=h.internalUpdateNodes,_=h.internalUpdateSelection,z=f()(h,N),X=(0,u.Z)(function(){return P.getState().flattenNodes}),J=(0,u.Z)(function(){return P.getState().flattenEdges}),Y=(0,u.Z)(function(){return P.getState().selectedKeys}),ee=(0,s.useCallback)(function(w){return L?L.screenToFlowPosition(w):{x:0,y:0}},[L]);return(0,s.useMemo)(function(){return d()(d()({},z),{},{screenToFlowPosition:ee,getFlattenNodes:X,getSelectedKeys:Y,getFlattenEdges:J})},[z])}},65424:function(oe,b,e){"use strict";e.r(b),e.d(b,{FlowEditor:function(){return D.Z},FlowEditorProvider:function(){return d.N},findNodeById:function(){return N.n},flowEditorSelectors:function(){return f.k},memoEqual:function(){return E.N},useFlowEditor:function(){return p.d}});var D=e(18793),d=e(3136),p=e(596),f=e(4181),u=e(96431),s={};for(var c in u)["default","FlowEditor","FlowEditorProvider","useFlowEditor","memoEqual","findNodeById","flowEditorSelectors"].indexOf(c)<0&&(s[c]=function(v){return u[v]}.bind(0,c));e.d(b,s);var E=e(82707),N=e(77985)},52420:function(oe,b,e){"use strict";e.d(b,{zt:function(){return Se},ze:function(){return je},oR:function(){return Z},AC:function(){return k}});var D=e(30314),d=e(32964),p=e(64494),f=e(65697),u=e(48305),s=e.n(u),c=e(62657),E=e.n(c),N=e(21742),v=e.n(N),M=e(83136),P=e.n(M),L=e(17069),h=e.n(L),U=e(25298),i=e.n(U),x=e(82092),K=e.n(x),W=e(21384),A=h()(function $(B){i()(this,$),K()(this,"type",void 0),K()(this,"name",void 0),K()(this,"timestamp",void 0),this.type=B.type,this.name=B.name,this.timestamp=B.timestamp}),F=function($){v()(t,$);var B=P()(t);function t(a){var n;return i()(this,t),n=B.call(this,a),K()(E()(n),"_internalHistoryKey","__INTERNAL_HISTORY_MAP__"),K()(E()(n),"undoManager",void 0),K()(E()(n),"updateHistoryData",function(o){var C=n.getMap(n._internalHistoryKey);Object.entries(o).forEach(function(g){var Q=s()(g,2),V=Q[0],G=Q[1];C.set(V,G)})}),K()(E()(n),"recordHistoryData",function(o,C){n.transact(function(){n.updateHistoryData(o)},new A(C))}),K()(E()(n),"getHistoryMap",function(){return n.getMap(n._internalHistoryKey)}),K()(E()(n),"getHistoryJSON",function(){var o=n.getMap(n._internalHistoryKey);return o.toJSON()}),K()(E()(n),"redo",function(){return n.undoManager.redo()}),K()(E()(n),"undo",function(){return n.undoManager.undo()}),n.undoManager=new W.H6(n.getHistoryMap(),{trackedOrigins:new Set([A])}),n}return h()(t)}(W.QW),I=e(26068),j=e.n(I),H={reactflow:{},flattenNodes:{},flattenEdges:{},selectedKeys:[],yjsDoc:new F},R=e(67825),r=e.n(R);function l($){switch($.type){case"addNode":return[{item:$.node,type:"add"}];case"addNodes":return Object.keys($.nodes).map(function(B){return{item:$.nodes[B],type:"add"}});case"deleteNode":return[{id:$.id,type:"remove"}];case"updateNodePosition":return[{id:$.id,type:"position",position:$.position}];default:return[]}}function O($){switch($.type){case"addEdge":return[{item:$.edge,type:"add"}];case"addEdges":return Object.keys($.edges).map(function(B){return{item:$.edges[B],type:"add"}});case"deleteEdge":return[{id:$.id,type:"remove"}];default:return[]}}var S="$$",m="@@",y=function(B,t){return B+m+(t||"")},_=function(B,t,a,n){return y(B,a)+S+y(t,n)},z=function(B){var t=B.split(S),a=_slicedToArray(t,2),n=a[0],o=a[1];if(!n||!o)return{source:"",target:"",sourceHandle:"",targetHandle:""};var C=n.split(m),g=_slicedToArray(C,2),Q=g[0],V=g[1],G=o.split(m),ne=_slicedToArray(G,2),q=ne[0],pe=ne[1];return{source:Q,target:q,sourceHandle:V,targetHandle:pe}},X=e(3341),J=e.n(X),Y=e(31759),ee=e.n(Y),w=e(53874),T=e(62071),ae=function(B,t){switch(t.type){case"addEdge":return(0,w.Uy)(B,function(a){a[t.edge.id]=t.edge});case"addEdges":return(0,w.Uy)(B,function(a){var n=t.edges;n&&(Array.isArray(n)?n.forEach(function(o){a[o.id]=o}):ee()(n)==="object"&&Object.keys(n).forEach(function(o){a[o]||(a[o]=n[o])}))});case"updateEdge":return(0,w.Uy)(B,function(a){var n=t.id,o=t.edge;a[n]=j()(j()({},a[n]),o)});case"updateEdgeData":return(0,w.Uy)(B,function(a){var n=t.newData,o=t.id,C=t.deepReplace;if(a[o]=j()(j()({},a[o]),{},{data:n}),!!a[o]){var g=a[o];C?a[o]=j()(j()(j()({},a[o]),g),{},{data:j()(j()({},g.data),n)}):a[o]=j()(j()(j()({},a[o]),g),{},{data:(0,T.Z)(g.data,n)})}});case"deleteEdge":return(0,w.Uy)(B,function(a){delete a[t.id]});case"createEdgeFromConnection":return(0,w.Uy)(B,function(a){var n=t.edge;a[n.id]=n});default:return B}},re=["type"],de=function(B,t){return{internalUpdateEdges:function(n,o){var C,g;B({flattenEdges:n},!1,o),(C=(g=t()).onFlattenEdgesChange)===null||C===void 0||C.call(g,n)},dispatchEdges:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{recordHistory:!0},C=o.recordHistory,g=C===void 0?!0:C,Q=n.type,V=r()(n,re),G=t(),ne=G.beforeEdgesChange,q=G.onEdgesChange,pe=G.afterEdgesChange,te=G.internalUpdateEdges,ce=G.yjsDoc,ie=O(n),fe=ae(t().flattenEdges,n);J()(fe,t().flattenEdges)||ne&&!ne(ie)||(q&&q(ie),pe&&pe(ie),te(fe,{type:"dispatchFlattenEdges/".concat(Q),payload:V}),g&&ce.recordHistoryData({flattenEdges:fe},{type:"edge",name:n.type,timestamp:Date.now()}))},addEdge:function(n){t().dispatchEdges({type:"addEdge",edge:n})},addEdges:function(n,o){t().dispatchEdges({type:"addEdges",edges:n},o)},updateEdgesOnConnection:function(n){var o=n.source,C=n.target,g=n.sourceHandle,Q=n.targetHandle;if(!(!o||!C)){var V=_(o,C,g,Q),G={id:V,source:o,target:C,sourceHandle:g,targetHandle:Q};return t().dispatchEdges({type:"addEdge",edge:G}),G}},updateEdgesOnEdgeChange:function(n){n.forEach(function(o){switch(o.type){case"remove":t().deselectElement(o.id),t().dispatchEdges({type:"deleteEdge",id:o.id})}})},deleteEdge:function(n){t().deselectElement(n),t().dispatchEdges({type:"deleteEdge",id:n})},deleteEdges:function(n){n.forEach(function(o){t().deselectElement(o),t().dispatchEdges({type:"deleteEdge",id:o})})},updateEdgeData:function(n,o){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=arguments.length>3?arguments[3]:void 0;t().dispatchEdges({type:"updateEdgeData",id:n,newData:o,deepReplace:C},g)},updateEdge:function(n,o,C){t().dispatchEdges({type:"updateEdge",id:n,edge:o},C)},handleEdgesChange:function(n){var o=t(),C=o.dispatchEdges,g=o.onElementSelectChange,Q=o.beforeEdgesChange,V=o.onEdgesChange,G=o.afterEdgesChange,ne=o.deselectElement;n.forEach(function(q){switch(q.type){case"add":C({type:"addEdge",edge:q.item});break;case"remove":ne(q.id),C({type:"deleteEdge",id:q.id});break;case"select":if(Q&&!Q(n))return;V&&V(n),g(q.id,q.selected),G&&G(n)}})}}},_e=function(B,t){switch(t.type){case"addNode":return(0,w.Uy)(B,function(a){!t.node||!t.node.id||(a[t.node.id]=t.node)});case"addNodes":return(0,w.Uy)(B,function(a){var n=t.nodes;n&&(Array.isArray(n)?n.forEach(function(o){a[o.id]=o}):ee()(n)==="object"&&Object.keys(n).forEach(function(o){a[o]||(a[o]=n[o])}))});case"deleteNode":return(0,w.Uy)(B,function(a){delete a[t.id]});case"updateNodePosition":return(0,w.Uy)(B,function(a){a[t.id]&&t.position&&(a[t.id].position=t.position)});case"updateNodeMeta":return(0,w.Uy)(B,function(a){if(a[t.id]){var n=a[t.id];n.data.meta[t.key]=t.value}});case"updateNodeState":return(0,w.Uy)(B,function(a){if(a[t.id]){var n=a[t.id];n.data.state[t.key]=t.value}});case"updateNodeContent":return(0,w.Uy)(B,function(a){var n=t.key,o=t.id,C=t.value;if(a[o]){var g=a[o];g.data.content?g.data.content[n]=C:g.data.content=K()({},n,C)}});case"updateNodeData":return(0,w.Uy)(B,function(a){var n=t.newData,o=t.id,C=t.deepReplace;if(a[o]){var g=a[o];C?g.data=j()(j()({},g.data),n):(0,T.Z)(g.data,n)}});default:return B}},ue=["type"],le=function(B,t){return{internalUpdateNodes:function(n,o){var C,g;J()(n,t().flattenNodes)||(B({flattenNodes:n},!1,o),(C=(g=t()).onFlattenNodesChange)===null||C===void 0||C.call(g,n))},dispatchNodes:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{recordHistory:!0},C=o.recordHistory,g=C===void 0?!0:C,Q=t(),V=Q.beforeNodesChange,G=Q.onNodesChange,ne=Q.afterNodesChange,q=Q.internalUpdateNodes,pe=Q.yjsDoc,te=n.type,ce=r()(n,ue),ie=l(n),fe=_e(t().flattenNodes,n);J()(fe,t().flattenNodes)||V&&!V(ie)||(G&&G(ie),ne&&ne(ie),q(fe,{type:"dispatchFlattenNodes/".concat(te),payload:ce}),g&&pe.recordHistoryData({flattenNodes:fe},{type:"nodes",name:n.type,timestamp:Date.now()}))},updateNodeMeta:function(n,o,C,g){t().dispatchNodes({type:"updateNodeMeta",id:n,key:o,value:C},g)},updateNodeState:function(n,o,C,g){t().dispatchNodes({type:"updateNodeState",id:n,key:o,value:C},g)},updateNodeContent:function(n,o,C,g){t().dispatchNodes({type:"updateNodeContent",id:n,key:o,value:C},g)},updateNodeData:function(n,o){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=arguments.length>3?arguments[3]:void 0;t().dispatchNodes({type:"updateNodeData",id:n,newData:o,deepReplace:C},g)},addNode:function(n){t().dispatchNodes({type:"addNode",node:n})},addNodes:function(n,o){t().dispatchNodes({type:"addNodes",nodes:n},o)},deleteNode:function(n){t().deselectElement(n),t().dispatchNodes({type:"deleteNode",id:n})},deleteNodes:function(n){n.forEach(function(o){t().deselectElement(o),t().dispatchNodes({type:"deleteNode",id:o})})},handleNodesChange:function(n){var o=t(),C=o.dispatchNodes,g=o.onElementSelectChange,Q=o.deselectElement,V=o.beforeNodesChange,G=o.onNodesChange,ne=o.afterNodesChange;n.forEach(function(q){switch(q.type){case"add":C({type:"addNode",node:q.item});break;case"position":if(!q.dragging)break;C({type:"updateNodePosition",position:q.position,id:q.id});break;case"remove":Q(q.id),C({type:"deleteNode",id:q.id});break;case"select":if(V&&!V(n))return;G&&G(n),g(q.id,q.selected),ne&&ne(n)}})}}},xe=e(335),me=e.n(xe),se=e(90228),ge=e.n(se),Pe=e(87999),De=e.n(Pe),he=e(15558),Ee=e.n(he),ve=e(67197),ye=(0,ve.kP)("0123456789abcdefghijklmnopqrstuvwxyz",16),Ne=function(B,t){return{internalUpdateSelection:function(n,o){var C,g;B({selectedKeys:n},!1,o),(C=(g=t()).onSelectionChange)===null||C===void 0||C.call(g,n)},onElementSelectChange:function(n,o){o?t().selectElement(n):t().deselectElement(n)},actionList:function(){var n=t(),o=n.yjsDoc;return{undo:o.undoManager.undoStack.length,redo:o.undoManager.redoStack.length}},selectElement:function(n){t().selectedKeys.includes(n)||t().internalUpdateSelection([].concat(Ee()(t().selectedKeys),[n]),{type:"selection/selectElement",payload:{id:n}})},selectElements:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;t().internalUpdateSelection(o?[].concat(Ee()(t().selectedKeys),Ee()(n)):n,{type:"selection/selectElements",payload:{ids:n}})},selectAll:function(){var n=t().reactflow.getNodes(),o=t().reactflow.getEdges(),C=[].concat(Ee()(n.map(function(g){return g.id})),Ee()(o.map(function(g){return g.id})));t().internalUpdateSelection(C,{type:"selection/selectAll",payload:{ids:C}})},deselectElement:function(n){t().internalUpdateSelection(t().selectedKeys.filter(function(o){return o!==n}),{type:"selection/deselectElement",payload:{id:n}})},deselectAll:function(){t().internalUpdateSelection([],{type:"selection/deselectAll",payload:{}})},deleteSelection:function(){var n=t(),o=n.selectedKeys,C=n.flattenEdges,g=n.flattenNodes,Q=n.dispatchNodes,V=n.dispatchEdges,G=n.deselectAll;G(),o.forEach(function(ne){g[ne]&&Q({type:"deleteNode",id:ne}),C[ne]&&V({type:"deleteEdge",id:ne})})},copySelection:function(){var a=De()(ge()().mark(function o(){var C,g,Q,V,G,ne,q,pe,te,ce;return ge()().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(C=t(),g=C.selectedKeys,Q=C.flattenEdges,V=C.flattenNodes,g.length!==0){fe.next=3;break}return fe.abrupt("return");case 3:return G=Object.values(V).filter(function(Oe){return g.includes(Oe.id)}),ne=Object.values(Q).filter(function(Oe){return g.includes(Oe.id)}),q={nodes:G,edges:ne},pe=new Blob([JSON.stringify(q)],{type:"text/html"}),te=new Blob([JSON.stringify(q)],{type:"text/plain"}),ce=new ClipboardItem({"text/html":pe,"text/plain":te}),fe.next=11,navigator.clipboard.write([ce]);case 11:return fe.abrupt("return",q);case 12:case"end":return fe.stop()}},o)}));function n(){return a.apply(this,arguments)}return n}(),paste:function(){var a=De()(ge()().mark(function o(){var C;return ge()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,navigator.clipboard.read();case 2:C=Q.sent,C.forEach(function(V){var G=me()(V.types),ne;try{for(G.s();!(ne=G.n()).done;){var q=ne.value;if(q==="text/plain"){var pe=V.getType(q);pe.then(function(te){te.text().then(function(ce){var ie=void 0;try{ie=JSON.parse(ce)}catch(fe){}ie&&t().pasteIntoFlow(ie)})})}}}catch(te){G.e(te)}finally{G.f()}});case 4:case"end":return Q.stop()}},o)}));function n(){return a.apply(this,arguments)}return n}(),pasteIntoFlow:function(n){var o=t(),C=o.yjsDoc,g=o.addEdges,Q=o.addNodes,V=o.deselectAll,G=o.selectElements,ne={},q={};V(),n.nodes.forEach(function(te){var ce=ye();ne[ce]=j()(j()({},te),{},{id:ce,position:{x:te.position.x+10,y:te.position.y+10}}),n.edges.forEach(function(ie){ie.source===te.id&&(ie.source=ce),ie.target===te.id&&(ie.target=ce)})}),n.edges.forEach(function(te){var ce=_(te.source,te.target,te.sourceHandle,te.targetHandle);q[ce]=j()(j()({},te),{},{id:ce})}),Q(ne,{recordHistory:!1}),g(q,{recordHistory:!1}),C.recordHistoryData({flattenNodes:t().flattenNodes,flattenEdges:t().flattenEdges},{type:"paste",name:"\u7C98\u8D34",timestamp:Date.now()});var pe=Object.keys(ne).concat(Object.keys(q));G(pe)},undo:function(){var n=t(),o=n.yjsDoc,C=n.internalUpdateEdges,g=n.internalUpdateNodes,Q=o.undo(),V=o.getHistoryJSON(),G=V.flattenNodes,ne=V.flattenEdges;g(G||{},{type:"history/undo",payload:Q}),C(ne||{},{type:"history/undo",payload:Q})},redo:function(){var n=t(),o=n.yjsDoc,C=n.internalUpdateEdges,g=n.internalUpdateNodes,Q=o.redo(),V=o.getHistoryJSON(),G=V.flattenNodes,ne=V.flattenEdges;g(G,{type:"history/redo",payload:Q}),C(ne,{type:"history/redo",payload:Q})}}},Re=function(B){return function(){return j()(j()(j()(j()({},H),{},{yjsDoc:B},de.apply(void 0,arguments)),le.apply(void 0,arguments)),Ne.apply(void 0,arguments))}},je=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=new F;return(0,d.F)()((0,p.v)(B)(Re(t),{name:"FLOW_EDITOR"}),D.X)},Me=(0,f.k)(),Se=Me.Provider,Z=Me.useStore,k=Me.useStoreApi},4181:function(oe,b,e){"use strict";e.d(b,{k:function(){return f}});var D=e(26068),d=e.n(D),p=function(s){return Object.values(s.flattenNodes).map(function(c){return d()(d()({},c),{},{selected:s.selectedKeys.includes(c.id)})})},f={nodeList:p,edgeList:function(s){return Object.values(s.flattenEdges||{}).map(function(c){return d()(d()({},c),{},{selected:s.selectedKeys.includes(c.id)})})}}},96431:function(oe,b,e){"use strict";e.r(b);var D=e(76901),d=e.n(D),p={};for(var f in D)f!=="default"&&(p[f]=function(u){return D[u]}.bind(0,f));e.d(b,p)},76901:function(){},82707:function(oe,b,e){"use strict";e.d(b,{N:function(){return c}});var D=e(67825),d=e.n(D),p=e(3341),f=e.n(p),u=["xPos","yPos"],s=["xPos","yPos"],c=function(N,v){var M=N.xPos,P=N.yPos,L=d()(N,u),h=v.xPos,U=v.yPos,i=d()(v,s);return f()(L,i)}},77985:function(oe,b,e){"use strict";e.d(b,{n:function(){return p}});var D=e(335),d=e.n(D),p=function u(s,c){var E=d()(s),N;try{for(E.s();!(N=E.n()).done;){var v=N.value;if(v.id===c)return v;var M=u(v.children,c);if(M)return M}}catch(P){E.e(P)}finally{E.f()}},f=function u(s,c){var E=_createForOfIteratorHelper(s),N;try{for(E.s();!(N=E.n()).done;){var v=N.value;if(v.children.some(function(P){return P.id===c}))return v;var M=u(v.children,c);if(M)return M}}catch(P){E.e(P)}finally{E.f()}}},3427:function(oe,b,e){"use strict";var D=e(45171),d=e(52676);b.Z=function(p){var f=p.position,u=f===void 0?"top-left":f,s=p.children;return(0,d.jsx)(D.s_,{position:u,children:s})}},29958:function(oe,b,e){"use strict";e.d(b,{o:function(){return v}});var D=e(26068),d=e.n(D),p=e(67825),f=e.n(p),u=e(75271),s=e(52420),c=e(3859),E=e(52676),N=["showDevtools","children"],v=(0,u.memo)(function(M){var P=M.showDevtools,L=M.children,h=f()(M,N);return(0,E.jsxs)(s.zt,{createStore:function(){return(0,s.ze)(P)},children:[L,(0,E.jsx)(c.Z,d()({},h))]})})},71720:function(oe,b,e){"use strict";e.d(b,{Z:function(){return ee}});var D=e(26068),d=e.n(D),p=e(75271),f=e(1847),u=e(59635),s=e(45171),c=e(6428),E=e(20979),N=e(55386),v=e(6703),M=e(93070),P=e(30599),L=e(53649),h=e.n(L),U=e(13830),i=e(63974),x,K,W,A,F,I,j,H,R,r=(0,U.kc)(function(w){var T=w.css,ae=w.cx;return{container:T(x||(x=h()([`
    width: 100%;
    height: 100%;

    .react-flow__attribution {
      display: none;
    }

    .`,` {
      padding: 0;
      box-sizing: border-box;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      z-index: 1;
    }

    .`,` path {
      stroke: #1677ff;
      stroke-width: 2;
      z-index: 100;
    }

    .`,` path {
      stroke: #1677ff;
      stroke-width: 1;
      z-index: 100;
    }

    .`,`:hover path {
      stroke: red;
      stroke-width: 1;
      z-index: 100;
    }

    .`,` path {
      stroke: #f7636e;
      stroke-width: 2;
      z-index: 100;
    }

    .`,` path {
      stroke: #f7636e;
      stroke-width: 1;
      z-index: 100;
    }

    .`,` path {
      stroke: #ef9d3b;
      stroke-width: 2;
      z-index: 100;
    }

    .`,` path {
      stroke: #ef9d3b;
      stroke-width: 1;
      z-index: 100;
    }

    .selectable:focus {
      box-shadow: none !important;
    }

    .selected {
      box-shadow: none !important;
    }
  `])),i.$D,i._H,i.ph,i.ph,i.Ts,i.l8,i.H0,i.BP),nodeWrap:ae(T(K||(K=h()([`
      display: flex;
      z-index: 10 !important;
      position: absolute;
      border-radius: 8px;
      padding: 16px 12px;
      box-sizing: border-box;
      /* border: 3px solid white; */
      flex: 1;
      background: #ffffff;
      border: 1px solid rgba(255, 255, 255, 0.04);
      box-shadow: 0 4px 6px -2px rgba(25, 15, 15, 0.05), 0 0 1px 0 rgba(0, 0, 0, 0.08);

      .img {
        width: 48px;
        height: 48px;
      }

      .content {
        width: 230px;
        margin-left: 13px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items: flex-start;

        .title {
          width: 100%;
          display: flex;
          flex: 1;

          span {
            font-size: 16px;
            color: rgba(0, 0, 0, 85%);
            line-height: 22px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            text-align: left;
          }

          .dangerLogo {
            width: 28px;
            height: 16px;
            background: #ffeef1;
            border-radius: 7px;
            margin-left: 8px;
            margin-top: 3px;
            display: flex;
            justify-content: center;
            align-items: center;
            img {
              width: 8px;
              height: 9px;
            }
          }
        }

        .des {
          font-size: 14px;
          color: rgba(0, 0, 0, 45%);
          line-height: 20px;
          white-space: nowrap;
          width: 100%;
          overflow: hidden;
          text-overflow: ellipsis;
          text-align: left;
        }
      }
    `])))),nodeSelected:T(W||(W=h()([`
    box-shadow: 0 0 0 3px #1677ff, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
  `]))),nodeSubSelected:T(A||(A=h()([`
    box-shadow: 0 0 0 1px #1677ff, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
  `]))),nodeDanger:T(F||(F=h()([`
    box-shadow: 0 0 0 3px #f7636e, 0 1px 4px 1px rgba(0, 0, 0, 8%);
  `]))),nodeSubDanger:T(I||(I=h()([`
    box-shadow: 0 0 0 1px #f7636e, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
  `]))),nodeWarning:T(j||(j=h()([`
    box-shadow: 0 0 0 3px #ef9d3b, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
  `]))),nodeSubWarning:T(H||(H=h()([`
    box-shadow: 0 0 0 1px #ef9d3b, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
  `]))),nodeDefault:T(R||(R=h()([""])))}}),l=e(52676),O=function(T){var ae=T.data,re=r(),de=re.styles,_e=re.cx,ue=ae.className,le=ae.children;return(0,l.jsx)("div",{className:_e(de.nodeWrap,ue),children:le})},S=O,m=e(84853),y=(0,p.createContext)({}),_=function(){},z=function(T){var ae=T.onNodeDragStart,re=ae===void 0?_:ae,de=T.onPaneClick,_e=de===void 0?_:de,ue=T.onNodeClick,le=ue===void 0?_:ue,xe=T.onEdgeClick,me=xe===void 0?_:xe,se=T.onNodesChange,ge=se===void 0?_:se,Pe=T.onEdgesChange,De=Pe===void 0?_:Pe,he=T.nodes,Ee=he===void 0?[]:he,ve=T.edges,ye=ve===void 0?[]:ve,Ne=T.nodeTypes,Re=Ne===void 0?{}:Ne,je=T.edgeTypes,Me=je===void 0?{}:je,Se=T.miniMap,Z=Se===void 0?!0:Se,k=T.children,$=T.background,B=$===void 0?!0:$,t=T.autoLayout,a=t===void 0?!0:t,n=T.stepLessZooming,o=n===void 0?!1:n,C=T.flowProps,g=T.minZoom,Q=g===void 0?.1:g,V=T.maxZoom,G=V===void 0?2:V,ne=T.className,q=T.layoutOptions,pe=q===void 0?{rankdir:"LR",align:"UL",nodesep:100,ranksep:200}:q,te=(0,p.useContext)(m.b),ce=te.miniMapPosition,ie=te.flowDataAdapter,fe=te.flowViewRef,Oe=te.nodes,Te=te.edges,be=r(),Be=be.styles,We=be.cx,Ze=(0,p.useMemo)(function(){return d()(d()({},Re),{},{BasicNode:u.Z,BasicNodeGroup:f.Z,default:S})},[]),Ke=(0,p.useMemo)(function(){return d()(d()({},Me),{},{radius:N.Z})},[]),$e=(0,s.Sj)(),Le=$e.zoom;(0,p.useEffect)(function(){var Ce=Le||1;ie(Ee,ye,Ce,a,pe)},[Ee,ye]),(0,p.useEffect)(function(){o&&ie(Ee,ye,Le,a,pe)},[Le]);var we=(0,p.useCallback)(function(Ce){ge(Ce)},[ge]),Fe=(0,p.useCallback)(function(Ce){De(Ce)},[De]),He=(0,p.useCallback)(function(Ce,Ae,ze){re(Ce,Ae,ze)},[re]),Ve=(0,p.useCallback)(function(){},[]),Ue=(0,p.useCallback)(function(Ce){_e(Ce)},[_e]),Ge=(0,p.useCallback)(function(Ce,Ae){le(Ce,Ae)},[le]),Qe=(0,p.useCallback)(function(Ce,Ae){me(Ce,Ae)},[me]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(s.x$,d()(d()({ref:fe,className:We(Be.container,ne),onNodeDragStart:He,onNodeDragStop:Ve,onPaneClick:Ue,onNodeClick:Ge,onEdgeClick:Qe,onNodesChange:we,onEdgesChange:Fe,nodes:Oe,edges:Te,nodeTypes:Ze,edgeTypes:Ke,panOnScroll:!0,fitView:!0,minZoom:Q,maxZoom:G},C),{},{children:[Z&&(0,l.jsx)(v.Z,{language:M.S.zh_CN,position:ce,className:"pro-flow-controller"}),k,B&&(0,l.jsx)(P.default,{style:{backgroundColor:"#F7F8FA"},gap:10,color:"#bac3d4",variant:c.T.Dots})]}))})},X=z,J=e(69800),Y=function(T){var ae=(0,p.useContext)(m.b),re=ae.isUseProvider;return re?(0,l.jsx)(X,d()({},T)):(0,l.jsx)(J.G,{children:(0,l.jsx)(X,d()({},T))})},ee=Y},63974:function(oe,b,e){"use strict";e.d(b,{$D:function(){return h},BP:function(){return L},H0:function(){return P},HM:function(){return c},QB:function(){return D},Ts:function(){return v},Vc:function(){return p},_H:function(){return E},eK:function(){return u},hK:function(){return d},l8:function(){return M},mc:function(){return f},ph:function(){return N},r0:function(){return s}});var D=function(i){return i.SELECT="SELECT",i.SUB_SELECT="SUB_SELECT",i.DANGER="DANGER",i.SUB_DANGER="SUB_DANGER",i.WARNING="WARNING",i.SUB_WARNING="SUB_WARNING",i.DEFAULT="DEFAULT",i}({}),d="nodeSelected",p="nodeSubSelected",f="nodeDanger",u="nodeSubDanger",s="nodeWarning",c="nodeSubWarning",E="edgeSelected",N="edgeSubSelected",v="edgeDanger",M="edgeSubDanger",P="edgeWarning",L="edgeSubWarning",h="initialNode",U="nodeWrap"},3467:function(oe,b,e){"use strict";e.d(b,{R:function(){return u}});var D=e(48305),d=e.n(D),p=e(75271),f=e(45171),u=function(c){var E=(0,p.useState)(c),N=d()(E,2),v=N[0],M=N[1],P=(0,p.useCallback)(function(L){M(function(h){return(0,f.Fb)(L,h)})},[v]);return[v,M,P]}},86503:function(oe,b,e){"use strict";e.d(b,{Zi:function(){return N},to:function(){return E},x5:function(){return c}});var D=e(90228),d=e.n(D),p=e(87999),f=e.n(p),u=e(75271),s=e(84853),c=function(){var M=(0,u.useContext)(s.b),P=M.reactFlowInstance;return{reactFlowInstance:P}},E=function(){var M=(0,u.useContext)(s.b),P=M.setMiniMapPosition,L=function(U,i){P({x:U,y:i})};return{setMiniMapPosition:L}},N=function(){var M=(0,u.useContext)(s.b),P=M.updateSelectNode,L=M.updateSelectEdge,h=M.updateSelectEdges,U=M.updateSelectNodes,i=M.setMiniMapPosition,x=M.reactFlowInstance,K=M.flowViewRef,W=(0,u.useCallback)(function(m){if(x)return x.getNode(m)},[x]),A=(0,u.useCallback)(function(){if(x)return x.getNodes()},[x]),F=(0,u.useCallback)(function(m,y){x&&x.zoomTo(m,{duration:y})},[x]),I=(0,u.useCallback)(function(m,y){var _=W(m);_&&x&&x.fitView({nodes:[{id:m}],duration:y})},[W,x]),j=(0,u.useCallback)(function(m,y){i&&i({x:m,y})},[i]),H=(0,u.useCallback)(function(){if(x)return x.getViewport()},[x]),R=(0,u.useCallback)(function(m,y){if(x)return x.setViewport(m,{duration:y})},[x]),r=(0,u.useCallback)(function(m){if(x)return x.fitView({duration:m})},[x]),l=(0,u.useCallback)(f()(d()().mark(function m(){return d()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:document.exitFullScreen();case 1:case"end":return _.stop()}},m)})),[]),O=(0,u.useCallback)(function(){setTimeout(function(){r()},500)},[r]),S=(0,u.useCallback)(f()(d()().mark(function m(){return d()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:(K==null?void 0:K.current).requestFullscreen().then(function(){O()}).catch(function(z){console.error(z)});case 1:case"end":return _.stop()}},m)})),[O]);return(0,u.useEffect)(function(){O&&document.addEventListener("fullscreenchange",O)},[O]),{selectNode:P,selectEdge:L,selectEdges:h,selectNodes:U,getNode:W,getNodes:A,zoomTo:F,getViewport:H,setViewport:R,zoomToNode:I,fitView:r,setMiniMapPosition:j,instance:x,fullScreen:S,exitFullScreen:l}}},69800:function(oe,b,e){"use strict";e.d(b,{G:function(){return R}});var D=e(15558),d=e.n(D),p=e(26068),f=e.n(p),u=e(48305),s=e.n(u),c=e(75271),E=e(45171),N=e(79511),v=e.n(N),M=e(13830),P=e(63974);function L(r,l,O){var S={};return r.forEach(function(m){var y=m.width,_=m.height,z=m.select,X=z===void 0?P.QB.DEFAULT:z,J=m.type,Y=J===void 0?"BasicNode":J,ee=m.position,w=ee===void 0?{x:NaN,y:NaN}:ee;S[m.id]=f()(f()({},m),{},{id:m.id,data:m.data,select:X,type:Y,right:[],left:[],position:w,width:y,height:_,zoom:O,label:m.label})}),l.forEach(function(m){var y,_,z=m.source,X=m.target;S[z]&&((y=S[z].right)===null||y===void 0||y.push(X)),S[X]&&((_=S[X].left)===null||_===void 0||_.push(z))}),S}function h(r,l,O,S){if(!O)return{_nodes:r.map(function(y){var _=y.position,z=_.x,X=_.y;return f()(f()({},y),{},{position:{x:isNaN(z)?1:z,y:isNaN(X)?1:X}})}),_edges:l};var m=new(v()).graphlib.Graph().setDefaultEdgeLabel(function(){return{}});return m.setGraph(f()({rankdir:"LR",align:"UL",nodesep:100,ranksep:200},S)),l.forEach(function(y){return m.setEdge(y.source,y.target)}),r.forEach(function(y){return m.setNode(y.id,y)}),v().layout(m),{_nodes:r.map(function(y){var _=m.node(y.id),z=_.x,X=_.y,J=y.position,Y=J.x,ee=J.y;return f()(f()({},y),{},{position:{x:isNaN(Y)?z:Y,y:isNaN(ee)?X:ee}})}),_edges:l}}function U(r){var l=r.filter(function(m){var y,_;return((y=m.className)===null||y===void 0?void 0:y.includes("edgeSelected"))||((_=m.className)===null||_===void 0?void 0:_.includes("edgeSubSelected"))}),O=r.filter(function(m){var y,_;return((y=m.className)===null||y===void 0?void 0:y.includes("edgeDanger"))||((_=m.className)===null||_===void 0?void 0:_.includes("edgeSubDanger"))}),S=r.filter(function(m){var y,_,z,X;return!((y=m.className)!==null&&y!==void 0&&y.includes("edgeSelected"))&&!((_=m.className)!==null&&_!==void 0&&_.includes("edgeSubSelected"))&&!((z=m.className)!==null&&z!==void 0&&z.includes("edgeDanger"))&&!((X=m.className)!==null&&X!==void 0&&X.includes("edgeSubDanger"))});return[].concat(d()(S),d()(O),d()(l))}function i(r){switch(r){case P.QB.SELECT:return P._H;case P.QB.SUB_SELECT:return P.ph;case P.QB.DANGER:return P.Ts;case P.QB.SUB_DANGER:return P.l8;case P.QB.WARNING:return P.H0;case P.QB.SUB_WARNING:return P.BP;default:return"edgeDefault"}}function x(r){return r.map(function(l){var O=l.source,S=l.target,m=l.select,y=m===void 0?P.QB.DEFAULT:m,_=l.type,z=_===void 0?"smoothstep":_,X=l.label,J=l.animated,Y=l.sourceHandle,ee=l.targetHandle,w=l.className,T=l.data,ae=l.id,re=ae===void 0?"".concat(O,"-").concat(S):ae,de=i(y)+" "+w;return f()(f()({},l),{},{id:re,source:O,target:S,sourceHandle:Y,targetHandle:ee,type:z,animated:J,select:y,label:X,data:f()({select:y,className:de},T),className:de})})}var K=function(l){return l.type==="BasicNode"?{width:320,height:83}:l.type==="BasicNodeGroup"?{width:355,height:1100}:{width:l.width||1,height:l.height||1}},W=function(l){var O,S,m,y;return((O=l.left)===null||O===void 0?void 0:O.length)===0&&((S=l.right)===null||S===void 0?void 0:S.length)===0?"none":((m=l.left)===null||m===void 0?void 0:m.length)===0?"input":((y=l.right)===null||y===void 0?void 0:y.length)===0?"output":"both"},A=function(l){return l.type==="BasicNode"?f()(f()({},l.data),{},{selectType:l.select,label:l.label,zoom:l.zoom,handleType:W(l)}):l.type==="BasicNodeGroup"?{data:l.data,selectType:l.select,label:l.label,zoom:l.zoom,handleType:W(l)}:f()(f()({},l.data),{},{selectType:l.select,zoom:l.zoom,label:l.label})},F=function(l,O,S,m){var y=[],_=x(O);Object.keys(l).forEach(function(Y){var ee=l[Y],w=ee.type,T=K(ee),ae=T.width,re=T.height;y.push(f()(f()({},ee),{},{sourcePosition:E.Ly.Right,targetPosition:E.Ly.Left,id:ee.id,position:ee.position,type:w,width:ae,height:re,className:(0,M.cx)(P.$D),data:A(ee)}))});var z=h(y,_,S,m),X=z._nodes,J=z._edges;return{nodes:X,edges:U(J)}},I=e(84853),j=e(52676),H=function(l){var O=l.children,S=(0,c.useState)({x:10,y:10}),m=s()(S,2),y=m[0],_=m[1],z=(0,E._K)(),X=(0,c.useState)([]),J=s()(X,2),Y=J[0],ee=J[1],w=(0,c.useState)([]),T=s()(w,2),ae=T[0],re=T[1],de=(0,c.useState)(void 0),_e=s()(de,2),ue=_e[0],le=_e[1],xe=(0,c.useState)({}),me=s()(xe,2),se=me[0],ge=me[1],Pe=(0,c.useState)(!0),De=s()(Pe,2),he=De[0],Ee=De[1],ve=(0,c.useState)({rankdir:"LR",align:"UL",nodesep:100,ranksep:200}),ye=s()(ve,2),Ne=ye[0],Re=ye[1],je=(0,c.useRef)(),Me=(0,c.useCallback)(function(){var t=F(se,ue,he,Ne),a=t.nodes,n=t.edges;ee(a),re(n)},[se,ue,he,Ne]),Se=(0,c.useCallback)(function(t,a,n,o,C){t.length!==0&&(ge(L(t,a,n)),le(a),Ee(o),Re(C))},[]);(0,c.useEffect)(function(){Object.keys(se).length&&ue&&Me()},[se,ue]);var Z=(0,c.useCallback)(function(t,a){var n=se[t];n&&(n.select=a,ge(f()({},se)))},[se]),k=(0,c.useCallback)(function(t,a){t.forEach(function(n){Z(n,a)})},[se]),$=(0,c.useCallback)(function(t,a){var n=ue==null?void 0:ue.find(function(o){return o.id===t});n&&(n.select=a,le(d()(ue)))},[ue]),B=(0,c.useCallback)(function(t,a){t.forEach(function(n){$(n,a)})},[se]);return(0,j.jsx)(I.b.Provider,{value:{nodes:Y,edges:ae,isUseProvider:!0,reactFlowInstance:z,miniMapPosition:y,flowViewRef:je,setMiniMapPosition:_,flowDataAdapter:Se,updateSelectNode:Z,updateSelectNodes:k,updateSelectEdge:$,updateSelectEdges:B},children:O})},R=function(l){var O=l.children;return(0,j.jsx)(E.tV,{children:(0,j.jsx)(H,{children:O})})}},84853:function(oe,b,e){"use strict";e.d(b,{b:function(){return d}});var D=e(75271),d=(0,D.createContext)({})},58351:function(oe,b,e){"use strict";e.d(b,{I:function(){return x},K:function(){return K}});var D=e(26068),d=e.n(D),p=e(67825),f=e.n(p),u=e(61138),s=e(75271),c=e(53649),E=e.n(c),N=e(13830),v,M,P,L=(0,N.kc)(function(W){var A=W.css,F=W.token;return{input:A(v||(v=E()([`
    position: relative;

    max-width: 100%;
    height: 36px;
    padding: 0 12px;

    transition: background-color 100ms `,`;

    input {
      background: transparent;
    }
  `])),F.motionEaseOut),block:A(M||(M=E()([`
    background-color: `,`;
    border: 1px solid transparent;

    &:hover {
      background-color: `,`;
    }
  `])),F.colorFillTertiary,F.colorFillQuaternary),textarea:A(P||(P=E()([`
    position: relative;

    max-width: 100%;
    padding: 8px 12px;

    transition: background-color 100ms `,`;

    textarea {
      background: transparent;
    }
  `])),F.motionEaseOut)}}),h=e(52676),U=["className","type"],i=["className","type"],x=(0,s.forwardRef)(function(W,A){var F=W.className,I=W.type,j=I===void 0?"ghost":I,H=f()(W,U),R=L(),r=R.styles,l=R.cx;return(0,h.jsx)(u.Z,d()({className:l(r.input,j==="block"&&r.block,F),ref:A},H))}),K=(0,s.memo)((0,s.forwardRef)(function(W,A){var F=W.className,I=W.type,j=I===void 0?"ghost":I,H=f()(W,i),R=L(),r=R.styles,l=R.cx;return(0,h.jsx)(u.Z.TextArea,d()({className:l(r.textarea,j==="block"&&r.block,F),ref:A},H))}))},33754:function(oe,b,e){"use strict";e.d(b,{Z:function(){return U}});var D=e(26068),d=e.n(D),p=e(82092),f=e.n(p),u=e(67825),s=e.n(u),c=e(85368),E=e(75271),N=e(13830),v=(0,N.kc)(function(){return{container:{width:"100%",height:"600px"},dataFlowDrawer:{textAlign:"left",color:"#000",".ant-drawer-title":{textAlign:"left"}},"dataFlowDrawerDraggablePanel.studio-draggable-panel":{height:"100%",overflow:"visible",zIndex:"19",borderColor:"transparent",borderLeftWidth:"0"},"studio-draggable-panel-left-handle:active::before":{backgroundColor:"rgb(195, 195, 195)",background:"rgb(195, 195, 195)"},dataFlowDrawerDraggablePanel:{display:"none"},"studio-draggable-panel-toggle":{display:"none"}}}),M=v,P=e(52676),L=["open","width","mask","style","rootStyle","className","onClose","children"],h=function(x){var K=x.open,W=x.width,A=x.mask,F=A===void 0?!1:A,I=x.style,j=I===void 0?{}:I,H=x.rootStyle,R=H===void 0?{}:H,r=x.className,l=x.onClose,O=l===void 0?function(){}:l,S=x.children,m=s()(x,L),y=M(),_=y.styles,z=y.cx;return(0,P.jsx)(c.Z,d()(d()({open:K,onClose:O,width:W,mask:F,className:r?z(f()(f()({},_.dataFlowDrawer,!0),"className",!0)):_.dataFlowDrawer,getContainer:!1,style:d()(d()({},j),{},{padding:"0 0"}),rootStyle:d()(d()({},R),{},{position:"absolute"})},m),{},{children:S}))},U=h},6703:function(oe,b,e){"use strict";var D=e(82092),d=e.n(D),p=e(53649),f=e.n(p),u=e(91970),s=e(81347),c=e(68666),E=e(18626),N=e(89465),v=e(20029),M=e(7331),P=e(92430),L=e(13830),h=e(75271),U=e(90142),i=e(45171),x=e(6120),K=e(93070),W=e(52676),A,F,I,j=(0,L.kc)(function(r,l){var O=r.css,S=r.token,m=l.x,y=l.y;return{container:O(A||(A=f()([`
      position: absolute;
      bottom: `,`px;
      right: `,`px;
      z-index: 100;
      transition: right 0.2s ease;

      .actionBox {
        width: 192px;
        height: 38px;
        display: flex;
        justify-content: space-evenly;
      }

      .ant-btn-default:not(:disabled):not(.ant-btn-dangerous) {
        border-color: `,`;
      }
    `])),y,m,S.colorBorder),visible:O(F||(F=f()([`
      display: none;
    `]))),minimap:O(I||(I=f()([`
      position: relative !important;
      right: 0;
      bottom: 0;

      overflow: hidden;

      height: 150px;
      margin: 0;

      background: `,`;
      border-radius: 4px;
    `])),S.colorBgContainer)}}),H=d()(d()({},K.S.zh_CN,{zoomIn:"\u653E\u5927",zoomOut:"\u7F29\u5C0F",zoomFit:"\u81EA\u9002\u5E94\u753B\u5E03",zoomTo1:"\u7F29\u653E\u4E3A 1:1",zoomTo2:"\u7F29\u653E\u4E3A 2:1"}),K.S.en_US,{zoomIn:"Zoom In",zoomOut:"Zoom Out",zoomFit:"Zoom Fit",zoomTo1:"Zoom To 1:1",zoomTo2:"Zoom To 2:1"}),R=function(l){var O=l.visible,S=O===void 0?!0:O,m=l.className,y=m===void 0?"":m,_=l.position,z=_===void 0?{x:10,y:10}:_,X=l.language,J=X===void 0?K.S.zh_CN:X,Y=(0,i._K)(),ee=(0,i.Sj)(),w=ee.zoom,T=j(z),ae=T.styles,re=T.cx,de=T.theme,_e=function(){Y.zoomIn()},ue=function(){Y.zoomOut()},le=function(){Y.fitView()},xe=function(){w===1?Y.zoomTo(.5):Y.zoomTo(1)},me=[{icon:(0,W.jsx)(u.Z,{}),title:H[J].zoomOut,onClick:ue},{title:w===1?H[J].zoomTo2:H[J].zoomTo1,onClick:xe,children:Math.round(w*100)+"%",style:{width:56}},{icon:(0,W.jsx)(s.Z,{}),title:H[J].zoomIn,onClick:_e},{icon:(0,W.jsx)(c.Z,{}),title:H[J].zoomFit,onClick:le}];return(0,W.jsxs)(U.D,{gap:12,align:"center",className:re(ae.container,y,!S&&ae.visible),children:[(0,W.jsx)(E.ZP,{theme:{algorithm:[de.isDarkMode?N.Z.darkAlgorithm:N.Z.defaultAlgorithm,N.Z.compactAlgorithm]},children:(0,W.jsx)(U.D,{horizontal:!0,align:"center",children:(0,W.jsx)(v.Z,{className:"actionBox",children:me.map(function(se,ge){return(0,W.jsx)(M.Z,{arrow:!1,title:se.title,children:(0,W.jsx)(P.ZP,{onClick:se.onClick,icon:se.icon,style:se.style,children:se.children})},ge)})})})}),(0,W.jsx)(x.a,{className:ae.minimap,maskColor:de.colorBgMask,nodeColor:function(ge){return ge.data.color?ge.data.color:de.colorFill}})]})};b.Z=R},16560:function(oe,b,e){"use strict";e.d(b,{Q:function(){return l},n:function(){return H}});var D=e(26068),d=e.n(D),p=e(48305),f=e.n(p),u=e(53649),s=e.n(u),c=e(66662),E=e(2467),N=e(18626),v=e(13830),M=e(75271),P=e(90142),L=e(45171),h=e(65720),U=e(55407),i=e(52676),x,K,W,A,F,I,j="editor-field-item",H=(0,v.kc)(function(O){var S=O.css,m=O.token,y=O.cx,_=S(x||(x=s()([`
    width: 20px;
    height: 20px;
    background: `,`;
    border: 4px solid `,`;
  `])),m.colorBgElevated,m.colorPrimary);return{title:y("".concat(j,"-title"),S(K||(K=s()([`
        position: relative;
        font-weight: bold;
        color: `,`;
      `])),m.colorText)),extra:y(S(W||(W=s()([`
        position: relative;
      `])))),value:S(A||(A=s()([`
      padding: 12px 16px;
      background: `,`;
      border-radius: 8px;
    `])),m.colorBgLayout),handle:_,handleRight:S(F||(F=s()([`
      `,`;
      right: -35px;
    `])),_),handleLeft:S(I||(I=s()([`
      `,`;
      left: -35px;
    `])),_)}}),R=(0,M.memo)(function(O){var S=O.children,m=O.title,y=O.extra,_=O.collapsed,z=O.onCollapsedChange,X=O.valueContainer,J=O.classNames,Y=J===void 0?{}:J,ee=O.handles,w=ee===void 0?{}:ee,T=O.id,ae=O.className,re=O.style,de=H(),_e=de.styles,ue=de.theme,le=de.cx,xe=(0,U.oR)(function(ve){return[ve.collapsedKeys,ve.toggleCollapsedKey]}),me=f()(xe,2),se=me[0],ge=me[1],Pe=(0,h.Z)(se.includes(T),{value:typeof _=="undefined"?se.includes(T):_,onChange:function(ye){ge(T),z==null||z(ye)}}),De=f()(Pe,2),he=De[0],Ee=De[1];return(0,i.jsxs)(P.D,{gap:12,className:le("".concat(j,"-container"),ae),style:re,children:[m&&(0,i.jsxs)(P.D,{horizontal:!0,distribution:"space-between",align:"center",className:le("".concat(j,"-header"),Y==null?void 0:Y.header),children:[(0,i.jsxs)(P.D,{className:le(_e.title,Y==null?void 0:Y.title),children:[!!(w!=null&&w.source)&&(0,i.jsx)(L.HH,{id:typeof(w==null?void 0:w.source)=="string"?w==null?void 0:w.source:T,type:"target",position:L.Ly.Left,className:_e.handleLeft}),m]}),(0,i.jsxs)(P.D,{horizontal:!0,gap:4,className:le(_e.extra,"".concat(j,"-extra"),Y==null?void 0:Y.extra,"nodrag"),children:[(0,i.jsxs)(N.ZP,{theme:{token:{colorText:ue.colorTextSecondary}},children:[he?null:y&&y.map(function(ve,ye){return(0,i.jsx)(E.Z,{icon:ve.icon,title:ve.title,onClick:ve.onClick},ve.title||""+ye)}),(0,i.jsx)(E.Z,{icon:(0,i.jsx)(c.Z,{rotate:he?-90:0}),title:he?"\u5C55\u5F00":"\u6298\u8D77",onClick:function(){Ee(!he)}})]}),!!(w!=null&&w.target)&&(0,i.jsx)(L.HH,{id:typeof(w==null?void 0:w.target)=="string"?w==null?void 0:w.target:T,type:"source",position:L.Ly.Right,className:_e.handleRight})]})]}),he?null:S&&X===!1?S:(0,i.jsx)("div",{className:le(_e.value,Y.value),children:S})]})}),r=function(S){var m=S.children,y=!0,_=(0,i.jsx)(i.Fragment,{children:m});try{(0,U.AC)()}catch(z){y=!1}return y?_:(0,i.jsx)(U.iq,{children:m})},l=(0,M.memo)(function(O){return(0,i.jsx)(r,{children:(0,i.jsx)(R,d()({},O))})})},55386:function(oe,b,e){"use strict";e.d(b,{Z:function(){return u}});var D=e(48305),d=e.n(D),p=e(45171),f=e(52676);function u(s){var c=s.sourceX,E=s.sourceY,N=s.targetX,v=s.targetY,M=s.sourcePosition,P=s.targetPosition,L=s.style,h=L===void 0?{}:L,U=s.markerEnd,i=(0,p.OW)({sourceX:c,sourceY:E,sourcePosition:M,targetX:N,targetY:v,targetPosition:P,borderRadius:50}),x=d()(i,1),K=x[0];return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(p.u5,{path:K,markerEnd:U,style:h})})}},93070:function(oe,b,e){"use strict";e.d(b,{Q:function(){return D},S:function(){return d}});var D=function(p){return p.SELECT="SELECT",p.SUB_SELECT="SUB_SELECT",p.DANGER="DANGER",p.SUB_DANGER="SUB_DANGER",p.WARNING="WARNING",p.SUB_WARNING="SUB_WARNING",p.DEFAULT="DEFAULT",p}({}),d=function(p){return p.zh_CN="zh_CN",p.en_US="en_US",p}({})},91516:function(oe,b,e){"use strict";e.r(b),e.d(b,{Background:function(){return d.default},BackgroundVariant:function(){return d.BackgroundVariant},BaseEdge:function(){return D.u5},BasicGroupNode:function(){return p.Z},BasicNode:function(){return f.Z},CanvasLoading:function(){return u.Z},ControlInput:function(){return i.F},EdgeLabelRenderer:function(){return D.XQ},EditNode:function(){return s.Z},EditableText:function(){return c.Z},FlowPanel:function(){return E.Z},FlowStoreProvider:function(){return N.o},FlowView:function(){return v.Z},FlowViewProvider:function(){return F.G},Handle:function(){return D.HH},Input:function(){return I.I},Inspector:function(){return P.Z},Language:function(){return j.S},MiniMap:function(){return L.Z},NodeField:function(){return h.Q},Position:function(){return D.Ly},RadiusEdge:function(){return U.Z},SelectType:function(){return j.Q},SmoothStepEdge:function(){return D.Su},TextArea:function(){return I.K},applyEdgeChanges:function(){return D.yn},applyNodeChanges:function(){return D.Fb},getBezierPath:function(){return D.OQ},getSmoothStepPath:function(){return D.OW},getStraightPath:function(){return D.Hm},useEdgesState:function(){return D.ll},useFlowView:function(){return A.x5},useFlowViewer:function(){return A.Zi},useMiniMap:function(){return A.to},useNodeFieldStyles:function(){return h.n},useNodesState:function(){return M.R}});var D=e(45171),d=e(30599),p=e(1847),f=e(59635),u=e(6445),s=e(41435),c=e(22732),E=e(3427),N=e(29958),v=e(71720),M=e(3467),P=e(33754),L=e(6703),h=e(16560),U=e(55386),i=e(97332),x=e(65424),K={};for(var W in x)["default","BaseEdge","EdgeLabelRenderer","Handle","Position","SmoothStepEdge","applyEdgeChanges","applyNodeChanges","getBezierPath","getSmoothStepPath","getStraightPath","Background","BasicGroupNode","BasicNode","CanvasLoading","EditNode","EditableText","FlowPanel","FlowStoreProvider","FlowView","useEdgesState","useNodesState","Inspector","MiniMap","NodeField","useNodeFieldStyles","RadiusEdge","BackgroundVariant","ControlInput"].indexOf(W)<0&&(K[W]=function(H){return x[H]}.bind(0,W));e.d(b,K);var A=e(86503),F=e(69800),I=e(58351),j=e(93070)},26188:function(oe,b,e){"use strict";e.d(b,{X:function(){return p}});var D=e(63974),d=e(93070);function p(f){switch(f){case d.Q.SELECT:return D.hK;case d.Q.SUB_SELECT:return D.Vc;case d.Q.DANGER:return D.mc;case d.Q.SUB_DANGER:return D.eK;case d.Q.WARNING:return D.r0;case d.Q.SUB_WARNING:return D.HM;default:return"nodeDefault"}}}}]);
