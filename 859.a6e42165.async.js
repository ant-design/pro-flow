"use strict";(self.webpackChunk_ant_design_pro_flow=self.webpackChunk_ant_design_pro_flow||[]).push([[859],{20825:function(ft,Ae,v){v.d(Ae,{Z:function(){return P}});var me=v(88028),W=v(22481),Pe=v(4155),re=v(2595),De=v(21953),We=v(99044),p=v(14418),be=v(13664),ke=v(6710),ve=v(84875),ne=v.n(ve),ae=v(35019),G=v(50959),ce=v(32964),Ee=function(C){for(var Q=C.prefixCls,r=C.level,w=C.isStart,H=C.isEnd,ee="".concat(Q,"-indent-unit"),i=[],c=0;c<r;c+=1){var k;i.push(G.createElement("span",{key:c,className:ne()(ee,(k={},(0,W.Z)(k,"".concat(ee,"-start"),w[c]),(0,W.Z)(k,"".concat(ee,"-end"),H[c]),k))}))}return G.createElement("span",{"aria-hidden":"true",className:"".concat(Q,"-indent")},i)},O=G.memo(Ee),Ke=v(31212),de=v(16318),he=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],q="open",o="close",m="---",M=function(F){(0,be.Z)(Q,F);var C=(0,ke.Z)(Q);function Q(){var r;(0,De.Z)(this,Q);for(var w=arguments.length,H=new Array(w),ee=0;ee<w;ee++)H[ee]=arguments[ee];return r=C.call.apply(C,[this].concat(H)),r.state={dragNodeHighlight:!1},r.selectHandle=void 0,r.cacheIndent=void 0,r.onSelectorClick=function(i){var c=r.props.context.onNodeClick;c(i,(0,de.F)(r.props)),r.isSelectable()?r.onSelect(i):r.onCheck(i)},r.onSelectorDoubleClick=function(i){var c=r.props.context.onNodeDoubleClick;c(i,(0,de.F)(r.props))},r.onSelect=function(i){if(!r.isDisabled()){var c=r.props.context.onNodeSelect;c(i,(0,de.F)(r.props))}},r.onCheck=function(i){if(!r.isDisabled()){var c=r.props,k=c.disableCheckbox,L=c.checked,B=r.props.context.onNodeCheck;if(!(!r.isCheckable()||k)){var fe=!L;B(i,(0,de.F)(r.props),fe)}}},r.onMouseEnter=function(i){var c=r.props.context.onNodeMouseEnter;c(i,(0,de.F)(r.props))},r.onMouseLeave=function(i){var c=r.props.context.onNodeMouseLeave;c(i,(0,de.F)(r.props))},r.onContextMenu=function(i){var c=r.props.context.onNodeContextMenu;c(i,(0,de.F)(r.props))},r.onDragStart=function(i){var c=r.props.context.onNodeDragStart;i.stopPropagation(),r.setState({dragNodeHighlight:!0}),c(i,(0,p.Z)(r));try{i.dataTransfer.setData("text/plain","")}catch(k){}},r.onDragEnter=function(i){var c=r.props.context.onNodeDragEnter;i.preventDefault(),i.stopPropagation(),c(i,(0,p.Z)(r))},r.onDragOver=function(i){var c=r.props.context.onNodeDragOver;i.preventDefault(),i.stopPropagation(),c(i,(0,p.Z)(r))},r.onDragLeave=function(i){var c=r.props.context.onNodeDragLeave;i.stopPropagation(),c(i,(0,p.Z)(r))},r.onDragEnd=function(i){var c=r.props.context.onNodeDragEnd;i.stopPropagation(),r.setState({dragNodeHighlight:!1}),c(i,(0,p.Z)(r))},r.onDrop=function(i){var c=r.props.context.onNodeDrop;i.preventDefault(),i.stopPropagation(),r.setState({dragNodeHighlight:!1}),c(i,(0,p.Z)(r))},r.onExpand=function(i){var c=r.props,k=c.loading,L=c.context.onNodeExpand;k||L(i,(0,de.F)(r.props))},r.setSelectHandle=function(i){r.selectHandle=i},r.getNodeState=function(){var i=r.props.expanded;return r.isLeaf()?null:i?q:o},r.hasChildren=function(){var i=r.props.eventKey,c=r.props.context.keyEntities,k=(0,Ke.Z)(c,i)||{},L=k.children;return!!(L||[]).length},r.isLeaf=function(){var i=r.props,c=i.isLeaf,k=i.loaded,L=r.props.context.loadData,B=r.hasChildren();return c===!1?!1:c||!L&&!B||L&&k&&!B},r.isDisabled=function(){var i=r.props.disabled,c=r.props.context.disabled;return!!(c||i)},r.isCheckable=function(){var i=r.props.checkable,c=r.props.context.checkable;return!c||i===!1?!1:c},r.syncLoadData=function(i){var c=i.expanded,k=i.loading,L=i.loaded,B=r.props.context,fe=B.loadData,_=B.onNodeLoad;k||fe&&c&&!r.isLeaf()&&!r.hasChildren()&&!L&&_((0,de.F)(r.props))},r.isDraggable=function(){var i=r.props,c=i.data,k=i.context.draggable;return!!(k&&(!k.nodeDraggable||k.nodeDraggable(c)))},r.renderDragHandler=function(){var i=r.props.context,c=i.draggable,k=i.prefixCls;return c!=null&&c.icon?G.createElement("span",{className:"".concat(k,"-draggable-icon")},c.icon):null},r.renderSwitcherIconDom=function(i){var c=r.props.switcherIcon,k=r.props.context.switcherIcon,L=c||k;return typeof L=="function"?L((0,re.Z)((0,re.Z)({},r.props),{},{isLeaf:i})):L},r.renderSwitcher=function(){var i=r.props.expanded,c=r.props.context.prefixCls;if(r.isLeaf()){var k=r.renderSwitcherIconDom(!0);return k!==!1?G.createElement("span",{className:ne()("".concat(c,"-switcher"),"".concat(c,"-switcher-noop"))},k):null}var L=ne()("".concat(c,"-switcher"),"".concat(c,"-switcher_").concat(i?q:o)),B=r.renderSwitcherIconDom(!1);return B!==!1?G.createElement("span",{onClick:r.onExpand,className:L},B):null},r.renderCheckbox=function(){var i=r.props,c=i.checked,k=i.halfChecked,L=i.disableCheckbox,B=r.props.context.prefixCls,fe=r.isDisabled(),_=r.isCheckable();if(!_)return null;var se=typeof _!="boolean"?_:null;return G.createElement("span",{className:ne()("".concat(B,"-checkbox"),c&&"".concat(B,"-checkbox-checked"),!c&&k&&"".concat(B,"-checkbox-indeterminate"),(fe||L)&&"".concat(B,"-checkbox-disabled")),onClick:r.onCheck},se)},r.renderIcon=function(){var i=r.props.loading,c=r.props.context.prefixCls;return G.createElement("span",{className:ne()("".concat(c,"-iconEle"),"".concat(c,"-icon__").concat(r.getNodeState()||"docu"),i&&"".concat(c,"-icon_loading"))})},r.renderSelector=function(){var i=r.state.dragNodeHighlight,c=r.props,k=c.title,L=k===void 0?m:k,B=c.selected,fe=c.icon,_=c.loading,se=c.data,Se=r.props.context,pe=Se.prefixCls,$e=Se.showIcon,Be=Se.icon,ze=Se.loadData,Y=Se.titleRender,He=r.isDisabled(),Ge="".concat(pe,"-node-content-wrapper"),s;if($e){var D=fe||Be;s=D?G.createElement("span",{className:ne()("".concat(pe,"-iconEle"),"".concat(pe,"-icon__customize"))},typeof D=="function"?D(r.props):D):r.renderIcon()}else ze&&_&&(s=r.renderIcon());var x;typeof L=="function"?x=L(se):Y?x=Y(se):x=L;var R=G.createElement("span",{className:"".concat(pe,"-title")},x);return G.createElement("span",{ref:r.setSelectHandle,title:typeof L=="string"?L:"",className:ne()("".concat(Ge),"".concat(Ge,"-").concat(r.getNodeState()||"normal"),!He&&(B||i)&&"".concat(pe,"-node-selected")),onMouseEnter:r.onMouseEnter,onMouseLeave:r.onMouseLeave,onContextMenu:r.onContextMenu,onClick:r.onSelectorClick,onDoubleClick:r.onSelectorDoubleClick},s,R,r.renderDropIndicator())},r.renderDropIndicator=function(){var i=r.props,c=i.disabled,k=i.eventKey,L=r.props.context,B=L.draggable,fe=L.dropLevelOffset,_=L.dropPosition,se=L.prefixCls,Se=L.indent,pe=L.dropIndicatorRender,$e=L.dragOverNodeKey,Be=L.direction,ze=!!B,Y=!c&&ze&&$e===k,He=Se!=null?Se:r.cacheIndent;return r.cacheIndent=Se,Y?pe({dropPosition:_,dropLevelOffset:fe,indent:He,prefixCls:se,direction:Be}):null},r}return(0,We.Z)(Q,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var w=this.props.selectable,H=this.props.context.selectable;return typeof w=="boolean"?w:H}},{key:"render",value:function(){var w,H=this.props,ee=H.eventKey,i=H.className,c=H.style,k=H.dragOver,L=H.dragOverGapTop,B=H.dragOverGapBottom,fe=H.isLeaf,_=H.isStart,se=H.isEnd,Se=H.expanded,pe=H.selected,$e=H.checked,Be=H.halfChecked,ze=H.loading,Y=H.domRef,He=H.active,Ge=H.data,s=H.onMouseMove,D=H.selectable,x=(0,Pe.Z)(H,he),R=this.props.context,d=R.prefixCls,h=R.filterTreeNode,E=R.keyEntities,e=R.dropContainerKey,u=R.dropTargetKey,Z=R.draggingNodeKey,S=this.isDisabled(),t=(0,ae.Z)(x,{aria:!0,data:!0}),a=(0,Ke.Z)(E,ee)||{},n=a.level,l=se[se.length-1],f=this.isDraggable(),g=!S&&f,K=Z===ee,N=D!==void 0?{"aria-selected":!!D}:void 0;return G.createElement("div",(0,me.Z)({ref:Y,className:ne()(i,"".concat(d,"-treenode"),(w={},(0,W.Z)(w,"".concat(d,"-treenode-disabled"),S),(0,W.Z)(w,"".concat(d,"-treenode-switcher-").concat(Se?"open":"close"),!fe),(0,W.Z)(w,"".concat(d,"-treenode-checkbox-checked"),$e),(0,W.Z)(w,"".concat(d,"-treenode-checkbox-indeterminate"),Be),(0,W.Z)(w,"".concat(d,"-treenode-selected"),pe),(0,W.Z)(w,"".concat(d,"-treenode-loading"),ze),(0,W.Z)(w,"".concat(d,"-treenode-active"),He),(0,W.Z)(w,"".concat(d,"-treenode-leaf-last"),l),(0,W.Z)(w,"".concat(d,"-treenode-draggable"),f),(0,W.Z)(w,"dragging",K),(0,W.Z)(w,"drop-target",u===ee),(0,W.Z)(w,"drop-container",e===ee),(0,W.Z)(w,"drag-over",!S&&k),(0,W.Z)(w,"drag-over-gap-top",!S&&L),(0,W.Z)(w,"drag-over-gap-bottom",!S&&B),(0,W.Z)(w,"filter-node",h&&h((0,de.F)(this.props))),w)),style:c,draggable:g,"aria-grabbed":K,onDragStart:g?this.onDragStart:void 0,onDragEnter:f?this.onDragEnter:void 0,onDragOver:f?this.onDragOver:void 0,onDragLeave:f?this.onDragLeave:void 0,onDrop:f?this.onDrop:void 0,onDragEnd:f?this.onDragEnd:void 0,onMouseMove:s},N,t),G.createElement(O,{prefixCls:d,level:n,isStart:_,isEnd:se}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),Q}(G.Component),T=function(C){return G.createElement(ce.k.Consumer,null,function(Q){return G.createElement(M,(0,me.Z)({},C,{context:Q}))})};T.displayName="TreeNode",T.isTreeNode=1;var P=T},32964:function(ft,Ae,v){v.d(Ae,{k:function(){return W}});var me=v(50959),W=me.createContext(null)},78859:function(ft,Ae,v){v.d(Ae,{O:function(){return P.Z},Z:function(){return R}});var me=v(88028),W=v(22481),Pe=v(69947),re=v(2595),De=v(94718),We=v(21953),p=v(99044),be=v(14418),ke=v(13664),ve=v(6710),ne=v(84875),ae=v.n(ne),G=v(32602),ce=v(35019),Ee=v(11253),O=v(50959),Ke=v(32964);function de(d){var h=d.dropPosition,E=d.dropLevelOffset,e=d.indent,u={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(h){case-1:u.top=0,u.left=-E*e;break;case 1:u.bottom=0,u.left=-E*e;break;case 0:u.bottom=0,u.left=e;break}return O.createElement("div",{style:u})}function he(d){if(d==null)throw new TypeError("Cannot destructure "+d)}var q=v(41171),o=v(4155),m=v(12334),M=v(71123),T=v(10091),P=v(20825);function F(d,h){var E=O.useState(!1),e=(0,q.Z)(E,2),u=e[0],Z=e[1];O.useLayoutEffect(function(){if(u)return d(),function(){h()}},[u]),O.useLayoutEffect(function(){return Z(!0),function(){Z(!1)}},[])}var C=v(16318),Q=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],r=function(h,E){var e=h.className,u=h.style,Z=h.motion,S=h.motionNodes,t=h.motionType,a=h.onMotionStart,n=h.onMotionEnd,l=h.active,f=h.treeNodeRequiredProps,g=(0,o.Z)(h,Q),K=O.useState(!0),N=(0,q.Z)(K,2),I=N[0],A=N[1],y=O.useContext(Ke.k),z=y.prefixCls,b=S&&t!=="hide";(0,m.Z)(function(){S&&b!==I&&A(b)},[S]);var $=function(){S&&a()},U=O.useRef(!1),J=function(){S&&!U.current&&(U.current=!0,n())};F($,J);var te=function(V){b===V&&J()};return S?O.createElement(T.ZP,(0,me.Z)({ref:E,visible:I},Z,{motionAppear:t==="show",onVisibleChanged:te}),function(ie,V){var ye=ie.className,ge=ie.style;return O.createElement("div",{ref:V,className:ae()("".concat(z,"-treenode-motion"),ye),style:ge},S.map(function(ue){var xe=(0,me.Z)({},(he(ue.data),ue.data)),Ce=ue.title,Re=ue.key,Oe=ue.isStart,Te=ue.isEnd;delete xe.children;var Ie=(0,C.H8)(Re,f);return O.createElement(P.Z,(0,me.Z)({},xe,Ie,{title:Ce,active:l,data:ue.data,key:Re,isStart:Oe,isEnd:Te}))}))}):O.createElement(P.Z,(0,me.Z)({domRef:E,className:e,style:u},g,{active:l}))};r.displayName="MotionTreeNode";var w=O.forwardRef(r),H=w;function ee(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],E=d.length,e=h.length;if(Math.abs(E-e)!==1)return{add:!1,key:null};function u(Z,S){var t=new Map;Z.forEach(function(n){t.set(n,!0)});var a=S.filter(function(n){return!t.has(n)});return a.length===1?a[0]:null}return E<e?{add:!0,key:u(d,h)}:{add:!1,key:u(h,d)}}function i(d,h,E){var e=d.findIndex(function(t){return t.key===E}),u=d[e+1],Z=h.findIndex(function(t){return t.key===E});if(u){var S=h.findIndex(function(t){return t.key===u.key});return h.slice(Z+1,S)}return h.slice(Z+1)}var c=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],k={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},L=function(){},B="RC_TREE_MOTION_".concat(Math.random()),fe={key:B},_={key:B,level:0,index:0,pos:"0",node:fe,nodes:[fe]},se={parent:null,children:[],pos:_.pos,data:fe,title:null,key:B,isStart:[],isEnd:[]};function Se(d,h,E,e){return h===!1||!E?d:d.slice(0,Math.ceil(E/e)+1)}function pe(d){var h=d.key,E=d.pos;return(0,C.km)(h,E)}function $e(d){for(var h=String(d.data.key),E=d;E.parent;)E=E.parent,h="".concat(E.data.key," > ").concat(h);return h}var Be=O.forwardRef(function(d,h){var E=d.prefixCls,e=d.data,u=d.selectable,Z=d.checkable,S=d.expandedKeys,t=d.selectedKeys,a=d.checkedKeys,n=d.loadedKeys,l=d.loadingKeys,f=d.halfCheckedKeys,g=d.keyEntities,K=d.disabled,N=d.dragging,I=d.dragOverNodeKey,A=d.dropPosition,y=d.motion,z=d.height,b=d.itemHeight,$=d.virtual,U=d.focusable,J=d.activeItem,te=d.focused,ie=d.tabIndex,V=d.onKeyDown,ye=d.onFocus,ge=d.onBlur,ue=d.onActiveChange,xe=d.onListChangeStart,Ce=d.onListChangeEnd,Re=(0,o.Z)(d,c),Oe=O.useRef(null),Te=O.useRef(null);O.useImperativeHandle(h,function(){return{scrollTo:function(je){Oe.current.scrollTo(je)},getIndentWidth:function(){return Te.current.offsetWidth}}});var Ie=O.useState(S),Fe=(0,q.Z)(Ie,2),vt=Fe[0],_e=Fe[1],rt=O.useState(e),qe=(0,q.Z)(rt,2),Xe=qe[0],Ye=qe[1],Me=O.useState(e),Ue=(0,q.Z)(Me,2),Ze=Ue[0],Ne=Ue[1],Ve=O.useState([]),Je=(0,q.Z)(Ve,2),ht=Je[0],at=Je[1],yt=O.useState(null),ot=(0,q.Z)(yt,2),mt=ot[0],it=ot[1],et=O.useRef(e);et.current=e;function st(){var oe=et.current;Ye(oe),Ne(oe),at([]),it(null),Ce()}(0,m.Z)(function(){_e(S);var oe=ee(vt,S);if(oe.key!==null)if(oe.add){var je=Xe.findIndex(function(pt){var ct=pt.key;return ct===oe.key}),tt=Se(i(Xe,e,oe.key),$,z,b),lt=Xe.slice();lt.splice(je+1,0,se),Ne(lt),at(tt),it("show")}else{var nt=e.findIndex(function(pt){var ct=pt.key;return ct===oe.key}),we=Se(i(e,Xe,oe.key),$,z,b),gt=e.slice();gt.splice(nt+1,0,se),Ne(gt),at(we),it("hide")}else Xe!==e&&(Ye(e),Ne(e))},[S,e]),O.useEffect(function(){N||st()},[N]);var dt=y?Ze:e,Qe={expandedKeys:S,selectedKeys:t,loadedKeys:n,loadingKeys:l,checkedKeys:a,halfCheckedKeys:f,dragOverNodeKey:I,dropPosition:A,keyEntities:g};return O.createElement(O.Fragment,null,te&&J&&O.createElement("span",{style:k,"aria-live":"assertive"},$e(J)),O.createElement("div",null,O.createElement("input",{style:k,disabled:U===!1||K,tabIndex:U!==!1?ie:null,onKeyDown:V,onFocus:ye,onBlur:ge,value:"",onChange:L,"aria-label":"for screen reader"})),O.createElement("div",{className:"".concat(E,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},O.createElement("div",{className:"".concat(E,"-indent")},O.createElement("div",{ref:Te,className:"".concat(E,"-indent-unit")}))),O.createElement(M.Z,(0,me.Z)({},Re,{data:dt,itemKey:pe,height:z,fullHeight:!1,virtual:$,itemHeight:b,prefixCls:"".concat(E,"-list"),ref:Oe,onVisibleChange:function(je,tt){var lt=new Set(je),nt=tt.filter(function(we){return!lt.has(we)});nt.some(function(we){return pe(we)===B})&&st()}}),function(oe){var je=oe.pos,tt=(0,me.Z)({},(he(oe.data),oe.data)),lt=oe.title,nt=oe.key,we=oe.isStart,gt=oe.isEnd,pt=(0,C.km)(nt,je);delete tt.key,delete tt.children;var ct=(0,C.H8)(pt,Qe);return O.createElement(H,(0,me.Z)({},tt,ct,{title:lt,active:!!J&&nt===J.key,pos:je,data:oe.data,isStart:we,isEnd:gt,motion:y,motionNodes:nt===B?ht:null,motionType:mt,onMotionStart:xe,onMotionEnd:st,treeNodeRequiredProps:Qe,onMouseMove:function(){ue(null)}}))}))});Be.displayName="NodeList";var ze=Be,Y=v(33492),He=v(80085),Ge=v(31212),s=10,D=function(d){(0,ke.Z)(E,d);var h=(0,ve.Z)(E);function E(){var e;(0,We.Z)(this,E);for(var u=arguments.length,Z=new Array(u),S=0;S<u;S++)Z[S]=arguments[S];return e=h.call.apply(h,[this].concat(Z)),e.destroyed=!1,e.delayedDragEnterLogic=void 0,e.loadingRetryTimes={},e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:(0,C.w$)()},e.dragStartMousePosition=null,e.dragNode=void 0,e.currentMouseOverDroppableNodeKey=null,e.listRef=O.createRef(),e.onNodeDragStart=function(t,a){var n=e.state,l=n.expandedKeys,f=n.keyEntities,g=e.props.onDragStart,K=a.props.eventKey;e.dragNode=a,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var N=(0,Y._5)(l,K);e.setState({draggingNodeKey:K,dragChildrenKeys:(0,Y.wA)(K,f),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(N),window.addEventListener("dragend",e.onWindowDragEnd),g==null||g({event:t,node:(0,C.F)(a.props)})},e.onNodeDragEnter=function(t,a){var n=e.state,l=n.expandedKeys,f=n.keyEntities,g=n.dragChildrenKeys,K=n.flattenNodes,N=n.indent,I=e.props,A=I.onDragEnter,y=I.onExpand,z=I.allowDrop,b=I.direction,$=a.props,U=$.pos,J=$.eventKey,te=(0,be.Z)(e),ie=te.dragNode;if(e.currentMouseOverDroppableNodeKey!==J&&(e.currentMouseOverDroppableNodeKey=J),!ie){e.resetDragState();return}var V=(0,Y.OM)(t,ie,a,N,e.dragStartMousePosition,z,K,f,l,b),ye=V.dropPosition,ge=V.dropLevelOffset,ue=V.dropTargetKey,xe=V.dropContainerKey,Ce=V.dropTargetPos,Re=V.dropAllowed,Oe=V.dragOverNodeKey;if(g.indexOf(ue)!==-1||!Re){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(Te){clearTimeout(e.delayedDragEnterLogic[Te])}),ie.props.eventKey!==a.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[U]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var Te=(0,De.Z)(l),Ie=(0,Ge.Z)(f,a.props.eventKey);Ie&&(Ie.children||[]).length&&(Te=(0,Y.L0)(l,a.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(Te),y==null||y(Te,{node:(0,C.F)(a.props),expanded:!0,nativeEvent:t.nativeEvent})}},800)),ie.props.eventKey===ue&&ge===0){e.resetDragState();return}e.setState({dragOverNodeKey:Oe,dropPosition:ye,dropLevelOffset:ge,dropTargetKey:ue,dropContainerKey:xe,dropTargetPos:Ce,dropAllowed:Re}),A==null||A({event:t,node:(0,C.F)(a.props),expandedKeys:l})},e.onNodeDragOver=function(t,a){var n=e.state,l=n.dragChildrenKeys,f=n.flattenNodes,g=n.keyEntities,K=n.expandedKeys,N=n.indent,I=e.props,A=I.onDragOver,y=I.allowDrop,z=I.direction,b=(0,be.Z)(e),$=b.dragNode;if($){var U=(0,Y.OM)(t,$,a,N,e.dragStartMousePosition,y,f,g,K,z),J=U.dropPosition,te=U.dropLevelOffset,ie=U.dropTargetKey,V=U.dropContainerKey,ye=U.dropAllowed,ge=U.dropTargetPos,ue=U.dragOverNodeKey;l.indexOf(ie)!==-1||!ye||($.props.eventKey===ie&&te===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():J===e.state.dropPosition&&te===e.state.dropLevelOffset&&ie===e.state.dropTargetKey&&V===e.state.dropContainerKey&&ge===e.state.dropTargetPos&&ye===e.state.dropAllowed&&ue===e.state.dragOverNodeKey||e.setState({dropPosition:J,dropLevelOffset:te,dropTargetKey:ie,dropContainerKey:V,dropTargetPos:ge,dropAllowed:ye,dragOverNodeKey:ue}),A==null||A({event:t,node:(0,C.F)(a.props)}))}},e.onNodeDragLeave=function(t,a){e.currentMouseOverDroppableNodeKey===a.props.eventKey&&!t.currentTarget.contains(t.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var n=e.props.onDragLeave;n==null||n({event:t,node:(0,C.F)(a.props)})},e.onWindowDragEnd=function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(t,a){var n=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),n==null||n({event:t,node:(0,C.F)(a.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDrop=function(t,a){var n,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,f=e.state,g=f.dragChildrenKeys,K=f.dropPosition,N=f.dropTargetKey,I=f.dropTargetPos,A=f.dropAllowed;if(A){var y=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),N!==null){var z=(0,re.Z)((0,re.Z)({},(0,C.H8)(N,e.getTreeNodeRequiredProps())),{},{active:((n=e.getActiveItem())===null||n===void 0?void 0:n.key)===N,data:(0,Ge.Z)(e.state.keyEntities,N).node}),b=g.indexOf(N)!==-1;(0,Ee.ZP)(!b,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var $=(0,Y.yx)(I),U={event:t,node:(0,C.F)(z),dragNode:e.dragNode?(0,C.F)(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(g),dropToGap:K!==0,dropPosition:K+Number($[$.length-1])};l||y==null||y(U),e.dragNode=null}}},e.cleanDragState=function(){var t=e.state.draggingNodeKey;t!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null},e.triggerExpandActionExpand=function(t,a){var n=e.state,l=n.expandedKeys,f=n.flattenNodes,g=a.expanded,K=a.key,N=a.isLeaf;if(!(N||t.shiftKey||t.metaKey||t.ctrlKey)){var I=f.filter(function(y){return y.key===K})[0],A=(0,C.F)((0,re.Z)((0,re.Z)({},(0,C.H8)(K,e.getTreeNodeRequiredProps())),{},{data:I.data}));e.setExpandedKeys(g?(0,Y._5)(l,K):(0,Y.L0)(l,K)),e.onNodeExpand(t,A)}},e.onNodeClick=function(t,a){var n=e.props,l=n.onClick,f=n.expandAction;f==="click"&&e.triggerExpandActionExpand(t,a),l==null||l(t,a)},e.onNodeDoubleClick=function(t,a){var n=e.props,l=n.onDoubleClick,f=n.expandAction;f==="doubleClick"&&e.triggerExpandActionExpand(t,a),l==null||l(t,a)},e.onNodeSelect=function(t,a){var n=e.state.selectedKeys,l=e.state,f=l.keyEntities,g=l.fieldNames,K=e.props,N=K.onSelect,I=K.multiple,A=a.selected,y=a[g.key],z=!A;z?I?n=(0,Y.L0)(n,y):n=[y]:n=(0,Y._5)(n,y);var b=n.map(function($){var U=(0,Ge.Z)(f,$);return U?U.node:null}).filter(function($){return $});e.setUncontrolledState({selectedKeys:n}),N==null||N(n,{event:"select",selected:z,node:a,selectedNodes:b,nativeEvent:t.nativeEvent})},e.onNodeCheck=function(t,a,n){var l=e.state,f=l.keyEntities,g=l.checkedKeys,K=l.halfCheckedKeys,N=e.props,I=N.checkStrictly,A=N.onCheck,y=a.key,z,b={event:"check",node:a,checked:n,nativeEvent:t.nativeEvent};if(I){var $=n?(0,Y.L0)(g,y):(0,Y._5)(g,y),U=(0,Y._5)(K,y);z={checked:$,halfChecked:U},b.checkedNodes=$.map(function(ge){return(0,Ge.Z)(f,ge)}).filter(function(ge){return ge}).map(function(ge){return ge.node}),e.setUncontrolledState({checkedKeys:$})}else{var J=(0,He.S)([].concat((0,De.Z)(g),[y]),!0,f),te=J.checkedKeys,ie=J.halfCheckedKeys;if(!n){var V=new Set(te);V.delete(y);var ye=(0,He.S)(Array.from(V),{checked:!1,halfCheckedKeys:ie},f);te=ye.checkedKeys,ie=ye.halfCheckedKeys}z=te,b.checkedNodes=[],b.checkedNodesPositions=[],b.halfCheckedKeys=ie,te.forEach(function(ge){var ue=(0,Ge.Z)(f,ge);if(ue){var xe=ue.node,Ce=ue.pos;b.checkedNodes.push(xe),b.checkedNodesPositions.push({node:xe,pos:Ce})}}),e.setUncontrolledState({checkedKeys:te},!1,{halfCheckedKeys:ie})}A==null||A(z,b)},e.onNodeLoad=function(t){var a=t.key,n=new Promise(function(l,f){e.setState(function(g){var K=g.loadedKeys,N=K===void 0?[]:K,I=g.loadingKeys,A=I===void 0?[]:I,y=e.props,z=y.loadData,b=y.onLoad;if(!z||N.indexOf(a)!==-1||A.indexOf(a)!==-1)return null;var $=z(t);return $.then(function(){var U=e.state.loadedKeys,J=(0,Y.L0)(U,a);b==null||b(J,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:J}),e.setState(function(te){return{loadingKeys:(0,Y._5)(te.loadingKeys,a)}}),l()}).catch(function(U){if(e.setState(function(te){return{loadingKeys:(0,Y._5)(te.loadingKeys,a)}}),e.loadingRetryTimes[a]=(e.loadingRetryTimes[a]||0)+1,e.loadingRetryTimes[a]>=s){var J=e.state.loadedKeys;(0,Ee.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:(0,Y.L0)(J,a)}),l()}f(U)}),{loadingKeys:(0,Y.L0)(A,a)}})});return n.catch(function(){}),n},e.onNodeMouseEnter=function(t,a){var n=e.props.onMouseEnter;n==null||n({event:t,node:a})},e.onNodeMouseLeave=function(t,a){var n=e.props.onMouseLeave;n==null||n({event:t,node:a})},e.onNodeContextMenu=function(t,a){var n=e.props.onRightClick;n&&(t.preventDefault(),n({event:t,node:a}))},e.onFocus=function(){var t=e.props.onFocus;e.setState({focused:!0});for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];t==null||t.apply(void 0,n)},e.onBlur=function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];t==null||t.apply(void 0,n)},e.getTreeNodeRequiredProps=function(){var t=e.state,a=t.expandedKeys,n=t.selectedKeys,l=t.loadedKeys,f=t.loadingKeys,g=t.checkedKeys,K=t.halfCheckedKeys,N=t.dragOverNodeKey,I=t.dropPosition,A=t.keyEntities;return{expandedKeys:a||[],selectedKeys:n||[],loadedKeys:l||[],loadingKeys:f||[],checkedKeys:g||[],halfCheckedKeys:K||[],dragOverNodeKey:N,dropPosition:I,keyEntities:A}},e.setExpandedKeys=function(t){var a=e.state,n=a.treeData,l=a.fieldNames,f=(0,C.oH)(n,t,l);e.setUncontrolledState({expandedKeys:t,flattenNodes:f},!0)},e.onNodeExpand=function(t,a){var n=e.state.expandedKeys,l=e.state,f=l.listChanging,g=l.fieldNames,K=e.props,N=K.onExpand,I=K.loadData,A=a.expanded,y=a[g.key];if(!f){var z=n.indexOf(y),b=!A;if((0,Ee.ZP)(A&&z!==-1||!A&&z===-1,"Expand state not sync with index check"),b?n=(0,Y.L0)(n,y):n=(0,Y._5)(n,y),e.setExpandedKeys(n),N==null||N(n,{node:a,expanded:b,nativeEvent:t.nativeEvent}),b&&I){var $=e.onNodeLoad(a);$&&$.then(function(){var U=(0,C.oH)(e.state.treeData,n,g);e.setUncontrolledState({flattenNodes:U})}).catch(function(){var U=e.state.expandedKeys,J=(0,Y._5)(U,y);e.setExpandedKeys(J)})}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})},e.onActiveChange=function(t){var a=e.state.activeKey,n=e.props.onActiveChange;a!==t&&(e.setState({activeKey:t}),t!==null&&e.scrollTo({key:t}),n==null||n(t))},e.getActiveItem=function(){var t=e.state,a=t.activeKey,n=t.flattenNodes;return a===null?null:n.find(function(l){var f=l.key;return f===a})||null},e.offsetActiveKey=function(t){var a=e.state,n=a.flattenNodes,l=a.activeKey,f=n.findIndex(function(N){var I=N.key;return I===l});f===-1&&t<0&&(f=n.length),f=(f+t+n.length)%n.length;var g=n[f];if(g){var K=g.key;e.onActiveChange(K)}else e.onActiveChange(null)},e.onKeyDown=function(t){var a=e.state,n=a.activeKey,l=a.expandedKeys,f=a.checkedKeys,g=a.fieldNames,K=e.props,N=K.onKeyDown,I=K.checkable,A=K.selectable;switch(t.which){case G.Z.UP:{e.offsetActiveKey(-1),t.preventDefault();break}case G.Z.DOWN:{e.offsetActiveKey(1),t.preventDefault();break}}var y=e.getActiveItem();if(y&&y.data){var z=e.getTreeNodeRequiredProps(),b=y.data.isLeaf===!1||!!(y.data[g.children]||[]).length,$=(0,C.F)((0,re.Z)((0,re.Z)({},(0,C.H8)(n,z)),{},{data:y.data,active:!0}));switch(t.which){case G.Z.LEFT:{b&&l.includes(n)?e.onNodeExpand({},$):y.parent&&e.onActiveChange(y.parent.key),t.preventDefault();break}case G.Z.RIGHT:{b&&!l.includes(n)?e.onNodeExpand({},$):y.children&&y.children.length&&e.onActiveChange(y.children[0].key),t.preventDefault();break}case G.Z.ENTER:case G.Z.SPACE:{I&&!$.disabled&&$.checkable!==!1&&!$.disableCheckbox?e.onNodeCheck({},$,!f.includes(n)):!I&&A&&!$.disabled&&$.selectable!==!1&&e.onNodeSelect({},$);break}}}N==null||N(t)},e.setUncontrolledState=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var l=!1,f=!0,g={};Object.keys(t).forEach(function(K){if(K in e.props){f=!1;return}l=!0,g[K]=t[K]}),l&&(!a||f)&&e.setState((0,re.Z)((0,re.Z)({},g),n))}},e.scrollTo=function(t){e.listRef.current.scrollTo(t)},e}return(0,p.Z)(E,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var u=this.props.activeKey;u!==void 0&&u!==this.state.activeKey&&(this.setState({activeKey:u}),u!==null&&this.scrollTo({key:u}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var u,Z=this.state,S=Z.focused,t=Z.flattenNodes,a=Z.keyEntities,n=Z.draggingNodeKey,l=Z.activeKey,f=Z.dropLevelOffset,g=Z.dropContainerKey,K=Z.dropTargetKey,N=Z.dropPosition,I=Z.dragOverNodeKey,A=Z.indent,y=this.props,z=y.prefixCls,b=y.className,$=y.style,U=y.showLine,J=y.focusable,te=y.tabIndex,ie=te===void 0?0:te,V=y.selectable,ye=y.showIcon,ge=y.icon,ue=y.switcherIcon,xe=y.draggable,Ce=y.checkable,Re=y.checkStrictly,Oe=y.disabled,Te=y.motion,Ie=y.loadData,Fe=y.filterTreeNode,vt=y.height,_e=y.itemHeight,rt=y.virtual,qe=y.titleRender,Xe=y.dropIndicatorRender,Ye=y.onContextMenu,Me=y.onScroll,Ue=y.direction,Ze=y.rootClassName,Ne=y.rootStyle,Ve=(0,ce.Z)(this.props,{aria:!0,data:!0}),Je;return xe&&((0,Pe.Z)(xe)==="object"?Je=xe:typeof xe=="function"?Je={nodeDraggable:xe}:Je={}),O.createElement(Ke.k.Provider,{value:{prefixCls:z,selectable:V,showIcon:ye,icon:ge,switcherIcon:ue,draggable:Je,draggingNodeKey:n,checkable:Ce,checkStrictly:Re,disabled:Oe,keyEntities:a,dropLevelOffset:f,dropContainerKey:g,dropTargetKey:K,dropPosition:N,dragOverNodeKey:I,indent:A,direction:Ue,dropIndicatorRender:Xe,loadData:Ie,filterTreeNode:Fe,titleRender:qe,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},O.createElement("div",{role:"tree",className:ae()(z,b,Ze,(u={},(0,W.Z)(u,"".concat(z,"-show-line"),U),(0,W.Z)(u,"".concat(z,"-focused"),S),(0,W.Z)(u,"".concat(z,"-active-focused"),l!==null),u)),style:Ne},O.createElement(ze,(0,me.Z)({ref:this.listRef,prefixCls:z,style:$,data:t,disabled:Oe,selectable:V,checkable:!!Ce,motion:Te,dragging:n!==null,height:vt,itemHeight:_e,virtual:rt,focusable:J,focused:S,tabIndex:ie,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:Ye,onScroll:Me},this.getTreeNodeRequiredProps(),Ve))))}}],[{key:"getDerivedStateFromProps",value:function(u,Z){var S=Z.prevProps,t={prevProps:u};function a(J){return!S&&J in u||S&&S[J]!==u[J]}var n,l=Z.fieldNames;if(a("fieldNames")&&(l=(0,C.w$)(u.fieldNames),t.fieldNames=l),a("treeData")?n=u.treeData:a("children")&&((0,Ee.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=(0,C.zn)(u.children)),n){t.treeData=n;var f=(0,C.I8)(n,{fieldNames:l});t.keyEntities=(0,re.Z)((0,W.Z)({},B,_),f.keyEntities)}var g=t.keyEntities||Z.keyEntities;if(a("expandedKeys")||S&&a("autoExpandParent"))t.expandedKeys=u.autoExpandParent||!S&&u.defaultExpandParent?(0,Y.r7)(u.expandedKeys,g):u.expandedKeys;else if(!S&&u.defaultExpandAll){var K=(0,re.Z)({},g);delete K[B],t.expandedKeys=Object.keys(K).map(function(J){return K[J].key})}else!S&&u.defaultExpandedKeys&&(t.expandedKeys=u.autoExpandParent||u.defaultExpandParent?(0,Y.r7)(u.defaultExpandedKeys,g):u.defaultExpandedKeys);if(t.expandedKeys||delete t.expandedKeys,n||t.expandedKeys){var N=(0,C.oH)(n||Z.treeData,t.expandedKeys||Z.expandedKeys,l);t.flattenNodes=N}if(u.selectable&&(a("selectedKeys")?t.selectedKeys=(0,Y.BT)(u.selectedKeys,u):!S&&u.defaultSelectedKeys&&(t.selectedKeys=(0,Y.BT)(u.defaultSelectedKeys,u))),u.checkable){var I;if(a("checkedKeys")?I=(0,Y.E6)(u.checkedKeys)||{}:!S&&u.defaultCheckedKeys?I=(0,Y.E6)(u.defaultCheckedKeys)||{}:n&&(I=(0,Y.E6)(u.checkedKeys)||{checkedKeys:Z.checkedKeys,halfCheckedKeys:Z.halfCheckedKeys}),I){var A=I,y=A.checkedKeys,z=y===void 0?[]:y,b=A.halfCheckedKeys,$=b===void 0?[]:b;if(!u.checkStrictly){var U=(0,He.S)(z,!0,g);z=U.checkedKeys,$=U.halfCheckedKeys}t.checkedKeys=z,t.halfCheckedKeys=$}}return a("loadedKeys")&&(t.loadedKeys=u.loadedKeys),t}}]),E}(O.Component);D.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:de,allowDrop:function(){return!0},expandAction:!1},D.TreeNode=P.Z;var x=D,R=x},33492:function(ft,Ae,v){v.d(Ae,{BT:function(){return O},E6:function(){return he},L0:function(){return ve},OM:function(){return Ee},_5:function(){return ke},r7:function(){return q},wA:function(){return ae},yx:function(){return ne}});var me=v(94718),W=v(69947),Pe=v(11253),re=v(50959),De=v(20825),We=v(31212),p=v(16318),be=null;function ke(o,m){if(!o)return[];var M=o.slice(),T=M.indexOf(m);return T>=0&&M.splice(T,1),M}function ve(o,m){var M=(o||[]).slice();return M.indexOf(m)===-1&&M.push(m),M}function ne(o){return o.split("-")}function ae(o,m){var M=[],T=(0,We.Z)(m,o);function P(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];F.forEach(function(C){var Q=C.key,r=C.children;M.push(Q),P(r)})}return P(T.children),M}function G(o){if(o.parent){var m=ne(o.pos);return Number(m[m.length-1])===o.parent.children.length-1}return!1}function ce(o){var m=ne(o.pos);return Number(m[m.length-1])===0}function Ee(o,m,M,T,P,F,C,Q,r,w){var H,ee=o.clientX,i=o.clientY,c=o.target.getBoundingClientRect(),k=c.top,L=c.height,B=(w==="rtl"?-1:1)*(((P==null?void 0:P.x)||0)-ee),fe=(B-12)/T,_=(0,We.Z)(Q,M.props.eventKey);if(i<k+L/2){var se=C.findIndex(function(R){return R.key===_.key}),Se=se<=0?0:se-1,pe=C[Se].key;_=(0,We.Z)(Q,pe)}var $e=_.key,Be=_,ze=_.key,Y=0,He=0;if(!r.includes($e))for(var Ge=0;Ge<fe&&G(_);Ge+=1)_=_.parent,He+=1;var s=m.props.data,D=_.node,x=!0;return ce(_)&&_.level===0&&i<k+L/2&&F({dragNode:s,dropNode:D,dropPosition:-1})&&_.key===M.props.eventKey?Y=-1:(Be.children||[]).length&&r.includes(ze)?F({dragNode:s,dropNode:D,dropPosition:0})?Y=0:x=!1:He===0?fe>-1.5?F({dragNode:s,dropNode:D,dropPosition:1})?Y=1:x=!1:F({dragNode:s,dropNode:D,dropPosition:0})?Y=0:F({dragNode:s,dropNode:D,dropPosition:1})?Y=1:x=!1:F({dragNode:s,dropNode:D,dropPosition:1})?Y=1:x=!1,{dropPosition:Y,dropLevelOffset:He,dropTargetKey:_.key,dropTargetPos:_.pos,dragOverNodeKey:ze,dropContainerKey:Y===0?null:((H=_.parent)===null||H===void 0?void 0:H.key)||null,dropAllowed:x}}function O(o,m){if(o){var M=m.multiple;return M?o.slice():o.length?[o[0]]:o}}var Ke=function(m){return m};function de(o,m){if(!o)return[];var M=m||{},T=M.processProps,P=T===void 0?Ke:T,F=Array.isArray(o)?o:[o];return F.map(function(C){var Q=C.children,r=_objectWithoutProperties(C,be),w=de(Q,m);return React.createElement(TreeNode,_extends({key:r.key},P(r)),w)})}function he(o){if(!o)return null;var m;if(Array.isArray(o))m={checkedKeys:o,halfCheckedKeys:void 0};else if((0,W.Z)(o)==="object")m={checkedKeys:o.checked||void 0,halfCheckedKeys:o.halfChecked||void 0};else return(0,Pe.ZP)(!1,"`checkedKeys` is not an array or an object"),null;return m}function q(o,m){var M=new Set;function T(P){if(!M.has(P)){var F=(0,We.Z)(m,P);if(F){M.add(P);var C=F.parent,Q=F.node;Q.disabled||C&&T(C.key)}}}return(o||[]).forEach(function(P){T(P)}),(0,me.Z)(M)}},80085:function(ft,Ae,v){v.d(Ae,{S:function(){return p}});var me=v(11253),W=v(31212);function Pe(be,ke){var ve=new Set;return be.forEach(function(ne){ke.has(ne)||ve.add(ne)}),ve}function re(be){var ke=be||{},ve=ke.disabled,ne=ke.disableCheckbox,ae=ke.checkable;return!!(ve||ne)||ae===!1}function De(be,ke,ve,ne){for(var ae=new Set(be),G=new Set,ce=0;ce<=ve;ce+=1){var Ee=ke.get(ce)||new Set;Ee.forEach(function(he){var q=he.key,o=he.node,m=he.children,M=m===void 0?[]:m;ae.has(q)&&!ne(o)&&M.filter(function(T){return!ne(T.node)}).forEach(function(T){ae.add(T.key)})})}for(var O=new Set,Ke=ve;Ke>=0;Ke-=1){var de=ke.get(Ke)||new Set;de.forEach(function(he){var q=he.parent,o=he.node;if(!(ne(o)||!he.parent||O.has(he.parent.key))){if(ne(he.parent.node)){O.add(q.key);return}var m=!0,M=!1;(q.children||[]).filter(function(T){return!ne(T.node)}).forEach(function(T){var P=T.key,F=ae.has(P);m&&!F&&(m=!1),!M&&(F||G.has(P))&&(M=!0)}),m&&ae.add(q.key),M&&G.add(q.key),O.add(q.key)}})}return{checkedKeys:Array.from(ae),halfCheckedKeys:Array.from(Pe(G,ae))}}function We(be,ke,ve,ne,ae){for(var G=new Set(be),ce=new Set(ke),Ee=0;Ee<=ne;Ee+=1){var O=ve.get(Ee)||new Set;O.forEach(function(q){var o=q.key,m=q.node,M=q.children,T=M===void 0?[]:M;!G.has(o)&&!ce.has(o)&&!ae(m)&&T.filter(function(P){return!ae(P.node)}).forEach(function(P){G.delete(P.key)})})}ce=new Set;for(var Ke=new Set,de=ne;de>=0;de-=1){var he=ve.get(de)||new Set;he.forEach(function(q){var o=q.parent,m=q.node;if(!(ae(m)||!q.parent||Ke.has(q.parent.key))){if(ae(q.parent.node)){Ke.add(o.key);return}var M=!0,T=!1;(o.children||[]).filter(function(P){return!ae(P.node)}).forEach(function(P){var F=P.key,C=G.has(F);M&&!C&&(M=!1),!T&&(C||ce.has(F))&&(T=!0)}),M||G.delete(o.key),T&&ce.add(o.key),Ke.add(o.key)}})}return{checkedKeys:Array.from(G),halfCheckedKeys:Array.from(Pe(ce,G))}}function p(be,ke,ve,ne){var ae=[],G;ne?G=ne:G=re;var ce=new Set(be.filter(function(de){var he=!!(0,W.Z)(ve,de);return he||ae.push(de),he})),Ee=new Map,O=0;Object.keys(ve).forEach(function(de){var he=ve[de],q=he.level,o=Ee.get(q);o||(o=new Set,Ee.set(q,o)),o.add(he),O=Math.max(O,q)}),(0,me.ZP)(!ae.length,"Tree missing follow keys: ".concat(ae.slice(0,100).map(function(de){return"'".concat(de,"'")}).join(", ")));var Ke;return ke===!0?Ke=De(ce,Ee,O,G):Ke=We(ce,ke.halfCheckedKeys,Ee,O,G),Ke}},31212:function(ft,Ae,v){v.d(Ae,{Z:function(){return me}});function me(W,Pe){return W[Pe]}},16318:function(ft,Ae,v){v.d(Ae,{F:function(){return q},H8:function(){return he},I8:function(){return de},km:function(){return ae},oH:function(){return O},w$:function(){return G},zn:function(){return Ee}});var me=v(69947),W=v(94718),Pe=v(2595),re=v(4155),De=v(51026),We=v(54331),p=v(11253),be=v(31212),ke=["children"];function ve(o,m){return"".concat(o,"-").concat(m)}function ne(o){return o&&o.type&&o.type.isTreeNode}function ae(o,m){return o!=null?o:m}function G(o){var m=o||{},M=m.title,T=m._title,P=m.key,F=m.children,C=M||"title";return{title:C,_title:T||[C],key:P||"key",children:F||"children"}}function ce(o,m){var M=new Map;function T(P){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(P||[]).forEach(function(C){var Q=C[m.key],r=C[m.children];warning(Q!=null,"Tree node must have a certain key: [".concat(F).concat(Q,"]"));var w=String(Q);warning(!M.has(w)||Q===null||Q===void 0,"Same 'key' exist in the Tree: ".concat(w)),M.set(w,!0),T(r,"".concat(F).concat(w," > "))})}T(o)}function Ee(o){function m(M){var T=(0,De.Z)(M);return T.map(function(P){if(!ne(P))return(0,p.ZP)(!P,"Tree/TreeNode can only accept TreeNode as children."),null;var F=P.key,C=P.props,Q=C.children,r=(0,re.Z)(C,ke),w=(0,Pe.Z)({key:F},r),H=m(Q);return H.length&&(w.children=H),w}).filter(function(P){return P})}return m(o)}function O(o,m,M){var T=G(M),P=T._title,F=T.key,C=T.children,Q=new Set(m===!0?[]:m),r=[];function w(H){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return H.map(function(i,c){for(var k=ve(ee?ee.pos:"0",c),L=ae(i[F],k),B,fe=0;fe<P.length;fe+=1){var _=P[fe];if(i[_]!==void 0){B=i[_];break}}var se=(0,Pe.Z)((0,Pe.Z)({},(0,We.Z)(i,[].concat((0,W.Z)(P),[F,C]))),{},{title:B,key:L,parent:ee,pos:k,children:null,data:i,isStart:[].concat((0,W.Z)(ee?ee.isStart:[]),[c===0]),isEnd:[].concat((0,W.Z)(ee?ee.isEnd:[]),[c===H.length-1])});return r.push(se),m===!0||Q.has(L)?se.children=w(i[C]||[],se):se.children=[],se})}return w(o),r}function Ke(o,m,M){var T={};(0,me.Z)(M)==="object"?T=M:T={externalGetKey:M},T=T||{};var P=T,F=P.childrenPropName,C=P.externalGetKey,Q=P.fieldNames,r=G(Q),w=r.key,H=r.children,ee=F||H,i;C?typeof C=="string"?i=function(L){return L[C]}:typeof C=="function"&&(i=function(L){return C(L)}):i=function(L,B){return ae(L[w],B)};function c(k,L,B,fe){var _=k?k[ee]:o,se=k?ve(B.pos,L):"0",Se=k?[].concat((0,W.Z)(fe),[k]):[];if(k){var pe=i(k,se),$e={node:k,index:L,pos:se,key:pe,parentPos:B.node?B.pos:null,level:B.level+1,nodes:Se};m($e)}_&&_.forEach(function(Be,ze){c(Be,ze,{node:k,pos:se,level:B?B.level+1:-1},Se)})}c(null)}function de(o){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M=m.initWrapper,T=m.processEntity,P=m.onProcessFinished,F=m.externalGetKey,C=m.childrenPropName,Q=m.fieldNames,r=arguments.length>2?arguments[2]:void 0,w=F||r,H={},ee={},i={posEntities:H,keyEntities:ee};return M&&(i=M(i)||i),Ke(o,function(c){var k=c.node,L=c.index,B=c.pos,fe=c.key,_=c.parentPos,se=c.level,Se=c.nodes,pe={node:k,nodes:Se,index:L,key:fe,pos:B,level:se},$e=ae(fe,B);H[B]=pe,ee[$e]=pe,pe.parent=H[_],pe.parent&&(pe.parent.children=pe.parent.children||[],pe.parent.children.push(pe)),T&&T(pe,i)},{externalGetKey:w,childrenPropName:C,fieldNames:Q}),P&&P(i),i}function he(o,m){var M=m.expandedKeys,T=m.selectedKeys,P=m.loadedKeys,F=m.loadingKeys,C=m.checkedKeys,Q=m.halfCheckedKeys,r=m.dragOverNodeKey,w=m.dropPosition,H=m.keyEntities,ee=(0,be.Z)(H,o),i={eventKey:o,expanded:M.indexOf(o)!==-1,selected:T.indexOf(o)!==-1,loaded:P.indexOf(o)!==-1,loading:F.indexOf(o)!==-1,checked:C.indexOf(o)!==-1,halfChecked:Q.indexOf(o)!==-1,pos:String(ee?ee.pos:""),dragOver:r===o&&w===0,dragOverGapTop:r===o&&w===-1,dragOverGapBottom:r===o&&w===1};return i}function q(o){var m=o.data,M=o.expanded,T=o.selected,P=o.checked,F=o.loaded,C=o.loading,Q=o.halfChecked,r=o.dragOver,w=o.dragOverGapTop,H=o.dragOverGapBottom,ee=o.pos,i=o.active,c=o.eventKey,k=(0,Pe.Z)((0,Pe.Z)({},m),{},{expanded:M,selected:T,checked:P,loaded:F,loading:C,halfChecked:Q,dragOver:r,dragOverGapTop:w,dragOverGapBottom:H,pos:ee,active:i,key:c});return"props"in k||Object.defineProperty(k,"props",{get:function(){return(0,p.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),o}}),k}},71123:function(ft,Ae,v){v.d(Ae,{Z:function(){return Ge}});var me=v(88028),W=v(2595),Pe=v(69947),re=v(41171),De=v(22481),We=v(4155),p=v(50959),be=v(10422),ke=v(84875),ve=v.n(ke),ne=v(87040),ae=p.forwardRef(function(s,D){var x=s.height,R=s.offsetY,d=s.offsetX,h=s.children,E=s.prefixCls,e=s.onInnerResize,u=s.innerProps,Z=s.rtl,S=s.extra,t={},a={display:"flex",flexDirection:"column"};if(R!==void 0){var n;t={height:x,position:"relative",overflow:"hidden"},a=(0,W.Z)((0,W.Z)({},a),{},(n={transform:"translateY(".concat(R,"px)")},(0,De.Z)(n,Z?"marginRight":"marginLeft",-d),(0,De.Z)(n,"position","absolute"),(0,De.Z)(n,"left",0),(0,De.Z)(n,"right",0),(0,De.Z)(n,"top",0),n))}return p.createElement("div",{style:t},p.createElement(ne.Z,{onResize:function(f){var g=f.offsetHeight;g&&e&&e()}},p.createElement("div",(0,me.Z)({style:a,className:ve()((0,De.Z)({},"".concat(E,"-holder-inner"),E)),ref:D},u),h,S)))});ae.displayName="Filler";var G=ae,ce=v(51537);function Ee(s,D){var x="touches"in s?s.touches[0]:s;return x[D?"pageX":"pageY"]}var O=p.forwardRef(function(s,D){var x,R=s.prefixCls,d=s.rtl,h=s.scrollOffset,E=s.scrollRange,e=s.onStartMove,u=s.onStopMove,Z=s.onScroll,S=s.horizontal,t=s.spinSize,a=s.containerSize,n=s.style,l=s.thumbStyle,f=p.useState(!1),g=(0,re.Z)(f,2),K=g[0],N=g[1],I=p.useState(null),A=(0,re.Z)(I,2),y=A[0],z=A[1],b=p.useState(null),$=(0,re.Z)(b,2),U=$[0],J=$[1],te=!d,ie=p.useRef(),V=p.useRef(),ye=p.useState(!1),ge=(0,re.Z)(ye,2),ue=ge[0],xe=ge[1],Ce=p.useRef(),Re=function(){clearTimeout(Ce.current),xe(!0),Ce.current=setTimeout(function(){xe(!1)},3e3)},Oe=E-a||0,Te=a-t||0,Ie=Oe>0,Fe=p.useMemo(function(){if(h===0||Oe===0)return 0;var Ze=h/Oe;return Ze*Te},[h,Oe,Te]),vt=function(Ne){Ne.stopPropagation(),Ne.preventDefault()},_e=p.useRef({top:Fe,dragging:K,pageY:y,startTop:U});_e.current={top:Fe,dragging:K,pageY:y,startTop:U};var rt=function(Ne){N(!0),z(Ee(Ne,S)),J(_e.current.top),e(),Ne.stopPropagation(),Ne.preventDefault()};p.useEffect(function(){var Ze=function(ht){ht.preventDefault()},Ne=ie.current,Ve=V.current;return Ne.addEventListener("touchstart",Ze),Ve.addEventListener("touchstart",rt),function(){Ne.removeEventListener("touchstart",Ze),Ve.removeEventListener("touchstart",rt)}},[]);var qe=p.useRef();qe.current=Oe;var Xe=p.useRef();Xe.current=Te,p.useEffect(function(){if(K){var Ze,Ne=function(ht){var at=_e.current,yt=at.dragging,ot=at.pageY,mt=at.startTop;if(ce.Z.cancel(Ze),yt){var it=Ee(ht,S)-ot,et=mt;!te&&S?et-=it:et+=it;var st=qe.current,dt=Xe.current,Qe=dt?et/dt:0,oe=Math.ceil(Qe*st);oe=Math.max(oe,0),oe=Math.min(oe,st),Ze=(0,ce.Z)(function(){Z(oe,S)})}},Ve=function(){N(!1),u()};return window.addEventListener("mousemove",Ne),window.addEventListener("touchmove",Ne),window.addEventListener("mouseup",Ve),window.addEventListener("touchend",Ve),function(){window.removeEventListener("mousemove",Ne),window.removeEventListener("touchmove",Ne),window.removeEventListener("mouseup",Ve),window.removeEventListener("touchend",Ve),ce.Z.cancel(Ze)}}},[K]),p.useEffect(function(){Re()},[h]),p.useImperativeHandle(D,function(){return{delayHidden:Re}});var Ye="".concat(R,"-scrollbar"),Me={position:"absolute",visibility:ue&&Ie?null:"hidden"},Ue={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return S?(Me.height=8,Me.left=0,Me.right=0,Me.bottom=0,Ue.height="100%",Ue.width=t,te?Ue.left=Fe:Ue.right=Fe):(Me.width=8,Me.top=0,Me.bottom=0,te?Me.right=0:Me.left=0,Ue.width="100%",Ue.height=t,Ue.top=Fe),p.createElement("div",{ref:ie,className:ve()(Ye,(x={},(0,De.Z)(x,"".concat(Ye,"-horizontal"),S),(0,De.Z)(x,"".concat(Ye,"-vertical"),!S),(0,De.Z)(x,"".concat(Ye,"-visible"),ue),x)),style:(0,W.Z)((0,W.Z)({},Me),n),onMouseDown:vt,onMouseMove:Re},p.createElement("div",{ref:V,className:ve()("".concat(Ye,"-thumb"),(0,De.Z)({},"".concat(Ye,"-thumb-moving"),K)),style:(0,W.Z)((0,W.Z)({},Ue),l),onMouseDown:rt}))}),Ke=O;function de(s){var D=s.children,x=s.setRef,R=p.useCallback(function(d){x(d)},[]);return p.cloneElement(D,{ref:R})}function he(s,D,x,R,d,h,E){var e=E.getKey;return s.slice(D,x+1).map(function(u,Z){var S=D+Z,t=h(u,S,{style:{width:R}}),a=e(u);return p.createElement(de,{key:a,setRef:function(l){return d(u,l)}},t)})}var q=v(7821),o=v(21953),m=v(99044),M=function(){function s(){(0,o.Z)(this,s),this.maps=void 0,this.id=0,this.maps=Object.create(null)}return(0,m.Z)(s,[{key:"set",value:function(x,R){this.maps[x]=R,this.id+=1}},{key:"get",value:function(x){return this.maps[x]}}]),s}(),T=M;function P(s,D,x){var R=p.useState(0),d=(0,re.Z)(R,2),h=d[0],E=d[1],e=(0,p.useRef)(new Map),u=(0,p.useRef)(new T),Z=(0,p.useRef)();function S(){ce.Z.cancel(Z.current)}function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;S();var l=function(){e.current.forEach(function(g,K){if(g&&g.offsetParent){var N=(0,q.Z)(g),I=N.offsetHeight;u.current.get(K)!==I&&u.current.set(K,N.offsetHeight)}}),E(function(g){return g+1})};n?l():Z.current=(0,ce.Z)(l)}function a(n,l){var f=s(n),g=e.current.get(f);l?(e.current.set(f,l),t()):e.current.delete(f),!g!=!l&&(l?D==null||D(n):x==null||x(n))}return(0,p.useEffect)(function(){return S},[]),[a,t,u.current,h]}var F=v(12334),C=v(5353),Q=10;function r(s,D,x,R,d,h,E,e){var u=p.useRef(),Z=p.useState(null),S=(0,re.Z)(Z,2),t=S[0],a=S[1];return(0,F.Z)(function(){if(t&&t.times<Q){if(!s.current){a(function(Re){return(0,W.Z)({},Re)});return}h();var n=t.targetAlign,l=t.originAlign,f=t.index,g=t.offset,K=s.current.clientHeight,N=!1,I=n,A=null;if(K){for(var y=n||l,z=0,b=0,$=0,U=Math.min(D.length-1,f),J=0;J<=U;J+=1){var te=d(D[J]);b=z;var ie=x.get(te);$=b+(ie===void 0?R:ie),z=$}for(var V=y==="top"?g:K-g,ye=U;ye>=0;ye-=1){var ge=d(D[ye]),ue=x.get(ge);if(ue===void 0){N=!0;break}if(V-=ue,V<=0)break}switch(y){case"top":A=b-g;break;case"bottom":A=$-K+g;break;default:{var xe=s.current.scrollTop,Ce=xe+K;b<xe?I="top":$>Ce&&(I="bottom")}}A!==null&&E(A),A!==t.lastTop&&(N=!0)}N&&a(function(Re){return(0,W.Z)((0,W.Z)({},Re),{},{times:Re.times+1,targetAlign:I,lastTop:A})})}},[t,s.current]),function(n){if(n==null){e();return}if(ce.Z.cancel(u.current),typeof n=="number")E(n);else if(n&&(0,Pe.Z)(n)==="object"){var l,f=n.align;"index"in n?l=n.index:l=D.findIndex(function(N){return d(N)===n.key});var g=n.offset,K=g===void 0?0:g;a({times:0,index:l,offset:K,originAlign:f})}}}function w(s,D,x,R){var d=x-s,h=D-x,E=Math.min(d,h)*2;if(R<=E){var e=Math.floor(R/2);return R%2?x+e+1:x-e}return d>h?x-(R-h):x+(R-d)}function H(s,D,x){var R=s.length,d=D.length,h,E;if(R===0&&d===0)return null;R<d?(h=s,E=D):(h=D,E=s);var e={__EMPTY_ITEM__:!0};function u(l){return l!==void 0?x(l):e}for(var Z=null,S=Math.abs(R-d)!==1,t=0;t<E.length;t+=1){var a=u(h[t]),n=u(E[t]);if(a!==n){Z=t,S=S||a!==u(E[t+1]);break}}return Z===null?null:{index:Z,multiple:S}}function ee(s,D,x){var R=p.useState(s),d=(0,re.Z)(R,2),h=d[0],E=d[1],e=p.useState(null),u=(0,re.Z)(e,2),Z=u[0],S=u[1];return p.useEffect(function(){var t=H(h||[],s||[],D);(t==null?void 0:t.index)!==void 0&&(x==null||x(t.index),S(s[t.index])),E(s)},[s]),[Z]}var i=(typeof navigator=="undefined"?"undefined":(0,Pe.Z)(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),c=i,k=function(s,D){var x=(0,p.useRef)(!1),R=(0,p.useRef)(null);function d(){clearTimeout(R.current),x.current=!0,R.current=setTimeout(function(){x.current=!1},50)}var h=(0,p.useRef)({top:s,bottom:D});return h.current.top=s,h.current.bottom=D,function(E){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=E<0&&h.current.top||E>0&&h.current.bottom;return e&&u?(clearTimeout(R.current),x.current=!1):(!u||x.current)&&d(),!x.current&&u}};function L(s,D,x,R,d){var h=(0,p.useRef)(0),E=(0,p.useRef)(null),e=(0,p.useRef)(null),u=(0,p.useRef)(!1),Z=k(D,x);function S(g,K){ce.Z.cancel(E.current),h.current+=K,e.current=K,!Z(K)&&(c||g.preventDefault(),E.current=(0,ce.Z)(function(){var N=u.current?10:1;d(h.current*N),h.current=0}))}function t(g,K){d(K,!0),c||g.preventDefault()}var a=(0,p.useRef)(null),n=(0,p.useRef)(null);function l(g){if(s){ce.Z.cancel(n.current),n.current=(0,ce.Z)(function(){a.current=null},2);var K=g.deltaX,N=g.deltaY,I=g.shiftKey,A=K,y=N;(a.current==="sx"||!a.current&&I&&N&&!K)&&(A=N,y=0,a.current="sx");var z=Math.abs(A),b=Math.abs(y);a.current===null&&(a.current=R&&z>b?"x":"y"),a.current==="y"?S(g,y):t(g,A)}}function f(g){s&&(u.current=g.detail===e.current)}return[l,f]}var B=14/15;function fe(s,D,x){var R=(0,p.useRef)(!1),d=(0,p.useRef)(0),h=(0,p.useRef)(null),E=(0,p.useRef)(null),e,u=function(a){if(R.current){var n=Math.ceil(a.touches[0].pageY),l=d.current-n;d.current=n,x(l)&&a.preventDefault(),clearInterval(E.current),E.current=setInterval(function(){l*=B,(!x(l,!0)||Math.abs(l)<=.1)&&clearInterval(E.current)},16)}},Z=function(){R.current=!1,e()},S=function(a){e(),a.touches.length===1&&!R.current&&(R.current=!0,d.current=Math.ceil(a.touches[0].pageY),h.current=a.target,h.current.addEventListener("touchmove",u),h.current.addEventListener("touchend",Z))};e=function(){h.current&&(h.current.removeEventListener("touchmove",u),h.current.removeEventListener("touchend",Z))},(0,F.Z)(function(){return s&&D.current.addEventListener("touchstart",S),function(){var t;(t=D.current)===null||t===void 0||t.removeEventListener("touchstart",S),e(),clearInterval(E.current)}},[s])}var _=20;function se(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,x=s/D*100;return isNaN(x)&&(x=0),x=Math.max(x,_),x=Math.min(x,s/2),Math.floor(x)}function Se(s,D,x,R){var d=p.useMemo(function(){return[new Map,[]]},[s,x.id,R]),h=(0,re.Z)(d,2),E=h[0],e=h[1],u=function(S){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S,a=E.get(S),n=E.get(t);if(a===void 0||n===void 0)for(var l=s.length,f=e.length;f<l;f+=1){var g,K=s[f],N=D(K);E.set(N,f);var I=(g=x.get(N))!==null&&g!==void 0?g:R;if(e[f]=(e[f-1]||0)+I,N===S&&(a=f),N===t&&(n=f),a!==void 0&&n!==void 0)break}return{top:e[a-1]||0,bottom:e[n]}};return u}var pe=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],$e=[],Be={overflowY:"auto",overflowAnchor:"none"};function ze(s,D){var x=s.prefixCls,R=x===void 0?"rc-virtual-list":x,d=s.className,h=s.height,E=s.itemHeight,e=s.fullHeight,u=e===void 0?!0:e,Z=s.style,S=s.data,t=s.children,a=s.itemKey,n=s.virtual,l=s.direction,f=s.scrollWidth,g=s.component,K=g===void 0?"div":g,N=s.onScroll,I=s.onVirtualScroll,A=s.onVisibleChange,y=s.innerProps,z=s.extraRender,b=s.styles,$=(0,We.Z)(s,pe),U=!!(n!==!1&&h&&E),J=U&&S&&(E*S.length>h||!!f),te=l==="rtl",ie=ve()(R,(0,De.Z)({},"".concat(R,"-rtl"),te),d),V=S||$e,ye=(0,p.useRef)(),ge=(0,p.useRef)(),ue=(0,p.useState)(0),xe=(0,re.Z)(ue,2),Ce=xe[0],Re=xe[1],Oe=(0,p.useState)(0),Te=(0,re.Z)(Oe,2),Ie=Te[0],Fe=Te[1],vt=(0,p.useState)(!1),_e=(0,re.Z)(vt,2),rt=_e[0],qe=_e[1],Xe=function(){qe(!0)},Ye=function(){qe(!1)},Me=p.useCallback(function(j){return typeof a=="function"?a(j):j==null?void 0:j[a]},[a]),Ue={getKey:Me};function Ze(j){Re(function(X){var le;typeof j=="function"?le=j(X):le=j;var Le=Ut(le);return ye.current.scrollTop=Le,Le})}var Ne=(0,p.useRef)({start:0,end:V.length}),Ve=(0,p.useRef)(),Je=ee(V,Me),ht=(0,re.Z)(Je,1),at=ht[0];Ve.current=at;var yt=P(Me,null,null),ot=(0,re.Z)(yt,4),mt=ot[0],it=ot[1],et=ot[2],st=ot[3],dt=p.useMemo(function(){if(!U)return{scrollHeight:void 0,start:0,end:V.length-1,offset:void 0};if(!J){var j;return{scrollHeight:((j=ge.current)===null||j===void 0?void 0:j.offsetHeight)||0,start:0,end:V.length-1,offset:void 0}}for(var X=0,le,Le,ut,Vt=V.length,Kt=0;Kt<Vt;Kt+=1){var Jt=V[Kt],Qt=Me(Jt),$t=et.get(Qt),Pt=X+($t===void 0?E:$t);Pt>=Ce&&le===void 0&&(le=Kt,Le=X),Pt>Ce+h&&ut===void 0&&(ut=Kt),X=Pt}return le===void 0&&(le=0,Le=0,ut=Math.ceil(h/E)),ut===void 0&&(ut=V.length-1),ut=Math.min(ut+1,V.length-1),{scrollHeight:X,start:le,end:ut,offset:Le}},[J,U,Ce,V,st,h]),Qe=dt.scrollHeight,oe=dt.start,je=dt.end,tt=dt.offset;Ne.current.start=oe,Ne.current.end=je;var lt=p.useState({width:0,height:h}),nt=(0,re.Z)(lt,2),we=nt[0],gt=nt[1],pt=function(X){gt({width:X.width||X.offsetWidth,height:X.height||X.offsetHeight})},ct=(0,p.useRef)(),St=(0,p.useRef)(),Ht=p.useMemo(function(){return se(we.width,f)},[we.width,f]),Ft=p.useMemo(function(){return se(we.height,Qe)},[we.height,Qe]),xt=Qe-h,Ct=(0,p.useRef)(xt);Ct.current=xt;function Ut(j){var X=j;return Number.isNaN(Ct.current)||(X=Math.min(X,Ct.current)),X=Math.max(X,0),X}var Rt=Ce<=0,Zt=Ce>=xt,Wt=k(Rt,Zt),Nt=function(){return{x:te?-Ie:Ie,y:Ce}},kt=(0,p.useRef)(Nt()),Dt=(0,C.zX)(function(){if(I){var j=Nt();(kt.current.x!==j.x||kt.current.y!==j.y)&&(I(j),kt.current=j)}});function Tt(j,X){var le=j;X?((0,be.flushSync)(function(){Fe(le)}),Dt()):Ze(le)}function Bt(j){var X=j.currentTarget.scrollTop;X!==Ce&&Ze(X),N==null||N(j),Dt()}var bt=function(X){var le=X,Le=f-we.width;return le=Math.max(le,0),le=Math.min(le,Le),le},zt=(0,C.zX)(function(j,X){X?((0,be.flushSync)(function(){Fe(function(le){var Le=le+(te?-j:j);return bt(Le)})}),Dt()):Ze(function(le){var Le=le+j;return Le})}),Gt=L(U,Rt,Zt,!!f,zt),Ot=(0,re.Z)(Gt,2),Mt=Ot[0],Lt=Ot[1];fe(U,ye,function(j,X){return Wt(j,X)?!1:(Mt({preventDefault:function(){},deltaY:j}),!0)}),(0,F.Z)(function(){function j(le){U&&le.preventDefault()}var X=ye.current;return X.addEventListener("wheel",Mt),X.addEventListener("DOMMouseScroll",Lt),X.addEventListener("MozMousePixelScroll",j),function(){X.removeEventListener("wheel",Mt),X.removeEventListener("DOMMouseScroll",Lt),X.removeEventListener("MozMousePixelScroll",j)}},[U]),(0,F.Z)(function(){f&&Fe(function(j){return bt(j)})},[we.width,f]);var It=function(){var X,le;(X=ct.current)===null||X===void 0||X.delayHidden(),(le=St.current)===null||le===void 0||le.delayHidden()},wt=r(ye,V,et,E,Me,function(){return it(!0)},Ze,It);p.useImperativeHandle(D,function(){return{getScrollInfo:Nt,scrollTo:function(X){function le(Le){return Le&&(0,Pe.Z)(Le)==="object"&&("left"in Le||"top"in Le)}le(X)?(X.left!==void 0&&Fe(bt(X.left)),wt(X.top)):wt(X)}}}),(0,F.Z)(function(){if(A){var j=V.slice(oe,je+1);A(j,V)}},[oe,je,V]);var Yt=Se(V,Me,et,E),jt=z==null?void 0:z({start:oe,end:je,virtual:J,offsetX:Ie,offsetY:tt,rtl:te,getSize:Yt}),Xt=he(V,oe,je,f,mt,t,Ue),Et=null;h&&(Et=(0,W.Z)((0,De.Z)({},u?"height":"maxHeight",h),Be),U&&(Et.overflowY="hidden",f&&(Et.overflowX="hidden"),rt&&(Et.pointerEvents="none")));var At={};return te&&(At.dir="rtl"),p.createElement("div",(0,me.Z)({style:(0,W.Z)((0,W.Z)({},Z),{},{position:"relative"}),className:ie},At,$),p.createElement(ne.Z,{onResize:pt},p.createElement(K,{className:"".concat(R,"-holder"),style:Et,ref:ye,onScroll:Bt,onMouseEnter:It},p.createElement(G,{prefixCls:R,height:Qe,offsetX:Ie,offsetY:tt,scrollWidth:f,onInnerResize:it,ref:ge,innerProps:y,rtl:te,extra:jt},Xt))),J&&Qe>h&&p.createElement(Ke,{ref:ct,prefixCls:R,scrollOffset:Ce,scrollRange:Qe,rtl:te,onScroll:Tt,onStartMove:Xe,onStopMove:Ye,spinSize:Ft,containerSize:we.height,style:b==null?void 0:b.verticalScrollBar,thumbStyle:b==null?void 0:b.verticalScrollBarThumb}),J&&f&&p.createElement(Ke,{ref:St,prefixCls:R,scrollOffset:Ie,scrollRange:f,rtl:te,onScroll:Tt,onStartMove:Xe,onStopMove:Ye,spinSize:Ht,containerSize:we.width,horizontal:!0,style:b==null?void 0:b.horizontalScrollBar,thumbStyle:b==null?void 0:b.horizontalScrollBarThumb}))}var Y=p.forwardRef(ze);Y.displayName="List";var He=Y,Ge=He}}]);
