"use strict";(self.webpackChunk_ant_design_pro_flow=self.webpackChunk_ant_design_pro_flow||[]).push([[4623],{85139:function(s,t,e){e.r(t),e.d(t,{demos:function(){return l}});var n=e(90228),d=e.n(n),o=e(87999),a=e.n(o),r=e(75271),l={"basicnode-demo-default":{component:r.memo(r.lazy(function(){return e.e(9199).then(e.bind(e,89473))})),asset:{type:"BLOCK",id:"basicnode-demo-default",refAtomIds:["BasicNode"],dependencies:{"index.tsx":{type:"FILE",value:e(97259).Z},"@ant-design/pro-flow":{type:"NPM",value:"1.3.9"},"antd-style":{type:"NPM",value:"3.6.2"},react:{type:"NPM",value:"18.3.1"},"./data.tsx":{type:"FILE",value:e(39155).Z},antd:{type:"NPM",value:"5.20.0"}},entry:"index.tsx"},context:{"@ant-design/pro-flow":e(91516),"antd-style":e(15908),react:e(75271),"./data.tsx":e(19558),antd:e(41950)},renderOpts:{compile:function(){var c=a()(d()().mark(function A(){var m,g=arguments;return d()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,e.e(4268).then(e.bind(e,84268));case 2:return u.abrupt("return",(m=u.sent).default.apply(m,g));case 3:case"end":return u.stop()}},A)}));function i(){return c.apply(this,arguments)}return i}()}}}},19558:function(s,t,e){e.r(t),e.d(t,{edges:function(){return r},nodes:function(){return a}});var n=e(96480),d=e(52676),o=function(c){var i=c.score;return(0,d.jsx)(n.Z,{style:{fontSize:"6px",textAlign:"center"},type:"circle",trailColor:"white",percent:i===0?1:i*20,strokeColor:i*20>60?"#30a46c":"#e5484d",format:function(){return"".concat(i)},size:28})},a=[{id:"b1",label:"titleSlot-left",data:{title:"XXX_API1",logo:"https://mdn.alipayobjects.com/huamei_ntgeqc/afts/img/A*kgyiRKi04eUAAAAAAAAAAAAADvuvAQ/original",describe:"XXX_XXX_XXX_API",titleSlot:{type:"left",value:(0,d.jsx)("div",{className:"dangerLogo",children:(0,d.jsx)("img",{src:"https://mdn.alipayobjects.com/huamei_ntgeqc/afts/img/A*wkEJRbSowekAAAAAAAAAAAAADvuvAQ/original",alt:""})})}}},{id:"b2",label:"titleSlot-right",data:{title:"XXX_APIddddddddddddddddddddddddddddddddddddddddddddddddddd_b2",logo:"https://mdn.alipayobjects.com/huamei_ntgeqc/afts/img/A*kgyiRKi04eUAAAAAAAAAAAAADvuvAQ/original",describe:"XXX_XXX_XXX_API",titleSlot:{type:"right",value:(0,d.jsx)(o,{score:4})}}},{id:"b3",label:"default",data:{title:"XXX_API_b3",logo:"https://mdn.alipayobjects.com/huamei_ntgeqc/afts/img/A*kgyiRKi04eUAAAAAAAAAAAAADvuvAQ/original",describe:"XXX_XXX_XXX_API"}}],r=[{id:"b12",source:"b1",target:"b2"},{id:"b23",source:"b2",target:"b3"}]},52804:function(s,t,e){e.d(t,{F:function(){return a}});var n=e(13289),d=e(53318),o=e(75271),a=function(){var l=d.ZP.useBreakpoint();return(0,o.useMemo)(function(){return(0,n.f)(l)},[l])}},15908:function(s,t,e){e.r(t),e.d(t,{StyleProvider:function(){return n.V9},ThemeProvider:function(){return n.f6},createGlobalStyle:function(){return n.vJ},createInstance:function(){return n.Fs},createStyles:function(){return n.kc},createStylish:function(){return n.Yz},css:function(){return n.iv},cx:function(){return n.cx},extractStaticStyle:function(){return n.Y2},injectGlobal:function(){return n.hi},keyframes:function(){return n.F4},setupStyled:function(){return n.Us},styleManager:function(){return n.Rr},useAntdStylish:function(){return d.n},useAntdTheme:function(){return o.A},useAntdToken:function(){return a.S},useResponsive:function(){return r.F},useTheme:function(){return n.Fg},useThemeMode:function(){return l.r}});var n=e(13830),d=e(41989),o=e(18373),a=e(54915),r=e(52804),l=e(8076)},14506:function(s,t,e){e.r(t),e.d(t,{texts:function(){return n}});const n=[{value:"\u5C5E\u6027\u540D",paraId:0,tocIndex:1},{value:"\u7C7B\u578B",paraId:0,tocIndex:1},{value:"\u63CF\u8FF0",paraId:0,tocIndex:1},{value:"\u9ED8\u8BA4\u503C",paraId:0,tocIndex:1},{value:"\u5FC5\u9009",paraId:0,tocIndex:1},{value:"title",paraId:0,tocIndex:1},{value:"string",paraId:0,tocIndex:1},{value:"\u8282\u70B9\u6807\u9898",paraId:0,tocIndex:1},{value:"-",paraId:0,tocIndex:1},{value:"-",paraId:0,tocIndex:1},{value:"describe",paraId:0,tocIndex:1},{value:"string",paraId:0,tocIndex:1},{value:"\u8282\u70B9\u63CF\u8FF0",paraId:0,tocIndex:1},{value:"-",paraId:0,tocIndex:1},{value:"-",paraId:0,tocIndex:1},{value:"logo",paraId:0,tocIndex:1},{value:"string",paraId:0,tocIndex:1},{value:"\u8282\u70B9 logo \u7684 url",paraId:0,tocIndex:1},{value:"-",paraId:0,tocIndex:1},{value:"-",paraId:0,tocIndex:1},{value:"titleSlot",paraId:0,tocIndex:1},{value:"{type: 'left' | 'right', value: React.ReactNode}",paraId:0,tocIndex:1},{value:"\u6807\u9898\u53F3\u4FA7\u7684\u63D2\u69FD\uFF0Cleft \u8DDF\u968F\u5728 title \u6587\u5B57\u7ED3\u5C3E\u5904\uFF0Cright \u5728 title \u884C\u5C3E\u90E8",paraId:0,tocIndex:1},{value:"-",paraId:0,tocIndex:1},{value:"-",paraId:0,tocIndex:1}]},39155:function(s,t){t.Z=`import { FlowViewNode } from '@ant-design/pro-flow';
import { Progress } from 'antd';

const ApiScore: React.FC<{ score: number }> = ({ score }) => {
  return (
    <Progress
      style={{
        fontSize: '6px',
        textAlign: 'center',
      }}
      type="circle"
      trailColor={'white'}
      percent={score === 0 ? 1 : score * 20}
      strokeColor={score * 20 > 60 ? '#30a46c' : '#e5484d'}
      format={() => \`\${score}\`}
      size={28}
    />
  );
};

export const nodes: FlowViewNode[] = [
  {
    id: 'b1',
    label: 'titleSlot-left',
    data: {
      title: 'XXX_API1',
      logo: 'https://mdn.alipayobjects.com/huamei_ntgeqc/afts/img/A*kgyiRKi04eUAAAAAAAAAAAAADvuvAQ/original',
      describe: 'XXX_XXX_XXX_API',
      titleSlot: {
        type: 'left',
        value: (
          <div className="dangerLogo">
            <img
              src={
                'https://mdn.alipayobjects.com/huamei_ntgeqc/afts/img/A*wkEJRbSowekAAAAAAAAAAAAADvuvAQ/original'
              }
              alt=""
            />
          </div>
        ),
      },
    },
  },
  {
    id: 'b2',
    label: 'titleSlot-right',
    data: {
      title: 'XXX_APIddddddddddddddddddddddddddddddddddddddddddddddddddd_b2',
      logo: 'https://mdn.alipayobjects.com/huamei_ntgeqc/afts/img/A*kgyiRKi04eUAAAAAAAAAAAAADvuvAQ/original',
      describe: 'XXX_XXX_XXX_API',
      titleSlot: {
        type: 'right',
        value: <ApiScore score={4} />,
      },
    },
  },
  {
    id: 'b3',
    label: 'default',
    data: {
      title: 'XXX_API_b3',
      logo: 'https://mdn.alipayobjects.com/huamei_ntgeqc/afts/img/A*kgyiRKi04eUAAAAAAAAAAAAADvuvAQ/original',
      describe: 'XXX_XXX_XXX_API',
    },
  },
];

export const edges = [
  {
    id: 'b12',
    source: 'b1',
    target: 'b2',
  },
  {
    id: 'b23',
    source: 'b2',
    target: 'b3',
  },
];
`},97259:function(s,t){t.Z=`import { FlowView, FlowViewEdge, FlowViewNode, SelectType } from '@ant-design/pro-flow';
import { createStyles } from 'antd-style';
import { useState } from 'react';
import { edges, nodes } from './data';

const useStyles = createStyles(({ css }) => ({
  container: css\`
    width: 100%;
    height: 600px;
    .ant-progress-text {
      text-align: center !important;
    }
  \`,
}));

const ProFlowDemo = () => {
  const [_nodes, setNodes] = useState<FlowViewNode[]>(nodes);
  const [_edges, setEdges] = useState<FlowViewEdge[]>(edges);
  const { styles } = useStyles();

  const handleHighlight = (node: FlowViewNode) => {
    setNodes(
      _nodes.map((_node) => {
        if (_node.id === node.id) {
          _node.select = SelectType.SELECT;
        }
        return _node;
      }),
    );
    setEdges(
      _edges.map((edge) => {
        if (edge.source === node.id || edge.target === node.id) {
          edge.select = SelectType.SUB_SELECT;
        }
        return {
          ...edge,
        };
      }),
    );
  };

  const handleUnHighlight = () => {
    setNodes(
      _nodes.map((_node) => {
        _node.select = SelectType.DEFAULT;
        return _node;
      }),
    );
    setEdges(
      _edges.map((edge) => {
        edge.select = SelectType.DEFAULT;
        return edge;
      }),
    );
  };

  return (
    <div className={styles.container}>
      <FlowView
        onNodeDragStart={(e, node: any) => handleHighlight(node)}
        onPaneClick={handleUnHighlight}
        nodes={_nodes}
        edges={_edges}
      ></FlowView>
    </div>
  );
};

const FlowDemo = () => {
  return <ProFlowDemo />;
};

export default FlowDemo;
`}}]);
