"use strict";(self.webpackChunk_ant_design_pro_flow=self.webpackChunk_ant_design_pro_flow||[]).push([[5217],{25551:function(ft,ze,m){m.d(ze,{Z:function(){return oe}});var be=m(2053),z=m(57904),G=m(98037),Ke=m(99459),Se=m(58006),j=m(75271),H=m(82187),ue=m.n(H),Ce=m(42425),C=m(32842),ae=function(r){for(var N=r.prefixCls,M=r.level,Z=r.isStart,B=r.isEnd,U="".concat(N,"-indent-unit"),V=[],P=0;P<M;P+=1)V.push(j.createElement("span",{key:P,className:ue()(U,(0,z.Z)((0,z.Z)({},"".concat(U,"-start"),Z[P]),"".concat(U,"-end"),B[P]))}));return j.createElement("span",{"aria-hidden":"true",className:"".concat(N,"-indent")},V)},f=j.memo(ae),ee=m(90544),le=m(88338),Ze=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],I="open",Ne="close",Re="---",ge=function(r){var N,M,Z=r.eventKey,B=r.className,U=r.style,V=r.dragOver,P=r.dragOverGapTop,se=r.dragOverGapBottom,fe=r.isLeaf,Ee=r.isStart,ne=r.isEnd,re=r.expanded,de=r.selected,ce=r.checked,ye=r.halfChecked,ve=r.loading,$e=r.domRef,te=r.active,Pe=r.data,Me=r.onMouseMove,He=r.selectable,at=(0,Se.Z)(r,Ze),v=j.useContext(C.k),ot=j.useContext(C.y),Y=j.useRef(null),qe=j.useState(!1),je=(0,Ke.Z)(qe,2),Qe=je[0],Ue=je[1],l=j.useMemo(function(){var A;return!!(v.disabled||r.disabled||(A=ot.nodeDisabled)!==null&&A!==void 0&&A.call(ot,Pe))},[v.disabled,r.disabled,ot.nodeDisabled,Pe]),b=j.useMemo(function(){return!v.checkable||r.checkable===!1?!1:v.checkable},[v.checkable,r.checkable]),o=function(D){l||v.onNodeSelect(D,(0,le.F)(r))},E=function(D){l||!b||r.disableCheckbox||v.onNodeCheck(D,(0,le.F)(r),!ce)},K=j.useMemo(function(){return typeof He=="boolean"?He:v.selectable},[He,v.selectable]),e=function(D){v.onNodeClick(D,(0,le.F)(r)),K?o(D):E(D)},s=function(D){v.onNodeDoubleClick(D,(0,le.F)(r))},g=function(D){v.onNodeMouseEnter(D,(0,le.F)(r))},x=function(D){v.onNodeMouseLeave(D,(0,le.F)(r))},n=function(D){v.onNodeContextMenu(D,(0,le.F)(r))},a=j.useMemo(function(){return!!(v.draggable&&(!v.draggable.nodeDraggable||v.draggable.nodeDraggable(Pe)))},[v.draggable,Pe]),t=function(D){D.stopPropagation(),Ue(!0),v.onNodeDragStart(D,r);try{D.dataTransfer.setData("text/plain","")}catch(Q){}},d=function(D){D.preventDefault(),D.stopPropagation(),v.onNodeDragEnter(D,r)},u=function(D){D.preventDefault(),D.stopPropagation(),v.onNodeDragOver(D,r)},y=function(D){D.stopPropagation(),v.onNodeDragLeave(D,r)},h=function(D){D.stopPropagation(),Ue(!1),v.onNodeDragEnd(D,r)},S=function(D){D.preventDefault(),D.stopPropagation(),Ue(!1),v.onNodeDrop(D,r)},k=function(D){ve||v.onNodeExpand(D,(0,le.F)(r))},c=j.useMemo(function(){var A=(0,ee.Z)(v.keyEntities,Z)||{},D=A.children;return!!(D||[]).length},[v.keyEntities,Z]),p=j.useMemo(function(){return fe===!1?!1:fe||!v.loadData&&!c||v.loadData&&r.loaded&&!c},[fe,v.loadData,c,r.loaded]);j.useEffect(function(){ve||typeof v.loadData=="function"&&re&&!p&&!r.loaded&&v.onNodeLoad((0,le.F)(r))},[ve,v.loadData,v.onNodeLoad,re,p,r]);var R=j.useMemo(function(){var A;return(A=v.draggable)!==null&&A!==void 0&&A.icon?j.createElement("span",{className:"".concat(v.prefixCls,"-draggable-icon")},v.draggable.icon):null},[v.draggable]),O=function(D){var Q=r.switcherIcon||v.switcherIcon;return typeof Q=="function"?Q((0,G.Z)((0,G.Z)({},r),{},{isLeaf:D})):Q},T=function(){if(p){var D=O(!0);return D!==!1?j.createElement("span",{className:ue()("".concat(v.prefixCls,"-switcher"),"".concat(v.prefixCls,"-switcher-noop"))},D):null}var Q=O(!1);return Q!==!1?j.createElement("span",{onClick:k,className:ue()("".concat(v.prefixCls,"-switcher"),"".concat(v.prefixCls,"-switcher_").concat(re?I:Ne))},Q):null},L=j.useMemo(function(){if(!b)return null;var A=typeof b!="boolean"?b:null;return j.createElement("span",{className:ue()("".concat(v.prefixCls,"-checkbox"),(0,z.Z)((0,z.Z)((0,z.Z)({},"".concat(v.prefixCls,"-checkbox-checked"),ce),"".concat(v.prefixCls,"-checkbox-indeterminate"),!ce&&ye),"".concat(v.prefixCls,"-checkbox-disabled"),l||r.disableCheckbox)),onClick:E,role:"checkbox","aria-checked":ye?"mixed":ce,"aria-disabled":l||r.disableCheckbox,"aria-label":"Select ".concat(typeof r.title=="string"?r.title:"tree node")},A)},[b,ce,ye,l,r.disableCheckbox,r.title]),F=j.useMemo(function(){return p?null:re?I:Ne},[p,re]),$=j.useMemo(function(){return j.createElement("span",{className:ue()("".concat(v.prefixCls,"-iconEle"),"".concat(v.prefixCls,"-icon__").concat(F||"docu"),(0,z.Z)({},"".concat(v.prefixCls,"-icon_loading"),ve))})},[v.prefixCls,F,ve]),X=j.useMemo(function(){var A=!!v.draggable,D=!r.disabled&&A&&v.dragOverNodeKey===Z;return D?v.dropIndicatorRender({dropPosition:v.dropPosition,dropLevelOffset:v.dropLevelOffset,indent:v.indent,prefixCls:v.prefixCls,direction:v.direction}):null},[v.dropPosition,v.dropLevelOffset,v.indent,v.prefixCls,v.direction,v.draggable,v.dragOverNodeKey,v.dropIndicatorRender]),J=j.useMemo(function(){var A=r.title,D=A===void 0?Re:A,Q="".concat(v.prefixCls,"-node-content-wrapper"),Fe;if(v.showIcon){var Ge=r.icon||v.icon;Fe=Ge?j.createElement("span",{className:ue()("".concat(v.prefixCls,"-iconEle"),"".concat(v.prefixCls,"-icon__customize"))},typeof Ge=="function"?Ge(r):Ge):$}else v.loadData&&ve&&(Fe=$);var Ye;return typeof D=="function"?Ye=D(Pe):v.titleRender?Ye=v.titleRender(Pe):Ye=D,j.createElement("span",{ref:Y,title:typeof D=="string"?D:"",className:ue()(Q,"".concat(Q,"-").concat(F||"normal"),(0,z.Z)({},"".concat(v.prefixCls,"-node-selected"),!l&&(de||Qe))),onMouseEnter:g,onMouseLeave:x,onContextMenu:n,onClick:e,onDoubleClick:s},Fe,j.createElement("span",{className:"".concat(v.prefixCls,"-title")},Ye),X)},[v.prefixCls,v.showIcon,r,v.icon,$,v.titleRender,Pe,F,g,x,n,e,s]),me=(0,Ce.Z)(at,{aria:!0,data:!0}),he=(0,ee.Z)(v.keyEntities,Z)||{},_=he.level,Oe=ne[ne.length-1],ie=!l&&a,Te=v.draggingNodeKey===Z,Le=He!==void 0?{"aria-selected":!!He}:void 0;return j.createElement("div",(0,be.Z)({ref:$e,role:"treeitem","aria-expanded":fe?void 0:re,className:ue()(B,"".concat(v.prefixCls,"-treenode"),(M={},(0,z.Z)((0,z.Z)((0,z.Z)((0,z.Z)((0,z.Z)((0,z.Z)((0,z.Z)((0,z.Z)((0,z.Z)((0,z.Z)(M,"".concat(v.prefixCls,"-treenode-disabled"),l),"".concat(v.prefixCls,"-treenode-switcher-").concat(re?"open":"close"),!fe),"".concat(v.prefixCls,"-treenode-checkbox-checked"),ce),"".concat(v.prefixCls,"-treenode-checkbox-indeterminate"),ye),"".concat(v.prefixCls,"-treenode-selected"),de),"".concat(v.prefixCls,"-treenode-loading"),ve),"".concat(v.prefixCls,"-treenode-active"),te),"".concat(v.prefixCls,"-treenode-leaf-last"),Oe),"".concat(v.prefixCls,"-treenode-draggable"),a),"dragging",Te),(0,z.Z)((0,z.Z)((0,z.Z)((0,z.Z)((0,z.Z)((0,z.Z)((0,z.Z)(M,"drop-target",v.dropTargetKey===Z),"drop-container",v.dropContainerKey===Z),"drag-over",!l&&V),"drag-over-gap-top",!l&&P),"drag-over-gap-bottom",!l&&se),"filter-node",(N=v.filterTreeNode)===null||N===void 0?void 0:N.call(v,(0,le.F)(r))),"".concat(v.prefixCls,"-treenode-leaf"),p))),style:U,draggable:ie,onDragStart:ie?t:void 0,onDragEnter:a?d:void 0,onDragOver:a?u:void 0,onDragLeave:a?y:void 0,onDrop:a?S:void 0,onDragEnd:a?h:void 0,onMouseMove:Me},Le,me),j.createElement(f,{prefixCls:v.prefixCls,level:_,isStart:Ee,isEnd:ne}),R,T(),L,J)};ge.isTreeNode=1;var oe=ge},32842:function(ft,ze,m){m.d(ze,{k:function(){return z},y:function(){return G}});var be=m(75271),z=be.createContext(null),G=be.createContext({})},65217:function(ft,ze,m){m.d(ze,{OF:function(){return B.Z},y6:function(){return Ne.y},ZP:function(){return b}});var be=m(2053),z=m(24744),G=m(98037),Ke=m(35047),Se=m(73779),j=m(71374),H=m(46468),ue=m(45675),Ce=m(10053),C=m(57904),ae=m(82187),f=m.n(ae),ee=m(52998),le=m(42425),Ze=m(84408),I=m(75271),Ne=m(32842),Re=function(E){var K=E.dropPosition,e=E.dropLevelOffset,s=E.indent,g={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(K){case-1:g.top=0,g.left=-e*s;break;case 1:g.bottom=0,g.left=-e*s;break;case 0:g.bottom=0,g.left=s;break}return I.createElement("div",{style:g})},ge=Re;function oe(o){if(o==null)throw new TypeError("Cannot destructure "+o)}var i=m(99459),r=m(58006),N=m(78237),M=m(21864),Z=m(25421),B=m(25551);function U(o,E){var K=I.useState(!1),e=(0,i.Z)(K,2),s=e[0],g=e[1];(0,N.Z)(function(){if(s)return o(),function(){E()}},[s]),(0,N.Z)(function(){return g(!0),function(){g(!1)}},[])}var V=U,P=m(88338),se=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],fe=I.forwardRef(function(o,E){var K=o.className,e=o.style,s=o.motion,g=o.motionNodes,x=o.motionType,n=o.onMotionStart,a=o.onMotionEnd,t=o.active,d=o.treeNodeRequiredProps,u=(0,r.Z)(o,se),y=I.useState(!0),h=(0,i.Z)(y,2),S=h[0],k=h[1],c=I.useContext(Ne.k),p=c.prefixCls,R=g&&x!=="hide";(0,N.Z)(function(){g&&R!==S&&k(R)},[g]);var O=function(){g&&n()},T=I.useRef(!1),L=function(){g&&!T.current&&(T.current=!0,a())};V(O,L);var F=function(X){R===X&&L()};return g?I.createElement(Z.ZP,(0,be.Z)({ref:E,visible:S},s,{motionAppear:x==="show",onVisibleChanged:F}),function($,X){var J=$.className,me=$.style;return I.createElement("div",{ref:X,className:f()("".concat(p,"-treenode-motion"),J),style:me},g.map(function(he){var _=Object.assign({},(oe(he.data),he.data)),Oe=he.title,ie=he.key,Te=he.isStart,Le=he.isEnd;delete _.children;var A=(0,P.H8)(ie,d);return I.createElement(B.Z,(0,be.Z)({},_,A,{title:Oe,active:t,data:he.data,key:ie,isStart:Te,isEnd:Le}))}))}):I.createElement(B.Z,(0,be.Z)({domRef:E,className:K,style:e},u,{active:t}))}),Ee=fe;function ne(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],K=o.length,e=E.length;if(Math.abs(K-e)!==1)return{add:!1,key:null};function s(g,x){var n=new Map;g.forEach(function(t){n.set(t,!0)});var a=x.filter(function(t){return!n.has(t)});return a.length===1?a[0]:null}return K<e?{add:!0,key:s(o,E)}:{add:!1,key:s(E,o)}}function re(o,E,K){var e=o.findIndex(function(n){return n.key===K}),s=o[e+1],g=E.findIndex(function(n){return n.key===K});if(s){var x=E.findIndex(function(n){return n.key===s.key});return E.slice(g+1,x)}return E.slice(g+1)}var de=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","scrollWidth","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],ce={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},ye=function(){},ve="RC_TREE_MOTION_".concat(Math.random()),$e={key:ve},te={key:ve,level:0,index:0,pos:"0",node:$e,nodes:[$e]},Pe={parent:null,children:[],pos:te.pos,data:$e,title:null,key:ve,isStart:[],isEnd:[]};function Me(o,E,K,e){return E===!1||!K?o:o.slice(0,Math.ceil(K/e)+1)}function He(o){var E=o.key,K=o.pos;return(0,P.km)(E,K)}function at(o){for(var E=String(o.data.key),K=o;K.parent;)K=K.parent,E="".concat(K.data.key," > ").concat(E);return E}var v=I.forwardRef(function(o,E){var K=o.prefixCls,e=o.data,s=o.selectable,g=o.checkable,x=o.expandedKeys,n=o.selectedKeys,a=o.checkedKeys,t=o.loadedKeys,d=o.loadingKeys,u=o.halfCheckedKeys,y=o.keyEntities,h=o.disabled,S=o.dragging,k=o.dragOverNodeKey,c=o.dropPosition,p=o.motion,R=o.height,O=o.itemHeight,T=o.virtual,L=o.scrollWidth,F=o.focusable,$=o.activeItem,X=o.focused,J=o.tabIndex,me=o.onKeyDown,he=o.onFocus,_=o.onBlur,Oe=o.onActiveChange,ie=o.onListChangeStart,Te=o.onListChangeEnd,Le=(0,r.Z)(o,de),A=I.useRef(null),D=I.useRef(null);I.useImperativeHandle(E,function(){return{scrollTo:function(Ae){A.current.scrollTo(Ae)},getIndentWidth:function(){return D.current.offsetWidth}}});var Q=I.useState(x),Fe=(0,i.Z)(Q,2),Ge=Fe[0],Ye=Fe[1],dt=I.useState(e),it=(0,i.Z)(dt,2),ke=it[0],We=it[1],Je=I.useState(e),we=(0,i.Z)(Je,2),pe=we[0],Ie=we[1],et=I.useState([]),tt=(0,i.Z)(et,2),vt=tt[0],st=tt[1],yt=I.useState(null),ht=(0,i.Z)(yt,2),pt=ht[0],_e=ht[1],ct=I.useRef(e);ct.current=e;function lt(){var xe=ct.current;We(xe),Ie(xe),st([]),_e(null),Te()}(0,N.Z)(function(){Ye(x);var xe=ne(Ge,x);if(xe.key!==null)if(xe.add){var Ae=ke.findIndex(function(ut){var Ve=ut.key;return Ve===xe.key}),Xe=Me(re(ke,e,xe.key),T,R,O),nt=ke.slice();nt.splice(Ae+1,0,Pe),Ie(nt),st(Xe),_e("show")}else{var rt=e.findIndex(function(ut){var Ve=ut.key;return Ve===xe.key}),Et=Me(re(e,ke,xe.key),T,R,O),Kt=e.slice();Kt.splice(rt+1,0,Pe),Ie(Kt),st(Et),_e("hide")}else ke!==e&&(We(e),Ie(e))},[x,e]),I.useEffect(function(){S||lt()},[S]);var mt=p?pe:e,gt={expandedKeys:x,selectedKeys:n,loadedKeys:t,loadingKeys:d,checkedKeys:a,halfCheckedKeys:u,dragOverNodeKey:k,dropPosition:c,keyEntities:y};return I.createElement(I.Fragment,null,X&&$&&I.createElement("span",{style:ce,"aria-live":"assertive"},at($)),I.createElement("div",null,I.createElement("input",{style:ce,disabled:F===!1||h,tabIndex:F!==!1?J:null,onKeyDown:me,onFocus:he,onBlur:_,value:"",onChange:ye,"aria-label":"for screen reader"})),I.createElement("div",{className:"".concat(K,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},I.createElement("div",{className:"".concat(K,"-indent")},I.createElement("div",{ref:D,className:"".concat(K,"-indent-unit")}))),I.createElement(M.Z,(0,be.Z)({},Le,{data:mt,itemKey:He,height:R,fullHeight:!1,virtual:T,itemHeight:O,scrollWidth:L,prefixCls:"".concat(K,"-list"),ref:A,role:"tree",onVisibleChange:function(Ae){Ae.every(function(Xe){return He(Xe)!==ve})&&lt()}}),function(xe){var Ae=xe.pos,Xe=Object.assign({},(oe(xe.data),xe.data)),nt=xe.title,rt=xe.key,Et=xe.isStart,Kt=xe.isEnd,ut=(0,P.km)(rt,Ae);delete Xe.key,delete Xe.children;var Ve=(0,P.H8)(ut,gt);return I.createElement(Ee,(0,be.Z)({},Xe,Ve,{title:nt,active:!!$&&rt===$.key,pos:Ae,data:xe.data,isStart:Et,isEnd:Kt,motion:p,motionNodes:rt===ve?vt:null,motionType:pt,onMotionStart:ie,onMotionEnd:lt,treeNodeRequiredProps:gt,onMouseMove:function(){Oe(null)}}))}))}),ot=v,Y=m(22725),qe=m(28508),je=m(90544),Qe=10,Ue=function(o){(0,ue.Z)(K,o);var E=(0,Ce.Z)(K);function K(){var e;(0,Se.Z)(this,K);for(var s=arguments.length,g=new Array(s),x=0;x<s;x++)g[x]=arguments[x];return e=E.call.apply(E,[this].concat(g)),(0,C.Z)((0,H.Z)(e),"destroyed",!1),(0,C.Z)((0,H.Z)(e),"delayedDragEnterLogic",void 0),(0,C.Z)((0,H.Z)(e),"loadingRetryTimes",{}),(0,C.Z)((0,H.Z)(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:(0,P.w$)()}),(0,C.Z)((0,H.Z)(e),"dragStartMousePosition",null),(0,C.Z)((0,H.Z)(e),"dragNodeProps",null),(0,C.Z)((0,H.Z)(e),"currentMouseOverDroppableNodeKey",null),(0,C.Z)((0,H.Z)(e),"listRef",I.createRef()),(0,C.Z)((0,H.Z)(e),"onNodeDragStart",function(n,a){var t=e.state,d=t.expandedKeys,u=t.keyEntities,y=e.props.onDragStart,h=a.eventKey;e.dragNodeProps=a,e.dragStartMousePosition={x:n.clientX,y:n.clientY};var S=(0,Y._5)(d,h);e.setState({draggingNodeKey:h,dragChildrenKeys:(0,Y.wA)(h,u),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(S),window.addEventListener("dragend",e.onWindowDragEnd),y==null||y({event:n,node:(0,P.F)(a)})}),(0,C.Z)((0,H.Z)(e),"onNodeDragEnter",function(n,a){var t=e.state,d=t.expandedKeys,u=t.keyEntities,y=t.dragChildrenKeys,h=t.flattenNodes,S=t.indent,k=e.props,c=k.onDragEnter,p=k.onExpand,R=k.allowDrop,O=k.direction,T=a.pos,L=a.eventKey;if(e.currentMouseOverDroppableNodeKey!==L&&(e.currentMouseOverDroppableNodeKey=L),!e.dragNodeProps){e.resetDragState();return}var F=(0,Y.OM)(n,e.dragNodeProps,a,S,e.dragStartMousePosition,R,h,u,d,O),$=F.dropPosition,X=F.dropLevelOffset,J=F.dropTargetKey,me=F.dropContainerKey,he=F.dropTargetPos,_=F.dropAllowed,Oe=F.dragOverNodeKey;if(y.includes(J)||!_){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(ie){clearTimeout(e.delayedDragEnterLogic[ie])}),e.dragNodeProps.eventKey!==a.eventKey&&(n.persist(),e.delayedDragEnterLogic[T]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var ie=(0,Ke.Z)(d),Te=(0,je.Z)(u,a.eventKey);Te&&(Te.children||[]).length&&(ie=(0,Y.L0)(d,a.eventKey)),e.props.hasOwnProperty("expandedKeys")||e.setExpandedKeys(ie),p==null||p(ie,{node:(0,P.F)(a),expanded:!0,nativeEvent:n.nativeEvent})}},800)),e.dragNodeProps.eventKey===J&&X===0){e.resetDragState();return}e.setState({dragOverNodeKey:Oe,dropPosition:$,dropLevelOffset:X,dropTargetKey:J,dropContainerKey:me,dropTargetPos:he,dropAllowed:_}),c==null||c({event:n,node:(0,P.F)(a),expandedKeys:d})}),(0,C.Z)((0,H.Z)(e),"onNodeDragOver",function(n,a){var t=e.state,d=t.dragChildrenKeys,u=t.flattenNodes,y=t.keyEntities,h=t.expandedKeys,S=t.indent,k=e.props,c=k.onDragOver,p=k.allowDrop,R=k.direction;if(e.dragNodeProps){var O=(0,Y.OM)(n,e.dragNodeProps,a,S,e.dragStartMousePosition,p,u,y,h,R),T=O.dropPosition,L=O.dropLevelOffset,F=O.dropTargetKey,$=O.dropContainerKey,X=O.dropTargetPos,J=O.dropAllowed,me=O.dragOverNodeKey;d.includes(F)||!J||(e.dragNodeProps.eventKey===F&&L===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():T===e.state.dropPosition&&L===e.state.dropLevelOffset&&F===e.state.dropTargetKey&&$===e.state.dropContainerKey&&X===e.state.dropTargetPos&&J===e.state.dropAllowed&&me===e.state.dragOverNodeKey||e.setState({dropPosition:T,dropLevelOffset:L,dropTargetKey:F,dropContainerKey:$,dropTargetPos:X,dropAllowed:J,dragOverNodeKey:me}),c==null||c({event:n,node:(0,P.F)(a)}))}}),(0,C.Z)((0,H.Z)(e),"onNodeDragLeave",function(n,a){e.currentMouseOverDroppableNodeKey===a.eventKey&&!n.currentTarget.contains(n.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var t=e.props.onDragLeave;t==null||t({event:n,node:(0,P.F)(a)})}),(0,C.Z)((0,H.Z)(e),"onWindowDragEnd",function(n){e.onNodeDragEnd(n,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),(0,C.Z)((0,H.Z)(e),"onNodeDragEnd",function(n,a){var t=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),t==null||t({event:n,node:(0,P.F)(a)}),e.dragNodeProps=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),(0,C.Z)((0,H.Z)(e),"onNodeDrop",function(n,a){var t,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=e.state,y=u.dragChildrenKeys,h=u.dropPosition,S=u.dropTargetKey,k=u.dropTargetPos,c=u.dropAllowed;if(c){var p=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),S!==null){var R=(0,G.Z)((0,G.Z)({},(0,P.H8)(S,e.getTreeNodeRequiredProps())),{},{active:((t=e.getActiveItem())===null||t===void 0?void 0:t.key)===S,data:(0,je.Z)(e.state.keyEntities,S).node}),O=y.includes(S);(0,Ze.ZP)(!O,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var T=(0,Y.yx)(k),L={event:n,node:(0,P.F)(R),dragNode:e.dragNodeProps?(0,P.F)(e.dragNodeProps):null,dragNodesKeys:[e.dragNodeProps.eventKey].concat(y),dropToGap:h!==0,dropPosition:h+Number(T[T.length-1])};d||p==null||p(L),e.dragNodeProps=null}}}),(0,C.Z)((0,H.Z)(e),"cleanDragState",function(){var n=e.state.draggingNodeKey;n!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),(0,C.Z)((0,H.Z)(e),"triggerExpandActionExpand",function(n,a){var t=e.state,d=t.expandedKeys,u=t.flattenNodes,y=a.expanded,h=a.key,S=a.isLeaf;if(!(S||n.shiftKey||n.metaKey||n.ctrlKey)){var k=u.filter(function(p){return p.key===h})[0],c=(0,P.F)((0,G.Z)((0,G.Z)({},(0,P.H8)(h,e.getTreeNodeRequiredProps())),{},{data:k.data}));e.setExpandedKeys(y?(0,Y._5)(d,h):(0,Y.L0)(d,h)),e.onNodeExpand(n,c)}}),(0,C.Z)((0,H.Z)(e),"onNodeClick",function(n,a){var t=e.props,d=t.onClick,u=t.expandAction;u==="click"&&e.triggerExpandActionExpand(n,a),d==null||d(n,a)}),(0,C.Z)((0,H.Z)(e),"onNodeDoubleClick",function(n,a){var t=e.props,d=t.onDoubleClick,u=t.expandAction;u==="doubleClick"&&e.triggerExpandActionExpand(n,a),d==null||d(n,a)}),(0,C.Z)((0,H.Z)(e),"onNodeSelect",function(n,a){var t=e.state.selectedKeys,d=e.state,u=d.keyEntities,y=d.fieldNames,h=e.props,S=h.onSelect,k=h.multiple,c=a.selected,p=a[y.key],R=!c;R?k?t=(0,Y.L0)(t,p):t=[p]:t=(0,Y._5)(t,p);var O=t.map(function(T){var L=(0,je.Z)(u,T);return L?L.node:null}).filter(Boolean);e.setUncontrolledState({selectedKeys:t}),S==null||S(t,{event:"select",selected:R,node:a,selectedNodes:O,nativeEvent:n.nativeEvent})}),(0,C.Z)((0,H.Z)(e),"onNodeCheck",function(n,a,t){var d=e.state,u=d.keyEntities,y=d.checkedKeys,h=d.halfCheckedKeys,S=e.props,k=S.checkStrictly,c=S.onCheck,p=a.key,R,O={event:"check",node:a,checked:t,nativeEvent:n.nativeEvent};if(k){var T=t?(0,Y.L0)(y,p):(0,Y._5)(y,p),L=(0,Y._5)(h,p);R={checked:T,halfChecked:L},O.checkedNodes=T.map(function(he){return(0,je.Z)(u,he)}).filter(Boolean).map(function(he){return he.node}),e.setUncontrolledState({checkedKeys:T})}else{var F=(0,qe.S)([].concat((0,Ke.Z)(y),[p]),!0,u),$=F.checkedKeys,X=F.halfCheckedKeys;if(!t){var J=new Set($);J.delete(p);var me=(0,qe.S)(Array.from(J),{checked:!1,halfCheckedKeys:X},u);$=me.checkedKeys,X=me.halfCheckedKeys}R=$,O.checkedNodes=[],O.checkedNodesPositions=[],O.halfCheckedKeys=X,$.forEach(function(he){var _=(0,je.Z)(u,he);if(_){var Oe=_.node,ie=_.pos;O.checkedNodes.push(Oe),O.checkedNodesPositions.push({node:Oe,pos:ie})}}),e.setUncontrolledState({checkedKeys:$},!1,{halfCheckedKeys:X})}c==null||c(R,O)}),(0,C.Z)((0,H.Z)(e),"onNodeLoad",function(n){var a,t=n.key,d=e.state.keyEntities,u=(0,je.Z)(d,t);if(!(u!=null&&(a=u.children)!==null&&a!==void 0&&a.length)){var y=new Promise(function(h,S){e.setState(function(k){var c=k.loadedKeys,p=c===void 0?[]:c,R=k.loadingKeys,O=R===void 0?[]:R,T=e.props,L=T.loadData,F=T.onLoad;if(!L||p.includes(t)||O.includes(t))return null;var $=L(n);return $.then(function(){var X=e.state.loadedKeys,J=(0,Y.L0)(X,t);F==null||F(J,{event:"load",node:n}),e.setUncontrolledState({loadedKeys:J}),e.setState(function(me){return{loadingKeys:(0,Y._5)(me.loadingKeys,t)}}),h()}).catch(function(X){if(e.setState(function(me){return{loadingKeys:(0,Y._5)(me.loadingKeys,t)}}),e.loadingRetryTimes[t]=(e.loadingRetryTimes[t]||0)+1,e.loadingRetryTimes[t]>=Qe){var J=e.state.loadedKeys;(0,Ze.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:(0,Y.L0)(J,t)}),h()}S(X)}),{loadingKeys:(0,Y.L0)(O,t)}})});return y.catch(function(){}),y}}),(0,C.Z)((0,H.Z)(e),"onNodeMouseEnter",function(n,a){var t=e.props.onMouseEnter;t==null||t({event:n,node:a})}),(0,C.Z)((0,H.Z)(e),"onNodeMouseLeave",function(n,a){var t=e.props.onMouseLeave;t==null||t({event:n,node:a})}),(0,C.Z)((0,H.Z)(e),"onNodeContextMenu",function(n,a){var t=e.props.onRightClick;t&&(n.preventDefault(),t({event:n,node:a}))}),(0,C.Z)((0,H.Z)(e),"onFocus",function(){var n=e.props.onFocus;e.setState({focused:!0});for(var a=arguments.length,t=new Array(a),d=0;d<a;d++)t[d]=arguments[d];n==null||n.apply(void 0,t)}),(0,C.Z)((0,H.Z)(e),"onBlur",function(){var n=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var a=arguments.length,t=new Array(a),d=0;d<a;d++)t[d]=arguments[d];n==null||n.apply(void 0,t)}),(0,C.Z)((0,H.Z)(e),"getTreeNodeRequiredProps",function(){var n=e.state,a=n.expandedKeys,t=n.selectedKeys,d=n.loadedKeys,u=n.loadingKeys,y=n.checkedKeys,h=n.halfCheckedKeys,S=n.dragOverNodeKey,k=n.dropPosition,c=n.keyEntities;return{expandedKeys:a||[],selectedKeys:t||[],loadedKeys:d||[],loadingKeys:u||[],checkedKeys:y||[],halfCheckedKeys:h||[],dragOverNodeKey:S,dropPosition:k,keyEntities:c}}),(0,C.Z)((0,H.Z)(e),"setExpandedKeys",function(n){var a=e.state,t=a.treeData,d=a.fieldNames,u=(0,P.oH)(t,n,d);e.setUncontrolledState({expandedKeys:n,flattenNodes:u},!0)}),(0,C.Z)((0,H.Z)(e),"onNodeExpand",function(n,a){var t=e.state.expandedKeys,d=e.state,u=d.listChanging,y=d.fieldNames,h=e.props,S=h.onExpand,k=h.loadData,c=a.expanded,p=a[y.key];if(!u){var R=t.includes(p),O=!c;if((0,Ze.ZP)(c&&R||!c&&!R,"Expand state not sync with index check"),t=O?(0,Y.L0)(t,p):(0,Y._5)(t,p),e.setExpandedKeys(t),S==null||S(t,{node:a,expanded:O,nativeEvent:n.nativeEvent}),O&&k){var T=e.onNodeLoad(a);T&&T.then(function(){var L=(0,P.oH)(e.state.treeData,t,y);e.setUncontrolledState({flattenNodes:L})}).catch(function(){var L=e.state.expandedKeys,F=(0,Y._5)(L,p);e.setExpandedKeys(F)})}}}),(0,C.Z)((0,H.Z)(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),(0,C.Z)((0,H.Z)(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),(0,C.Z)((0,H.Z)(e),"onActiveChange",function(n){var a=e.state.activeKey,t=e.props,d=t.onActiveChange,u=t.itemScrollOffset,y=u===void 0?0:u;a!==n&&(e.setState({activeKey:n}),n!==null&&e.scrollTo({key:n,offset:y}),d==null||d(n))}),(0,C.Z)((0,H.Z)(e),"getActiveItem",function(){var n=e.state,a=n.activeKey,t=n.flattenNodes;return a===null?null:t.find(function(d){var u=d.key;return u===a})||null}),(0,C.Z)((0,H.Z)(e),"offsetActiveKey",function(n){var a=e.state,t=a.flattenNodes,d=a.activeKey,u=t.findIndex(function(S){var k=S.key;return k===d});u===-1&&n<0&&(u=t.length),u=(u+n+t.length)%t.length;var y=t[u];if(y){var h=y.key;e.onActiveChange(h)}else e.onActiveChange(null)}),(0,C.Z)((0,H.Z)(e),"onKeyDown",function(n){var a=e.state,t=a.activeKey,d=a.expandedKeys,u=a.checkedKeys,y=a.fieldNames,h=e.props,S=h.onKeyDown,k=h.checkable,c=h.selectable;switch(n.which){case ee.Z.UP:{e.offsetActiveKey(-1),n.preventDefault();break}case ee.Z.DOWN:{e.offsetActiveKey(1),n.preventDefault();break}}var p=e.getActiveItem();if(p&&p.data){var R=e.getTreeNodeRequiredProps(),O=p.data.isLeaf===!1||!!(p.data[y.children]||[]).length,T=(0,P.F)((0,G.Z)((0,G.Z)({},(0,P.H8)(t,R)),{},{data:p.data,active:!0}));switch(n.which){case ee.Z.LEFT:{O&&d.includes(t)?e.onNodeExpand({},T):p.parent&&e.onActiveChange(p.parent.key),n.preventDefault();break}case ee.Z.RIGHT:{O&&!d.includes(t)?e.onNodeExpand({},T):p.children&&p.children.length&&e.onActiveChange(p.children[0].key),n.preventDefault();break}case ee.Z.ENTER:case ee.Z.SPACE:{k&&!T.disabled&&T.checkable!==!1&&!T.disableCheckbox?e.onNodeCheck({},T,!u.includes(t)):!k&&c&&!T.disabled&&T.selectable!==!1&&e.onNodeSelect({},T);break}}}S==null||S(n)}),(0,C.Z)((0,H.Z)(e),"setUncontrolledState",function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var d=!1,u=!0,y={};Object.keys(n).forEach(function(h){if(e.props.hasOwnProperty(h)){u=!1;return}d=!0,y[h]=n[h]}),d&&(!a||u)&&e.setState((0,G.Z)((0,G.Z)({},y),t))}}),(0,C.Z)((0,H.Z)(e),"scrollTo",function(n){e.listRef.current.scrollTo(n)}),e}return(0,j.Z)(K,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var s=this.props,g=s.activeKey,x=s.itemScrollOffset,n=x===void 0?0:x;g!==void 0&&g!==this.state.activeKey&&(this.setState({activeKey:g}),g!==null&&this.scrollTo({key:g,offset:n}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var s=this.state,g=s.focused,x=s.flattenNodes,n=s.keyEntities,a=s.draggingNodeKey,t=s.activeKey,d=s.dropLevelOffset,u=s.dropContainerKey,y=s.dropTargetKey,h=s.dropPosition,S=s.dragOverNodeKey,k=s.indent,c=this.props,p=c.prefixCls,R=c.className,O=c.style,T=c.showLine,L=c.focusable,F=c.tabIndex,$=F===void 0?0:F,X=c.selectable,J=c.showIcon,me=c.icon,he=c.switcherIcon,_=c.draggable,Oe=c.checkable,ie=c.checkStrictly,Te=c.disabled,Le=c.motion,A=c.loadData,D=c.filterTreeNode,Q=c.height,Fe=c.itemHeight,Ge=c.scrollWidth,Ye=c.virtual,dt=c.titleRender,it=c.dropIndicatorRender,ke=c.onContextMenu,We=c.onScroll,Je=c.direction,we=c.rootClassName,pe=c.rootStyle,Ie=(0,le.Z)(this.props,{aria:!0,data:!0}),et;_&&((0,z.Z)(_)==="object"?et=_:typeof _=="function"?et={nodeDraggable:_}:et={});var tt={prefixCls:p,selectable:X,showIcon:J,icon:me,switcherIcon:he,draggable:et,draggingNodeKey:a,checkable:Oe,checkStrictly:ie,disabled:Te,keyEntities:n,dropLevelOffset:d,dropContainerKey:u,dropTargetKey:y,dropPosition:h,dragOverNodeKey:S,indent:k,direction:Je,dropIndicatorRender:it,loadData:A,filterTreeNode:D,titleRender:dt,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop};return I.createElement(Ne.k.Provider,{value:tt},I.createElement("div",{className:f()(p,R,we,(0,C.Z)((0,C.Z)((0,C.Z)({},"".concat(p,"-show-line"),T),"".concat(p,"-focused"),g),"".concat(p,"-active-focused"),t!==null)),style:pe},I.createElement(ot,(0,be.Z)({ref:this.listRef,prefixCls:p,style:O,data:x,disabled:Te,selectable:X,checkable:!!Oe,motion:Le,dragging:a!==null,height:Q,itemHeight:Fe,virtual:Ye,focusable:L,focused:g,tabIndex:$,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:ke,onScroll:We,scrollWidth:Ge},this.getTreeNodeRequiredProps(),Ie))))}}],[{key:"getDerivedStateFromProps",value:function(s,g){var x=g.prevProps,n={prevProps:s};function a($){return!x&&s.hasOwnProperty($)||x&&x[$]!==s[$]}var t,d=g.fieldNames;if(a("fieldNames")&&(d=(0,P.w$)(s.fieldNames),n.fieldNames=d),a("treeData")?t=s.treeData:a("children")&&((0,Ze.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),t=(0,P.zn)(s.children)),t){n.treeData=t;var u=(0,P.I8)(t,{fieldNames:d});n.keyEntities=(0,G.Z)((0,C.Z)({},ve,te),u.keyEntities)}var y=n.keyEntities||g.keyEntities;if(a("expandedKeys")||x&&a("autoExpandParent"))n.expandedKeys=s.autoExpandParent||!x&&s.defaultExpandParent?(0,Y.r7)(s.expandedKeys,y):s.expandedKeys;else if(!x&&s.defaultExpandAll){var h=(0,G.Z)({},y);delete h[ve];var S=[];Object.keys(h).forEach(function($){var X=h[$];X.children&&X.children.length&&S.push(X.key)}),n.expandedKeys=S}else!x&&s.defaultExpandedKeys&&(n.expandedKeys=s.autoExpandParent||s.defaultExpandParent?(0,Y.r7)(s.defaultExpandedKeys,y):s.defaultExpandedKeys);if(n.expandedKeys||delete n.expandedKeys,t||n.expandedKeys){var k=(0,P.oH)(t||g.treeData,n.expandedKeys||g.expandedKeys,d);n.flattenNodes=k}if(s.selectable&&(a("selectedKeys")?n.selectedKeys=(0,Y.BT)(s.selectedKeys,s):!x&&s.defaultSelectedKeys&&(n.selectedKeys=(0,Y.BT)(s.defaultSelectedKeys,s))),s.checkable){var c;if(a("checkedKeys")?c=(0,Y.E6)(s.checkedKeys)||{}:!x&&s.defaultCheckedKeys?c=(0,Y.E6)(s.defaultCheckedKeys)||{}:t&&(c=(0,Y.E6)(s.checkedKeys)||{checkedKeys:g.checkedKeys,halfCheckedKeys:g.halfCheckedKeys}),c){var p=c,R=p.checkedKeys,O=R===void 0?[]:R,T=p.halfCheckedKeys,L=T===void 0?[]:T;if(!s.checkStrictly){var F=(0,qe.S)(O,!0,y);O=F.checkedKeys,L=F.halfCheckedKeys}n.checkedKeys=O,n.halfCheckedKeys=L}}return a("loadedKeys")&&(n.loadedKeys=s.loadedKeys),n}}]),K}(I.Component);(0,C.Z)(Ue,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:ge,allowDrop:function(){return!0},expandAction:!1}),(0,C.Z)(Ue,"TreeNode",B.Z);var l=Ue,b=l},22725:function(ft,ze,m){m.d(ze,{BT:function(){return I},E6:function(){return ge},L0:function(){return C},OM:function(){return Ze},_5:function(){return Ce},r7:function(){return oe},wA:function(){return f},yx:function(){return ae}});var be=m(35047),z=m(24744),G=m(84408),Ke=m(75271),Se=m(25551),j=m(90544),H=m(88338),ue=null;function Ce(i,r){if(!i)return[];var N=i.slice(),M=N.indexOf(r);return M>=0&&N.splice(M,1),N}function C(i,r){var N=(i||[]).slice();return N.indexOf(r)===-1&&N.push(r),N}function ae(i){return i.split("-")}function f(i,r){var N=[],M=(0,j.Z)(r,i);function Z(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];B.forEach(function(U){var V=U.key,P=U.children;N.push(V),Z(P)})}return Z(M.children),N}function ee(i){if(i.parent){var r=ae(i.pos);return Number(r[r.length-1])===i.parent.children.length-1}return!1}function le(i){var r=ae(i.pos);return Number(r[r.length-1])===0}function Ze(i,r,N,M,Z,B,U,V,P,se){var fe,Ee=i.clientX,ne=i.clientY,re=i.target.getBoundingClientRect(),de=re.top,ce=re.height,ye=(se==="rtl"?-1:1)*(((Z==null?void 0:Z.x)||0)-Ee),ve=(ye-12)/M,$e=P.filter(function(b){var o;return(o=V[b])===null||o===void 0||(o=o.children)===null||o===void 0?void 0:o.length}),te=(0,j.Z)(V,N.eventKey);if(ne<de+ce/2){var Pe=U.findIndex(function(b){return b.key===te.key}),Me=Pe<=0?0:Pe-1,He=U[Me].key;te=(0,j.Z)(V,He)}var at=te.key,v=te,ot=te.key,Y=0,qe=0;if(!$e.includes(at))for(var je=0;je<ve&&ee(te);je+=1)te=te.parent,qe+=1;var Qe=r.data,Ue=te.node,l=!0;return le(te)&&te.level===0&&ne<de+ce/2&&B({dragNode:Qe,dropNode:Ue,dropPosition:-1})&&te.key===N.eventKey?Y=-1:(v.children||[]).length&&$e.includes(ot)?B({dragNode:Qe,dropNode:Ue,dropPosition:0})?Y=0:l=!1:qe===0?ve>-1.5?B({dragNode:Qe,dropNode:Ue,dropPosition:1})?Y=1:l=!1:B({dragNode:Qe,dropNode:Ue,dropPosition:0})?Y=0:B({dragNode:Qe,dropNode:Ue,dropPosition:1})?Y=1:l=!1:B({dragNode:Qe,dropNode:Ue,dropPosition:1})?Y=1:l=!1,{dropPosition:Y,dropLevelOffset:qe,dropTargetKey:te.key,dropTargetPos:te.pos,dragOverNodeKey:ot,dropContainerKey:Y===0?null:((fe=te.parent)===null||fe===void 0?void 0:fe.key)||null,dropAllowed:l}}function I(i,r){if(i){var N=r.multiple;return N?i.slice():i.length?[i[0]]:i}}var Ne=function(r){return r};function Re(i,r){if(!i)return[];var N=r||{},M=N.processProps,Z=M===void 0?Ne:M,B=Array.isArray(i)?i:[i];return B.map(function(U){var V=U.children,P=_objectWithoutProperties(U,ue),se=Re(V,r);return React.createElement(TreeNode,_extends({key:P.key},Z(P)),se)})}function ge(i){if(!i)return null;var r;if(Array.isArray(i))r={checkedKeys:i,halfCheckedKeys:void 0};else if((0,z.Z)(i)==="object")r={checkedKeys:i.checked||void 0,halfCheckedKeys:i.halfChecked||void 0};else return(0,G.ZP)(!1,"`checkedKeys` is not an array or an object"),null;return r}function oe(i,r){var N=new Set;function M(Z){if(!N.has(Z)){var B=(0,j.Z)(r,Z);if(B){N.add(Z);var U=B.parent,V=B.node;V.disabled||U&&M(U.key)}}}return(i||[]).forEach(function(Z){M(Z)}),(0,be.Z)(N)}},28508:function(ft,ze,m){m.d(ze,{S:function(){return H}});var be=m(84408),z=m(90544);function G(ue,Ce){var C=new Set;return ue.forEach(function(ae){Ce.has(ae)||C.add(ae)}),C}function Ke(ue){var Ce=ue||{},C=Ce.disabled,ae=Ce.disableCheckbox,f=Ce.checkable;return!!(C||ae)||f===!1}function Se(ue,Ce,C,ae){for(var f=new Set(ue),ee=new Set,le=0;le<=C;le+=1){var Ze=Ce.get(le)||new Set;Ze.forEach(function(ge){var oe=ge.key,i=ge.node,r=ge.children,N=r===void 0?[]:r;f.has(oe)&&!ae(i)&&N.filter(function(M){return!ae(M.node)}).forEach(function(M){f.add(M.key)})})}for(var I=new Set,Ne=C;Ne>=0;Ne-=1){var Re=Ce.get(Ne)||new Set;Re.forEach(function(ge){var oe=ge.parent,i=ge.node;if(!(ae(i)||!ge.parent||I.has(ge.parent.key))){if(ae(ge.parent.node)){I.add(oe.key);return}var r=!0,N=!1;(oe.children||[]).filter(function(M){return!ae(M.node)}).forEach(function(M){var Z=M.key,B=f.has(Z);r&&!B&&(r=!1),!N&&(B||ee.has(Z))&&(N=!0)}),r&&f.add(oe.key),N&&ee.add(oe.key),I.add(oe.key)}})}return{checkedKeys:Array.from(f),halfCheckedKeys:Array.from(G(ee,f))}}function j(ue,Ce,C,ae,f){for(var ee=new Set(ue),le=new Set(Ce),Ze=0;Ze<=ae;Ze+=1){var I=C.get(Ze)||new Set;I.forEach(function(oe){var i=oe.key,r=oe.node,N=oe.children,M=N===void 0?[]:N;!ee.has(i)&&!le.has(i)&&!f(r)&&M.filter(function(Z){return!f(Z.node)}).forEach(function(Z){ee.delete(Z.key)})})}le=new Set;for(var Ne=new Set,Re=ae;Re>=0;Re-=1){var ge=C.get(Re)||new Set;ge.forEach(function(oe){var i=oe.parent,r=oe.node;if(!(f(r)||!oe.parent||Ne.has(oe.parent.key))){if(f(oe.parent.node)){Ne.add(i.key);return}var N=!0,M=!1;(i.children||[]).filter(function(Z){return!f(Z.node)}).forEach(function(Z){var B=Z.key,U=ee.has(B);N&&!U&&(N=!1),!M&&(U||le.has(B))&&(M=!0)}),N||ee.delete(i.key),M&&le.add(i.key),Ne.add(i.key)}})}return{checkedKeys:Array.from(ee),halfCheckedKeys:Array.from(G(le,ee))}}function H(ue,Ce,C,ae){var f=[],ee;ae?ee=ae:ee=Ke;var le=new Set(ue.filter(function(Re){var ge=!!(0,z.Z)(C,Re);return ge||f.push(Re),ge})),Ze=new Map,I=0;Object.keys(C).forEach(function(Re){var ge=C[Re],oe=ge.level,i=Ze.get(oe);i||(i=new Set,Ze.set(oe,i)),i.add(ge),I=Math.max(I,oe)}),(0,be.ZP)(!f.length,"Tree missing follow keys: ".concat(f.slice(0,100).map(function(Re){return"'".concat(Re,"'")}).join(", ")));var Ne;return Ce===!0?Ne=Se(le,Ze,I,ee):Ne=j(le,Ce.halfCheckedKeys,Ze,I,ee),Ne}},90544:function(ft,ze,m){m.d(ze,{Z:function(){return be}});function be(z,G){return z[G]}},88338:function(ft,ze,m){m.d(ze,{F:function(){return oe},H8:function(){return ge},I8:function(){return Re},km:function(){return f},oH:function(){return I},w$:function(){return ee},zn:function(){return Ze}});var be=m(24744),z=m(35047),G=m(98037),Ke=m(58006),Se=m(49653),j=m(73214),H=m(84408),ue=m(90544),Ce=["children"];function C(i,r){return"".concat(i,"-").concat(r)}function ae(i){return i&&i.type&&i.type.isTreeNode}function f(i,r){return i!=null?i:r}function ee(i){var r=i||{},N=r.title,M=r._title,Z=r.key,B=r.children,U=N||"title";return{title:U,_title:M||[U],key:Z||"key",children:B||"children"}}function le(i,r){var N=new Map;function M(Z){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(Z||[]).forEach(function(U){var V=U[r.key],P=U[r.children];warning(V!=null,"Tree node must have a certain key: [".concat(B).concat(V,"]"));var se=String(V);warning(!N.has(se)||V===null||V===void 0,"Same 'key' exist in the Tree: ".concat(se)),N.set(se,!0),M(P,"".concat(B).concat(se," > "))})}M(i)}function Ze(i){function r(N){var M=(0,Se.Z)(N);return M.map(function(Z){if(!ae(Z))return(0,H.ZP)(!Z,"Tree/TreeNode can only accept TreeNode as children."),null;var B=Z.key,U=Z.props,V=U.children,P=(0,Ke.Z)(U,Ce),se=(0,G.Z)({key:B},P),fe=r(V);return fe.length&&(se.children=fe),se}).filter(function(Z){return Z})}return r(i)}function I(i,r,N){var M=ee(N),Z=M._title,B=M.key,U=M.children,V=new Set(r===!0?[]:r),P=[];function se(fe){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return fe.map(function(ne,re){for(var de=C(Ee?Ee.pos:"0",re),ce=f(ne[B],de),ye,ve=0;ve<Z.length;ve+=1){var $e=Z[ve];if(ne[$e]!==void 0){ye=ne[$e];break}}var te=Object.assign((0,j.Z)(ne,[].concat((0,z.Z)(Z),[B,U])),{title:ye,key:ce,parent:Ee,pos:de,children:null,data:ne,isStart:[].concat((0,z.Z)(Ee?Ee.isStart:[]),[re===0]),isEnd:[].concat((0,z.Z)(Ee?Ee.isEnd:[]),[re===fe.length-1])});return P.push(te),r===!0||V.has(ce)?te.children=se(ne[U]||[],te):te.children=[],te})}return se(i),P}function Ne(i,r,N){var M={};(0,be.Z)(N)==="object"?M=N:M={externalGetKey:N},M=M||{};var Z=M,B=Z.childrenPropName,U=Z.externalGetKey,V=Z.fieldNames,P=ee(V),se=P.key,fe=P.children,Ee=B||fe,ne;U?typeof U=="string"?ne=function(ce){return ce[U]}:typeof U=="function"&&(ne=function(ce){return U(ce)}):ne=function(ce,ye){return f(ce[se],ye)};function re(de,ce,ye,ve){var $e=de?de[Ee]:i,te=de?C(ye.pos,ce):"0",Pe=de?[].concat((0,z.Z)(ve),[de]):[];if(de){var Me=ne(de,te),He={node:de,index:ce,pos:te,key:Me,parentPos:ye.node?ye.pos:null,level:ye.level+1,nodes:Pe};r(He)}$e&&$e.forEach(function(at,v){re(at,v,{node:de,pos:te,level:ye?ye.level+1:-1},Pe)})}re(null)}function Re(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},N=r.initWrapper,M=r.processEntity,Z=r.onProcessFinished,B=r.externalGetKey,U=r.childrenPropName,V=r.fieldNames,P=arguments.length>2?arguments[2]:void 0,se=B||P,fe={},Ee={},ne={posEntities:fe,keyEntities:Ee};return N&&(ne=N(ne)||ne),Ne(i,function(re){var de=re.node,ce=re.index,ye=re.pos,ve=re.key,$e=re.parentPos,te=re.level,Pe=re.nodes,Me={node:de,nodes:Pe,index:ce,key:ve,pos:ye,level:te},He=f(ve,ye);fe[ye]=Me,Ee[He]=Me,Me.parent=fe[$e],Me.parent&&(Me.parent.children=Me.parent.children||[],Me.parent.children.push(Me)),M&&M(Me,ne)},{externalGetKey:se,childrenPropName:U,fieldNames:V}),Z&&Z(ne),ne}function ge(i,r){var N=r.expandedKeys,M=r.selectedKeys,Z=r.loadedKeys,B=r.loadingKeys,U=r.checkedKeys,V=r.halfCheckedKeys,P=r.dragOverNodeKey,se=r.dropPosition,fe=r.keyEntities,Ee=(0,ue.Z)(fe,i),ne={eventKey:i,expanded:N.indexOf(i)!==-1,selected:M.indexOf(i)!==-1,loaded:Z.indexOf(i)!==-1,loading:B.indexOf(i)!==-1,checked:U.indexOf(i)!==-1,halfChecked:V.indexOf(i)!==-1,pos:String(Ee?Ee.pos:""),dragOver:P===i&&se===0,dragOverGapTop:P===i&&se===-1,dragOverGapBottom:P===i&&se===1};return ne}function oe(i){var r=i.data,N=i.expanded,M=i.selected,Z=i.checked,B=i.loaded,U=i.loading,V=i.halfChecked,P=i.dragOver,se=i.dragOverGapTop,fe=i.dragOverGapBottom,Ee=i.pos,ne=i.active,re=i.eventKey,de=(0,G.Z)((0,G.Z)({},r),{},{expanded:N,selected:M,checked:Z,loaded:B,loading:U,halfChecked:V,dragOver:P,dragOverGapTop:se,dragOverGapBottom:fe,pos:Ee,active:ne,key:re});return"props"in de||Object.defineProperty(de,"props",{get:function(){return(0,H.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),i}}),de}},21864:function(ft,ze,m){m.d(ze,{Z:function(){return Ue}});var be=m(2053),z=m(24744),G=m(98037),Ke=m(57904),Se=m(99459),j=m(58006),H=m(82187),ue=m.n(H),Ce=m(86487),C=m(52190),ae=m(78237),f=m(75271),ee=m(30967),le=f.forwardRef(function(l,b){var o=l.height,E=l.offsetY,K=l.offsetX,e=l.children,s=l.prefixCls,g=l.onInnerResize,x=l.innerProps,n=l.rtl,a=l.extra,t={},d={display:"flex",flexDirection:"column"};return E!==void 0&&(t={height:o,position:"relative",overflow:"hidden"},d=(0,G.Z)((0,G.Z)({},d),{},(0,Ke.Z)((0,Ke.Z)((0,Ke.Z)((0,Ke.Z)((0,Ke.Z)({transform:"translateY(".concat(E,"px)")},n?"marginRight":"marginLeft",-K),"position","absolute"),"left",0),"right",0),"top",0))),f.createElement("div",{style:t},f.createElement(Ce.Z,{onResize:function(y){var h=y.offsetHeight;h&&g&&g()}},f.createElement("div",(0,be.Z)({style:d,className:ue()((0,Ke.Z)({},"".concat(s,"-holder-inner"),s)),ref:b},x),e,a)))});le.displayName="Filler";var Ze=le;function I(l){var b=l.children,o=l.setRef,E=f.useCallback(function(K){o(K)},[]);return f.cloneElement(b,{ref:E})}function Ne(l,b,o,E,K,e,s,g){var x=g.getKey;return l.slice(b,o+1).map(function(n,a){var t=b+a,d=s(n,t,{style:{width:E},offsetX:K}),u=x(n);return f.createElement(I,{key:u,setRef:function(h){return e(n,h)}},d)})}function Re(l,b,o,E){var K=o-l,e=b-o,s=Math.min(K,e)*2;if(E<=s){var g=Math.floor(E/2);return E%2?o+g+1:o-g}return K>e?o-(E-e):o+(E-K)}function ge(l,b,o){var E=l.length,K=b.length,e,s;if(E===0&&K===0)return null;E<K?(e=l,s=b):(e=b,s=l);var g={__EMPTY_ITEM__:!0};function x(y){return y!==void 0?o(y):g}for(var n=null,a=Math.abs(E-K)!==1,t=0;t<s.length;t+=1){var d=x(e[t]),u=x(s[t]);if(d!==u){n=t,a=a||d!==x(s[t+1]);break}}return n===null?null:{index:n,multiple:a}}function oe(l,b,o){var E=f.useState(l),K=(0,Se.Z)(E,2),e=K[0],s=K[1],g=f.useState(null),x=(0,Se.Z)(g,2),n=x[0],a=x[1];return f.useEffect(function(){var t=ge(e||[],l||[],b);(t==null?void 0:t.index)!==void 0&&(o==null||o(t.index),a(l[t.index])),s(l)},[l]),[n]}var i=m(40197),r=(typeof navigator=="undefined"?"undefined":(0,z.Z)(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),N=r,M=function(l,b,o,E){var K=(0,f.useRef)(!1),e=(0,f.useRef)(null);function s(){clearTimeout(e.current),K.current=!0,e.current=setTimeout(function(){K.current=!1},50)}var g=(0,f.useRef)({top:l,bottom:b,left:o,right:E});return g.current.top=l,g.current.bottom=b,g.current.left=o,g.current.right=E,function(x,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=x?n<0&&g.current.left||n>0&&g.current.right:n<0&&g.current.top||n>0&&g.current.bottom;return a&&t?(clearTimeout(e.current),K.current=!1):(!t||K.current)&&s(),!K.current&&t}};function Z(l,b,o,E,K,e,s){var g=(0,f.useRef)(0),x=(0,f.useRef)(null),n=(0,f.useRef)(null),a=(0,f.useRef)(!1),t=M(b,o,E,K);function d(c,p){if(i.Z.cancel(x.current),!t(!1,p)){var R=c;if(!R._virtualHandled)R._virtualHandled=!0;else return;g.current+=p,n.current=p,N||R.preventDefault(),x.current=(0,i.Z)(function(){var O=a.current?10:1;s(g.current*O,!1),g.current=0})}}function u(c,p){s(p,!0),N||c.preventDefault()}var y=(0,f.useRef)(null),h=(0,f.useRef)(null);function S(c){if(l){i.Z.cancel(h.current),h.current=(0,i.Z)(function(){y.current=null},2);var p=c.deltaX,R=c.deltaY,O=c.shiftKey,T=p,L=R;(y.current==="sx"||!y.current&&O&&R&&!p)&&(T=R,L=0,y.current="sx");var F=Math.abs(T),$=Math.abs(L);y.current===null&&(y.current=e&&F>$?"x":"y"),y.current==="y"?d(c,L):u(c,T)}}function k(c){l&&(a.current=c.detail===n.current)}return[S,k]}function B(l,b,o,E){var K=f.useMemo(function(){return[new Map,[]]},[l,o.id,E]),e=(0,Se.Z)(K,2),s=e[0],g=e[1],x=function(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,d=s.get(a),u=s.get(t);if(d===void 0||u===void 0)for(var y=l.length,h=g.length;h<y;h+=1){var S,k=l[h],c=b(k);s.set(c,h);var p=(S=o.get(c))!==null&&S!==void 0?S:E;if(g[h]=(g[h-1]||0)+p,c===a&&(d=h),c===t&&(u=h),d!==void 0&&u!==void 0)break}return{top:g[d-1]||0,bottom:g[u]}};return x}var U=m(93387),V=m(73779),P=m(71374),se=function(){function l(){(0,V.Z)(this,l),(0,Ke.Z)(this,"maps",void 0),(0,Ke.Z)(this,"id",0),(0,Ke.Z)(this,"diffKeys",new Set),this.maps=Object.create(null)}return(0,P.Z)(l,[{key:"set",value:function(o,E){this.maps[o]=E,this.id+=1,this.diffKeys.add(o)}},{key:"get",value:function(o){return this.maps[o]}},{key:"resetRecord",value:function(){this.diffKeys.clear()}},{key:"getRecord",value:function(){return this.diffKeys}}]),l}(),fe=se;function Ee(l){var b=parseFloat(l);return isNaN(b)?0:b}function ne(l,b,o){var E=f.useState(0),K=(0,Se.Z)(E,2),e=K[0],s=K[1],g=(0,f.useRef)(new Map),x=(0,f.useRef)(new fe),n=(0,f.useRef)(0);function a(){n.current+=1}function t(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;a();var y=function(){var k=!1;g.current.forEach(function(c,p){if(c&&c.offsetParent){var R=(0,U.ZP)(c),O=R.offsetHeight,T=getComputedStyle(R),L=T.marginTop,F=T.marginBottom,$=Ee(L),X=Ee(F),J=O+$+X;x.current.get(p)!==J&&(x.current.set(p,J),k=!0)}}),k&&s(function(c){return c+1})};if(u)y();else{n.current+=1;var h=n.current;Promise.resolve().then(function(){h===n.current&&y()})}}function d(u,y){var h=l(u),S=g.current.get(h);y?(g.current.set(h,y),t()):g.current.delete(h),!S!=!y&&(y?b==null||b(u):o==null||o(u))}return(0,f.useEffect)(function(){return a},[]),[d,t,x.current,e]}var re=14/15;function de(l,b,o){var E=(0,f.useRef)(!1),K=(0,f.useRef)(0),e=(0,f.useRef)(0),s=(0,f.useRef)(null),g=(0,f.useRef)(null),x,n=function(u){if(E.current){var y=Math.ceil(u.touches[0].pageX),h=Math.ceil(u.touches[0].pageY),S=K.current-y,k=e.current-h,c=Math.abs(S)>Math.abs(k);c?K.current=y:e.current=h;var p=o(c,c?S:k,!1,u);p&&u.preventDefault(),clearInterval(g.current),p&&(g.current=setInterval(function(){c?S*=re:k*=re;var R=Math.floor(c?S:k);(!o(c,R,!0)||Math.abs(R)<=.1)&&clearInterval(g.current)},16))}},a=function(){E.current=!1,x()},t=function(u){x(),u.touches.length===1&&!E.current&&(E.current=!0,K.current=Math.ceil(u.touches[0].pageX),e.current=Math.ceil(u.touches[0].pageY),s.current=u.target,s.current.addEventListener("touchmove",n,{passive:!1}),s.current.addEventListener("touchend",a,{passive:!0}))};x=function(){s.current&&(s.current.removeEventListener("touchmove",n),s.current.removeEventListener("touchend",a))},(0,ae.Z)(function(){return l&&b.current.addEventListener("touchstart",t,{passive:!0}),function(){var d;(d=b.current)===null||d===void 0||d.removeEventListener("touchstart",t),x(),clearInterval(g.current)}},[l])}function ce(l){return Math.floor(Math.pow(l,.5))}function ye(l,b){var o="touches"in l?l.touches[0]:l;return o[b?"pageX":"pageY"]-window[b?"scrollX":"scrollY"]}function ve(l,b,o){f.useEffect(function(){var E=b.current;if(l&&E){var K=!1,e,s,g=function(){i.Z.cancel(e)},x=function d(){g(),e=(0,i.Z)(function(){o(s),d()})},n=function(u){var y=u;y._virtualHandled||(y._virtualHandled=!0,K=!0)},a=function(){K=!1,g()},t=function(u){if(K){var y=ye(u,!1),h=E.getBoundingClientRect(),S=h.top,k=h.bottom;if(y<=S){var c=S-y;s=-ce(c),x()}else if(y>=k){var p=y-k;s=ce(p),x()}else g()}};return E.addEventListener("mousedown",n),E.ownerDocument.addEventListener("mouseup",a),E.ownerDocument.addEventListener("mousemove",t),function(){E.removeEventListener("mousedown",n),E.ownerDocument.removeEventListener("mouseup",a),E.ownerDocument.removeEventListener("mousemove",t),g()}}},[l])}var $e=10;function te(l,b,o,E,K,e,s,g){var x=f.useRef(),n=f.useState(null),a=(0,Se.Z)(n,2),t=a[0],d=a[1];return(0,ae.Z)(function(){if(t&&t.times<$e){if(!l.current){d(function(A){return(0,G.Z)({},A)});return}e();var u=t.targetAlign,y=t.originAlign,h=t.index,S=t.offset,k=l.current.clientHeight,c=!1,p=u,R=null;if(k){for(var O=u||y,T=0,L=0,F=0,$=Math.min(b.length-1,h),X=0;X<=$;X+=1){var J=K(b[X]);L=T;var me=o.get(J);F=L+(me===void 0?E:me),T=F}for(var he=O==="top"?S:k-S,_=$;_>=0;_-=1){var Oe=K(b[_]),ie=o.get(Oe);if(ie===void 0){c=!0;break}if(he-=ie,he<=0)break}switch(O){case"top":R=L-S;break;case"bottom":R=F-k+S;break;default:{var Te=l.current.scrollTop,Le=Te+k;L<Te?p="top":F>Le&&(p="bottom")}}R!==null&&s(R),R!==t.lastTop&&(c=!0)}c&&d((0,G.Z)((0,G.Z)({},t),{},{times:t.times+1,targetAlign:p,lastTop:R}))}},[t,l.current]),function(u){if(u==null){g();return}if(i.Z.cancel(x.current),typeof u=="number")s(u);else if(u&&(0,z.Z)(u)==="object"){var y,h=u.align;"index"in u?y=u.index:y=b.findIndex(function(c){return K(c)===u.key});var S=u.offset,k=S===void 0?0:S;d({times:0,index:y,offset:k,originAlign:h})}}}var Pe=f.forwardRef(function(l,b){var o=l.prefixCls,E=l.rtl,K=l.scrollOffset,e=l.scrollRange,s=l.onStartMove,g=l.onStopMove,x=l.onScroll,n=l.horizontal,a=l.spinSize,t=l.containerSize,d=l.style,u=l.thumbStyle,y=f.useState(!1),h=(0,Se.Z)(y,2),S=h[0],k=h[1],c=f.useState(null),p=(0,Se.Z)(c,2),R=p[0],O=p[1],T=f.useState(null),L=(0,Se.Z)(T,2),F=L[0],$=L[1],X=!E,J=f.useRef(),me=f.useRef(),he=f.useState(!1),_=(0,Se.Z)(he,2),Oe=_[0],ie=_[1],Te=f.useRef(),Le=function(){clearTimeout(Te.current),ie(!0),Te.current=setTimeout(function(){ie(!1)},3e3)},A=e-t||0,D=t-a||0,Q=f.useMemo(function(){if(K===0||A===0)return 0;var we=K/A;return we*D},[K,A,D]),Fe=function(pe){pe.stopPropagation(),pe.preventDefault()},Ge=f.useRef({top:Q,dragging:S,pageY:R,startTop:F});Ge.current={top:Q,dragging:S,pageY:R,startTop:F};var Ye=function(pe){k(!0),O(ye(pe,n)),$(Ge.current.top),s(),pe.stopPropagation(),pe.preventDefault()};f.useEffect(function(){var we=function(tt){tt.preventDefault()},pe=J.current,Ie=me.current;return pe.addEventListener("touchstart",we,{passive:!1}),Ie.addEventListener("touchstart",Ye,{passive:!1}),function(){pe.removeEventListener("touchstart",we),Ie.removeEventListener("touchstart",Ye)}},[]);var dt=f.useRef();dt.current=A;var it=f.useRef();it.current=D,f.useEffect(function(){if(S){var we,pe=function(tt){var vt=Ge.current,st=vt.dragging,yt=vt.pageY,ht=vt.startTop;i.Z.cancel(we);var pt=J.current.getBoundingClientRect(),_e=t/(n?pt.width:pt.height);if(st){var ct=(ye(tt,n)-yt)*_e,lt=ht;!X&&n?lt-=ct:lt+=ct;var mt=dt.current,gt=it.current,xe=gt?lt/gt:0,Ae=Math.ceil(xe*mt);Ae=Math.max(Ae,0),Ae=Math.min(Ae,mt),we=(0,i.Z)(function(){x(Ae,n)})}},Ie=function(){k(!1),g()};return window.addEventListener("mousemove",pe,{passive:!0}),window.addEventListener("touchmove",pe,{passive:!0}),window.addEventListener("mouseup",Ie,{passive:!0}),window.addEventListener("touchend",Ie,{passive:!0}),function(){window.removeEventListener("mousemove",pe),window.removeEventListener("touchmove",pe),window.removeEventListener("mouseup",Ie),window.removeEventListener("touchend",Ie),i.Z.cancel(we)}}},[S]),f.useEffect(function(){return Le(),function(){clearTimeout(Te.current)}},[K]),f.useImperativeHandle(b,function(){return{delayHidden:Le}});var ke="".concat(o,"-scrollbar"),We={position:"absolute",visibility:Oe?null:"hidden"},Je={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return n?(We.height=8,We.left=0,We.right=0,We.bottom=0,Je.height="100%",Je.width=a,X?Je.left=Q:Je.right=Q):(We.width=8,We.top=0,We.bottom=0,X?We.right=0:We.left=0,Je.width="100%",Je.height=a,Je.top=Q),f.createElement("div",{ref:J,className:ue()(ke,(0,Ke.Z)((0,Ke.Z)((0,Ke.Z)({},"".concat(ke,"-horizontal"),n),"".concat(ke,"-vertical"),!n),"".concat(ke,"-visible"),Oe)),style:(0,G.Z)((0,G.Z)({},We),d),onMouseDown:Fe,onMouseMove:Le},f.createElement("div",{ref:me,className:ue()("".concat(ke,"-thumb"),(0,Ke.Z)({},"".concat(ke,"-thumb-moving"),S)),style:(0,G.Z)((0,G.Z)({},Je),u),onMouseDown:Ye}))}),Me=Pe,He=20;function at(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=l/b*l;return isNaN(o)&&(o=0),o=Math.max(o,He),Math.floor(o)}var v=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],ot=[],Y={overflowY:"auto",overflowAnchor:"none"};function qe(l,b){var o=l.prefixCls,E=o===void 0?"rc-virtual-list":o,K=l.className,e=l.height,s=l.itemHeight,g=l.fullHeight,x=g===void 0?!0:g,n=l.style,a=l.data,t=l.children,d=l.itemKey,u=l.virtual,y=l.direction,h=l.scrollWidth,S=l.component,k=S===void 0?"div":S,c=l.onScroll,p=l.onVirtualScroll,R=l.onVisibleChange,O=l.innerProps,T=l.extraRender,L=l.styles,F=(0,j.Z)(l,v),$=f.useCallback(function(W){return typeof d=="function"?d(W):W==null?void 0:W[d]},[d]),X=ne($,null,null),J=(0,Se.Z)(X,4),me=J[0],he=J[1],_=J[2],Oe=J[3],ie=!!(u!==!1&&e&&s),Te=f.useMemo(function(){return Object.values(_.maps).reduce(function(W,w){return W+w},0)},[_.id,_.maps]),Le=ie&&a&&(Math.max(s*a.length,Te)>e||!!h),A=y==="rtl",D=ue()(E,(0,Ke.Z)({},"".concat(E,"-rtl"),A),K),Q=a||ot,Fe=(0,f.useRef)(),Ge=(0,f.useRef)(),Ye=(0,f.useRef)(),dt=(0,f.useState)(0),it=(0,Se.Z)(dt,2),ke=it[0],We=it[1],Je=(0,f.useState)(0),we=(0,Se.Z)(Je,2),pe=we[0],Ie=we[1],et=(0,f.useState)(!1),tt=(0,Se.Z)(et,2),vt=tt[0],st=tt[1],yt=function(){st(!0)},ht=function(){st(!1)},pt={getKey:$};function _e(W){We(function(w){var q;typeof W=="function"?q=W(w):q=W;var De=Vt(q);return Fe.current.scrollTop=De,De})}var ct=(0,f.useRef)({start:0,end:Q.length}),lt=(0,f.useRef)(),mt=oe(Q,$),gt=(0,Se.Z)(mt,1),xe=gt[0];lt.current=xe;var Ae=f.useMemo(function(){if(!ie)return{scrollHeight:void 0,start:0,end:Q.length-1,offset:void 0};if(!Le){var W;return{scrollHeight:((W=Ge.current)===null||W===void 0?void 0:W.offsetHeight)||0,start:0,end:Q.length-1,offset:void 0}}for(var w=0,q,De,Be,kt=Q.length,xt=0;xt<kt;xt+=1){var rn=Q[xt],an=$(rn),jt=_.get(an),Tt=w+(jt===void 0?s:jt);Tt>=ke&&q===void 0&&(q=xt,De=w),Tt>ke+e&&Be===void 0&&(Be=xt),w=Tt}return q===void 0&&(q=0,De=0,Be=Math.ceil(e/s)),Be===void 0&&(Be=Q.length-1),Be=Math.min(Be+1,Q.length-1),{scrollHeight:w,start:q,end:Be,offset:De}},[Le,ie,ke,Q,Oe,e]),Xe=Ae.scrollHeight,nt=Ae.start,rt=Ae.end,Et=Ae.offset;ct.current.start=nt,ct.current.end=rt,f.useLayoutEffect(function(){var W=_.getRecord();if(W.size===1){var w=Array.from(W)[0],q=$(Q[nt]);if(q===w){var De=_.get(w),Be=De-s;_e(function(kt){return kt+Be})}}_.resetRecord()},[Xe]);var Kt=f.useState({width:0,height:e}),ut=(0,Se.Z)(Kt,2),Ve=ut[0],Lt=ut[1],Gt=function(w){Lt({width:w.offsetWidth,height:w.offsetHeight})},wt=(0,f.useRef)(),It=(0,f.useRef)(),Yt=f.useMemo(function(){return at(Ve.width,h)},[Ve.width,h]),Xt=f.useMemo(function(){return at(Ve.height,Xe)},[Ve.height,Xe]),Dt=Xe-e,bt=(0,f.useRef)(Dt);bt.current=Dt;function Vt(W){var w=W;return Number.isNaN(bt.current)||(w=Math.min(w,bt.current)),w=Math.max(w,0),w}var Ct=ke<=0,Nt=ke>=Dt,At=pe<=0,$t=pe>=h,Jt=M(Ct,Nt,At,$t),Rt=function(){return{x:A?-pe:pe,y:ke}},Mt=(0,f.useRef)(Rt()),Zt=(0,C.zX)(function(W){if(p){var w=(0,G.Z)((0,G.Z)({},Rt()),W);(Mt.current.x!==w.x||Mt.current.y!==w.y)&&(p(w),Mt.current=w)}});function Ft(W,w){var q=W;w?((0,ee.flushSync)(function(){Ie(q)}),Zt()):_e(q)}function Qt(W){var w=W.currentTarget.scrollTop;w!==ke&&_e(w),c==null||c(W),Zt()}var Pt=function(w){var q=w,De=h?h-Ve.width:0;return q=Math.max(q,0),q=Math.min(q,De),q},_t=(0,C.zX)(function(W,w){w?((0,ee.flushSync)(function(){Ie(function(q){var De=q+(A?-W:W);return Pt(De)})}),Zt()):_e(function(q){var De=q+W;return De})}),qt=Z(ie,Ct,Nt,At,$t,!!h,_t),Wt=(0,Se.Z)(qt,2),Ot=Wt[0],Bt=Wt[1];de(ie,Fe,function(W,w,q,De){var Be=De;return Jt(W,w,q)?!1:!Be||!Be._virtualHandled?(Be&&(Be._virtualHandled=!0),Ot({preventDefault:function(){},deltaX:W?w:0,deltaY:W?0:w}),!0):!1}),ve(Le,Fe,function(W){_e(function(w){return w+W})}),(0,ae.Z)(function(){function W(q){var De=Ct&&q.detail<0,Be=Nt&&q.detail>0;ie&&!De&&!Be&&q.preventDefault()}var w=Fe.current;return w.addEventListener("wheel",Ot,{passive:!1}),w.addEventListener("DOMMouseScroll",Bt,{passive:!0}),w.addEventListener("MozMousePixelScroll",W,{passive:!1}),function(){w.removeEventListener("wheel",Ot),w.removeEventListener("DOMMouseScroll",Bt),w.removeEventListener("MozMousePixelScroll",W)}},[ie,Ct,Nt]),(0,ae.Z)(function(){if(h){var W=Pt(pe);Ie(W),Zt({x:W})}},[Ve.width,h]);var Ht=function(){var w,q;(w=wt.current)===null||w===void 0||w.delayHidden(),(q=It.current)===null||q===void 0||q.delayHidden()},Ut=te(Fe,Q,_,s,$,function(){return he(!0)},_e,Ht);f.useImperativeHandle(b,function(){return{nativeElement:Ye.current,getScrollInfo:Rt,scrollTo:function(w){function q(De){return De&&(0,z.Z)(De)==="object"&&("left"in De||"top"in De)}q(w)?(w.left!==void 0&&Ie(Pt(w.left)),Ut(w.top)):Ut(w)}}}),(0,ae.Z)(function(){if(R){var W=Q.slice(nt,rt+1);R(W,Q)}},[nt,rt,Q]);var en=B(Q,$,_,s),tn=T==null?void 0:T({start:nt,end:rt,virtual:Le,offsetX:pe,offsetY:Et,rtl:A,getSize:en}),nn=Ne(Q,nt,rt,h,pe,me,t,pt),St=null;e&&(St=(0,G.Z)((0,Ke.Z)({},x?"height":"maxHeight",e),Y),ie&&(St.overflowY="hidden",h&&(St.overflowX="hidden"),vt&&(St.pointerEvents="none")));var zt={};return A&&(zt.dir="rtl"),f.createElement("div",(0,be.Z)({ref:Ye,style:(0,G.Z)((0,G.Z)({},n),{},{position:"relative"}),className:D},zt,F),f.createElement(Ce.Z,{onResize:Gt},f.createElement(k,{className:"".concat(E,"-holder"),style:St,ref:Fe,onScroll:Qt,onMouseEnter:Ht},f.createElement(Ze,{prefixCls:E,height:Xe,offsetX:pe,offsetY:Et,scrollWidth:h,onInnerResize:he,ref:Ge,innerProps:O,rtl:A,extra:tn},nn))),Le&&Xe>e&&f.createElement(Me,{ref:wt,prefixCls:E,scrollOffset:ke,scrollRange:Xe,rtl:A,onScroll:Ft,onStartMove:yt,onStopMove:ht,spinSize:Xt,containerSize:Ve.height,style:L==null?void 0:L.verticalScrollBar,thumbStyle:L==null?void 0:L.verticalScrollBarThumb}),Le&&h>Ve.width&&f.createElement(Me,{ref:It,prefixCls:E,scrollOffset:pe,scrollRange:h,rtl:A,onScroll:Ft,onStartMove:yt,onStopMove:ht,spinSize:Yt,containerSize:Ve.width,horizontal:!0,style:L==null?void 0:L.horizontalScrollBar,thumbStyle:L==null?void 0:L.horizontalScrollBarThumb}))}var je=f.forwardRef(qe);je.displayName="List";var Qe=je,Ue=Qe}}]);
