"use strict";(self.webpackChunk_ant_design_pro_flow=self.webpackChunk_ant_design_pro_flow||[]).push([[5838],{44433:function(ne,j,n){n.d(j,{T:function(){return s.T}});var v=n(26068),i=n.n(v),s=n(45931),g=n(11527);j.Z=function(d){var p=d.gap,u=p===void 0?10:p,M=d.color,T=M===void 0?"#bac3d4":M;return(0,g.jsx)(s.A,i()(i()({},d),{},{gap:u,color:T}))}},67248:function(ne,j,n){n.d(j,{W:function(){return k},Z:function(){return x}});var v=n(53649),i=n.n(v),s=n(37763),g=n(19601),d=n(50959),p=n(6951),u=n(35486),M=n(73523),T,B,H,m,U,V,F,S,Q,Z,P,te=(0,M.kc)(function(e){var a=e.css,l=e.cx,o=e.prefixCls;return{nodeWrap:l("".concat(o,"-xx"),a(T||(T=i()([`
      display: flex;
      z-index: 10 !important;
      position: absolute;
      border-radius: 8px;
      padding: 16px 12px;
      box-sizing: border-box;
      /* border: 3px solid white; */
      flex: 1;
      background: #ffffff;
      border: 1px solid rgba(255, 255, 255, 0.04);
      box-shadow: 0 4px 6px -2px rgba(25, 15, 15, 0.05), 0 0 1px 0 rgba(0, 0, 0, 0.08);

      .img {
        width: 48px;
        height: 48px;
      }

      .content {
        width: 230px;
        margin-left: 13px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items: flex-start;

        .title {
          width: 100%;
          display: flex;
          flex: 1;

          span {
            font-size: 16px;
            color: rgba(0, 0, 0, 85%);
            line-height: 22px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            text-align: left;
          }

          .dangerLogo {
            width: 28px;
            height: 16px;
            background: #ffeef1;
            border-radius: 7px;
            margin-left: 8px;
            margin-top: 3px;
            display: flex;
            justify-content: center;
            align-items: center;
            img {
              width: 8px;
              height: 9px;
            }
          }
        }

        .des {
          font-size: 14px;
          color: rgba(0, 0, 0, 45%);
          line-height: 20px;
          white-space: nowrap;
          width: 100%;
          overflow: hidden;
          text-overflow: ellipsis;
          text-align: left;
        }
      }
    `])))),nodeSelected:a(B||(B=i()([`
    box-shadow: 0 0 0 3px #1677ff, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
  `]))),nodeSubSelected:a(H||(H=i()([`
    box-shadow: 0 0 0 1px #1677ff, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
  `]))),nodeDanger:a(m||(m=i()([`
    box-shadow: 0 0 0 3px #f7636e, 0 1px 4px 1px rgba(0, 0, 0, 8%);
  `]))),nodeSubDanger:a(U||(U=i()([`
    box-shadow: 0 0 0 1px #f7636e, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
  `]))),nodeWarning:a(V||(V=i()([`
    box-shadow: 0 0 0 3px #ef9d3b, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
  `]))),nodeSubWarning:a(F||(F=i()([`
    box-shadow: 0 0 0 1px #ef9d3b, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
  `]))),nodeDefault:a(S||(S=i()([""]))),titleSlotRight:a(Q||(Q=i()([`
    width: 28px;
    height: 28px;
    position: absolute;
    right: 13px;
    top: 9px;
  `]))),titleSlotLeft:a(Z||(Z=i()([`
    width: 28px;
    height: 28px;
    margin-left: 8px;
  `]))),wrap:a(P||(P=i()([`
    width: 320px;
    height: 83px;
    position: relative;
  `])))}}),E=n(11527),Y,J=function(a,l,o){return o&&l>1?a:a/l},k=u.ZP.div(Y||(Y=i()([`
  position: absolute;
  z-index: 10;
  top: -`,`px;
  padding: `,`;
  color: rgba(0, 0, 0, 0.45);
  border-radius: 4px;
  font-size: `,`;
  white-space: nowrap;
`])),function(e){var a=e.zoom;return J(24,a,!0)},function(e){var a=e.zoom;return"".concat(2/a,"px ").concat(1/a,"px ").concat(2/a,"px 0")},function(e){var a=e.zoom;return"".concat(14/a,"px")}),ae=function(a){var l=a.data,o=te(),r=o.styles,c=o.cx,f=l.title,h=l.logo,w=l.description,C=l.className,D=l.selectType,I=D===void 0?s.QB.SELECT:D,W=l.zoom,z=W===void 0?1:W,$=l.label,L=l.titleSlot,q=l.handleType,A=q===void 0?"both":q;return(0,E.jsxs)("div",{className:r.wrap,children:[A==="output"||A==="both"?(0,E.jsx)(p.HH,{type:"target",position:p.Ly.Left,style:{left:-6}}):null,(0,E.jsxs)("div",{children:[$&&(0,E.jsx)(k,{zoom:z,children:z<=.1?"".concat(String($).substring(0,3),"..."):$}),(0,E.jsxs)("div",{className:c(r.nodeWrap,r[(0,g.X)(I)],C),children:[(0,E.jsx)("img",{className:"img",src:h,alt:""}),(0,E.jsxs)("div",{className:"content",children:[(0,E.jsxs)("div",{className:"title",children:[(0,E.jsx)("span",{children:f}),!!L&&!!L.value&&L.type==="left"&&(0,E.jsx)("div",{className:r.titleSlotLeft,children:L.value}),!!L&&!!L.value&&L.type==="right"&&(0,E.jsxs)("div",{className:r.titleSlotLeft,children:[(0,E.jsx)("div",{style:{width:"28px"}}),(0,E.jsx)("div",{className:r.titleSlotRight,children:L.value})]})]}),(0,E.jsx)("div",{className:"des",children:w})]})]})]}),A==="input"||A==="both"?(0,E.jsx)(p.HH,{type:"source",position:p.Ly.Right,style:{right:-6}}):null]})},x=ae},65838:function(ne,j,n){n.d(j,{Z:function(){return we}});var v=n(26068),i=n.n(v),s=n(50959),g=n(53649),d=n.n(g),p=n(67248),u=n(37763),M=n(19601),T=n(73523),B=n(6951),H=n(35486),m,U,V,F,S,Q,Z,P,te,E,Y,J,k,ae,x=(0,T.kc)(function(K){var t=K.css;return{groupWrap:t(m||(m=d()([`
    width: 355px;
    height: 614px;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-top: 16px;
    overflow: hidden;
    background-color: #fafafa;
    position: absolute;
    z-index: 10;
    border-radius: 8px;
    border: 1px solid #d9d9d9;
  `]))),btnWrap:t(U||(U=d()([`
    width: 100%;
    height: 70px;
    position: absolute;
    bottom: 0;
    left: 0;
    z-index: 11;
    background-color: #fefefe;
    opacity: 0.7;
  `]))),btn:t(V||(V=d()([`
    width: 110px;
    height: 32px;
    position: absolute;
    z-index: 12;
    background: #fff;
    border: 1px solid #d9d9d9;
    border-radius: 32px;
    box-shadow: 0 2px 0 0 rgba(0, 0, 0, 2%);
    font-size: 14px;
    color: rgba(0, 0, 0, 88%);
    line-height: 32px;
    bottom: 16px;
    left: 112px;
    text-align: center;

    img {
      width: 14px;
      height: 14px;
      margin-left: 4px;
      transform: translateY(2px);
    }
  `]))),groupItemWrap:t(F||(F=d()([`
    display: flex;
    border-radius: 12px;
    box-sizing: border-box;
    padding: 16px 12px;
    background: #fff;
    margin-bottom: 26px;
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.04);
    box-shadow: 0 4px 6px -2px rgba(25, 15, 15, 0.05), 0 0 1px 0 rgba(0, 0, 0, 0.08);

    &:last-child {
      opacity: 0.5;
    }

    img {
      width: 48px;
      height: 48px;
    }
  `]))),groupItemContent:t(S||(S=d()([`
    width: 230px;
    margin-left: 13px;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  `]))),groupItemTitle:t(Q||(Q=d()([`
    width: 100%;
    font-size: 16px;
    color: rgba(0, 0, 0, 88%);
    line-height: 22px;
    font-weight: 600;
    display: flex;
    align-items: center;
    display: inline-block;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    text-align: left;
  `]))),des:t(Z||(Z=d()([`
    font-size: 14px;
    color: rgba(0, 0, 0, 45%);
    line-height: 20px;
    white-space: nowrap;
    width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    text-align: left;
    margin-top: 11px;
  `]))),nodeSelected:t(P||(P=d()([`
    background-color: #ecf3fe;
    box-shadow: 0 0 0 3px #1677ff, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;

    .buttonWrap {
      width: 100%;
      height: 70px;
      position: absolute;
      bottom: 0;
      left: 0;
      z-index: 11;
      opacity: 0.7;
      background-color: #ecf3fe;
    }
  `]))),nodeSubSelected:t(te||(te=d()([`
    box-shadow: 0 0 0 1px #1677ff, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
    background-color: #ecf3fe;

    .buttonWrap {
      width: 100%;
      height: 70px;
      position: absolute;
      bottom: 0;
      left: 0;
      z-index: 11;
      opacity: 0.7;
      background-color: #ecf3fe;
    }
  `]))),nodeDanger:t(E||(E=d()([`
    box-shadow: 0 0 0 3px #f7636e, 0 1px 4px 1px rgba(0, 0, 0, 8%);
  `]))),nodeSubDanger:t(Y||(Y=d()([`
    box-shadow: 0 0 0 1px #f7636e, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
  `]))),nodeWarning:t(J||(J=d()([`
    box-shadow: 0 0 0 3px #ef9d3b, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
  `]))),nodeSubWarning:t(k||(k=d()([`
    box-shadow: 0 0 0 1px #ef9d3b, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
  `]))),nodeDefault:t(ae||(ae=d()([""])))}}),e=n(11527),a,l=H.ZP.div(a||(a=d()([`
  width: 357px;
  height: 632px;
  position: relative;
`]))),o=function(t){return t.map(function(O){return i()(i()({},O),{},{type:"default",flowNodeType:"BasicNode"})})},r=function(t){var O=x(),R=O.styles,G=t.id,_=t.title,b=t.des,y=t.logo;return(0,e.jsxs)("div",{className:R.groupItemWrap,children:[(0,e.jsx)("img",{src:y,alt:""}),(0,e.jsxs)("div",{className:R.groupItemContent,children:[(0,e.jsx)("div",{className:R.groupItemTitle,children:_}),(0,e.jsx)("div",{className:R.des,children:b})]})]},"".concat(G,"-").concat(_))},c=function(t){var O=t.data,R=x(),G=R.styles,_=O.handleType,b=_===void 0?"both":_,y=O.selectType,ie=y===void 0?u.QB.SELECT:y,de=O.zoom,me=de===void 0?1:de,ue=O.label,fe=O.data;if(fe.length<7)return(0,e.jsx)("div",{className:G.groupWrap,children:"\u6570\u7EC4\u957F\u5EA6\u5FC5\u987B\u5927\u4E8E\u7B49\u4E8E7\uFF01"});var Ne=o(fe);return(0,e.jsxs)(l,{children:[b==="output"||b==="both"?(0,e.jsx)(B.HH,{type:"target",position:B.Ly.Left,style:{top:41.5,left:-6}}):null,(0,e.jsxs)("div",{children:[ue&&(0,e.jsx)(p.W,{zoom:me,children:me<=.1?"".concat(String(ue).substring(0,3),"..."):ue}),(0,e.jsxs)("div",{className:(0,T.cx)(G.groupWrap,G[(0,M.X)(ie)]),children:[Ne.map(function(oe,he){var pe=oe.data;return oe.position={x:0,y:100*he},oe.title=pe.title,oe.logo=pe.logo,oe.des=pe.describe,r(oe)}),(0,e.jsx)("div",{className:"".concat(G.btnWrap," buttonWrap")}),(0,e.jsxs)("div",{className:G.btn,children:["\u67E5\u770B\u66F4\u591A",(0,e.jsx)("img",{src:"https://mdn.alipayobjects.com/huamei_ntgeqc/afts/img/A*W5bAS6ZOqOwAAAAAAAAAAAAADvuvAQ/original",alt:""})]})]})]}),b==="input"||b==="both"?(0,e.jsx)(B.HH,{type:"source",position:B.Ly.Right,style:{top:41.5,right:-6}}):null]})},f=c,h=n(45931),w=n(54998),C=n(70235),D=n(88604),I=n(31445),W=n(44433),z,$,L,q,A,se,ce,le,N,ee=(0,T.kc)(function(K){var t=K.css,O=K.cx;return{container:t(z||(z=d()([`
    width: 100%;
    height: 100%;

    .react-flow__attribution {
      display: none;
    }

    .`,` {
      padding: 0;
      box-sizing: border-box;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      z-index: 1;
    }

    .`,` path {
      stroke: #1677ff;
      stroke-width: 2;
      z-index: 100;
    }

    .`,` path {
      stroke: #1677ff;
      stroke-width: 1;
      z-index: 100;
    }

    .`,`:hover path {
      stroke: red;
      stroke-width: 1;
      z-index: 100;
    }

    .`,` path {
      stroke: #f7636e;
      stroke-width: 2;
      z-index: 100;
    }

    .`,` path {
      stroke: #f7636e;
      stroke-width: 1;
      z-index: 100;
    }

    .`,` path {
      stroke: #ef9d3b;
      stroke-width: 2;
      z-index: 100;
    }

    .`,` path {
      stroke: #ef9d3b;
      stroke-width: 1;
      z-index: 100;
    }

    .selectable:focus {
      box-shadow: none !important;
    }

    .selected {
      box-shadow: none !important;
    }
  `])),u.$D,u._H,u.ph,u.ph,u.Ts,u.l8,u.H0,u.BP),nodeWrap:O(t($||($=d()([`
      display: flex;
      z-index: 10 !important;
      position: absolute;
      border-radius: 8px;
      padding: 16px 12px;
      box-sizing: border-box;
      /* border: 3px solid white; */
      flex: 1;
      background: #ffffff;
      border: 1px solid rgba(255, 255, 255, 0.04);
      box-shadow: 0 4px 6px -2px rgba(25, 15, 15, 0.05), 0 0 1px 0 rgba(0, 0, 0, 0.08);

      .img {
        width: 48px;
        height: 48px;
      }

      .content {
        width: 230px;
        margin-left: 13px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items: flex-start;

        .title {
          width: 100%;
          display: flex;
          flex: 1;

          span {
            font-size: 16px;
            color: rgba(0, 0, 0, 85%);
            line-height: 22px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            text-align: left;
          }

          .dangerLogo {
            width: 28px;
            height: 16px;
            background: #ffeef1;
            border-radius: 7px;
            margin-left: 8px;
            margin-top: 3px;
            display: flex;
            justify-content: center;
            align-items: center;
            img {
              width: 8px;
              height: 9px;
            }
          }
        }

        .des {
          font-size: 14px;
          color: rgba(0, 0, 0, 45%);
          line-height: 20px;
          white-space: nowrap;
          width: 100%;
          overflow: hidden;
          text-overflow: ellipsis;
          text-align: left;
        }
      }
    `])))),nodeSelected:t(L||(L=d()([`
    box-shadow: 0 0 0 3px #1677ff, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
  `]))),nodeSubSelected:t(q||(q=d()([`
    box-shadow: 0 0 0 1px #1677ff, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
  `]))),nodeDanger:t(A||(A=d()([`
    box-shadow: 0 0 0 3px #f7636e, 0 1px 4px 1px rgba(0, 0, 0, 8%);
  `]))),nodeSubDanger:t(se||(se=d()([`
    box-shadow: 0 0 0 1px #f7636e, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
  `]))),nodeWarning:t(ce||(ce=d()([`
    box-shadow: 0 0 0 3px #ef9d3b, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
  `]))),nodeSubWarning:t(le||(le=d()([`
    box-shadow: 0 0 0 1px #ef9d3b, 0 1px 4px 1px rgba(0, 0, 0, 8%) !important;
  `]))),nodeDefault:t(N||(N=d()([""])))}}),ye=function(t){var O=t.data,R=ee(),G=R.styles,_=R.cx,b=O.className,y=O.children;return(0,e.jsx)("div",{className:_(G.nodeWrap,b),children:y})},be=ye,ge=n(14981),je=(0,s.createContext)({}),re=function(){},Ee=function(t){var O=t.onNodeDragStart,R=O===void 0?re:O,G=t.onPaneClick,_=G===void 0?re:G,b=t.onNodeClick,y=b===void 0?re:b,ie=t.onEdgeClick,de=ie===void 0?re:ie,me=t.onNodesChange,ue=me===void 0?re:me,fe=t.onEdgesChange,Ne=fe===void 0?re:fe,oe=t.nodes,he=oe===void 0?[]:oe,pe=t.edges,Oe=pe===void 0?[]:pe,Ce=t.nodeTypes,Fe=Ce===void 0?{}:Ce,Pe=t.edgeTypes,Ze=Pe===void 0?{}:Pe,Ae=t.miniMap,ke=Ae===void 0?!0:Ae,Ke=t.children,Te=t.background,He=Te===void 0?!0:Te,Be=t.autoLayout,Me=Be===void 0?!0:Be,Le=t.stepLessZooming,Ve=Le===void 0?!1:Le,Qe=t.flowProps,Re=t.minZoom,Xe=Re===void 0?.1:Re,We=t.maxZoom,Ye=We===void 0?2:We,Je=t.className,ze=t.layoutOptions,Ie=ze===void 0?{rankdir:"LR",align:"UL",nodesep:100,ranksep:200}:ze,ve=(0,s.useContext)(ge.b),qe=ve.miniMapPosition,Ue=ve.flowDataAdapter,en=ve.flowViewRef,nn=ve.nodes,tn=ve.edges,$e=ee(),on=$e.styles,an=$e.cx,rn=(0,s.useMemo)(function(){return i()(i()({},Fe),{},{BasicNode:p.Z,BasicNodeGroup:f,default:be})},[]),sn=(0,s.useMemo)(function(){return i()(i()({},Ze),{},{radius:C.Z})},[]),ln=(0,B.Sj)(),Ge=ln.zoom;(0,s.useEffect)(function(){Ue(he,Oe,1,Me,Ie)},[he,Oe]),(0,s.useEffect)(function(){Ve&&Ue(he,Oe,Ge,Me,Ie)},[Ge]);var dn=(0,s.useCallback)(function(X){ue(X)},[ue]),cn=(0,s.useCallback)(function(X){Ne(X)},[Ne]),un=(0,s.useCallback)(function(X,_e,fn){R(X,_e,fn)},[R]),pn=(0,s.useCallback)(function(){},[]),gn=(0,s.useCallback)(function(X){_(X)},[_]),xn=(0,s.useCallback)(function(X,_e){y(X,_e)},[y]),mn=(0,s.useCallback)(function(X,_e){de(X,_e)},[de]);return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(B.x$,i()(i()({ref:en,className:an(on.container,Je),onNodeDragStart:un,onNodeDragStop:pn,onPaneClick:gn,onNodeClick:xn,onEdgeClick:mn,onNodesChange:dn,onEdgesChange:cn,nodes:nn,edges:tn,nodeTypes:rn,edgeTypes:sn,panOnScroll:!0,fitView:!0,minZoom:Xe,maxZoom:Ye},Qe),{},{children:[ke&&(0,e.jsx)(D.Z,{language:I.S.zh_CN,position:qe,className:"pro-flow-controller"}),Ke,He&&(0,e.jsx)(W.Z,{style:{backgroundColor:"#F7F8FA"},gap:10,color:"#bac3d4",variant:h.T.Dots})]}))})},xe=Ee,De=n(98966),Se=function(t){var O=(0,s.useContext)(ge.b),R=O.isUseProvider;return R?(0,e.jsx)(xe,i()({},t)):(0,e.jsx)(De.G,{children:(0,e.jsx)(xe,i()({},t))})},we=Se},37763:function(ne,j,n){n.d(j,{$D:function(){return V},BP:function(){return U},H0:function(){return m},HM:function(){return u},QB:function(){return v},Ts:function(){return B},Vc:function(){return s},_H:function(){return M},eK:function(){return d},hK:function(){return i},l8:function(){return H},mc:function(){return g},ph:function(){return T},r0:function(){return p}});var v=function(S){return S.SELECT="SELECT",S.SUB_SELECT="SUB_SELECT",S.DANGER="DANGER",S.SUB_DANGER="SUB_DANGER",S.WARNING="WARNING",S.SUB_WARNING="SUB_WARNING",S.DEFAULT="DEFAULT",S}({}),i="nodeSelected",s="nodeSubSelected",g="nodeDanger",d="nodeSubDanger",p="nodeWarning",u="nodeSubWarning",M="edgeSelected",T="edgeSubSelected",B="edgeDanger",H="edgeSubDanger",m="edgeWarning",U="edgeSubWarning",V="initialNode",F="nodeWrap"},98966:function(ne,j,n){n.d(j,{G:function(){return ae}});var v=n(15558),i=n.n(v),s=n(26068),g=n.n(s),d=n(48305),p=n.n(d),u=n(50959),M=n(6951),T=n(79511),B=n.n(T),H=n(73523),m=n(37763);function U(x,e,a){var l={};return x.forEach(function(o){var r=o.width,c=o.height,f=o.select,h=f===void 0?m.QB.DEFAULT:f,w=o.type,C=w===void 0?"BasicNode":w,D=o.position,I=D===void 0?{x:NaN,y:NaN}:D;l[o.id]={id:o.id,data:o.data,select:h,type:C,right:[],left:[],position:I,width:r,height:c,zoom:a,label:o.label}}),e.forEach(function(o){var r,c,f=o.source,h=o.target;(r=l[f].right)===null||r===void 0||r.push(h),(c=l[h].left)===null||c===void 0||c.push(f)}),l}function V(x,e,a,l){if(!a)return{_nodes:x.map(function(r){var c=r.position,f=c.x,h=c.y;return g()(g()({},r),{},{position:{x:isNaN(f)?1:f,y:isNaN(h)?1:h}})}),_edges:e};var o=new(B()).graphlib.Graph().setDefaultEdgeLabel(function(){return{}});return o.setGraph(g()({},l)),e.forEach(function(r){return o.setEdge(r.source,r.target)}),x.forEach(function(r){return o.setNode(r.id,r)}),B().layout(o),{_nodes:x.map(function(r){var c=o.node(r.id),f=c.x,h=c.y,w=r.position,C=w.x,D=w.y;return g()(g()({},r),{},{position:{x:isNaN(C)?f:C,y:isNaN(D)?h:D}})}),_edges:e}}function F(x){var e=x.filter(function(o){var r,c;return((r=o.className)===null||r===void 0?void 0:r.includes("edgeSelected"))||((c=o.className)===null||c===void 0?void 0:c.includes("edgeSubSelected"))}),a=x.filter(function(o){var r,c;return((r=o.className)===null||r===void 0?void 0:r.includes("edgeDanger"))||((c=o.className)===null||c===void 0?void 0:c.includes("edgeSubDanger"))}),l=x.filter(function(o){var r,c,f,h;return!((r=o.className)!==null&&r!==void 0&&r.includes("edgeSelected"))&&!((c=o.className)!==null&&c!==void 0&&c.includes("edgeSubSelected"))&&!((f=o.className)!==null&&f!==void 0&&f.includes("edgeDanger"))&&!((h=o.className)!==null&&h!==void 0&&h.includes("edgeSubDanger"))});return[].concat(i()(l),i()(a),i()(e))}function S(x){switch(x){case m.QB.SELECT:return m._H;case m.QB.SUB_SELECT:return m.ph;case m.QB.DANGER:return m.Ts;case m.QB.SUB_DANGER:return m.l8;case m.QB.WARNING:return m.H0;case m.QB.SUB_WARNING:return m.BP;default:return"edgeDefault"}}function Q(x){return x.map(function(e){var a=e.source,l=e.target,o=e.select,r=o===void 0?m.QB.DEFAULT:o,c=e.type,f=c===void 0?"smoothstep":c,h=e.label,w=e.animated,C=e.sourceHandle,D=e.targetHandle,I=e.className,W=e.data,z=e.id,$=z===void 0?"".concat(a,"-").concat(l):z;return{id:$,source:a,target:l,sourceHandle:C,targetHandle:D,type:f,data:W,animated:w,label:h,className:S(r)+" "+I}})}var Z=function(e){return e.type==="BasicNode"?{width:320,height:83}:e.type==="BasicNodeGroup"?{width:355,height:1100}:{width:e.width||1,height:e.height||1}},P=function(e){var a,l,o,r;return((a=e.left)===null||a===void 0?void 0:a.length)===0&&((l=e.right)===null||l===void 0?void 0:l.length)===0?"none":((o=e.left)===null||o===void 0?void 0:o.length)===0?"input":((r=e.right)===null||r===void 0?void 0:r.length)===0?"output":"both"},te=function(e){return e.type==="BasicNode"?g()(g()({},e.data),{},{selectType:e.select,label:e.label,zoom:e.zoom,handleType:P(e)}):e.type==="BasicNodeGroup"?{data:e.data,selectType:e.select,label:e.label,zoom:e.zoom,handleType:P(e)}:g()(g()({},e.data),{},{selectType:e.select,zoom:e.zoom,label:e.label})},E=function(e,a,l,o){var r=[],c=Q(a);Object.keys(e).forEach(function(C){var D=e[C],I=D.type,W=Z(D),z=W.width,$=W.height;r.push({sourcePosition:M.Ly.Right,targetPosition:M.Ly.Left,id:D.id,position:D.position,type:I,width:z,height:$,className:(0,H.cx)(m.$D),data:te(D)})});var f=V(r,c,l,o),h=f._nodes,w=f._edges;return{nodes:h,edges:F(w)}},Y=n(14981),J=n(11527),k=function(e){var a=e.children,l=(0,u.useState)({x:10,y:10}),o=p()(l,2),r=o[0],c=o[1],f=(0,M._K)(),h=(0,u.useState)([]),w=p()(h,2),C=w[0],D=w[1],I=(0,u.useState)([]),W=p()(I,2),z=W[0],$=W[1],L=(0,u.useState)(void 0),q=p()(L,2),A=q[0],se=q[1],ce=(0,u.useState)({}),le=p()(ce,2),N=le[0],ee=le[1],ye=(0,u.useState)(!0),be=p()(ye,2),ge=be[0],je=be[1],re=(0,u.useState)({rankdir:"LR",align:"UL",nodesep:100,ranksep:200}),Ee=p()(re,2),xe=Ee[0],De=Ee[1],Se=(0,u.useRef)(),we=(0,u.useCallback)(function(){var _=E(N,A,ge,xe),b=_.nodes,y=_.edges;D(b),$(y)},[N,A,ge,xe]),K=(0,u.useCallback)(function(_,b,y,ie,de){_.length!==0&&(ee(U(_,b,y)),se(b),je(ie),De(de))},[]);(0,u.useEffect)(function(){Object.keys(N).length&&A&&we()},[N,A]);var t=(0,u.useCallback)(function(_,b){var y=N[_];y&&(y.select=b,ee(g()({},N)))},[N]),O=(0,u.useCallback)(function(_,b){_.forEach(function(y){t(y,b)})},[N]),R=(0,u.useCallback)(function(_,b){var y=A==null?void 0:A.find(function(ie){return ie.id===_});y&&(y.select=b,se(i()(A)))},[A]),G=(0,u.useCallback)(function(_,b){_.forEach(function(y){R(y,b)})},[N]);return(0,J.jsx)(Y.b.Provider,{value:{nodes:C,edges:z,isUseProvider:!0,reactFlowInstance:f,miniMapPosition:r,flowViewRef:Se,setMiniMapPosition:c,flowDataAdapter:K,updateSelectNode:t,updateSelectNodes:O,updateSelectEdge:R,updateSelectEdges:G},children:a})},ae=function(e){var a=e.children;return(0,J.jsx)(M.tV,{children:(0,J.jsx)(k,{children:a})})}},14981:function(ne,j,n){n.d(j,{b:function(){return i}});var v=n(50959),i=(0,v.createContext)({})},88604:function(ne,j,n){var v=n(82092),i=n.n(v),s=n(53649),g=n.n(s),d=n(18019),p=n(83529),u=n(54260),M=n(59318),T=n(56997),B=n(69153),H=n(88685),m=n(96855),U=n(73523),V=n(50959),F=n(24819),S=n(6951),Q=n(53234),Z=n(31445),P=n(11527),te,E,Y,J=(0,U.kc)(function(x,e){var a=x.css,l=x.token,o=e.x,r=e.y;return{container:a(te||(te=g()([`
      position: absolute;
      bottom: `,`px;
      right: `,`px;
      z-index: 100;
      transition: right 0.2s ease;

      .actionBox {
        width: 192px;
        height: 38px;
        display: flex;
        justify-content: space-evenly;
      }

      .ant-btn-default:not(:disabled):not(.ant-btn-dangerous) {
        border-color: `,`;
      }
    `])),r,o,l.colorBorder),visible:a(E||(E=g()([`
      display: none;
    `]))),minimap:a(Y||(Y=g()([`
      position: relative !important;
      right: 0;
      bottom: 0;

      overflow: hidden;

      height: 150px;
      margin: 0;

      background: `,`;
      border-radius: 4px;
    `])),l.colorBgContainer)}}),k=i()(i()({},Z.S.zh_CN,{zoomIn:"\u653E\u5927",zoomOut:"\u7F29\u5C0F",zoomFit:"\u81EA\u9002\u5E94\u753B\u5E03",zoomTo1:"\u7F29\u653E\u4E3A 1:1",zoomTo2:"\u7F29\u653E\u4E3A 2:1"}),Z.S.en_US,{zoomIn:"Zoom In",zoomOut:"Zoom Out",zoomFit:"Zoom Fit",zoomTo1:"Zoom To 1:1",zoomTo2:"Zoom To 2:1"}),ae=function(e){var a=e.visible,l=a===void 0?!0:a,o=e.className,r=o===void 0?"":o,c=e.position,f=c===void 0?{x:10,y:10}:c,h=e.language,w=h===void 0?Z.S.zh_CN:h,C=(0,S._K)(),D=(0,S.Sj)(),I=D.zoom,W=J(f),z=W.styles,$=W.cx,L=W.theme,q=function(){C.zoomIn()},A=function(){C.zoomOut()},se=function(){C.fitView()},ce=function(){I===1?C.zoomTo(.5):C.zoomTo(1)},le=[{icon:(0,P.jsx)(d.Z,{}),title:k[w].zoomOut,onClick:A},{title:I===1?k[w].zoomTo2:k[w].zoomTo1,onClick:ce,children:Math.round(I*100)+"%",style:{width:56}},{icon:(0,P.jsx)(p.Z,{}),title:k[w].zoomIn,onClick:q},{icon:(0,P.jsx)(u.Z,{}),title:k[w].zoomFit,onClick:se}];return(0,P.jsxs)(F.D,{gap:12,align:"center",className:$(z.container,r,!l&&z.visible),children:[(0,P.jsx)(M.ZP,{theme:{algorithm:[L.isDarkMode?T.Z.darkAlgorithm:T.Z.defaultAlgorithm,T.Z.compactAlgorithm]},children:(0,P.jsx)(F.D,{horizontal:!0,align:"center",children:(0,P.jsx)(B.Z,{className:"actionBox",children:le.map(function(N,ee){return(0,P.jsx)(H.Z,{arrow:!1,title:N.title,children:(0,P.jsx)(m.ZP,{onClick:N.onClick,icon:N.icon,style:N.style,children:N.children})},ee)})})})}),(0,P.jsx)(Q.a,{className:z.minimap,maskColor:L.colorBgMask,nodeColor:function(ee){return ee.data.color?ee.data.color:L.colorFill}})]})};j.Z=ae},70235:function(ne,j,n){n.d(j,{Z:function(){return d}});var v=n(48305),i=n.n(v),s=n(6951),g=n(11527);function d(p){var u=p.sourceX,M=p.sourceY,T=p.targetX,B=p.targetY,H=p.sourcePosition,m=p.targetPosition,U=p.style,V=U===void 0?{}:U,F=p.markerEnd,S=(0,s.OW)({sourceX:u,sourceY:M,sourcePosition:H,targetX:T,targetY:B,targetPosition:m,borderRadius:50}),Q=i()(S,1),Z=Q[0];return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(s.u5,{path:Z,markerEnd:F,style:V})})}},31445:function(ne,j,n){n.d(j,{Q:function(){return v},S:function(){return i}});var v=function(s){return s.SELECT="SELECT",s.SUB_SELECT="SUB_SELECT",s.DANGER="DANGER",s.SUB_DANGER="SUB_DANGER",s.WARNING="WARNING",s.SUB_WARNING="SUB_WARNING",s.DEFAULT="DEFAULT",s}({}),i=function(s){return s.zh_CN="zh_CN",s.en_US="en_US",s}({})},19601:function(ne,j,n){n.d(j,{X:function(){return s}});var v=n(37763),i=n(31445);function s(g){switch(g){case i.Q.SELECT:return v.hK;case i.Q.SUB_SELECT:return v.Vc;case i.Q.DANGER:return v.mc;case i.Q.SUB_DANGER:return v.eK;case i.Q.WARNING:return v.r0;case i.Q.SUB_WARNING:return v.HM;default:return"nodeDefault"}}}}]);
