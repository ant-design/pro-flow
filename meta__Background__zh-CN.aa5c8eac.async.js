!(function(){"use strict";var te=Object.defineProperty,oe=Object.defineProperties;var re=Object.getOwnPropertyDescriptors;var sn=Object.getOwnPropertySymbols;var zn=Object.prototype.hasOwnProperty,On=Object.prototype.propertyIsEnumerable;var Ln=(s,a,e)=>a in s?te(s,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[a]=e,z=(s,a)=>{for(var e in a||(a={}))zn.call(a,e)&&Ln(s,e,a[e]);if(sn)for(var e of sn(a))On.call(a,e)&&Ln(s,e,a[e]);return s},J=(s,a)=>oe(s,re(a));var mn=(s,a)=>{var e={};for(var n in s)zn.call(s,n)&&a.indexOf(n)<0&&(e[n]=s[n]);if(s!=null&&sn)for(var n of sn(s))a.indexOf(n)<0&&On.call(s,n)&&(e[n]=s[n]);return e};(self.webpackChunk_ant_design_pro_flow=self.webpackChunk_ant_design_pro_flow||[]).push([[5313],{76575:function(s,a,e){e.r(a),e.d(a,{demos:function(){return T}});var n=e(90228),N=e.n(n),r=e(87999),C=e.n(r),M=e(75271),T={"background-demo-demos":{component:M.memo(M.lazy(function(){return e.e(7403).then(e.bind(e,82712))})),asset:{type:"BLOCK",id:"background-demo-demos",refAtomIds:["Background"],dependencies:{"index.tsx":{type:"FILE",value:e(45351).Z},"@ant-design/pro-flow":{type:"NPM",value:"1.3.9"},antd:{type:"NPM",value:"5.17.4"},"antd-style":{type:"NPM",value:"3.6.2"},react:{type:"NPM",value:"18.3.1"}},entry:"index.tsx"},context:{"@ant-design/pro-flow":e(66880),antd:e(93825),"antd-style":e(26164),react:e(75271)},renderOpts:{compile:function(){var $=C()(N()().mark(function G(){var k,V=arguments;return N()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,e.e(9425).then(e.bind(e,59425));case 2:return g.abrupt("return",(k=g.sent).default.apply(k,V));case 3:case"end":return g.stop()}},G)}));function W(){return $.apply(this,arguments)}return W}()}},"background-demo-double":{component:M.memo(M.lazy(function(){return e.e(7403).then(e.bind(e,98573))})),asset:{type:"BLOCK",id:"background-demo-double",refAtomIds:["Background"],dependencies:{"index.tsx":{type:"FILE",value:e(26941).Z},"@ant-design/pro-flow":{type:"NPM",value:"1.3.9"},"antd-style":{type:"NPM",value:"3.6.2"},react:{type:"NPM",value:"18.3.1"},"...tsx":{type:"FILE",value:e(38632).Z},reactflow:{type:"NPM",value:"11.11.3"}},entry:"index.tsx"},context:{"@/index":e(66880),"antd-style":e(26164),react:e(75271),"...tsx":e(87340),reactflow:e(53211)},renderOpts:{compile:function(){var $=C()(N()().mark(function G(){var k,V=arguments;return N()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,e.e(9425).then(e.bind(e,59425));case 2:return g.abrupt("return",(k=g.sent).default.apply(k,V));case 3:case"end":return g.stop()}},G)}));function W(){return $.apply(this,arguments)}return W}()}}}},99578:function(s,a,e){e.d(a,{F:function(){return C}});var n=e(86470),N=e(10394),r=e(75271),C=function(){var T=N.ZP.useBreakpoint();return(0,r.useMemo)(function(){return(0,n.f)(T)},[T])}},26164:function(s,a,e){e.r(a),e.d(a,{StyleProvider:function(){return n.V9},ThemeProvider:function(){return n.f6},createGlobalStyle:function(){return n.vJ},createInstance:function(){return n.Fs},createStyles:function(){return n.kc},createStylish:function(){return n.Yz},css:function(){return n.iv},cx:function(){return n.cx},extractStaticStyle:function(){return n.Y2},injectGlobal:function(){return n.hi},keyframes:function(){return n.F4},setupStyled:function(){return n.Us},styleManager:function(){return n.Rr},useAntdStylish:function(){return N.n},useAntdTheme:function(){return r.A},useAntdToken:function(){return C.S},useResponsive:function(){return M.F},useTheme:function(){return n.Fg},useThemeMode:function(){return T.r}});var n=e(85833),N=e(6493),r=e(66225),C=e(51395),M=e(99578),T=e(74259)},13206:function(s,a,e){e.r(a),e.d(a,{texts:function(){return n}});const n=[{value:"\u5C5E\u6027\u540D",paraId:0,tocIndex:2},{value:"\u7C7B\u578B",paraId:0,tocIndex:2},{value:"\u63CF\u8FF0",paraId:0,tocIndex:2},{value:"\u9ED8\u8BA4\u503C",paraId:0,tocIndex:2},{value:"\u5FC5\u9009",paraId:0,tocIndex:2},{value:"id",paraId:0,tocIndex:2},{value:"string",paraId:0,tocIndex:2},{value:"\u5982\u679C\u8981\u663E\u793A\u591A\u4E2A\u80CC\u666F\uFF0C\u5219\u9700\u8981",paraId:0,tocIndex:2},{value:"-",paraId:0,tocIndex:2},{value:"-",paraId:0,tocIndex:2},{value:"className",paraId:0,tocIndex:2},{value:"string",paraId:0,tocIndex:2},{value:"\u81EA\u5B9A\u4E49\u7C7B\u540D",paraId:0,tocIndex:2},{value:"-",paraId:0,tocIndex:2},{value:"-",paraId:0,tocIndex:2},{value:"variant",paraId:0,tocIndex:2},{value:"BackgroundVariant",paraId:0,tocIndex:2},{value:"\u80CC\u666F\u56FE\u6848\u7C7B\u578B",paraId:0,tocIndex:2},{value:"-",paraId:0,tocIndex:2},{value:"-",paraId:0,tocIndex:2},{value:"gap",paraId:0,tocIndex:2},{value:"number |[number, number]",paraId:0,tocIndex:2},{value:"\u6A21\u5F0F\u4E4B\u95F4\u7684\u5DEE\u8DDD\u3002\u60A8\u53EF\u4EE5\u4F20\u9012\u4E00\u4E2A\u5305\u542B\u4E24\u4E2A\u6570\u5B57\u7684\u6570\u7EC4\u6765\u6307\u5B9A x \u95F4\u9699\u548C y \u95F4\u9699\u3002",paraId:0,tocIndex:2},{value:"-",paraId:0,tocIndex:2},{value:"-",paraId:0,tocIndex:2},{value:"size",paraId:0,tocIndex:2},{value:"number",paraId:0,tocIndex:2},{value:"\u201D \u70B9 \u201C\u7684\u534A\u5F84\u6216\u201D \u5341\u5B57 \u201C\u7684\u5C3A\u5BF8",paraId:0,tocIndex:2},{value:"-",paraId:0,tocIndex:2},{value:"-",paraId:0,tocIndex:2},{value:"lineWidth",paraId:0,tocIndex:2},{value:"number",paraId:0,tocIndex:2},{value:"\u201D \u7EBF \u201C\u6216\u201D \u5341\u5B57 \u201C\u7684\u5BBD\u5EA6",paraId:0,tocIndex:2},{value:"-",paraId:0,tocIndex:2},{value:"-",paraId:0,tocIndex:2},{value:"offset",paraId:0,tocIndex:2},{value:"number",paraId:0,tocIndex:2},{value:"\u56FE\u6848\u504F\u79FB",paraId:0,tocIndex:2},{value:"-",paraId:0,tocIndex:2},{value:"-",paraId:0,tocIndex:2},{value:"color",paraId:0,tocIndex:2},{value:"string",paraId:0,tocIndex:2},{value:"\u56FE\u6848\u989C\u8272",paraId:0,tocIndex:2},{value:"-",paraId:0,tocIndex:2},{value:"-",paraId:0,tocIndex:2},{value:"style",paraId:0,tocIndex:2},{value:"CSSProperties",paraId:0,tocIndex:2},{value:"\u6837\u5F0F\u5C5E\u6027",paraId:0,tocIndex:2},{value:"-",paraId:0,tocIndex:2},{value:"-",paraId:0,tocIndex:2},{value:"\u5C5E\u6027\u540D",paraId:1,tocIndex:3},{value:"\u7C7B\u578B",paraId:1,tocIndex:3},{value:"\u63CF\u8FF0",paraId:1,tocIndex:3},{value:"\u9ED8\u8BA4\u503C",paraId:1,tocIndex:3},{value:"\u5FC5\u9009",paraId:1,tocIndex:3},{value:"lines",paraId:1,tocIndex:3},{value:"string",paraId:1,tocIndex:3},{value:"\u7EBF",paraId:1,tocIndex:3},{value:"-",paraId:1,tocIndex:3},{value:"-",paraId:1,tocIndex:3},{value:"dots",paraId:1,tocIndex:3},{value:"string",paraId:1,tocIndex:3},{value:"\u70B9",paraId:1,tocIndex:3},{value:"-",paraId:1,tocIndex:3},{value:"-",paraId:1,tocIndex:3},{value:"cross",paraId:1,tocIndex:3},{value:"string",paraId:1,tocIndex:3},{value:"\u5341\u5B57",paraId:1,tocIndex:3},{value:"-",paraId:1,tocIndex:3},{value:"-",paraId:1,tocIndex:3}]},26941:function(s,a){a.Z=`import { FlowView } from '@/index';
import { createStyles } from 'antd-style';
import { memo } from 'react';
import Background, { BackgroundVariant } from '..';

const useStyles = createStyles(({ css }) => ({
  container: css\`
    width: 100%;
    height: 600px;
  \`,
}));

const BackgroundDemo = memo(() => {
  const { styles } = useStyles();

  return (
    <div className={styles.container}>
      <FlowView nodes={[]} edges={[]} miniMap={false} background={false}>
        <Background id="1" gap={10} color="yellow" variant={BackgroundVariant.Lines} />
        <Background id="2" gap={100} offset={1} color="red" variant={BackgroundVariant.Lines} />
      </FlowView>
    </div>
  );
});

export default BackgroundDemo;
`},45351:function(s,a){a.Z=`import { Background, BackgroundVariant, FlowPanel, FlowView } from '@ant-design/pro-flow';
import { Button } from 'antd';
import { createStyles } from 'antd-style';
import { memo, useState } from 'react';

const useStyles = createStyles(({ css }) => ({
  container: css\`
    width: 100%;
    height: 600px;
  \`,
}));

const BackgroundDemo = memo(() => {
  const [variant, setVariant] = useState<BackgroundVariant>(BackgroundVariant.Cross);
  const { styles } = useStyles();

  return (
    <div className={styles.container}>
      <FlowView nodes={[]} edges={[]} miniMap={false} background={false}>
        <FlowPanel position={'top-left'}>
          <div>variant:</div>
          <Button onClick={() => setVariant(BackgroundVariant.Dots)}>dots</Button>
          <Button onClick={() => setVariant(BackgroundVariant.Lines)}>lines</Button>
          <Button onClick={() => setVariant(BackgroundVariant.Cross)}>cross</Button>
        </FlowPanel>
        <Background variant={variant} />
      </FlowView>
    </div>
  );
});

export default BackgroundDemo;
`},38632:function(s,a){a.Z=`import { CSSProperties } from 'react';
import { Background, BackgroundVariant } from 'reactflow';

interface BackgroundProps {
  variant?: BackgroundVariant;
  gap?: number | [number, number];
  size?: number;
  lineWidth?: number;
  offset?: number;
  color?: string;
  style?: CSSProperties;
  className?: string;
  id?: string;
}

export default (props: BackgroundProps) => {
  const { gap = 10, color = '#bac3d4' } = props;

  return <Background {...props} gap={gap} color={color} />;
};

export { BackgroundVariant };
`},53211:function(s,a,e){e.r(a),e.d(a,{Background:function(){return gn.A},BackgroundVariant:function(){return gn.T},BaseEdge:function(){return n.u5},BezierEdge:function(){return n.Jd},ConnectionLineType:function(){return n.t8},ConnectionMode:function(){return n.jD},ControlButton:function(){return V},Controls:function(){return Rn},EdgeLabelRenderer:function(){return n.XQ},EdgeText:function(){return n.f6},Handle:function(){return n.HH},MarkerType:function(){return n.QZ},MiniMap:function(){return N.a},NodeResizeControl:function(){return cn},NodeResizer:function(){return Qn},NodeToolbar:function(){return Zn},PanOnScrollMode:function(){return n.IY},Panel:function(){return n.s_},Position:function(){return n.Ly},ReactFlow:function(){return n.x$},ReactFlowProvider:function(){return n.tV},ResizeControlVariant:function(){return H},SelectionMode:function(){return n.oW},SimpleBezierEdge:function(){return n.y7},SmoothStepEdge:function(){return n.Su},StepEdge:function(){return n.xC},StraightEdge:function(){return n.r4},addEdge:function(){return n.Z_},applyEdgeChanges:function(){return n.yn},applyNodeChanges:function(){return n.Fb},boxToRect:function(){return n.GA},clamp:function(){return n.uZ},default:function(){return n.x$},getBezierPath:function(){return n.OQ},getBoundsOfRects:function(){return n.oI},getConnectedEdges:function(){return n.my},getIncomers:function(){return n.vG},getMarkerEnd:function(){return n.cf},getNodePositionWithOrigin:function(){return n.VP},getNodesBounds:function(){return n.RX},getOutgoers:function(){return n.xA},getRectOfNodes:function(){return n.YH},getSimpleBezierPath:function(){return n.bS},getSmoothStepPath:function(){return n.OW},getStraightPath:function(){return n.Hm},getTransformForBounds:function(){return n.lx},getViewportForBounds:function(){return n.$i},handleParentExpand:function(){return n.Wx},internalsSymbol:function(){return n.xB},isEdge:function(){return n.un},isNode:function(){return n.UG},rectToBox:function(){return n.RF},updateEdge:function(){return n.sN},useEdges:function(){return n.Mi},useEdgesState:function(){return n.ll},useGetPointerPosition:function(){return n.wE},useKeyPress:function(){return n.Kr},useNodeId:function(){return n.hR},useNodes:function(){return n.SM},useNodesInitialized:function(){return n.B},useNodesState:function(){return n.Rr},useOnSelectionChange:function(){return n.AQ},useOnViewportChange:function(){return n.CV},useReactFlow:function(){return n._K},useStore:function(){return n.oR},useStoreApi:function(){return n.AC},useUpdateNodeInternals:function(){return n.Bn},useViewport:function(){return n.Sj}});var n=e(25436),N=e(28587),r=e(75271),C=e(28680),M=e(89986);function T(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},r.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function $(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},r.createElement("path",{d:"M0 0h32v4.2H0z"}))}function W(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},r.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function G(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},r.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function k(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},r.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const V=d=>{var f=d,{children:t,className:o}=f,i=mn(f,["children","className"]);return r.createElement("button",z({type:"button",className:(0,C.Z)(["react-flow__controls-button",o])},i),t)};V.displayName="ControlButton";const ln=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),g=({style:t,showZoom:o=!0,showFitView:i=!0,showInteractive:d=!0,fitViewOptions:f,onZoomIn:c,onZoomOut:l,onFitView:u,onInteractiveChange:p,className:w,children:E,position:A="bottom-left"})=>{const L=(0,n.AC)(),[I,S]=(0,r.useState)(!1),{isInteractive:h,minZoomReached:P,maxZoomReached:O}=(0,n.oR)(ln,M.X),{zoomIn:b,zoomOut:X,fitView:K}=(0,n._K)();if((0,r.useEffect)(()=>{S(!0)},[]),!I)return null;const m=()=>{b(),c==null||c()},R=()=>{X(),l==null||l()},Y=()=>{K(f),u==null||u()},B=()=>{L.setState({nodesDraggable:!h,nodesConnectable:!h,elementsSelectable:!h}),p==null||p(!h)};return r.createElement(n.s_,{className:(0,C.Z)(["react-flow__controls",w]),position:A,style:t,"data-testid":"rf__controls"},o&&r.createElement(r.Fragment,null,r.createElement(V,{onClick:m,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:O},r.createElement(T,null)),r.createElement(V,{onClick:R,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:P},r.createElement($,null))),i&&r.createElement(V,{className:"react-flow__controls-fitview",onClick:Y,title:"fit view","aria-label":"fit view"},r.createElement(W,null)),d&&r.createElement(V,{className:"react-flow__controls-interactive",onClick:B,title:"toggle interactivity","aria-label":"toggle interactivity"},h?r.createElement(k,null):r.createElement(G,null)),E)};g.displayName="Controls";var Rn=(0,r.memo)(g),gn=e(42622),Tn=e(30967);const Dn=t=>{var o;return(o=t.domNode)==null?void 0:o.querySelector(".react-flow__renderer")};function Fn({children:t}){const o=(0,n.oR)(Dn);return o?(0,Tn.createPortal)(t,o):null}const kn=(t,o)=>{var i,d,f,c,l,u;return((i=t==null?void 0:t.positionAbsolute)==null?void 0:i.x)===((d=o==null?void 0:o.positionAbsolute)==null?void 0:d.x)&&((f=t==null?void 0:t.positionAbsolute)==null?void 0:f.y)===((c=o==null?void 0:o.positionAbsolute)==null?void 0:c.y)&&(t==null?void 0:t.width)===(o==null?void 0:o.width)&&(t==null?void 0:t.height)===(o==null?void 0:o.height)&&(t==null?void 0:t.selected)===(o==null?void 0:o.selected)&&((l=t==null?void 0:t[n.xB])==null?void 0:l.z)===((u=o==null?void 0:o[n.xB])==null?void 0:u.z)},Hn=(t,o)=>t.length===o.length&&t.every((i,d)=>kn(i,o[d])),bn=t=>({transform:t.transform,nodeOrigin:t.nodeOrigin,selectedNodesCount:t.getNodes().filter(o=>o.selected).length});function Xn(t,o,i,d,f){let c=.5;f==="start"?c=0:f==="end"&&(c=1);let l=[(t.x+t.width*c)*o[2]+o[0],t.y*o[2]+o[1]-d],u=[-100*c,-100];switch(i){case n.Ly.Right:l=[(t.x+t.width)*o[2]+o[0]+d,(t.y+t.height*c)*o[2]+o[1]],u=[0,-100*c];break;case n.Ly.Bottom:l[1]=(t.y+t.height)*o[2]+o[1]+d,u[1]=0;break;case n.Ly.Left:l=[t.x*o[2]+o[0]-d,(t.y+t.height*c)*o[2]+o[1]],u=[-100,-100*c];break}return`translate(${l[0]}px, ${l[1]}px) translate(${u[0]}%, ${u[1]}%)`}function Zn(w){var E=w,{nodeId:t,children:o,className:i,style:d,isVisible:f,position:c=n.Ly.Top,offset:l=10,align:u="center"}=E,p=mn(E,["nodeId","children","className","style","isVisible","position","offset","align"]);const A=(0,n.hR)(),L=(0,r.useCallback)(m=>(Array.isArray(t)?t:[t||A||""]).reduce((Y,B)=>{const _=m.nodeInternals.get(B);return _&&Y.push(_),Y},[]),[t,A]),I=(0,n.oR)(L,Hn),{transform:S,nodeOrigin:h,selectedNodesCount:P}=(0,n.oR)(bn,M.X);if(!(typeof f=="boolean"?f:I.length===1&&I[0].selected&&P===1)||!I.length)return null;const b=(0,n.RX)(I,h),X=Math.max(...I.map(m=>{var R;return(((R=m[n.xB])==null?void 0:R.z)||1)+1})),K=z({position:"absolute",transform:Xn(b,S,c,l,u),zIndex:X},d);return r.createElement(Fn,null,r.createElement("div",z({style:K,className:(0,C.Z)(["react-flow__node-toolbar",i])},p),o))}var Un=e(45452),Kn=e(41468),H;(function(t){t.Line="line",t.Handle="handle"})(H||(H={}));function Yn({width:t,prevWidth:o,height:i,prevHeight:d,invertX:f,invertY:c}){const l=t-o,u=i-d,p=[l>0?1:l<0?-1:0,u>0?1:u<0?-1:0];return l&&f&&(p[0]=p[0]*-1),u&&c&&(p[1]=p[1]*-1),p}const vn={width:0,height:0,x:0,y:0},$n=J(z({},vn),{pointerX:0,pointerY:0,aspectRatio:1});function Wn({nodeId:t,position:o,variant:i=H.Handle,className:d,style:f={},children:c,color:l,minWidth:u=10,minHeight:p=10,maxWidth:w=Number.MAX_VALUE,maxHeight:E=Number.MAX_VALUE,keepAspectRatio:A=!1,shouldResize:L,onResizeStart:I,onResize:S,onResizeEnd:h}){const P=(0,n.hR)(),O=typeof t=="string"?t:P,b=(0,n.AC)(),X=(0,r.useRef)(null),K=(0,r.useRef)($n),m=(0,r.useRef)(vn),R=(0,n.wE)(),Y=i===H.Line?"right":"bottom-right",B=o!=null?o:Y;(0,r.useEffect)(()=>{if(!X.current||!O)return;const In=(0,Kn.Z)(X.current),q=B.includes("right")||B.includes("left"),nn=B.includes("bottom")||B.includes("top"),en=B.includes("left"),tn=B.includes("top"),qn=(0,Un.Z)().on("start",D=>{var on,j,Z,rn;const v=b.getState().nodeInternals.get(O),{xSnapped:dn,ySnapped:fn}=R(D);m.current={width:(on=v==null?void 0:v.width)!=null?on:0,height:(j=v==null?void 0:v.height)!=null?j:0,x:(Z=v==null?void 0:v.position.x)!=null?Z:0,y:(rn=v==null?void 0:v.position.y)!=null?rn:0},K.current=J(z({},m.current),{pointerX:dn,pointerY:fn,aspectRatio:m.current.width/m.current.height}),I==null||I(D,z({},m.current))}).on("drag",D=>{const{nodeInternals:v,triggerNodeChanges:dn}=b.getState(),{xSnapped:fn,ySnapped:on}=R(D),j=v.get(O);if(j){const Z=[],{pointerX:rn,pointerY:ne,width:hn,height:xn,x:yn,y:En,aspectRatio:F}=K.current,{x:Bn,y:Cn,width:wn,height:Sn}=m.current,Pn=Math.floor(q?fn-rn:0),Nn=Math.floor(nn?on-ne:0);let x=(0,n.uZ)(hn+(en?-Pn:Pn),u,w),y=(0,n.uZ)(xn+(tn?-Nn:Nn),p,E);if(A){const U=x/y,Q=q&&nn,an=q&&!nn,un=nn&&!q;x=U<=F&&Q||un?y*F:x,y=U>F&&Q||an?x/F:y,x>=w?(x=w,y=w/F):x<=u&&(x=u,y=u/F),y>=E?(y=E,x=E*F):y<=p&&(y=p,x=p*F)}const Mn=x!==wn,Vn=y!==Sn;if(en||tn){const U=en?yn-(x-hn):yn,Q=tn?En-(y-xn):En,an=U!==Bn&&Mn,un=Q!==Cn&&Vn;if(an||un){const pn={id:j.id,type:"position",position:{x:an?U:Bn,y:un?Q:Cn}};Z.push(pn),m.current.x=pn.position.x,m.current.y=pn.position.y}}if(Mn||Vn){const U={id:O,type:"dimensions",updateStyle:!0,resizing:!0,dimensions:{width:x,height:y}};Z.push(U),m.current.width=x,m.current.height=y}if(Z.length===0)return;const ee=Yn({width:m.current.width,prevWidth:wn,height:m.current.height,prevHeight:Sn,invertX:en,invertY:tn}),An=J(z({},m.current),{direction:ee});if((L==null?void 0:L(D,An))===!1)return;S==null||S(D,An),dn(Z)}}).on("end",D=>{const v={id:O,type:"dimensions",resizing:!1};h==null||h(D,z({},m.current)),b.getState().triggerNodeChanges([v])});return In.call(qn),()=>{In.on(".drag",null)}},[O,B,u,p,w,E,A,R,I,S,h]);const _=B.split("-"),Jn=i===H.Line?"borderColor":"backgroundColor",_n=l?J(z({},f),{[Jn]:l}):f;return r.createElement("div",{className:(0,C.Z)(["react-flow__resize-control","nodrag",..._,i,d]),ref:X,style:_n},c)}var cn=(0,r.memo)(Wn);const Gn=["top-left","top-right","bottom-left","bottom-right"],jn=["top","right","bottom","left"];function Qn({nodeId:t,isVisible:o=!0,handleClassName:i,handleStyle:d,lineClassName:f,lineStyle:c,color:l,minWidth:u=10,minHeight:p=10,maxWidth:w=Number.MAX_VALUE,maxHeight:E=Number.MAX_VALUE,keepAspectRatio:A=!1,shouldResize:L,onResizeStart:I,onResize:S,onResizeEnd:h}){return o?r.createElement(r.Fragment,null,jn.map(P=>r.createElement(cn,{key:P,className:f,style:c,nodeId:t,position:P,variant:H.Line,color:l,minWidth:u,minHeight:p,maxWidth:w,maxHeight:E,onResizeStart:I,keepAspectRatio:A,shouldResize:L,onResize:S,onResizeEnd:h})),Gn.map(P=>r.createElement(cn,{key:P,className:i,style:d,nodeId:t,position:P,color:l,minWidth:u,minHeight:p,maxWidth:w,maxHeight:E,onResizeStart:I,keepAspectRatio:A,shouldResize:L,onResize:S,onResizeEnd:h}))):null}}}]);
}());