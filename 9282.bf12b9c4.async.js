!(function(){var cs=Object.defineProperty,us=Object.defineProperties;var ls=Object.getOwnPropertyDescriptors;var Ao=Object.getOwnPropertySymbols;var xi=Object.prototype.hasOwnProperty,wi=Object.prototype.propertyIsEnumerable;var ci=Math.pow,yi=(lt,dt,$)=>dt in lt?cs(lt,dt,{enumerable:!0,configurable:!0,writable:!0,value:$}):lt[dt]=$,bt=(lt,dt)=>{for(var $ in dt||(dt={}))xi.call(dt,$)&&yi(lt,$,dt[$]);if(Ao)for(var $ of Ao(dt))wi.call(dt,$)&&yi(lt,$,dt[$]);return lt},te=(lt,dt)=>us(lt,ls(dt));var Br=(lt,dt)=>{var $={};for(var l in lt)xi.call(lt,l)&&dt.indexOf(l)<0&&($[l]=lt[l]);if(lt!=null&&Ao)for(var l of Ao(lt))dt.indexOf(l)<0&&wi.call(lt,l)&&($[l]=lt[l]);return $};(self.webpackChunk_ant_design_pro_flow=self.webpackChunk_ant_design_pro_flow||[]).push([[9282],{25171:function(lt,dt,$){var l=$(91182);function ot(J){if(Array.isArray(J))return l(J)}lt.exports=ot,lt.exports.__esModule=!0,lt.exports.default=lt.exports},29673:function(lt){function dt($){if(typeof Symbol!="undefined"&&$[Symbol.iterator]!=null||$["@@iterator"]!=null)return Array.from($)}lt.exports=dt,lt.exports.__esModule=!0,lt.exports.default=lt.exports},5576:function(lt){function dt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}lt.exports=dt,lt.exports.__esModule=!0,lt.exports.default=lt.exports},18840:function(lt){function dt($,l){return l||(l=$.slice(0)),Object.freeze(Object.defineProperties($,{raw:{value:Object.freeze(l)}}))}lt.exports=dt,lt.exports.__esModule=!0,lt.exports.default=lt.exports},67855:function(lt,dt,$){var l=$(25171),ot=$(29673),J=$(61533),j=$(5576);function Nt(it){return l(it)||ot(it)||J(it)||j()}lt.exports=Nt,lt.exports.__esModule=!0,lt.exports.default=lt.exports},78910:function(lt,dt,$){"use strict";$.d(dt,{u5:function(){return pe},HH:function(){return ee},s_:function(){return xr},Ly:function(){return at},x$:function(){return li},tV:function(){return ye},oI:function(){return Cn},VP:function(){return se},YH:function(){return mn},OW:function(){return Dn},_K:function(){return Ur},oR:function(){return Ot},AC:function(){return Lt},Sj:function(){return Pi}});var l=$(50959),ot=$(76295),J=$(1912),j=$(49344),Nt=$(78858),it=$(41468),st=$(13802),gt=$(1904),vt=$(49289),Mt=$(5873),$t=t=>()=>t;function Gt(t,{sourceEvent:n,subject:r,target:i,identifier:s,active:u,x:c,y:f,dx:p,dy:m,dispatch:g}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:p,enumerable:!0,configurable:!0},dy:{value:m,enumerable:!0,configurable:!0},_:{value:g}})}Gt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Ae(t){return!t.ctrlKey&&!t.button}function mr(){return this.parentNode}function vn(t,n){return n==null?{x:t.x,y:t.y}:n}function on(){return navigator.maxTouchPoints||"ontouchstart"in this}function sn(){var t=Ae,n=mr,r=vn,i=on,s={},u=(0,gt.Z)("start","drag","end"),c=0,f,p,m,g,y=0;function v(S){S.on("mousedown.drag",E).filter(i).on("touchstart.drag",D).on("touchmove.drag",T,Mt.Q7).on("touchend.drag touchcancel.drag",R).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function E(S,O){if(!(g||!t.call(this,S,O))){var K=I(this,n.call(this,S,O),S,O,"mouse");K&&((0,it.Z)(S.view).on("mousemove.drag",k,Mt.Dd).on("mouseup.drag",M,Mt.Dd),(0,vt.Z)(S.view),(0,Mt.rG)(S),m=!1,f=S.clientX,p=S.clientY,K("start",S))}}function k(S){if((0,Mt.ZP)(S),!m){var O=S.clientX-f,K=S.clientY-p;m=O*O+K*K>y}s.mouse("drag",S)}function M(S){(0,it.Z)(S.view).on("mousemove.drag mouseup.drag",null),(0,vt.D)(S.view,m),(0,Mt.ZP)(S),s.mouse("end",S)}function D(S,O){if(t.call(this,S,O)){var K=S.changedTouches,F=n.call(this,S,O),B=K.length,W,nt;for(W=0;W<B;++W)(nt=I(this,F,S,O,K[W].identifier,K[W]))&&((0,Mt.rG)(S),nt("start",S,K[W]))}}function T(S){var O=S.changedTouches,K=O.length,F,B;for(F=0;F<K;++F)(B=s[O[F].identifier])&&((0,Mt.ZP)(S),B("drag",S,O[F]))}function R(S){var O=S.changedTouches,K=O.length,F,B;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),F=0;F<K;++F)(B=s[O[F].identifier])&&((0,Mt.rG)(S),B("end",S,O[F]))}function I(S,O,K,F,B,W){var nt=u.copy(),U=(0,st.Z)(W||K,O),rt,N,G;if((G=r.call(S,new Gt("beforestart",{sourceEvent:K,target:v,identifier:B,active:c,x:U[0],y:U[1],dx:0,dy:0,dispatch:nt}),F))!=null)return rt=G.x-U[0]||0,N=G.y-U[1]||0,function et(ut,Et,yt){var P=U,q;switch(ut){case"start":s[B]=et,q=c++;break;case"end":delete s[B],--c;case"drag":U=(0,st.Z)(yt||Et,O),q=c;break}nt.call(ut,S,new Gt(ut,{sourceEvent:Et,subject:G,target:v,identifier:B,active:q,x:U[0]+rt,y:U[1]+N,dx:U[0]-P[0],dy:U[1]-P[1],dispatch:nt}),F)}}return v.filter=function(S){return arguments.length?(t=typeof S=="function"?S:$t(!!S),v):t},v.container=function(S){return arguments.length?(n=typeof S=="function"?S:$t(S),v):n},v.subject=function(S){return arguments.length?(r=typeof S=="function"?S:$t(S),v):r},v.touchable=function(S){return arguments.length?(i=typeof S=="function"?S:$t(!!S),v):i},v.on=function(){var S=u.on.apply(u,arguments);return S===u?v:S},v.clickDistance=function(S){return arguments.length?(y=(S=+S)*S,v):Math.sqrt(y)},v}var We=$(10422);const xe=(0,l.createContext)(null),an=xe.Provider,ie={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,n)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?n.targetHandle:n.sourceHandle}", edge id: ${n.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},En=ie.error001();function Ot(t,n){const r=(0,l.useContext)(xe);if(r===null)throw new Error(En);return(0,J.s)(r,t,n)}const Lt=()=>{const t=(0,l.useContext)(xe);if(t===null)throw new Error(En);return(0,l.useMemo)(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},yr=t=>t.userSelectionActive?"none":"all";function xr(u){var c=u,{position:t,children:n,className:r,style:i}=c,s=Br(c,["position","children","className","style"]);const f=Ot(yr),p=`${t}`.split("-");return l.createElement("div",bt({className:(0,ot.Z)(["react-flow__panel",r,...p]),style:te(bt({},i),{pointerEvents:f})},s),n)}function wr({proOptions:t,position:n="bottom-right"}){return t!=null&&t.hideAttribution?null:l.createElement(xr,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev"},l.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const Zr=y=>{var v=y,{x:t,y:n,label:r,labelStyle:i={},labelShowBg:s=!0,labelBgStyle:u={},labelBgPadding:c=[2,4],labelBgBorderRadius:f=2,children:p,className:m}=v,g=Br(v,["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"]);const E=(0,l.useRef)(null),[k,M]=(0,l.useState)({x:0,y:0,width:0,height:0}),D=(0,ot.Z)(["react-flow__edge-textwrapper",m]);return(0,l.useEffect)(()=>{if(E.current){const T=E.current.getBBox();M({x:T.x,y:T.y,width:T.width,height:T.height})}},[r]),typeof r=="undefined"||!r?null:l.createElement("g",bt({transform:`translate(${t-k.width/2} ${n-k.height/2})`,className:D,visibility:k.width?"visible":"hidden"},g),s&&l.createElement("rect",{width:k.width+2*c[0],x:-c[0],y:-c[1],height:k.height+2*c[1],className:"react-flow__edge-textbg",style:u,rx:f,ry:f}),l.createElement("text",{className:"react-flow__edge-text",y:k.height/2,dy:"0.3em",ref:E,style:i},r),p)};var Lr=(0,l.memo)(Zr);const cn=t=>({width:t.offsetWidth,height:t.offsetHeight}),He=(t,n=0,r=1)=>Math.min(Math.max(t,n),r),Fn=(t={x:0,y:0},n)=>({x:He(t.x,n[0][0],n[1][0]),y:He(t.y,n[0][1],n[1][1])}),_r=(t,n,r)=>t<n?He(Math.abs(t-n),1,50)/50:t>r?-He(Math.abs(t-r),1,50)/50:0,Yn=(t,n)=>{const r=_r(t.x,35,n.width-35)*20,i=_r(t.y,35,n.height-35)*20;return[r,i]},Kn=t=>{var n;return((n=t.getRootNode)==null?void 0:n.call(t))||(window==null?void 0:window.document)},Sn=(t,n)=>({x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x2,n.x2),y2:Math.max(t.y2,n.y2)}),Pe=({x:t,y:n,width:r,height:i})=>({x:t,y:n,x2:t+r,y2:n+i}),Nn=({x:t,y:n,x2:r,y2:i})=>({x:t,y:n,width:r-t,height:i-n}),Mn=t=>te(bt({},t.positionAbsolute||{x:0,y:0}),{width:t.width||0,height:t.height||0}),Cn=(t,n)=>Nn(Sn(Pe(t),Pe(n))),Ue=(t,n)=>{const r=Math.max(0,Math.min(t.x+t.width,n.x+n.width)-Math.max(t.x,n.x)),i=Math.max(0,Math.min(t.y+t.height,n.y+n.height)-Math.max(t.y,n.y));return Math.ceil(r*i)},Wn=t=>Vt(t.width)&&Vt(t.height)&&Vt(t.x)&&Vt(t.y),Vt=t=>!isNaN(t)&&isFinite(t),Ht=Symbol.for("internals"),br=["Enter"," ","Escape"],Oe=(t,n)=>{},Xr=t=>"nativeEvent"in t;function we(t){var s,u;const n=Xr(t)?t.nativeEvent:t,r=((u=(s=n.composedPath)==null?void 0:s.call(n))==null?void 0:u[0])||t.target;return["INPUT","SELECT","TEXTAREA"].includes(r==null?void 0:r.nodeName)||(r==null?void 0:r.hasAttribute("contenteditable"))||!!(r!=null&&r.closest(".nokey"))}const Un=t=>"clientX"in t,_e=(t,n)=>{var u,c,f,p;const r=Un(t),i=r?t.clientX:(u=t.touches)==null?void 0:u[0].clientX,s=r?t.clientY:(c=t.touches)==null?void 0:c[0].clientY;return{x:i-((f=n==null?void 0:n.left)!=null?f:0),y:s-((p=n==null?void 0:n.top)!=null?p:0)}},Ge=()=>{var t;return typeof navigator!="undefined"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0},pe=({id:t,path:n,labelX:r,labelY:i,label:s,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:y,markerStart:v,interactionWidth:E=20})=>l.createElement(l.Fragment,null,l.createElement("path",{id:t,style:g,d:n,fill:"none",className:"react-flow__edge-path",markerEnd:y,markerStart:v}),E&&l.createElement("path",{d:n,fill:"none",strokeOpacity:0,strokeWidth:E,className:"react-flow__edge-interaction"}),s&&Vt(r)&&Vt(i)?l.createElement(Lr,{x:r,y:i,label:s,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m}):null);pe.displayName="BaseEdge";const Vr=(t,n)=>typeof n!="undefined"&&n?`url(#${n})`:typeof t!="undefined"?`url(#react-flow__${t})`:"none";function qe(t,n,r){return r===void 0?r:i=>{const s=n().edges.find(u=>u.id===t);s&&r(i,bt({},s))}}function An({sourceX:t,sourceY:n,targetX:r,targetY:i}){const s=Math.abs(r-t)/2,u=r<t?r+s:r-s,c=Math.abs(i-n)/2,f=i<n?i+c:i-c;return[u,f,s,c]}function vr({sourceX:t,sourceY:n,targetX:r,targetY:i,sourceControlX:s,sourceControlY:u,targetControlX:c,targetControlY:f}){const p=t*.125+s*.375+c*.375+r*.125,m=n*.125+u*.375+f*.375+i*.125,g=Math.abs(p-t),y=Math.abs(m-n);return[p,m,g,y]}var Be;(function(t){t.Strict="strict",t.Loose="loose"})(Be||(Be={}));var Te;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Te||(Te={}));var un;(function(t){t.Partial="partial",t.Full="full"})(un||(un={}));var ke;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(ke||(ke={}));var Pn;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Pn||(Pn={}));var at;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(at||(at={}));function Tn({pos:t,x1:n,y1:r,x2:i,y2:s}){return t===at.Left||t===at.Right?[.5*(n+i),r]:[n,.5*(r+s)]}function Gn({sourceX:t,sourceY:n,sourcePosition:r=at.Bottom,targetX:i,targetY:s,targetPosition:u=at.Top}){const[c,f]=Tn({pos:r,x1:t,y1:n,x2:i,y2:s}),[p,m]=Tn({pos:u,x1:i,y1:s,x2:t,y2:n}),[g,y,v,E]=vr({sourceX:t,sourceY:n,targetX:i,targetY:s,sourceControlX:c,sourceControlY:f,targetControlX:p,targetControlY:m});return[`M${t},${n} C${c},${f} ${p},${m} ${i},${s}`,g,y,v,E]}const Ze=(0,l.memo)(({sourceX:t,sourceY:n,targetX:r,targetY:i,sourcePosition:s=at.Bottom,targetPosition:u=at.Top,label:c,labelStyle:f,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:y,style:v,markerEnd:E,markerStart:k,interactionWidth:M})=>{const[D,T,R]=Gn({sourceX:t,sourceY:n,sourcePosition:s,targetX:r,targetY:i,targetPosition:u});return l.createElement(pe,{path:D,labelX:T,labelY:R,label:c,labelStyle:f,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:y,style:v,markerEnd:E,markerStart:k,interactionWidth:M})});Ze.displayName="SimpleBezierEdge";const Qe={[at.Left]:{x:-1,y:0},[at.Right]:{x:1,y:0},[at.Top]:{x:0,y:-1},[at.Bottom]:{x:0,y:1}},kn=({source:t,sourcePosition:n=at.Bottom,target:r})=>n===at.Left||n===at.Right?t.x<r.x?{x:1,y:0}:{x:-1,y:0}:t.y<r.y?{x:0,y:1}:{x:0,y:-1},Le=(t,n)=>Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2));function ln({source:t,sourcePosition:n=at.Bottom,target:r,targetPosition:i=at.Top,center:s,offset:u}){const c=Qe[n],f=Qe[i],p={x:t.x+c.x*u,y:t.y+c.y*u},m={x:r.x+f.x*u,y:r.y+f.y*u},g=kn({source:p,sourcePosition:n,target:m}),y=g.x!==0?"x":"y",v=g[y];let E=[],k,M;const D={x:0,y:0},T={x:0,y:0},[R,I,S,O]=An({sourceX:t.x,sourceY:t.y,targetX:r.x,targetY:r.y});if(c[y]*f[y]===-1){k=s.x||R,M=s.y||I;const F=[{x:k,y:p.y},{x:k,y:m.y}],B=[{x:p.x,y:M},{x:m.x,y:M}];c[y]===v?E=y==="x"?F:B:E=y==="x"?B:F}else{const F=[{x:p.x,y:m.y}],B=[{x:m.x,y:p.y}];if(y==="x"?E=c.x===v?B:F:E=c.y===v?F:B,n===i){const N=Math.abs(t[y]-r[y]);if(N<=u){const G=Math.min(u-1,u-N);c[y]===v?D[y]=(p[y]>t[y]?-1:1)*G:T[y]=(m[y]>r[y]?-1:1)*G}}if(n!==i){const N=y==="x"?"y":"x",G=c[y]===f[N],et=p[N]>m[N],ut=p[N]<m[N];(c[y]===1&&(!G&&et||G&&ut)||c[y]!==1&&(!G&&ut||G&&et))&&(E=y==="x"?F:B)}const W={x:p.x+D.x,y:p.y+D.y},nt={x:m.x+T.x,y:m.y+T.y},U=Math.max(Math.abs(W.x-E[0].x),Math.abs(nt.x-E[0].x)),rt=Math.max(Math.abs(W.y-E[0].y),Math.abs(nt.y-E[0].y));U>=rt?(k=(W.x+nt.x)/2,M=E[0].y):(k=E[0].x,M=(W.y+nt.y)/2)}return[[t,{x:p.x+D.x,y:p.y+D.y},...E,{x:m.x+T.x,y:m.y+T.y},r],k,M,S,O]}function be(t,n,r,i){const s=Math.min(Le(t,n)/2,Le(n,r)/2,i),{x:u,y:c}=n;if(t.x===u&&u===r.x||t.y===c&&c===r.y)return`L${u} ${c}`;if(t.y===c){const m=t.x<r.x?-1:1,g=t.y<r.y?1:-1;return`L ${u+s*m},${c}Q ${u},${c} ${u},${c+s*g}`}const f=t.x<r.x?1:-1,p=t.y<r.y?-1:1;return`L ${u},${c+s*p}Q ${u},${c} ${u+s*f},${c}`}function Dn({sourceX:t,sourceY:n,sourcePosition:r=at.Bottom,targetX:i,targetY:s,targetPosition:u=at.Top,borderRadius:c=5,centerX:f,centerY:p,offset:m=20}){const[g,y,v,E,k]=ln({source:{x:t,y:n},sourcePosition:r,target:{x:i,y:s},targetPosition:u,center:{x:f,y:p},offset:m});return[g.reduce((D,T,R)=>{let I="";return R>0&&R<g.length-1?I=be(g[R-1],T,g[R+1],c):I=`${R===0?"M":"L"}${T.x} ${T.y}`,D+=I,D},""),y,v,E,k]}const fn=(0,l.memo)(({sourceX:t,sourceY:n,targetX:r,targetY:i,label:s,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,sourcePosition:y=at.Bottom,targetPosition:v=at.Top,markerEnd:E,markerStart:k,pathOptions:M,interactionWidth:D})=>{const[T,R,I]=Dn({sourceX:t,sourceY:n,sourcePosition:y,targetX:r,targetY:i,targetPosition:v,borderRadius:M==null?void 0:M.borderRadius,offset:M==null?void 0:M.offset});return l.createElement(pe,{path:T,labelX:R,labelY:I,label:s,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:E,markerStart:k,interactionWidth:D})});fn.displayName="SmoothStepEdge";const qn=(0,l.memo)(t=>{var n;return l.createElement(fn,te(bt({},t),{pathOptions:(0,l.useMemo)(()=>{var r;return{borderRadius:0,offset:(r=t.pathOptions)==null?void 0:r.offset}},[(n=t.pathOptions)==null?void 0:n.offset])}))});qn.displayName="StepEdge";function Fr({sourceX:t,sourceY:n,targetX:r,targetY:i}){const[s,u,c,f]=An({sourceX:t,sourceY:n,targetX:r,targetY:i});return[`M ${t},${n}L ${r},${i}`,s,u,c,f]}const Rn=(0,l.memo)(({sourceX:t,sourceY:n,targetX:r,targetY:i,label:s,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:y,markerStart:v,interactionWidth:E})=>{const[k,M,D]=Fr({sourceX:t,sourceY:n,targetX:r,targetY:i});return l.createElement(pe,{path:k,labelX:M,labelY:D,label:s,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:y,markerStart:v,interactionWidth:E})});Rn.displayName="StraightEdge";function In(t,n){return t>=0?.5*t:n*25*Math.sqrt(-t)}function Er({pos:t,x1:n,y1:r,x2:i,y2:s,c:u}){switch(t){case at.Left:return[n-In(n-i,u),r];case at.Right:return[n+In(i-n,u),r];case at.Top:return[n,r-In(r-s,u)];case at.Bottom:return[n,r+In(s-r,u)]}}function Qn({sourceX:t,sourceY:n,sourcePosition:r=at.Bottom,targetX:i,targetY:s,targetPosition:u=at.Top,curvature:c=.25}){const[f,p]=Er({pos:r,x1:t,y1:n,x2:i,y2:s,c}),[m,g]=Er({pos:u,x1:i,y1:s,x2:t,y2:n,c}),[y,v,E,k]=vr({sourceX:t,sourceY:n,targetX:i,targetY:s,sourceControlX:f,sourceControlY:p,targetControlX:m,targetControlY:g});return[`M${t},${n} C${f},${p} ${m},${g} ${i},${s}`,y,v,E,k]}const dn=(0,l.memo)(({sourceX:t,sourceY:n,targetX:r,targetY:i,sourcePosition:s=at.Bottom,targetPosition:u=at.Top,label:c,labelStyle:f,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:y,style:v,markerEnd:E,markerStart:k,pathOptions:M,interactionWidth:D})=>{const[T,R,I]=Qn({sourceX:t,sourceY:n,sourcePosition:s,targetX:r,targetY:i,targetPosition:u,curvature:M==null?void 0:M.curvature});return l.createElement(pe,{path:T,labelX:R,labelY:I,label:c,labelStyle:f,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:y,style:v,markerEnd:E,markerStart:k,interactionWidth:D})});dn.displayName="BezierEdge";const Jn=(0,l.createContext)(null),Yr=Jn.Provider;Jn.Consumer;const Sr=()=>(0,l.useContext)(Jn),hn=t=>"id"in t&&"source"in t&&"target"in t,jn=t=>"id"in t&&!("source"in t)&&!("target"in t),tr=(t,n,r)=>{if(!jn(t))return[];const i=r.filter(s=>s.source===t.id).map(s=>s.target);return n.filter(s=>i.includes(s.id))},so=(t,n,r)=>{if(!jn(t))return[];const i=r.filter(s=>s.target===t.id).map(s=>s.source);return n.filter(s=>i.includes(s.id))},gn=({source:t,sourceHandle:n,target:r,targetHandle:i})=>`reactflow__edge-${t}${n||""}-${r}${i||""}`,Jt=(t,n)=>typeof t=="undefined"?"":typeof t=="string"?t:`${n?`${n}__`:""}${Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&")}`,Nr=(t,n)=>n.some(r=>r.source===t.source&&r.target===t.target&&(r.sourceHandle===t.sourceHandle||!r.sourceHandle&&!t.sourceHandle)&&(r.targetHandle===t.targetHandle||!r.targetHandle&&!t.targetHandle)),Kr=(t,n)=>{if(!t.source||!t.target)return Oe("006",ie.error006()),n;let r;return hn(t)?r=bt({},t):r=te(bt({},t),{id:gn(t)}),Nr(r,n)?n:n.concat(r)},Mr=(t,n,r,i={shouldReplaceId:!0})=>{const p=t,{id:s}=p,u=Br(p,["id"]);if(!n.source||!n.target)return Oe("006",ie.error006()),r;if(!r.find(m=>m.id===s))return Oe("007",ie.error007(s)),r;const f=te(bt({},u),{id:i.shouldReplaceId?gn(n):s,source:n.source,target:n.target,sourceHandle:n.sourceHandle,targetHandle:n.targetHandle});return r.filter(m=>m.id!==s).concat(f)},pn=({x:t,y:n},[r,i,s],u,[c,f])=>{const p={x:(t-r)/s,y:(n-i)/s};return u?{x:c*Math.round(p.x/c),y:f*Math.round(p.y/f)}:p},Xe=({x:t,y:n},[r,i,s])=>({x:t*s+r,y:n*s+i}),se=(t,n=[0,0])=>{var u,c;if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const r=((u=t.width)!=null?u:0)*n[0],i=((c=t.height)!=null?c:0)*n[1],s={x:t.position.x-r,y:t.position.y-i};return te(bt({},s),{positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-r,y:t.positionAbsolute.y-i}:s})},mn=(t,n=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const r=t.reduce((i,s)=>{const{x:u,y:c}=se(s,n).positionAbsolute;return Sn(i,Pe({x:u,y:c,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Nn(r)},zn=(t,n,[r,i,s]=[0,0,1],u=!1,c=!1,f=[0,0])=>{const p={x:(n.x-r)/s,y:(n.y-i)/s,width:n.width/s,height:n.height/s},m=[];return t.forEach(g=>{const{width:y,height:v,selectable:E=!0,hidden:k=!1}=g;if(c&&!E||k)return!1;const{positionAbsolute:M}=se(g,f),D={x:M.x,y:M.y,width:y||0,height:v||0},T=Ue(p,D),R=typeof y=="undefined"||typeof v=="undefined"||y===null||v===null,I=u&&T>0,S=(y||0)*(v||0);(R||I||T>=S||g.dragging)&&m.push(g)}),m},ae=(t,n)=>{const r=t.map(i=>i.id);return n.filter(i=>r.includes(i.source)||r.includes(i.target))},ce=(t,n,r,i,s,u=.1)=>{const c=n/(t.width*(1+u)),f=r/(t.height*(1+u)),p=Math.min(c,f),m=He(p,i,s),g=t.x+t.width/2,y=t.y+t.height/2,v=n/2-g*m,E=r/2-y*m;return[v,E,m]},De=(t,n=0)=>t.transition().duration(n);function yn(t,n,r,i){return(n[r]||[]).reduce((s,u)=>{var c,f,p,m;return`${t.id}-${u.id}-${r}`!==i&&s.push({id:u.id||null,type:r,nodeId:t.id,x:((f=(c=t.positionAbsolute)==null?void 0:c.x)!=null?f:0)+u.x+u.width/2,y:((m=(p=t.positionAbsolute)==null?void 0:p.y)!=null?m:0)+u.y+u.height/2}),s},[])}function d(t,n,r,i,s,u){const{x:c,y:f}=_e(t),m=n.elementsFromPoint(c,f).find(k=>k.classList.contains("react-flow__handle"));if(m){const k=m.getAttribute("data-nodeid");if(k){const M=Q(void 0,m),D=m.getAttribute("data-handleid"),T=u({nodeId:k,id:D,type:M});if(T)return{handle:{id:D,type:M,nodeId:k,x:r.x,y:r.y},validHandleResult:T}}}let g=[],y=1/0;if(s.forEach(k=>{const M=Math.sqrt(ci(k.x-r.x,2)+ci(k.y-r.y,2));if(M<=i){const D=u(k);M<=y&&(M<y?g=[{handle:k,validHandleResult:D}]:M===y&&g.push({handle:k,validHandleResult:D}),y=M)}}),!g.length)return{handle:null,validHandleResult:X()};if(g.length===1)return g[0];const v=g.some(({validHandleResult:k})=>k.isValid),E=g.some(({handle:k})=>k.type==="target");return g.find(({handle:k,validHandleResult:M})=>E?k.type==="target":v?M.isValid:!0)||g[0]}const _={source:null,target:null,sourceHandle:null,targetHandle:null},X=()=>({handleDomNode:null,isValid:!1,connection:_,endHandle:null});function Y(t,n,r,i,s,u,c){const f=s==="target",p=c.querySelector(`.react-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),m=te(bt({},X()),{handleDomNode:p});if(p){const g=Q(void 0,p),y=p.getAttribute("data-nodeid"),v=p.getAttribute("data-handleid"),E=p.classList.contains("connectable"),k=p.classList.contains("connectableend"),M={source:f?y:r,sourceHandle:f?v:i,target:f?r:y,targetHandle:f?i:v};m.connection=M,E&&k&&(n===Be.Strict?f&&g==="source"||!f&&g==="target":y!==r||v!==i)&&(m.endHandle={nodeId:y,handleId:v,type:g},m.isValid=u(M))}return m}function z({nodes:t,nodeId:n,handleId:r,handleType:i}){return t.reduce((s,u)=>{if(u[Ht]){const{handleBounds:c}=u[Ht];let f=[],p=[];c&&(f=yn(u,c,"source",`${n}-${r}-${i}`),p=yn(u,c,"target",`${n}-${r}-${i}`)),s.push(...f,...p)}return s},[])}function Q(t,n){return t||(n!=null&&n.classList.contains("target")?"target":n!=null&&n.classList.contains("source")?"source":null)}function ct(t){t==null||t.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function ft(t,n){let r=null;return n?r="valid":t&&!n&&(r="invalid"),r}function wt({event:t,handleId:n,nodeId:r,onConnect:i,isTarget:s,getState:u,setState:c,isValidConnection:f,edgeUpdaterType:p,onEdgeUpdateEnd:m}){const g=Kn(t.target),{connectionMode:y,domNode:v,autoPanOnConnect:E,connectionRadius:k,onConnectStart:M,panBy:D,getNodes:T,cancelConnection:R}=u();let I=0,S;const{x:O,y:K}=_e(t),F=g==null?void 0:g.elementFromPoint(O,K),B=Q(p,F),W=v==null?void 0:v.getBoundingClientRect();if(!W||!B)return;let nt,U=_e(t,W),rt=!1,N=null,G=!1,et=null;const ut=z({nodes:T(),nodeId:r,handleId:n,handleType:B}),Et=()=>{if(!E)return;const[q,tt]=Yn(U,W);D({x:q,y:tt}),I=requestAnimationFrame(Et)};c({connectionPosition:U,connectionStatus:null,connectionNodeId:r,connectionHandleId:n,connectionHandleType:B,connectionStartHandle:{nodeId:r,handleId:n,type:B},connectionEndHandle:null}),M==null||M(t,{nodeId:r,handleId:n,handleType:B});function yt(q){const{transform:tt}=u();U=_e(q,W);const{handle:_t,validHandleResult:St}=d(q,g,pn(U,tt,!1,[1,1]),k,ut,Rt=>Y(Rt,y,r,n,s?"target":"source",f,g));if(S=_t,rt||(Et(),rt=!0),et=St.handleDomNode,N=St.connection,G=St.isValid,c({connectionPosition:S&&G?Xe({x:S.x,y:S.y},tt):U,connectionStatus:ft(!!S,G),connectionEndHandle:St.endHandle}),!S&&!G&&!et)return ct(nt);N.source!==N.target&&et&&(ct(nt),nt=et,et.classList.add("connecting","react-flow__handle-connecting"),et.classList.toggle("valid",G),et.classList.toggle("react-flow__handle-valid",G))}function P(q){var tt,_t;(S||et)&&N&&G&&(i==null||i(N)),(_t=(tt=u()).onConnectEnd)==null||_t.call(tt,q),p&&(m==null||m(q)),ct(nt),R(),cancelAnimationFrame(I),rt=!1,G=!1,N=null,et=null,g.removeEventListener("mousemove",yt),g.removeEventListener("mouseup",P),g.removeEventListener("touchmove",yt),g.removeEventListener("touchend",P)}g.addEventListener("mousemove",yt),g.addEventListener("mouseup",P),g.addEventListener("touchmove",yt),g.addEventListener("touchend",P)}const Pt=()=>!0,Bt=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),de=(t,n,r)=>i=>{const{connectionStartHandle:s,connectionEndHandle:u,connectionClickStartHandle:c}=i;return{connecting:(s==null?void 0:s.nodeId)===t&&(s==null?void 0:s.handleId)===n&&(s==null?void 0:s.type)===r||(u==null?void 0:u.nodeId)===t&&(u==null?void 0:u.handleId)===n&&(u==null?void 0:u.type)===r,clickConnecting:(c==null?void 0:c.nodeId)===t&&(c==null?void 0:c.handleId)===n&&(c==null?void 0:c.type)===r}},ve=(0,l.forwardRef)((k,E)=>{var M=k,{type:t="source",position:n=at.Top,isValidConnection:r,isConnectable:i=!0,isConnectableStart:s=!0,isConnectableEnd:u=!0,id:c,onConnect:f,children:p,className:m,onMouseDown:g,onTouchStart:y}=M,v=Br(M,["type","position","isValidConnection","isConnectable","isConnectableStart","isConnectableEnd","id","onConnect","children","className","onMouseDown","onTouchStart"]);var U,rt;const D=c||null,T=t==="target",R=Lt(),I=Sr(),{connectOnClick:S,noPanClassName:O}=Ot(Bt,j.X),{connecting:K,clickConnecting:F}=Ot(de(I,D,t),j.X);I||(rt=(U=R.getState()).onError)==null||rt.call(U,"010",ie.error010());const B=N=>{const{defaultEdgeOptions:G,onConnect:et,hasDefaultEdges:ut}=R.getState(),Et=bt(bt({},G),N);if(ut){const{edges:yt,setEdges:P}=R.getState();P(Kr(Et,yt))}et==null||et(Et),f==null||f(Et)},W=N=>{if(!I)return;const G=Un(N);s&&(G&&N.button===0||!G)&&wt({event:N,handleId:D,nodeId:I,onConnect:B,isTarget:T,getState:R.getState,setState:R.setState,isValidConnection:r||R.getState().isValidConnection||Pt}),G?g==null||g(N):y==null||y(N)},nt=N=>{const{onClickConnectStart:G,onClickConnectEnd:et,connectionClickStartHandle:ut,connectionMode:Et,isValidConnection:yt}=R.getState();if(!I||!ut&&!s)return;if(!ut){G==null||G(N,{nodeId:I,handleId:D,handleType:t}),R.setState({connectionClickStartHandle:{nodeId:I,type:t,handleId:D}});return}const P=Kn(N.target),q=r||yt||Pt,{connection:tt,isValid:_t}=Y({nodeId:I,id:D,type:t},Et,ut.nodeId,ut.handleId||null,ut.type,q,P);_t&&B(tt),et==null||et(N),R.setState({connectionClickStartHandle:null})};return l.createElement("div",bt({"data-handleid":D,"data-nodeid":I,"data-handlepos":n,"data-id":`${I}-${D}-${t}`,className:(0,ot.Z)(["react-flow__handle",`react-flow__handle-${n}`,"nodrag",O,m,{source:!T,target:T,connectable:i,connectablestart:s,connectableend:u,connecting:F,connectionindicator:i&&(s&&!K||u&&K)}]),onMouseDown:W,onTouchStart:W,onClick:S?nt:void 0,ref:E},v),p)});ve.displayName="Handle";var ee=(0,l.memo)(ve);const ue=({data:t,isConnectable:n,targetPosition:r=at.Top,sourcePosition:i=at.Bottom})=>l.createElement(l.Fragment,null,l.createElement(ee,{type:"target",position:r,isConnectable:n}),t==null?void 0:t.label,l.createElement(ee,{type:"source",position:i,isConnectable:n}));ue.displayName="DefaultNode";var Je=(0,l.memo)(ue);const er=({data:t,isConnectable:n,sourcePosition:r=at.Bottom})=>l.createElement(l.Fragment,null,t==null?void 0:t.label,l.createElement(ee,{type:"source",position:r,isConnectable:n}));er.displayName="InputNode";var Cr=(0,l.memo)(er);const je=({data:t,isConnectable:n,targetPosition:r=at.Top})=>l.createElement(l.Fragment,null,l.createElement(ee,{type:"target",position:r,isConnectable:n}),t==null?void 0:t.label);je.displayName="OutputNode";var tn=(0,l.memo)(je);const $n=()=>null;$n.displayName="GroupNode";const Ar=t=>({selectedNodes:t.getNodes().filter(n=>n.selected),selectedEdges:t.edges.filter(n=>n.selected)}),Pr=t=>t.id;function Po(t,n){return(0,j.X)(t.selectedNodes.map(Pr),n.selectedNodes.map(Pr))&&(0,j.X)(t.selectedEdges.map(Pr),n.selectedEdges.map(Pr))}const ao=(0,l.memo)(({onSelectionChange:t})=>{const n=Lt(),{selectedNodes:r,selectedEdges:i}=Ot(Ar,Po);return(0,l.useEffect)(()=>{var u,c;const s={nodes:r,edges:i};t==null||t(s),(c=(u=n.getState()).onSelectionChange)==null||c.call(u,s)},[r,i,t]),null});ao.displayName="SelectionListener";const To=t=>!!t.onSelectionChange;function ko({onSelectionChange:t}){const n=Ot(To);return t||n?l.createElement(ao,{onSelectionChange:t}):null}const Do=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function Hn(t,n){(0,l.useEffect)(()=>{typeof t!="undefined"&&n(t)},[t])}function Dt(t,n,r){(0,l.useEffect)(()=>{typeof n!="undefined"&&r({[t]:n})},[n])}const Ro=({nodes:t,edges:n,defaultNodes:r,defaultEdges:i,onConnect:s,onConnectStart:u,onConnectEnd:c,onClickConnectStart:f,onClickConnectEnd:p,nodesDraggable:m,nodesConnectable:g,nodesFocusable:y,edgesFocusable:v,edgesUpdatable:E,elevateNodesOnSelect:k,minZoom:M,maxZoom:D,nodeExtent:T,onNodesChange:R,onEdgesChange:I,elementsSelectable:S,connectionMode:O,snapGrid:K,snapToGrid:F,translateExtent:B,connectOnClick:W,defaultEdgeOptions:nt,fitView:U,fitViewOptions:rt,onNodesDelete:N,onEdgesDelete:G,onNodeDrag:et,onNodeDragStart:ut,onNodeDragStop:Et,onSelectionDrag:yt,onSelectionDragStart:P,onSelectionDragStop:q,noPanClassName:tt,nodeOrigin:_t,rfId:St,autoPanOnConnect:Rt,autoPanOnNodeDrag:Xt,onError:Ft,connectionRadius:oe,isValidConnection:ne,nodeDragThreshold:re})=>{const{setNodes:he,setEdges:fe,setDefaultNodesAndEdges:Qt,setMinZoom:Ne,setMaxZoom:Ut,setTranslateExtent:Wt,setNodeExtent:Ee,reset:Me}=Ot(Do,j.X),At=Lt();return(0,l.useEffect)(()=>{const cr=i==null?void 0:i.map(ur=>bt(bt({},ur),nt));return Qt(r,cr),()=>{Me()}},[]),Dt("defaultEdgeOptions",nt,At.setState),Dt("connectionMode",O,At.setState),Dt("onConnect",s,At.setState),Dt("onConnectStart",u,At.setState),Dt("onConnectEnd",c,At.setState),Dt("onClickConnectStart",f,At.setState),Dt("onClickConnectEnd",p,At.setState),Dt("nodesDraggable",m,At.setState),Dt("nodesConnectable",g,At.setState),Dt("nodesFocusable",y,At.setState),Dt("edgesFocusable",v,At.setState),Dt("edgesUpdatable",E,At.setState),Dt("elementsSelectable",S,At.setState),Dt("elevateNodesOnSelect",k,At.setState),Dt("snapToGrid",F,At.setState),Dt("snapGrid",K,At.setState),Dt("onNodesChange",R,At.setState),Dt("onEdgesChange",I,At.setState),Dt("connectOnClick",W,At.setState),Dt("fitViewOnInit",U,At.setState),Dt("fitViewOnInitOptions",rt,At.setState),Dt("onNodesDelete",N,At.setState),Dt("onEdgesDelete",G,At.setState),Dt("onNodeDrag",et,At.setState),Dt("onNodeDragStart",ut,At.setState),Dt("onNodeDragStop",Et,At.setState),Dt("onSelectionDrag",yt,At.setState),Dt("onSelectionDragStart",P,At.setState),Dt("onSelectionDragStop",q,At.setState),Dt("noPanClassName",tt,At.setState),Dt("nodeOrigin",_t,At.setState),Dt("rfId",St,At.setState),Dt("autoPanOnConnect",Rt,At.setState),Dt("autoPanOnNodeDrag",Xt,At.setState),Dt("onError",Ft,At.setState),Dt("connectionRadius",oe,At.setState),Dt("isValidConnection",ne,At.setState),Dt("nodeDragThreshold",re,At.setState),Hn(t,he),Hn(n,fe),Hn(M,Ne),Hn(D,Ut),Hn(B,Wt),Hn(T,Ee),null},co={display:"none"},Io={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},uo="react-flow__node-desc",lo="react-flow__edge-desc",zo="react-flow__aria-live",$o=t=>t.ariaLiveMessage;function Ho({rfId:t}){const n=Ot($o);return l.createElement("div",{id:`${zo}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:Io},n)}function Oo({rfId:t,disableKeyboardA11y:n}){return l.createElement(l.Fragment,null,l.createElement("div",{id:`${uo}-${t}`,style:co},"Press enter or space to select a node.",!n&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),l.createElement("div",{id:`${lo}-${t}`,style:co},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!n&&l.createElement(Ho,{rfId:t}))}var nr=(t=null,n={actInsideInputWithModifier:!0})=>{const[r,i]=(0,l.useState)(!1),s=(0,l.useRef)(!1),u=(0,l.useRef)(new Set([])),[c,f]=(0,l.useMemo)(()=>{if(t!==null){const m=(Array.isArray(t)?t:[t]).filter(y=>typeof y=="string").map(y=>y.split("+")),g=m.reduce((y,v)=>y.concat(...v),[]);return[m,g]}return[[],[]]},[t]);return(0,l.useEffect)(()=>{const p=typeof document!="undefined"?document:null,m=(n==null?void 0:n.target)||p;if(t!==null){const g=E=>{if(s.current=E.ctrlKey||E.metaKey||E.shiftKey,(!s.current||s.current&&!n.actInsideInputWithModifier)&&we(E))return!1;const M=ho(E.code,f);u.current.add(E[M]),fo(c,u.current,!1)&&(E.preventDefault(),i(!0))},y=E=>{if((!s.current||s.current&&!n.actInsideInputWithModifier)&&we(E))return!1;const M=ho(E.code,f);fo(c,u.current,!0)?(i(!1),u.current.clear()):u.current.delete(E[M]),E.key==="Meta"&&u.current.clear(),s.current=!1},v=()=>{u.current.clear(),i(!1)};return m==null||m.addEventListener("keydown",g),m==null||m.addEventListener("keyup",y),window.addEventListener("blur",v),()=>{m==null||m.removeEventListener("keydown",g),m==null||m.removeEventListener("keyup",y),window.removeEventListener("blur",v)}}},[t,i]),r};function fo(t,n,r){return t.filter(i=>r||i.length===n.size).some(i=>i.every(s=>n.has(s)))}function ho(t,n){return n.includes(t)?"code":"key"}function go(t,n,r,i){var c,f,p,m,g,y,v,E;if(!t.parentNode)return r;const s=n.get(t.parentNode),u=se(s,i);return go(s,n,{x:((c=r.x)!=null?c:0)+u.x,y:((f=r.y)!=null?f:0)+u.y,z:((m=(p=s[Ht])==null?void 0:p.z)!=null?m:0)>((g=r.z)!=null?g:0)?(v=(y=s[Ht])==null?void 0:y.z)!=null?v:0:(E=r.z)!=null?E:0},i)}function po(t,n,r){t.forEach(i=>{var s,u;if(i.parentNode&&!t.has(i.parentNode))throw new Error(`Parent node ${i.parentNode} not found`);if(i.parentNode||r!=null&&r[i.id]){const{x:c,y:f,z:p}=go(i,t,te(bt({},i.position),{z:(u=(s=i[Ht])==null?void 0:s.z)!=null?u:0}),n);i.positionAbsolute={x:c,y:f},i[Ht].z=p,r!=null&&r[i.id]&&(i[Ht].isParent=!0)}})}function Wr(t,n,r,i){const s=new Map,u={},c=i?1e3:0;return t.forEach(f=>{var y;const p=(Vt(f.zIndex)?f.zIndex:0)+(f.selected?c:0),m=n.get(f.id),g=te(bt({width:m==null?void 0:m.width,height:m==null?void 0:m.height},f),{positionAbsolute:{x:f.position.x,y:f.position.y}});f.parentNode&&(g.parentNode=f.parentNode,u[f.parentNode]=!0),Object.defineProperty(g,Ht,{enumerable:!1,value:{handleBounds:(y=m==null?void 0:m[Ht])==null?void 0:y.handleBounds,z:p}}),s.set(f.id,g)}),po(s,r,u),s}function mo(t,n={}){var k,M,D;const{getNodes:r,width:i,height:s,minZoom:u,maxZoom:c,d3Zoom:f,d3Selection:p,fitViewOnInitDone:m,fitViewOnInit:g,nodeOrigin:y}=t(),v=n.initial&&!m&&g;if(f&&p&&(v||!n.initial)){const T=r().filter(I=>{var O;const S=n.includeHiddenNodes?I.width&&I.height:!I.hidden;return(O=n.nodes)!=null&&O.length?S&&n.nodes.some(K=>K.id===I.id):S}),R=T.every(I=>I.width&&I.height);if(T.length>0&&R){const I=mn(T,y),[S,O,K]=ce(I,i,s,(k=n.minZoom)!=null?k:u,(M=n.maxZoom)!=null?M:c,(D=n.padding)!=null?D:.1),F=Nt.CR.translate(S,O).scale(K);return typeof n.duration=="number"&&n.duration>0?f.transform(De(p,n.duration),F):f.transform(p,F),!0}}return!1}function Bo(t,n){return t.forEach(r=>{const i=n.get(r.id);i&&n.set(i.id,te(bt({},i),{[Ht]:i[Ht],selected:r.selected}))}),new Map(n)}function Zo(t,n){return n.map(r=>{const i=t.find(s=>s.id===r.id);return i&&(r.selected=i.selected),r})}function Tr({changedNodes:t,changedEdges:n,get:r,set:i}){const{nodeInternals:s,edges:u,onNodesChange:c,onEdgesChange:f,hasDefaultNodes:p,hasDefaultEdges:m}=r();t!=null&&t.length&&(p&&i({nodeInternals:Bo(t,s)}),c==null||c(t)),n!=null&&n.length&&(m&&i({edges:Zo(n,u)}),f==null||f(n))}const On=()=>{},Lo={zoomIn:On,zoomOut:On,zoomTo:On,getZoom:()=>1,setViewport:On,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:On,fitBounds:On,project:t=>t,viewportInitialized:!1},Xo=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),Vo=()=>{const t=Lt(),{d3Zoom:n,d3Selection:r}=Ot(Xo,j.X);return(0,l.useMemo)(()=>r&&n?{zoomIn:s=>n.scaleBy(De(r,s==null?void 0:s.duration),1.2),zoomOut:s=>n.scaleBy(De(r,s==null?void 0:s.duration),1/1.2),zoomTo:(s,u)=>n.scaleTo(De(r,u==null?void 0:u.duration),s),getZoom:()=>t.getState().transform[2],setViewport:(s,u)=>{var g,y,v;const[c,f,p]=t.getState().transform,m=Nt.CR.translate((g=s.x)!=null?g:c,(y=s.y)!=null?y:f).scale((v=s.zoom)!=null?v:p);n.transform(De(r,u==null?void 0:u.duration),m)},getViewport:()=>{const[s,u,c]=t.getState().transform;return{x:s,y:u,zoom:c}},fitView:s=>mo(t.getState,s),setCenter:(s,u,c)=>{const{width:f,height:p,maxZoom:m}=t.getState(),g=typeof(c==null?void 0:c.zoom)!="undefined"?c.zoom:m,y=f/2-s*g,v=p/2-u*g,E=Nt.CR.translate(y,v).scale(g);n.transform(De(r,c==null?void 0:c.duration),E)},fitBounds:(s,u)=>{var k;const{width:c,height:f,minZoom:p,maxZoom:m}=t.getState(),[g,y,v]=ce(s,c,f,p,m,(k=u==null?void 0:u.padding)!=null?k:.1),E=Nt.CR.translate(g,y).scale(v);n.transform(De(r,u==null?void 0:u.duration),E)},project:s=>{const{transform:u,snapToGrid:c,snapGrid:f}=t.getState();return pn(s,u,c,f)},viewportInitialized:!0}:Lo,[n,r])};function Ur(){const t=Vo(),n=Lt(),r=(0,l.useCallback)(()=>n.getState().getNodes().map(M=>bt({},M)),[]),i=(0,l.useCallback)(M=>n.getState().nodeInternals.get(M),[]),s=(0,l.useCallback)(()=>{const{edges:M=[]}=n.getState();return M.map(D=>bt({},D))},[]),u=(0,l.useCallback)(M=>{const{edges:D=[]}=n.getState();return D.find(T=>T.id===M)},[]),c=(0,l.useCallback)(M=>{const{getNodes:D,setNodes:T,hasDefaultNodes:R,onNodesChange:I}=n.getState(),S=D(),O=typeof M=="function"?M(S):M;if(R)T(O);else if(I){const K=O.length===0?S.map(F=>({type:"remove",id:F.id})):O.map(F=>({item:F,type:"reset"}));I(K)}},[]),f=(0,l.useCallback)(M=>{const{edges:D=[],setEdges:T,hasDefaultEdges:R,onEdgesChange:I}=n.getState(),S=typeof M=="function"?M(D):M;if(R)T(S);else if(I){const O=S.length===0?D.map(K=>({type:"remove",id:K.id})):S.map(K=>({item:K,type:"reset"}));I(O)}},[]),p=(0,l.useCallback)(M=>{const D=Array.isArray(M)?M:[M],{getNodes:T,setNodes:R,hasDefaultNodes:I,onNodesChange:S}=n.getState();if(I){const K=[...T(),...D];R(K)}else if(S){const O=D.map(K=>({item:K,type:"add"}));S(O)}},[]),m=(0,l.useCallback)(M=>{const D=Array.isArray(M)?M:[M],{edges:T=[],setEdges:R,hasDefaultEdges:I,onEdgesChange:S}=n.getState();if(I)R([...T,...D]);else if(S){const O=D.map(K=>({item:K,type:"add"}));S(O)}},[]),g=(0,l.useCallback)(()=>{const{getNodes:M,edges:D=[],transform:T}=n.getState(),[R,I,S]=T;return{nodes:M().map(O=>bt({},O)),edges:D.map(O=>bt({},O)),viewport:{x:R,y:I,zoom:S}}},[]),y=(0,l.useCallback)(({nodes:M,edges:D})=>{const{nodeInternals:T,getNodes:R,edges:I,hasDefaultNodes:S,hasDefaultEdges:O,onNodesDelete:K,onEdgesDelete:F,onNodesChange:B,onEdgesChange:W}=n.getState(),nt=(M||[]).map(et=>et.id),U=(D||[]).map(et=>et.id),rt=R().reduce((et,ut)=>{const Et=!nt.includes(ut.id)&&ut.parentNode&&et.find(P=>P.id===ut.parentNode);return(typeof ut.deletable=="boolean"?ut.deletable:!0)&&(nt.includes(ut.id)||Et)&&et.push(ut),et},[]),N=I.filter(et=>typeof et.deletable=="boolean"?et.deletable:!0),G=N.filter(et=>U.includes(et.id));if(rt||G){const et=ae(rt,N),ut=[...G,...et],Et=ut.reduce((yt,P)=>(yt.includes(P.id)||yt.push(P.id),yt),[]);if((O||S)&&(O&&n.setState({edges:I.filter(yt=>!Et.includes(yt.id))}),S&&(rt.forEach(yt=>{T.delete(yt.id)}),n.setState({nodeInternals:new Map(T)}))),Et.length>0&&(F==null||F(ut),W&&W(Et.map(yt=>({id:yt,type:"remove"})))),rt.length>0&&(K==null||K(rt),B)){const yt=rt.map(P=>({id:P.id,type:"remove"}));B(yt)}}},[]),v=(0,l.useCallback)(M=>{const D=Wn(M),T=D?null:n.getState().nodeInternals.get(M.id);return[D?M:Mn(T),T,D]},[]),E=(0,l.useCallback)((M,D=!0,T)=>{const[R,I,S]=v(M);return R?(T||n.getState().getNodes()).filter(O=>{if(!S&&(O.id===I.id||!O.positionAbsolute))return!1;const K=Mn(O),F=Ue(K,R);return D&&F>0||F>=M.width*M.height}):[]},[]),k=(0,l.useCallback)((M,D,T=!0)=>{const[R]=v(M);if(!R)return!1;const I=Ue(R,D);return T&&I>0||I>=M.width*M.height},[]);return(0,l.useMemo)(()=>te(bt({},t),{getNodes:r,getNode:i,getEdges:s,getEdge:u,setNodes:c,setEdges:f,addNodes:p,addEdges:m,toObject:g,deleteElements:y,getIntersectingNodes:E,isNodeIntersecting:k}),[t,r,i,s,u,c,f,p,m,g,y,E,k])}const Fo={actInsideInputWithModifier:!1};var Yo=({deleteKeyCode:t,multiSelectionKeyCode:n})=>{const r=Lt(),{deleteElements:i}=Ur(),s=nr(t,Fo),u=nr(n);(0,l.useEffect)(()=>{if(s){const{edges:c,getNodes:f}=r.getState(),p=f().filter(g=>g.selected),m=c.filter(g=>g.selected);i({nodes:p,edges:m}),r.setState({nodesSelectionActive:!1})}},[s]),(0,l.useEffect)(()=>{r.setState({multiSelectionActive:u})},[u])};function rr(t){const n=Lt();(0,l.useEffect)(()=>{let r;const i=()=>{var u,c;if(!t.current)return;const s=cn(t.current);(s.height===0||s.width===0)&&((c=(u=n.getState()).onError)==null||c.call(u,"004",ie.error004())),n.setState({width:s.width||500,height:s.height||500})};return i(),window.addEventListener("resize",i),t.current&&(r=new ResizeObserver(()=>i()),r.observe(t.current)),()=>{window.removeEventListener("resize",i),r&&t.current&&r.unobserve(t.current)}},[])}const Gr={position:"absolute",width:"100%",height:"100%",top:0,left:0},yo=(t,n)=>t.x!==n.x||t.y!==n.y||t.zoom!==n.k,kr=t=>({x:t.x,y:t.y,zoom:t.k}),Bn=(t,n)=>t.target.closest(`.${n}`),xo=(t,n)=>n===2&&Array.isArray(t)&&t.includes(2),wo=t=>{const n=t.ctrlKey&&Ge()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*n},Ko=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),Wo=({onMove:t,onMoveStart:n,onMoveEnd:r,onPaneContextMenu:i,zoomOnScroll:s=!0,zoomOnPinch:u=!0,panOnScroll:c=!1,panOnScrollSpeed:f=.5,panOnScrollMode:p=Te.Free,zoomOnDoubleClick:m=!0,elementsSelectable:g,panOnDrag:y=!0,defaultViewport:v,translateExtent:E,minZoom:k,maxZoom:M,zoomActivationKeyCode:D,preventScrolling:T=!0,children:R,noWheelClassName:I,noPanClassName:S})=>{const O=(0,l.useRef)(),K=Lt(),F=(0,l.useRef)(!1),B=(0,l.useRef)(!1),W=(0,l.useRef)(null),nt=(0,l.useRef)({x:0,y:0,zoom:0}),{d3Zoom:U,d3Selection:rt,d3ZoomHandler:N,userSelectionActive:G}=Ot(Ko,j.X),et=nr(D),ut=(0,l.useRef)(0),Et=(0,l.useRef)(!1),yt=(0,l.useRef)();return rr(W),(0,l.useEffect)(()=>{if(W.current){const P=W.current.getBoundingClientRect(),q=(0,Nt.sP)().scaleExtent([k,M]).translateExtent(E),tt=(0,it.Z)(W.current).call(q),_t=Nt.CR.translate(v.x,v.y).scale(He(v.zoom,k,M)),St=[[0,0],[P.width,P.height]],Rt=q.constrain()(_t,St,E);q.transform(tt,Rt),q.wheelDelta(wo),K.setState({d3Zoom:q,d3Selection:tt,d3ZoomHandler:tt.on("wheel.zoom"),transform:[Rt.x,Rt.y,Rt.k],domNode:W.current.closest(".react-flow")})}},[]),(0,l.useEffect)(()=>{rt&&U&&(c&&!et&&!G?rt.on("wheel.zoom",P=>{if(Bn(P,I))return!1;P.preventDefault(),P.stopImmediatePropagation();const q=rt.property("__zoom").k||1,tt=Ge();if(P.ctrlKey&&u&&tt){const re=(0,st.Z)(P),he=wo(P),fe=q*Math.pow(2,he);U.scaleTo(rt,fe,re,P);return}const _t=P.deltaMode===1?20:1;let St=p===Te.Vertical?0:P.deltaX*_t,Rt=p===Te.Horizontal?0:P.deltaY*_t;!tt&&P.shiftKey&&p!==Te.Vertical&&(St=P.deltaY*_t,Rt=0),U.translateBy(rt,-(St/q)*f,-(Rt/q)*f,{internal:!0});const Xt=kr(rt.property("__zoom")),{onViewportChangeStart:Ft,onViewportChange:oe,onViewportChangeEnd:ne}=K.getState();clearTimeout(yt.current),Et.current||(Et.current=!0,n==null||n(P,Xt),Ft==null||Ft(Xt)),Et.current&&(t==null||t(P,Xt),oe==null||oe(Xt),yt.current=setTimeout(()=>{r==null||r(P,Xt),ne==null||ne(Xt),Et.current=!1},150))},{passive:!1}):typeof N!="undefined"&&rt.on("wheel.zoom",function(P,q){if(!T||Bn(P,I))return null;P.preventDefault(),N.call(this,P,q)},{passive:!1}))},[G,c,p,rt,U,N,et,u,T,I,n,t,r]),(0,l.useEffect)(()=>{U&&U.on("start",P=>{var _t,St;if(!P.sourceEvent||P.sourceEvent.internal)return null;ut.current=(_t=P.sourceEvent)==null?void 0:_t.button;const{onViewportChangeStart:q}=K.getState(),tt=kr(P.transform);F.current=!0,nt.current=tt,((St=P.sourceEvent)==null?void 0:St.type)==="mousedown"&&K.setState({paneDragging:!0}),q==null||q(tt),n==null||n(P.sourceEvent,tt)})},[U,n]),(0,l.useEffect)(()=>{U&&(G&&!F.current?U.on("zoom",null):G||U.on("zoom",P=>{var tt,_t;const{onViewportChange:q}=K.getState();if(K.setState({transform:[P.transform.x,P.transform.y,P.transform.k]}),B.current=!!(i&&xo(y,(tt=ut.current)!=null?tt:0)),(t||q)&&!((_t=P.sourceEvent)!=null&&_t.internal)){const St=kr(P.transform);q==null||q(St),t==null||t(P.sourceEvent,St)}}))},[G,U,t,y,i]),(0,l.useEffect)(()=>{U&&U.on("end",P=>{var tt;if(!P.sourceEvent||P.sourceEvent.internal)return null;const{onViewportChangeEnd:q}=K.getState();if(F.current=!1,K.setState({paneDragging:!1}),i&&xo(y,(tt=ut.current)!=null?tt:0)&&!B.current&&i(P.sourceEvent),B.current=!1,(r||q)&&yo(nt.current,P.transform)){const _t=kr(P.transform);nt.current=_t,clearTimeout(O.current),O.current=setTimeout(()=>{q==null||q(_t),r==null||r(P.sourceEvent,_t)},c?150:0)}})},[U,c,y,r,i]),(0,l.useEffect)(()=>{U&&U.filter(P=>{const q=et||s,tt=u&&P.ctrlKey;if((y===!0||Array.isArray(y)&&y.includes(1))&&P.button===1&&P.type==="mousedown"&&(Bn(P,"react-flow__node")||Bn(P,"react-flow__edge")))return!0;if(!y&&!q&&!c&&!m&&!u||G||!m&&P.type==="dblclick"||Bn(P,I)&&P.type==="wheel"||Bn(P,S)&&(P.type!=="wheel"||c&&P.type==="wheel")||!u&&P.ctrlKey&&P.type==="wheel"||!q&&!c&&!tt&&P.type==="wheel"||!y&&(P.type==="mousedown"||P.type==="touchstart")||Array.isArray(y)&&!y.includes(P.button)&&(P.type==="mousedown"||P.type==="touchstart"))return!1;const _t=Array.isArray(y)&&y.includes(P.button)||!P.button||P.button<=1;return(!P.ctrlKey||P.type==="wheel")&&_t})},[G,U,s,u,c,m,y,g,et]),l.createElement("div",{className:"react-flow__renderer",ref:W,style:Gr},R)},Uo=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function Go(){const{userSelectionActive:t,userSelectionRect:n}=Ot(Uo,j.X);return t&&n?l.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:n.width,height:n.height,transform:`translate(${n.x}px, ${n.y}px)`}}):null}function _o(t,n){var i,s;const r=t.find(u=>u.id===n.parentNode);if(r){const u=n.position.x+n.width-r.width,c=n.position.y+n.height-r.height;if(u>0||c>0||n.position.x<0||n.position.y<0){if(r.style=bt({},r.style)||{},r.style.width=(i=r.style.width)!=null?i:r.width,r.style.height=(s=r.style.height)!=null?s:r.height,u>0&&(r.style.width+=u),c>0&&(r.style.height+=c),n.position.x<0){const f=Math.abs(n.position.x);r.position.x=r.position.x-f,r.style.width+=f,n.position.x=0}if(n.position.y<0){const f=Math.abs(n.position.y);r.position.y=r.position.y-f,r.style.height+=f,n.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function bo(t,n){if(t.some(i=>i.type==="reset"))return t.filter(i=>i.type==="reset").map(i=>i.item);const r=t.filter(i=>i.type==="add").map(i=>i.item);return n.reduce((i,s)=>{const u=t.filter(f=>f.id===s.id);if(u.length===0)return i.push(s),i;const c=bt({},s);for(const f of u)if(f)switch(f.type){case"select":{c.selected=f.selected;break}case"position":{typeof f.position!="undefined"&&(c.position=f.position),typeof f.positionAbsolute!="undefined"&&(c.positionAbsolute=f.positionAbsolute),typeof f.dragging!="undefined"&&(c.dragging=f.dragging),c.expandParent&&_o(i,c);break}case"dimensions":{typeof f.dimensions!="undefined"&&(c.width=f.dimensions.width,c.height=f.dimensions.height),typeof f.updateStyle!="undefined"&&(c.style=bt(bt({},c.style||{}),f.dimensions)),typeof f.resizing=="boolean"&&(c.resizing=f.resizing),c.expandParent&&_o(i,c);break}case"remove":return i}return i.push(c),i},r)}function vo(t,n){return bo(t,n)}function qo(t,n){return bo(t,n)}const en=(t,n)=>({id:t,type:"select",selected:n});function Zn(t,n){return t.reduce((r,i)=>{const s=n.includes(i.id);return!i.selected&&s?(i.selected=!0,r.push(en(i.id,!0))):i.selected&&!s&&(i.selected=!1,r.push(en(i.id,!1))),r},[])}const qr=(t,n)=>r=>{r.target===n.current&&(t==null||t(r))},Qo=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),Re=(0,l.memo)(({isSelecting:t,selectionMode:n=un.Full,panOnDrag:r,onSelectionStart:i,onSelectionEnd:s,onPaneClick:u,onPaneContextMenu:c,onPaneScroll:f,onPaneMouseEnter:p,onPaneMouseMove:m,onPaneMouseLeave:g,children:y})=>{const v=(0,l.useRef)(null),E=Lt(),k=(0,l.useRef)(0),M=(0,l.useRef)(0),D=(0,l.useRef)(),{userSelectionActive:T,elementsSelectable:R,dragging:I}=Ot(Qo,j.X),S=()=>{E.setState({userSelectionActive:!1,userSelectionRect:null}),k.current=0,M.current=0},O=N=>{u==null||u(N),E.getState().resetSelectedElements(),E.setState({nodesSelectionActive:!1})},K=N=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){N.preventDefault();return}c==null||c(N)},F=f?N=>f(N):void 0,B=N=>{const{resetSelectedElements:G,domNode:et}=E.getState();if(D.current=et==null?void 0:et.getBoundingClientRect(),!R||!t||N.button!==0||N.target!==v.current||!D.current)return;const{x:ut,y:Et}=_e(N,D.current);G(),E.setState({userSelectionRect:{width:0,height:0,startX:ut,startY:Et,x:ut,y:Et}}),i==null||i(N)},W=N=>{var he,fe;const{userSelectionRect:G,nodeInternals:et,edges:ut,transform:Et,onNodesChange:yt,onEdgesChange:P,nodeOrigin:q,getNodes:tt}=E.getState();if(!t||!D.current||!G)return;E.setState({userSelectionActive:!0,nodesSelectionActive:!1});const _t=_e(N,D.current),St=(he=G.startX)!=null?he:0,Rt=(fe=G.startY)!=null?fe:0,Xt=te(bt({},G),{x:_t.x<St?_t.x:St,y:_t.y<Rt?_t.y:Rt,width:Math.abs(_t.x-St),height:Math.abs(_t.y-Rt)}),Ft=tt(),oe=zn(et,Xt,Et,n===un.Partial,!0,q),ne=ae(oe,ut).map(Qt=>Qt.id),re=oe.map(Qt=>Qt.id);if(k.current!==re.length){k.current=re.length;const Qt=Zn(Ft,re);Qt.length&&(yt==null||yt(Qt))}if(M.current!==ne.length){M.current=ne.length;const Qt=Zn(ut,ne);Qt.length&&(P==null||P(Qt))}E.setState({userSelectionRect:Xt})},nt=N=>{if(N.button!==0)return;const{userSelectionRect:G}=E.getState();!T&&G&&N.target===v.current&&(O==null||O(N)),E.setState({nodesSelectionActive:k.current>0}),S(),s==null||s(N)},U=N=>{T&&(E.setState({nodesSelectionActive:k.current>0}),s==null||s(N)),S()},rt=R&&(t||T);return l.createElement("div",{className:(0,ot.Z)(["react-flow__pane",{dragging:I,selection:t}]),onClick:rt?void 0:qr(O,v),onContextMenu:qr(K,v),onWheel:qr(F,v),onMouseEnter:rt?void 0:p,onMouseDown:rt?B:void 0,onMouseMove:rt?W:m,onMouseUp:rt?nt:void 0,onMouseLeave:rt?U:g,ref:v,style:Gr},y,l.createElement(Go,null))});Re.displayName="Pane";function Eo(t,n){if(!t.parentNode)return!1;const r=n.get(t.parentNode);return r?r.selected?!0:Eo(r,n):!1}function Qr(t,n,r){let i=t;do{if(i!=null&&i.matches(n))return!0;if(i===r.current)return!1;i=i.parentElement}while(i);return!1}function Ve(t,n,r,i){return Array.from(t.values()).filter(s=>(s.selected||s.id===i)&&(!s.parentNode||!Eo(s,t))&&(s.draggable||n&&typeof s.draggable=="undefined")).map(s=>{var u,c,f,p;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:r.x-((c=(u=s.positionAbsolute)==null?void 0:u.x)!=null?c:0),y:r.y-((p=(f=s.positionAbsolute)==null?void 0:f.y)!=null?p:0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode,width:s.width,height:s.height,expandParent:s.expandParent}})}function ui(t,n){return!n||n==="parent"?n:[n[0],[n[1][0]-(t.width||0),n[1][1]-(t.height||0)]]}function Jo(t,n,r,i,s=[0,0],u){const c=ui(t,t.extent||i);let f=c;if(t.extent==="parent"&&!t.expandParent)if(t.parentNode&&t.width&&t.height){const g=r.get(t.parentNode),{x:y,y:v}=se(g,s).positionAbsolute;f=g&&Vt(y)&&Vt(v)&&Vt(g.width)&&Vt(g.height)?[[y+t.width*s[0],v+t.height*s[1]],[y+g.width-t.width+t.width*s[0],v+g.height-t.height+t.height*s[1]]]:f}else u==null||u("005",ie.error005()),f=c;else if(t.extent&&t.parentNode&&t.extent!=="parent"){const g=r.get(t.parentNode),{x:y,y:v}=se(g,s).positionAbsolute;f=[[t.extent[0][0]+y,t.extent[0][1]+v],[t.extent[1][0]+y,t.extent[1][1]+v]]}let p={x:0,y:0};if(t.parentNode){const g=r.get(t.parentNode);p=se(g,s).positionAbsolute}const m=f&&f!=="parent"?Fn(n,f):n;return{position:{x:m.x-p.x,y:m.y-p.y},positionAbsolute:m}}function Jr({nodeId:t,dragItems:n,nodeInternals:r}){const i=n.map(s=>{const u=r.get(s.id);return te(bt({},u),{position:s.position,positionAbsolute:s.positionAbsolute})});return[t?i.find(s=>s.id===t):i[0],i]}const So=(t,n,r,i)=>{const s=n.querySelectorAll(t);if(!s||!s.length)return null;const u=Array.from(s),c=n.getBoundingClientRect(),f={x:c.width*i[0],y:c.height*i[1]};return u.map(p=>{const m=p.getBoundingClientRect();return bt({id:p.getAttribute("data-handleid"),position:p.getAttribute("data-handlepos"),x:(m.left-c.left-f.x)/r,y:(m.top-c.top-f.y)/r},cn(p))})};function or(t,n,r){return r===void 0?r:i=>{const s=n().nodeInternals.get(t);s&&r(i,bt({},s))}}function jr({id:t,store:n,unselect:r=!1,nodeRef:i}){const{addSelectedNodes:s,unselectNodesAndEdges:u,multiSelectionActive:c,nodeInternals:f,onError:p}=n.getState(),m=f.get(t);if(!m){p==null||p("012",ie.error012(t));return}n.setState({nodesSelectionActive:!1}),m.selected?(r||m.selected&&c)&&(u({nodes:[m],edges:[]}),requestAnimationFrame(()=>{var g;return(g=i==null?void 0:i.current)==null?void 0:g.blur()})):s([t])}function Dr(){const t=Lt();return(0,l.useCallback)(({sourceEvent:r})=>{const{transform:i,snapGrid:s,snapToGrid:u}=t.getState(),c=r.touches?r.touches[0].clientX:r.clientX,f=r.touches?r.touches[0].clientY:r.clientY,p={x:(c-i[0])/i[2],y:(f-i[1])/i[2]};return bt({xSnapped:u?s[0]*Math.round(p.x/s[0]):p.x,ySnapped:u?s[1]*Math.round(p.y/s[1]):p.y},p)},[])}function to(t){return(n,r,i)=>t==null?void 0:t(n,i)}function Ie({nodeRef:t,disabled:n=!1,noDragClassName:r,handleSelector:i,nodeId:s,isSelectable:u,selectNodesOnDrag:c}){const f=Lt(),[p,m]=(0,l.useState)(!1),g=(0,l.useRef)([]),y=(0,l.useRef)({x:null,y:null}),v=(0,l.useRef)(0),E=(0,l.useRef)(null),k=(0,l.useRef)({x:0,y:0}),M=(0,l.useRef)(null),D=(0,l.useRef)(!1),T=(0,l.useRef)(!1),R=Dr();return(0,l.useEffect)(()=>{if(t!=null&&t.current){const I=(0,it.Z)(t.current),S=({x:F,y:B})=>{const{nodeInternals:W,onNodeDrag:nt,onSelectionDrag:U,updateNodePositions:rt,nodeExtent:N,snapGrid:G,snapToGrid:et,nodeOrigin:ut,onError:Et}=f.getState();y.current={x:F,y:B};let yt=!1,P={x:0,y:0,x2:0,y2:0};if(g.current.length>1&&N){const tt=mn(g.current,ut);P=Pe(tt)}if(g.current=g.current.map(tt=>{var Xt,Ft;const _t={x:F-tt.distance.x,y:B-tt.distance.y};et&&(_t.x=G[0]*Math.round(_t.x/G[0]),_t.y=G[1]*Math.round(_t.y/G[1]));const St=[[N[0][0],N[0][1]],[N[1][0],N[1][1]]];g.current.length>1&&N&&!tt.extent&&(St[0][0]=tt.positionAbsolute.x-P.x+N[0][0],St[1][0]=tt.positionAbsolute.x+((Xt=tt.width)!=null?Xt:0)-P.x2+N[1][0],St[0][1]=tt.positionAbsolute.y-P.y+N[0][1],St[1][1]=tt.positionAbsolute.y+((Ft=tt.height)!=null?Ft:0)-P.y2+N[1][1]);const Rt=Jo(tt,_t,W,St,ut,Et);return yt=yt||tt.position.x!==Rt.position.x||tt.position.y!==Rt.position.y,tt.position=Rt.position,tt.positionAbsolute=Rt.positionAbsolute,tt}),!yt)return;rt(g.current,!0,!0),m(!0);const q=s?nt:to(U);if(q&&M.current){const[tt,_t]=Jr({nodeId:s,dragItems:g.current,nodeInternals:W});q(M.current,tt,_t)}},O=()=>{var W,nt;if(!E.current)return;const[F,B]=Yn(k.current,E.current);if(F!==0||B!==0){const{transform:U,panBy:rt}=f.getState();y.current.x=((W=y.current.x)!=null?W:0)-F/U[2],y.current.y=((nt=y.current.y)!=null?nt:0)-B/U[2],rt({x:F,y:B})&&S(y.current)}v.current=requestAnimationFrame(O)},K=F=>{var ut;const{nodeInternals:B,multiSelectionActive:W,nodesDraggable:nt,unselectNodesAndEdges:U,onNodeDragStart:rt,onSelectionDragStart:N}=f.getState();T.current=!0;const G=s?rt:to(N);(!c||!u)&&!W&&s&&((ut=B.get(s))!=null&&ut.selected||U()),s&&u&&c&&jr({id:s,store:f,nodeRef:t});const et=R(F);if(y.current=et,g.current=Ve(B,nt,et,s),G&&g.current){const[Et,yt]=Jr({nodeId:s,dragItems:g.current,nodeInternals:B});G(F.sourceEvent,Et,yt)}};if(n)I.on(".drag",null);else{const F=sn().on("start",B=>{const{domNode:W,nodeDragThreshold:nt}=f.getState();nt===0&&K(B);const U=R(B);y.current=U,E.current=(W==null?void 0:W.getBoundingClientRect())||null,k.current=_e(B.sourceEvent,E.current)}).on("drag",B=>{var rt,N,G,et;const W=R(B),{autoPanOnNodeDrag:nt,nodeDragThreshold:U}=f.getState();if(!D.current&&T.current&&nt&&(D.current=!0,O()),!T.current){const ut=W.xSnapped-((N=(rt=y==null?void 0:y.current)==null?void 0:rt.x)!=null?N:0),Et=W.ySnapped-((et=(G=y==null?void 0:y.current)==null?void 0:G.y)!=null?et:0);Math.sqrt(ut*ut+Et*Et)>U&&K(B)}(y.current.x!==W.xSnapped||y.current.y!==W.ySnapped)&&g.current&&T.current&&(M.current=B.sourceEvent,k.current=_e(B.sourceEvent,E.current),S(W))}).on("end",B=>{if(T.current&&(m(!1),D.current=!1,T.current=!1,cancelAnimationFrame(v.current),g.current)){const{updateNodePositions:W,nodeInternals:nt,onNodeDragStop:U,onSelectionDragStop:rt}=f.getState(),N=s?U:to(rt);if(W(g.current,!1,!1),N){const[G,et]=Jr({nodeId:s,dragItems:g.current,nodeInternals:nt});N(B.sourceEvent,G,et)}}}).filter(B=>{const W=B.target;return!B.button&&(!r||!Qr(W,`.${r}`,t))&&(!i||Qr(W,i,t))});return I.call(F),()=>{I.on(".drag",null)}}}},[t,n,r,i,u,f,s,c,R]),p}function ir(){const t=Lt();return(0,l.useCallback)(r=>{const{nodeInternals:i,nodeExtent:s,updateNodePositions:u,getNodes:c,snapToGrid:f,snapGrid:p,onError:m,nodesDraggable:g}=t.getState(),y=c().filter(R=>R.selected&&(R.draggable||g&&typeof R.draggable=="undefined")),v=f?p[0]:5,E=f?p[1]:5,k=r.isShiftPressed?4:1,M=r.x*v*k,D=r.y*E*k,T=y.map(R=>{if(R.positionAbsolute){const I={x:R.positionAbsolute.x+M,y:R.positionAbsolute.y+D};f&&(I.x=p[0]*Math.round(I.x/p[0]),I.y=p[1]*Math.round(I.y/p[1]));const{positionAbsolute:S,position:O}=Jo(R,I,i,s,void 0,m);R.position=O,R.positionAbsolute=S}return R});u(T,!0,!1)},[])}const Ln={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var xn=t=>{const n=({id:r,type:i,data:s,xPos:u,yPos:c,xPosOrigin:f,yPosOrigin:p,selected:m,onClick:g,onMouseEnter:y,onMouseMove:v,onMouseLeave:E,onContextMenu:k,onDoubleClick:M,style:D,className:T,isDraggable:R,isSelectable:I,isConnectable:S,isFocusable:O,selectNodesOnDrag:K,sourcePosition:F,targetPosition:B,hidden:W,resizeObserver:nt,dragHandle:U,zIndex:rt,isParent:N,noDragClassName:G,noPanClassName:et,initialized:ut,disableKeyboardA11y:Et,ariaLabel:yt,rfId:P})=>{const q=Lt(),tt=(0,l.useRef)(null),_t=(0,l.useRef)(F),St=(0,l.useRef)(B),Rt=(0,l.useRef)(i),Xt=I||R||g||y||v||E,Ft=ir(),oe=or(r,q.getState,y),ne=or(r,q.getState,v),re=or(r,q.getState,E),he=or(r,q.getState,k),fe=or(r,q.getState,M),Qt=Wt=>{const{nodeDragThreshold:Ee}=q.getState();if(I&&(!K||!R||Ee>0)&&jr({id:r,store:q,nodeRef:tt}),g){const Me=q.getState().nodeInternals.get(r);Me&&g(Wt,bt({},Me))}},Ne=Wt=>{if(!we(Wt))if(br.includes(Wt.key)&&I){const Ee=Wt.key==="Escape";jr({id:r,store:q,unselect:Ee,nodeRef:tt})}else!Et&&R&&m&&Object.prototype.hasOwnProperty.call(Ln,Wt.key)&&(q.setState({ariaLiveMessage:`Moved selected node ${Wt.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~u}, y: ${~~c}`}),Ft({x:Ln[Wt.key].x,y:Ln[Wt.key].y,isShiftPressed:Wt.shiftKey}))};(0,l.useEffect)(()=>{if(tt.current&&!W){const Wt=tt.current;return nt==null||nt.observe(Wt),()=>nt==null?void 0:nt.unobserve(Wt)}},[W]),(0,l.useEffect)(()=>{const Wt=Rt.current!==i,Ee=_t.current!==F,Me=St.current!==B;tt.current&&(Wt||Ee||Me)&&(Wt&&(Rt.current=i),Ee&&(_t.current=F),Me&&(St.current=B),q.getState().updateNodeDimensions([{id:r,nodeElement:tt.current,forceUpdate:!0}]))},[r,i,F,B]);const Ut=Ie({nodeRef:tt,disabled:W||!R,noDragClassName:G,handleSelector:U,nodeId:r,isSelectable:I,selectNodesOnDrag:K});return W?null:l.createElement("div",{className:(0,ot.Z)(["react-flow__node",`react-flow__node-${i}`,{[et]:R},T,{selected:m,selectable:I,parent:N,dragging:Ut}]),ref:tt,style:bt({zIndex:rt,transform:`translate(${f}px,${p}px)`,pointerEvents:Xt?"all":"none",visibility:ut?"visible":"hidden"},D),"data-id":r,"data-testid":`rf__node-${r}`,onMouseEnter:oe,onMouseMove:ne,onMouseLeave:re,onContextMenu:he,onClick:Qt,onDoubleClick:fe,onKeyDown:O?Ne:void 0,tabIndex:O?0:void 0,role:O?"button":void 0,"aria-describedby":Et?void 0:`${uo}-${P}`,"aria-label":yt},l.createElement(Yr,{value:r},l.createElement(t,{id:r,data:s,type:i,xPos:u,yPos:c,selected:m,isConnectable:S,sourcePosition:F,targetPosition:B,dragging:Ut,dragHandle:U,zIndex:rt})))};return n.displayName="NodeWrapper",(0,l.memo)(n)};const sr=t=>{const n=t.getNodes().filter(r=>r.selected);return te(bt({},mn(n,t.nodeOrigin)),{transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive})};function jo({onSelectionContextMenu:t,noPanClassName:n,disableKeyboardA11y:r}){const i=Lt(),{width:s,height:u,x:c,y:f,transformString:p,userSelectionActive:m}=Ot(sr,j.X),g=ir(),y=(0,l.useRef)(null);if((0,l.useEffect)(()=>{var k;r||(k=y.current)==null||k.focus({preventScroll:!0})},[r]),Ie({nodeRef:y}),m||!s||!u)return null;const v=t?k=>{const M=i.getState().getNodes().filter(D=>D.selected);t(k,M)}:void 0,E=k=>{Object.prototype.hasOwnProperty.call(Ln,k.key)&&g({x:Ln[k.key].x,y:Ln[k.key].y,isShiftPressed:k.shiftKey})};return l.createElement("div",{className:(0,ot.Z)(["react-flow__nodesselection","react-flow__container",n]),style:{transform:p}},l.createElement("div",{ref:y,className:"react-flow__nodesselection-rect",onContextMenu:v,tabIndex:r?void 0:-1,onKeyDown:r?void 0:E,style:{width:s,height:u,top:f,left:c}}))}var ti=(0,l.memo)(jo);const No=t=>t.nodesSelectionActive,Mo=({children:t,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:i,onPaneMouseLeave:s,onPaneContextMenu:u,onPaneScroll:c,deleteKeyCode:f,onMove:p,onMoveStart:m,onMoveEnd:g,selectionKeyCode:y,selectionOnDrag:v,selectionMode:E,onSelectionStart:k,onSelectionEnd:M,multiSelectionKeyCode:D,panActivationKeyCode:T,zoomActivationKeyCode:R,elementsSelectable:I,zoomOnScroll:S,zoomOnPinch:O,panOnScroll:K,panOnScrollSpeed:F,panOnScrollMode:B,zoomOnDoubleClick:W,panOnDrag:nt,defaultViewport:U,translateExtent:rt,minZoom:N,maxZoom:G,preventScrolling:et,onSelectionContextMenu:ut,noWheelClassName:Et,noPanClassName:yt,disableKeyboardA11y:P})=>{const q=Ot(No),tt=nr(y),St=nr(T)||nt,Rt=tt||v&&St!==!0;return Yo({deleteKeyCode:f,multiSelectionKeyCode:D}),l.createElement(Wo,{onMove:p,onMoveStart:m,onMoveEnd:g,onPaneContextMenu:u,elementsSelectable:I,zoomOnScroll:S,zoomOnPinch:O,panOnScroll:K,panOnScrollSpeed:F,panOnScrollMode:B,zoomOnDoubleClick:W,panOnDrag:!tt&&St,defaultViewport:U,translateExtent:rt,minZoom:N,maxZoom:G,zoomActivationKeyCode:R,preventScrolling:et,noWheelClassName:Et,noPanClassName:yt},l.createElement(Re,{onSelectionStart:k,onSelectionEnd:M,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:i,onPaneMouseLeave:s,onPaneContextMenu:u,onPaneScroll:c,panOnDrag:St,isSelecting:!!Rt,selectionMode:E},t,q&&l.createElement(ti,{onSelectionContextMenu:ut,noPanClassName:yt,disableKeyboardA11y:P})))};Mo.displayName="FlowRenderer";var ei=(0,l.memo)(Mo);function ni(t){return Ot((0,l.useCallback)(r=>t?zn(r.nodeInternals,{x:0,y:0,width:r.width,height:r.height},r.transform,!0):r.getNodes(),[t]))}function ri(t){const n={input:xn(t.input||Cr),default:xn(t.default||Je),output:xn(t.output||tn),group:xn(t.group||$n)},r={},i=Object.keys(t).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,u)=>(s[u]=xn(t[u]||Je),s),r);return bt(bt({},n),i)}const e=({x:t,y:n,width:r,height:i,origin:s})=>!r||!i?{x:t,y:n}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:t,y:n}:{x:t-r*s[0],y:n-i*s[1]},o=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),a=t=>{const{nodesDraggable:n,nodesConnectable:r,nodesFocusable:i,elementsSelectable:s,updateNodeDimensions:u,onError:c}=Ot(o,j.X),f=ni(t.onlyRenderVisibleElements),p=(0,l.useRef)(),m=(0,l.useMemo)(()=>{if(typeof ResizeObserver=="undefined")return null;const g=new ResizeObserver(y=>{const v=y.map(E=>({id:E.target.getAttribute("data-id"),nodeElement:E.target,forceUpdate:!0}));u(v)});return p.current=g,g},[]);return(0,l.useEffect)(()=>()=>{var g;(g=p==null?void 0:p.current)==null||g.disconnect()},[]),l.createElement("div",{className:"react-flow__nodes",style:Gr},f.map(g=>{var O,K,F,B,W,nt,U;let y=g.type||"default";t.nodeTypes[y]||(c==null||c("003",ie.error003(y)),y="default");const v=t.nodeTypes[y]||t.nodeTypes.default,E=!!(g.draggable||n&&typeof g.draggable=="undefined"),k=!!(g.selectable||s&&typeof g.selectable=="undefined"),M=!!(g.connectable||r&&typeof g.connectable=="undefined"),D=!!(g.focusable||i&&typeof g.focusable=="undefined"),T=t.nodeExtent?Fn(g.positionAbsolute,t.nodeExtent):g.positionAbsolute,R=(O=T==null?void 0:T.x)!=null?O:0,I=(K=T==null?void 0:T.y)!=null?K:0,S=e({x:R,y:I,width:(F=g.width)!=null?F:0,height:(B=g.height)!=null?B:0,origin:t.nodeOrigin});return l.createElement(v,{key:g.id,id:g.id,className:g.className,style:g.style,type:y,data:g.data,sourcePosition:g.sourcePosition||at.Bottom,targetPosition:g.targetPosition||at.Top,hidden:g.hidden,xPos:R,yPos:I,xPosOrigin:S.x,yPosOrigin:S.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!g.selected,isDraggable:E,isSelectable:k,isConnectable:M,isFocusable:D,resizeObserver:m,dragHandle:g.dragHandle,zIndex:(nt=(W=g[Ht])==null?void 0:W.z)!=null?nt:0,isParent:!!((U=g[Ht])!=null&&U.isParent),noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!g.width&&!!g.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:g.ariaLabel})}))};a.displayName="NodeRenderer";var h=(0,l.memo)(a);const w=(t,n,r)=>r===at.Left?t-n:r===at.Right?t+n:t,b=(t,n,r)=>r===at.Top?t-n:r===at.Bottom?t+n:t,x="react-flow__edgeupdater",A=({position:t,centerX:n,centerY:r,radius:i=10,onMouseDown:s,onMouseEnter:u,onMouseOut:c,type:f})=>l.createElement("circle",{onMouseDown:s,onMouseEnter:u,onMouseOut:c,className:(0,ot.Z)([x,`${x}-${f}`]),cx:w(n,i,t),cy:b(r,i,t),r:i,stroke:"transparent",fill:"transparent"}),Z=()=>!0;var H=t=>{const n=({id:r,className:i,type:s,data:u,onClick:c,onEdgeDoubleClick:f,selected:p,animated:m,label:g,labelStyle:y,labelShowBg:v,labelBgStyle:E,labelBgPadding:k,labelBgBorderRadius:M,style:D,source:T,target:R,sourceX:I,sourceY:S,targetX:O,targetY:K,sourcePosition:F,targetPosition:B,elementsSelectable:W,hidden:nt,sourceHandleId:U,targetHandleId:rt,onContextMenu:N,onMouseEnter:G,onMouseMove:et,onMouseLeave:ut,edgeUpdaterRadius:Et,onEdgeUpdate:yt,onEdgeUpdateStart:P,onEdgeUpdateEnd:q,markerEnd:tt,markerStart:_t,rfId:St,ariaLabel:Rt,isFocusable:Xt,isUpdatable:Ft,pathOptions:oe,interactionWidth:ne})=>{const re=(0,l.useRef)(null),[he,fe]=(0,l.useState)(!1),[Qt,Ne]=(0,l.useState)(!1),Ut=Lt(),Wt=(0,l.useMemo)(()=>`url(#${Jt(_t,St)})`,[_t,St]),Ee=(0,l.useMemo)(()=>`url(#${Jt(tt,St)})`,[tt,St]);if(nt)return null;const Me=ge=>{var rn;const{edges:Ce,addSelectedEdges:dr,unselectNodesAndEdges:hr,multiSelectionActive:gr}=Ut.getState(),bn=Ce.find(oo=>oo.id===r);bn&&(W&&(Ut.setState({nodesSelectionActive:!1}),bn.selected&&gr?(hr({nodes:[],edges:[bn]}),(rn=re.current)==null||rn.blur()):dr([r])),c&&c(ge,bn))},At=qe(r,Ut.getState,f),cr=qe(r,Ut.getState,N),ur=qe(r,Ut.getState,G),no=qe(r,Ut.getState,et),$r=qe(r,Ut.getState,ut),lr=(ge,Ce)=>{if(ge.button!==0)return;const{edges:dr,isValidConnection:hr}=Ut.getState(),gr=Ce?R:T,bn=(Ce?rt:U)||null,rn=Ce?"target":"source",oo=hr||Z,ii=Ce,io=dr.find(pr=>pr.id===r);Ne(!0),P==null||P(ge,io,rn);const si=pr=>{Ne(!1),q==null||q(pr,io,rn)};wt({event:ge,handleId:bn,nodeId:gr,onConnect:pr=>yt==null?void 0:yt(io,pr),isTarget:ii,getState:Ut.getState,setState:Ut.setState,isValidConnection:oo,edgeUpdaterType:rn,onEdgeUpdateEnd:si})},Xn=ge=>lr(ge,!0),Hr=ge=>lr(ge,!1),Vn=()=>fe(!0),fr=()=>fe(!1),ro=!W&&!c,Or=ge=>{var Ce;if(br.includes(ge.key)&&W){const{unselectNodesAndEdges:dr,addSelectedEdges:hr,edges:gr}=Ut.getState();ge.key==="Escape"?((Ce=re.current)==null||Ce.blur(),dr({edges:[gr.find(rn=>rn.id===r)]})):hr([r])}};return l.createElement("g",{className:(0,ot.Z)(["react-flow__edge",`react-flow__edge-${s}`,i,{selected:p,animated:m,inactive:ro,updating:he}]),onClick:Me,onDoubleClick:At,onContextMenu:cr,onMouseEnter:ur,onMouseMove:no,onMouseLeave:$r,onKeyDown:Xt?Or:void 0,tabIndex:Xt?0:void 0,role:Xt?"button":"img","data-testid":`rf__edge-${r}`,"aria-label":Rt===null?void 0:Rt||`Edge from ${T} to ${R}`,"aria-describedby":Xt?`${lo}-${St}`:void 0,ref:re},!Qt&&l.createElement(t,{id:r,source:T,target:R,selected:p,animated:m,label:g,labelStyle:y,labelShowBg:v,labelBgStyle:E,labelBgPadding:k,labelBgBorderRadius:M,data:u,style:D,sourceX:I,sourceY:S,targetX:O,targetY:K,sourcePosition:F,targetPosition:B,sourceHandleId:U,targetHandleId:rt,markerStart:Wt,markerEnd:Ee,pathOptions:oe,interactionWidth:ne}),Ft&&l.createElement(l.Fragment,null,(Ft==="source"||Ft===!0)&&l.createElement(A,{position:F,centerX:I,centerY:S,radius:Et,onMouseDown:Xn,onMouseEnter:Vn,onMouseOut:fr,type:"source"}),(Ft==="target"||Ft===!0)&&l.createElement(A,{position:B,centerX:O,centerY:K,radius:Et,onMouseDown:Hr,onMouseEnter:Vn,onMouseOut:fr,type:"target"})))};return n.displayName="EdgeWrapper",(0,l.memo)(n)};function V(t){const n={default:H(t.default||dn),straight:H(t.bezier||Rn),step:H(t.step||qn),smoothstep:H(t.step||fn),simplebezier:H(t.simplebezier||Ze)},r={},i=Object.keys(t).filter(s=>!["default","bezier"].includes(s)).reduce((s,u)=>(s[u]=H(t[u]||dn),s),r);return bt(bt({},n),i)}function mt(t,n,r=null){const i=((r==null?void 0:r.x)||0)+n.x,s=((r==null?void 0:r.y)||0)+n.y,u=(r==null?void 0:r.width)||n.width,c=(r==null?void 0:r.height)||n.height;switch(t){case at.Top:return{x:i+u/2,y:s};case at.Right:return{x:i+u,y:s+c/2};case at.Bottom:return{x:i+u/2,y:s+c};case at.Left:return{x:i,y:s+c/2}}}function pt(t,n){return t?t.length===1||!n?t[0]:n&&t.find(r=>r.id===n)||null:null}const Ct=(t,n,r,i,s,u)=>{const c=mt(r,t,n),f=mt(u,i,s);return{sourceX:c.x,sourceY:c.y,targetX:f.x,targetY:f.y}};function le({sourcePos:t,targetPos:n,sourceWidth:r,sourceHeight:i,targetWidth:s,targetHeight:u,width:c,height:f,transform:p}){const m={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x+r,n.x+s),y2:Math.max(t.y+i,n.y+u)};m.x===m.x2&&(m.x2+=1),m.y===m.y2&&(m.y2+=1);const g=Pe({x:(0-p[0])/p[2],y:(0-p[1])/p[2],width:c/p[2],height:f/p[2]}),y=Math.max(0,Math.min(g.x2,m.x2)-Math.max(g.x,m.x)),v=Math.max(0,Math.min(g.y2,m.y2)-Math.max(g.y,m.y));return Math.ceil(y*v)>0}function Yt(t){var i,s,u,c,f;const n=((i=t==null?void 0:t[Ht])==null?void 0:i.handleBounds)||null,r=n&&(t==null?void 0:t.width)&&(t==null?void 0:t.height)&&typeof((s=t==null?void 0:t.positionAbsolute)==null?void 0:s.x)!="undefined"&&typeof((u=t==null?void 0:t.positionAbsolute)==null?void 0:u.y)!="undefined";return[{x:((c=t==null?void 0:t.positionAbsolute)==null?void 0:c.x)||0,y:((f=t==null?void 0:t.positionAbsolute)==null?void 0:f.y)||0,width:(t==null?void 0:t.width)||0,height:(t==null?void 0:t.height)||0},n,!!r]}const me=[{level:0,isMaxLevel:!0,edges:[]}];function Tt(t,n,r=!1){let i=-1;const s=t.reduce((c,f)=>{var g,y;const p=Vt(f.zIndex);let m=p?f.zIndex:0;if(r){const v=n.get(f.target),E=n.get(f.source),k=f.selected||(v==null?void 0:v.selected)||(E==null?void 0:E.selected),M=Math.max(((g=E==null?void 0:E[Ht])==null?void 0:g.z)||0,((y=v==null?void 0:v[Ht])==null?void 0:y.z)||0,1e3);m=(p?f.zIndex:0)+(k?M:0)}return c[m]?c[m].push(f):c[m]=[f],i=m>i?m:i,c},{}),u=Object.entries(s).map(([c,f])=>{const p=+c;return{edges:f,level:p,isMaxLevel:p===i}});return u.length===0?me:u}function nn(t,n,r){const i=Ot((0,l.useCallback)(s=>t?s.edges.filter(u=>{const c=n.get(u.source),f=n.get(u.target);return(c==null?void 0:c.width)&&(c==null?void 0:c.height)&&(f==null?void 0:f.width)&&(f==null?void 0:f.height)&&le({sourcePos:c.positionAbsolute||{x:0,y:0},targetPos:f.positionAbsolute||{x:0,y:0},sourceWidth:c.width,sourceHeight:c.height,targetWidth:f.width,targetHeight:f.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[t,n]));return Tt(i,n,r)}const Fe=({color:t="none",strokeWidth:n=1})=>l.createElement("polyline",{style:{stroke:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),wn=({color:t="none",strokeWidth:n=1})=>l.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Ye={[Pn.Arrow]:Fe,[Pn.ArrowClosed]:wn};function Se(t){const n=Lt();return(0,l.useMemo)(()=>{var s,u;return Object.prototype.hasOwnProperty.call(Ye,t)?Ye[t]:((u=(s=n.getState()).onError)==null||u.call(s,"009",ie.error009(t)),null)},[t])}const Rr=({id:t,type:n,color:r,width:i=12.5,height:s=12.5,markerUnits:u="strokeWidth",strokeWidth:c,orient:f="auto-start-reverse"})=>{const p=Se(n);return p?l.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${i}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:u,orient:f,refX:"0",refY:"0"},l.createElement(p,{color:r,strokeWidth:c})):null},_n=({defaultColor:t,rfId:n})=>r=>{const i=[];return r.edges.reduce((s,u)=>([u.markerStart,u.markerEnd].forEach(c=>{if(c&&typeof c=="object"){const f=Jt(c,n);i.includes(f)||(s.push(bt({id:f,color:c.color||t},c)),i.push(f))}}),s),[]).sort((s,u)=>s.id.localeCompare(u.id))},ar=({defaultColor:t,rfId:n})=>{const r=Ot((0,l.useCallback)(_n({defaultColor:t,rfId:n}),[t,n]),(i,s)=>!(i.length!==s.length||i.some((u,c)=>u.id!==s[c].id)));return l.createElement("defs",null,r.map(i=>l.createElement(Rr,{id:i.id,key:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient})))};ar.displayName="MarkerDefinitions";var Ir=(0,l.memo)(ar);const zr=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),Co=({defaultMarkerColor:t,onlyRenderVisibleElements:n,elevateEdgesOnSelect:r,rfId:i,edgeTypes:s,noPanClassName:u,onEdgeUpdate:c,onEdgeContextMenu:f,onEdgeMouseEnter:p,onEdgeMouseMove:m,onEdgeMouseLeave:g,onEdgeClick:y,edgeUpdaterRadius:v,onEdgeDoubleClick:E,onEdgeUpdateStart:k,onEdgeUpdateEnd:M,children:D})=>{const{edgesFocusable:T,edgesUpdatable:R,elementsSelectable:I,width:S,height:O,connectionMode:K,nodeInternals:F,onError:B}=Ot(zr,j.X),W=nn(n,F,r);return S?l.createElement(l.Fragment,null,W.map(({level:nt,edges:U,isMaxLevel:rt})=>l.createElement("svg",{key:nt,style:{zIndex:nt},width:S,height:O,className:"react-flow__edges react-flow__container"},rt&&l.createElement(Ir,{defaultColor:t,rfId:i}),l.createElement("g",null,U.map(N=>{var Ne,Ut;const[G,et,ut]=Yt(F.get(N.source)),[Et,yt,P]=Yt(F.get(N.target));if(!ut||!P)return null;let q=N.type||"default";s[q]||(B==null||B("011",ie.error011(q)),q="default");const tt=s[q]||s.default,_t=K===Be.Strict?yt.target:((Ne=yt.target)!=null?Ne:[]).concat((Ut=yt.source)!=null?Ut:[]),St=pt(et.source,N.sourceHandle),Rt=pt(_t,N.targetHandle),Xt=(St==null?void 0:St.position)||at.Bottom,Ft=(Rt==null?void 0:Rt.position)||at.Top,oe=!!(N.focusable||T&&typeof N.focusable=="undefined"),ne=typeof c!="undefined"&&(N.updatable||R&&typeof N.updatable=="undefined");if(!St||!Rt)return B==null||B("008",ie.error008(St,N)),null;const{sourceX:re,sourceY:he,targetX:fe,targetY:Qt}=Ct(G,St,Xt,Et,Rt,Ft);return l.createElement(tt,{key:N.id,id:N.id,className:(0,ot.Z)([N.className,u]),type:q,data:N.data,selected:!!N.selected,animated:!!N.animated,hidden:!!N.hidden,label:N.label,labelStyle:N.labelStyle,labelShowBg:N.labelShowBg,labelBgStyle:N.labelBgStyle,labelBgPadding:N.labelBgPadding,labelBgBorderRadius:N.labelBgBorderRadius,style:N.style,source:N.source,target:N.target,sourceHandleId:N.sourceHandle,targetHandleId:N.targetHandle,markerEnd:N.markerEnd,markerStart:N.markerStart,sourceX:re,sourceY:he,targetX:fe,targetY:Qt,sourcePosition:Xt,targetPosition:Ft,elementsSelectable:I,onEdgeUpdate:c,onContextMenu:f,onMouseEnter:p,onMouseMove:m,onMouseLeave:g,onClick:y,edgeUpdaterRadius:v,onEdgeDoubleClick:E,onEdgeUpdateStart:k,onEdgeUpdateEnd:M,rfId:i,ariaLabel:N.ariaLabel,isFocusable:oe,isUpdatable:ne,pathOptions:"pathOptions"in N?N.pathOptions:void 0,interactionWidth:N.interactionWidth})})))),D):null};Co.displayName="EdgeRenderer";var oi=(0,l.memo)(Co);const C=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function ht({children:t}){const n=Ot(C);return l.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:n}},t)}function L(t){const n=Ur(),r=(0,l.useRef)(!1);(0,l.useEffect)(()=>{!r.current&&n.viewportInitialized&&t&&(setTimeout(()=>t(n),1),r.current=!0)},[t,n.viewportInitialized])}const xt={[at.Left]:at.Right,[at.Right]:at.Left,[at.Top]:at.Bottom,[at.Bottom]:at.Top},kt=({nodeId:t,handleType:n,style:r,type:i=ke.Bezier,CustomComponent:s,connectionStatus:u})=>{var K,F,B,W,nt,U,rt;const{fromNode:c,handleId:f,toX:p,toY:m,connectionMode:g}=Ot((0,l.useCallback)(N=>({fromNode:N.nodeInternals.get(t),handleId:N.connectionHandleId,toX:(N.connectionPosition.x-N.transform[0])/N.transform[2],toY:(N.connectionPosition.y-N.transform[1])/N.transform[2],connectionMode:N.connectionMode}),[t]),j.X),y=(K=c==null?void 0:c[Ht])==null?void 0:K.handleBounds;let v=y==null?void 0:y[n];if(g===Be.Loose&&(v=v||(y==null?void 0:y[n==="source"?"target":"source"])),!c||!v)return null;const E=f?v.find(N=>N.id===f):v[0],k=E?E.x+E.width/2:((F=c.width)!=null?F:0)/2,M=E?E.y+E.height/2:(B=c.height)!=null?B:0,D=((nt=(W=c.positionAbsolute)==null?void 0:W.x)!=null?nt:0)+k,T=((rt=(U=c.positionAbsolute)==null?void 0:U.y)!=null?rt:0)+M,R=E==null?void 0:E.position,I=R?xt[R]:null;if(!R||!I)return null;if(s)return l.createElement(s,{connectionLineType:i,connectionLineStyle:r,fromNode:c,fromHandle:E,fromX:D,fromY:T,toX:p,toY:m,fromPosition:R,toPosition:I,connectionStatus:u});let S="";const O={sourceX:D,sourceY:T,sourcePosition:R,targetX:p,targetY:m,targetPosition:I};return i===ke.Bezier?[S]=Qn(O):i===ke.Step?[S]=Dn(te(bt({},O),{borderRadius:0})):i===ke.SmoothStep?[S]=Dn(O):i===ke.SimpleBezier?[S]=Gn(O):S=`M${D},${T} ${p},${m}`,l.createElement("path",{d:S,fill:"none",className:"react-flow__connection-path",style:r})};kt.displayName="ConnectionLine";const It=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function zt({containerStyle:t,style:n,type:r,component:i}){const{nodeId:s,handleType:u,nodesConnectable:c,width:f,height:p,connectionStatus:m}=Ot(It,j.X);return!(s&&u&&f&&c)?null:l.createElement("svg",{style:t,width:f,height:p,className:"react-flow__edges react-flow__connectionline react-flow__container"},l.createElement("g",{className:(0,ot.Z)(["react-flow__connection",m])},l.createElement(kt,{nodeId:s,handleType:u,style:n,type:r,CustomComponent:i,connectionStatus:m})))}function Zt(t,n){const r=(0,l.useRef)(null),i=Lt();return(0,l.useMemo)(()=>n(t),[t])}const Kt=({nodeTypes:t,edgeTypes:n,onMove:r,onMoveStart:i,onMoveEnd:s,onInit:u,onNodeClick:c,onEdgeClick:f,onNodeDoubleClick:p,onEdgeDoubleClick:m,onNodeMouseEnter:g,onNodeMouseMove:y,onNodeMouseLeave:v,onNodeContextMenu:E,onSelectionContextMenu:k,onSelectionStart:M,onSelectionEnd:D,connectionLineType:T,connectionLineStyle:R,connectionLineComponent:I,connectionLineContainerStyle:S,selectionKeyCode:O,selectionOnDrag:K,selectionMode:F,multiSelectionKeyCode:B,panActivationKeyCode:W,zoomActivationKeyCode:nt,deleteKeyCode:U,onlyRenderVisibleElements:rt,elementsSelectable:N,selectNodesOnDrag:G,defaultViewport:et,translateExtent:ut,minZoom:Et,maxZoom:yt,preventScrolling:P,defaultMarkerColor:q,zoomOnScroll:tt,zoomOnPinch:_t,panOnScroll:St,panOnScrollSpeed:Rt,panOnScrollMode:Xt,zoomOnDoubleClick:Ft,panOnDrag:oe,onPaneClick:ne,onPaneMouseEnter:re,onPaneMouseMove:he,onPaneMouseLeave:fe,onPaneScroll:Qt,onPaneContextMenu:Ne,onEdgeUpdate:Ut,onEdgeContextMenu:Wt,onEdgeMouseEnter:Ee,onEdgeMouseMove:Me,onEdgeMouseLeave:At,edgeUpdaterRadius:cr,onEdgeUpdateStart:ur,onEdgeUpdateEnd:no,noDragClassName:$r,noWheelClassName:lr,noPanClassName:Xn,elevateEdgesOnSelect:Hr,disableKeyboardA11y:Vn,nodeOrigin:fr,nodeExtent:ro,rfId:Or})=>{const ge=Zt(t,ri),Ce=Zt(n,V);return L(u),l.createElement(ei,{onPaneClick:ne,onPaneMouseEnter:re,onPaneMouseMove:he,onPaneMouseLeave:fe,onPaneContextMenu:Ne,onPaneScroll:Qt,deleteKeyCode:U,selectionKeyCode:O,selectionOnDrag:K,selectionMode:F,onSelectionStart:M,onSelectionEnd:D,multiSelectionKeyCode:B,panActivationKeyCode:W,zoomActivationKeyCode:nt,elementsSelectable:N,onMove:r,onMoveStart:i,onMoveEnd:s,zoomOnScroll:tt,zoomOnPinch:_t,zoomOnDoubleClick:Ft,panOnScroll:St,panOnScrollSpeed:Rt,panOnScrollMode:Xt,panOnDrag:oe,defaultViewport:et,translateExtent:ut,minZoom:Et,maxZoom:yt,onSelectionContextMenu:k,preventScrolling:P,noDragClassName:$r,noWheelClassName:lr,noPanClassName:Xn,disableKeyboardA11y:Vn},l.createElement(ht,null,l.createElement(oi,{edgeTypes:Ce,onEdgeClick:f,onEdgeDoubleClick:m,onEdgeUpdate:Ut,onlyRenderVisibleElements:rt,onEdgeContextMenu:Wt,onEdgeMouseEnter:Ee,onEdgeMouseMove:Me,onEdgeMouseLeave:At,onEdgeUpdateStart:ur,onEdgeUpdateEnd:no,edgeUpdaterRadius:cr,defaultMarkerColor:q,noPanClassName:Xn,elevateEdgesOnSelect:!!Hr,disableKeyboardA11y:Vn,rfId:Or},l.createElement(zt,{style:R,type:T,component:I,containerStyle:S})),l.createElement("div",{className:"react-flow__edgelabel-renderer"}),l.createElement(h,{nodeTypes:ge,onNodeClick:c,onNodeDoubleClick:p,onNodeMouseEnter:g,onNodeMouseMove:y,onNodeMouseLeave:v,onNodeContextMenu:E,selectNodesOnDrag:G,onlyRenderVisibleElements:rt,noPanClassName:Xn,noDragClassName:$r,disableKeyboardA11y:Vn,nodeOrigin:fr,nodeExtent:ro,rfId:Or})))};Kt.displayName="GraphView";var ze=(0,l.memo)(Kt);const qt=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],jt={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:qt,nodeExtent:qt,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Be.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Oe,isValidConnection:void 0},Ke=()=>(0,J.F)((t,n)=>te(bt({},jt),{setNodes:r=>{const{nodeInternals:i,nodeOrigin:s,elevateNodesOnSelect:u}=n();t({nodeInternals:Wr(r,i,s,u)})},getNodes:()=>Array.from(n().nodeInternals.values()),setEdges:r=>{const{defaultEdgeOptions:i={}}=n();t({edges:r.map(s=>bt(bt({},i),s))})},setDefaultNodesAndEdges:(r,i)=>{const s=typeof r!="undefined",u=typeof i!="undefined",c=s?Wr(r,new Map,n().nodeOrigin,n().elevateNodesOnSelect):new Map;t({nodeInternals:c,edges:u?i:[],hasDefaultNodes:s,hasDefaultEdges:u})},updateNodeDimensions:r=>{const{onNodesChange:i,nodeInternals:s,fitViewOnInit:u,fitViewOnInitDone:c,fitViewOnInitOptions:f,domNode:p,nodeOrigin:m}=n(),g=p==null?void 0:p.querySelector(".react-flow__viewport");if(!g)return;const y=window.getComputedStyle(g),{m22:v}=new window.DOMMatrixReadOnly(y.transform),E=r.reduce((M,D)=>{const T=s.get(D.id);if(T){const R=cn(D.nodeElement);!!(R.width&&R.height&&(T.width!==R.width||T.height!==R.height||D.forceUpdate))&&(s.set(T.id,bt(te(bt({},T),{[Ht]:te(bt({},T[Ht]),{handleBounds:{source:So(".source",D.nodeElement,v,m),target:So(".target",D.nodeElement,v,m)}})}),R)),M.push({id:T.id,type:"dimensions",dimensions:R}))}return M},[]);po(s,m);const k=c||u&&!c&&mo(n,bt({initial:!0},f));t({nodeInternals:new Map(s),fitViewOnInitDone:k}),(E==null?void 0:E.length)>0&&(i==null||i(E))},updateNodePositions:(r,i=!0,s=!1)=>{const{triggerNodeChanges:u}=n(),c=r.map(f=>{const p={id:f.id,type:"position",dragging:s};return i&&(p.positionAbsolute=f.positionAbsolute,p.position=f.position),p});u(c)},triggerNodeChanges:r=>{const{onNodesChange:i,nodeInternals:s,hasDefaultNodes:u,nodeOrigin:c,getNodes:f,elevateNodesOnSelect:p}=n();if(r!=null&&r.length){if(u){const m=vo(r,f()),g=Wr(m,s,c,p);t({nodeInternals:g})}i==null||i(r)}},addSelectedNodes:r=>{const{multiSelectionActive:i,edges:s,getNodes:u}=n();let c,f=null;i?c=r.map(p=>en(p,!0)):(c=Zn(u(),r),f=Zn(s,[])),Tr({changedNodes:c,changedEdges:f,get:n,set:t})},addSelectedEdges:r=>{const{multiSelectionActive:i,edges:s,getNodes:u}=n();let c,f=null;i?c=r.map(p=>en(p,!0)):(c=Zn(s,r),f=Zn(u(),[])),Tr({changedNodes:f,changedEdges:c,get:n,set:t})},unselectNodesAndEdges:({nodes:r,edges:i}={})=>{const{edges:s,getNodes:u}=n(),c=r||u(),f=i||s,p=c.map(g=>(g.selected=!1,en(g.id,!1))),m=f.map(g=>en(g.id,!1));Tr({changedNodes:p,changedEdges:m,get:n,set:t})},setMinZoom:r=>{const{d3Zoom:i,maxZoom:s}=n();i==null||i.scaleExtent([r,s]),t({minZoom:r})},setMaxZoom:r=>{const{d3Zoom:i,minZoom:s}=n();i==null||i.scaleExtent([s,r]),t({maxZoom:r})},setTranslateExtent:r=>{var i;(i=n().d3Zoom)==null||i.translateExtent(r),t({translateExtent:r})},resetSelectedElements:()=>{const{edges:r,getNodes:i}=n(),u=i().filter(f=>f.selected).map(f=>en(f.id,!1)),c=r.filter(f=>f.selected).map(f=>en(f.id,!1));Tr({changedNodes:u,changedEdges:c,get:n,set:t})},setNodeExtent:r=>{const{nodeInternals:i}=n();i.forEach(s=>{s.positionAbsolute=Fn(s.position,r)}),t({nodeExtent:r,nodeInternals:new Map(i)})},panBy:r=>{const{transform:i,width:s,height:u,d3Zoom:c,d3Selection:f,translateExtent:p}=n();if(!c||!f||!r.x&&!r.y)return!1;const m=Nt.CR.translate(i[0]+r.x,i[1]+r.y).scale(i[2]),g=[[0,0],[s,u]],y=c==null?void 0:c.constrain()(m,g,p);return c.transform(f,y),i[0]!==y.x||i[1]!==y.y||i[2]!==y.k},cancelConnection:()=>t({connectionNodeId:jt.connectionNodeId,connectionHandleId:jt.connectionHandleId,connectionHandleType:jt.connectionHandleType,connectionStatus:jt.connectionStatus,connectionStartHandle:jt.connectionStartHandle,connectionEndHandle:jt.connectionEndHandle}),reset:()=>t(bt({},jt))}),Object.is),ye=({children:t})=>{const n=(0,l.useRef)(null);return n.current||(n.current=Ke()),l.createElement(an,{value:n.current},t)};ye.displayName="ReactFlowProvider";const $e=({children:t})=>(0,l.useContext)(xe)?l.createElement(l.Fragment,null,t):l.createElement(ye,null,t);$e.displayName="ReactFlowWrapper";const eo={input:Cr,default:Je,output:tn,group:$n},_i={default:dn,straight:Rn,step:qn,smoothstep:fn,simplebezier:Ze},bi=[0,0],vi=[15,15],Ei={x:0,y:0,zoom:1},Si={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},li=(0,l.forwardRef)((_s,as)=>{var mi=_s,{nodes:t,edges:n,defaultNodes:r,defaultEdges:i,className:s,nodeTypes:u=eo,edgeTypes:c=_i,onNodeClick:f,onEdgeClick:p,onInit:m,onMove:g,onMoveStart:y,onMoveEnd:v,onConnect:E,onConnectStart:k,onConnectEnd:M,onClickConnectStart:D,onClickConnectEnd:T,onNodeMouseEnter:R,onNodeMouseMove:I,onNodeMouseLeave:S,onNodeContextMenu:O,onNodeDoubleClick:K,onNodeDragStart:F,onNodeDrag:B,onNodeDragStop:W,onNodesDelete:nt,onEdgesDelete:U,onSelectionChange:rt,onSelectionDragStart:N,onSelectionDrag:G,onSelectionDragStop:et,onSelectionContextMenu:ut,onSelectionStart:Et,onSelectionEnd:yt,connectionMode:P=Be.Strict,connectionLineType:q=ke.Bezier,connectionLineStyle:tt,connectionLineComponent:_t,connectionLineContainerStyle:St,deleteKeyCode:Rt="Backspace",selectionKeyCode:Xt="Shift",selectionOnDrag:Ft=!1,selectionMode:oe=un.Full,panActivationKeyCode:ne="Space",multiSelectionKeyCode:re=Ge()?"Meta":"Control",zoomActivationKeyCode:he=Ge()?"Meta":"Control",snapToGrid:fe=!1,snapGrid:Qt=vi,onlyRenderVisibleElements:Ne=!1,selectNodesOnDrag:Ut=!0,nodesDraggable:Wt,nodesConnectable:Ee,nodesFocusable:Me,nodeOrigin:At=bi,edgesFocusable:cr,edgesUpdatable:ur,elementsSelectable:no,defaultViewport:$r=Ei,minZoom:lr=.5,maxZoom:Xn=2,translateExtent:Hr=qt,preventScrolling:Vn=!0,nodeExtent:fr,defaultMarkerColor:ro="#b1b1b7",zoomOnScroll:Or=!0,zoomOnPinch:ge=!0,panOnScroll:Ce=!1,panOnScrollSpeed:dr=.5,panOnScrollMode:hr=Te.Free,zoomOnDoubleClick:gr=!0,panOnDrag:bn=!0,onPaneClick:rn,onPaneMouseEnter:oo,onPaneMouseMove:ii,onPaneMouseLeave:io,onPaneScroll:si,onPaneContextMenu:di,children:pr,onEdgeUpdate:Di,onEdgeContextMenu:Ri,onEdgeDoubleClick:Ii,onEdgeMouseEnter:zi,onEdgeMouseMove:$i,onEdgeMouseLeave:Hi,onEdgeUpdateStart:Oi,onEdgeUpdateEnd:Bi,edgeUpdaterRadius:Zi=10,onNodesChange:Li,onEdgesChange:Xi,noDragClassName:Vi="nodrag",noWheelClassName:Fi="nowheel",noPanClassName:hi="nopan",fitView:Yi=!1,fitViewOptions:Ki,connectOnClick:Wi=!0,attributionPosition:Ui,proOptions:Gi,defaultEdgeOptions:qi,elevateNodesOnSelect:Qi=!0,elevateEdgesOnSelect:Ji=!1,disableKeyboardA11y:gi=!1,autoPanOnConnect:ji=!0,autoPanOnNodeDrag:ts=!0,connectionRadius:es=20,isValidConnection:ns,onError:rs,style:os,id:pi,nodeDragThreshold:is}=mi,ss=Br(mi,["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","onSelectionStart","onSelectionEnd","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","selectionOnDrag","selectionMode","panActivationKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","nodesFocusable","nodeOrigin","edgesFocusable","edgesUpdatable","elementsSelectable","defaultViewport","minZoom","maxZoom","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneMouseEnter","onPaneMouseMove","onPaneMouseLeave","onPaneScroll","onPaneContextMenu","children","onEdgeUpdate","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdateStart","onEdgeUpdateEnd","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateNodesOnSelect","elevateEdgesOnSelect","disableKeyboardA11y","autoPanOnConnect","autoPanOnNodeDrag","connectionRadius","isValidConnection","onError","style","id","nodeDragThreshold"]);const ai=pi||"1";return l.createElement("div",te(bt({},ss),{style:bt(bt({},os),Si),ref:as,className:(0,ot.Z)(["react-flow",s]),"data-testid":"rf__wrapper",id:pi}),l.createElement($e,null,l.createElement(ze,{onInit:m,onMove:g,onMoveStart:y,onMoveEnd:v,onNodeClick:f,onEdgeClick:p,onNodeMouseEnter:R,onNodeMouseMove:I,onNodeMouseLeave:S,onNodeContextMenu:O,onNodeDoubleClick:K,nodeTypes:u,edgeTypes:c,connectionLineType:q,connectionLineStyle:tt,connectionLineComponent:_t,connectionLineContainerStyle:St,selectionKeyCode:Xt,selectionOnDrag:Ft,selectionMode:oe,deleteKeyCode:Rt,multiSelectionKeyCode:re,panActivationKeyCode:ne,zoomActivationKeyCode:he,onlyRenderVisibleElements:Ne,selectNodesOnDrag:Ut,defaultViewport:$r,translateExtent:Hr,minZoom:lr,maxZoom:Xn,preventScrolling:Vn,zoomOnScroll:Or,zoomOnPinch:ge,zoomOnDoubleClick:gr,panOnScroll:Ce,panOnScrollSpeed:dr,panOnScrollMode:hr,panOnDrag:bn,onPaneClick:rn,onPaneMouseEnter:oo,onPaneMouseMove:ii,onPaneMouseLeave:io,onPaneScroll:si,onPaneContextMenu:di,onSelectionContextMenu:ut,onSelectionStart:Et,onSelectionEnd:yt,onEdgeUpdate:Di,onEdgeContextMenu:Ri,onEdgeDoubleClick:Ii,onEdgeMouseEnter:zi,onEdgeMouseMove:$i,onEdgeMouseLeave:Hi,onEdgeUpdateStart:Oi,onEdgeUpdateEnd:Bi,edgeUpdaterRadius:Zi,defaultMarkerColor:ro,noDragClassName:Vi,noWheelClassName:Fi,noPanClassName:hi,elevateEdgesOnSelect:Ji,rfId:ai,disableKeyboardA11y:gi,nodeOrigin:At,nodeExtent:fr}),l.createElement(Ro,{nodes:t,edges:n,defaultNodes:r,defaultEdges:i,onConnect:E,onConnectStart:k,onConnectEnd:M,onClickConnectStart:D,onClickConnectEnd:T,nodesDraggable:Wt,nodesConnectable:Ee,nodesFocusable:Me,edgesFocusable:cr,edgesUpdatable:ur,elementsSelectable:no,elevateNodesOnSelect:Qi,minZoom:lr,maxZoom:Xn,nodeExtent:fr,onNodesChange:Li,onEdgesChange:Xi,snapToGrid:fe,snapGrid:Qt,connectionMode:P,translateExtent:Hr,connectOnClick:Wi,defaultEdgeOptions:qi,fitView:Yi,fitViewOptions:Ki,onNodesDelete:nt,onEdgesDelete:U,onNodeDragStart:F,onNodeDrag:B,onNodeDragStop:W,onSelectionDrag:G,onSelectionDragStart:N,onSelectionDragStop:et,noPanClassName:hi,nodeOrigin:At,rfId:ai,autoPanOnConnect:ji,autoPanOnNodeDrag:ts,onError:rs,connectionRadius:es,isValidConnection:ns,nodeDragThreshold:is}),l.createElement(ko,{onSelectionChange:rt}),pr,l.createElement(wr,{proOptions:Gi,position:Ui}),l.createElement(Oo,{rfId:ai,disableKeyboardA11y:gi})))});li.displayName="ReactFlow";const Ni=t=>{var n;return(n=t.domNode)==null?void 0:n.querySelector(".react-flow__edgelabel-renderer")};function fs({children:t}){const n=Ot(Ni);return n?createPortal(t,n):null}function ds(){const t=Lt();return useCallback(n=>{const{domNode:r,updateNodeDimensions:i}=t.getState(),u=(Array.isArray(n)?n:[n]).reduce((c,f)=>{const p=r==null?void 0:r.querySelector(`.react-flow__node[data-id="${f}"]`);return p&&c.push({id:f,nodeElement:p,forceUpdate:!0}),c},[]);requestAnimationFrame(()=>i(u))},[])}const Mi=t=>t.getNodes();function hs(){return Ot(Mi,shallow)}const Ci=t=>t.edges;function gs(){return Ot(Ci,shallow)}const Ai=t=>({x:t.transform[0],y:t.transform[1],zoom:t.transform[2]});function Pi(){return Ot(Ai,j.X)}function fi(t){return n=>{const[r,i]=(0,l.useState)(n),s=(0,l.useCallback)(u=>i(c=>t(u,c)),[]);return[r,i,s]}}const ps=fi(vo),ms=fi(qo);function ys({onStart:t,onChange:n,onEnd:r}){const i=Lt();useEffect(()=>{i.setState({onViewportChangeStart:t})},[t]),useEffect(()=>{i.setState({onViewportChange:n})},[n]),useEffect(()=>{i.setState({onViewportChangeEnd:r})},[r])}function xs({onChange:t}){const n=Lt();useEffect(()=>{n.setState({onSelectionChange:t})},[t])}const Ti=t=>n=>n.nodeInternals.size===0?!1:n.getNodes().filter(r=>t.includeHiddenNodes?!0:!r.hidden).every(r=>{var i;return((i=r[Ht])==null?void 0:i.handleBounds)!==void 0}),ki={includeHiddenNodes:!1};function ws(t=ki){return Ot(Ti(t))}},1904:function(lt,dt){"use strict";var $={value:function(){}};function l(){for(var it=0,st=arguments.length,gt={},vt;it<st;++it){if(!(vt=arguments[it]+"")||vt in gt||/[\s.]/.test(vt))throw new Error("illegal type: "+vt);gt[vt]=[]}return new ot(gt)}function ot(it){this._=it}function J(it,st){return it.trim().split(/^|\s+/).map(function(gt){var vt="",Mt=gt.indexOf(".");if(Mt>=0&&(vt=gt.slice(Mt+1),gt=gt.slice(0,Mt)),gt&&!st.hasOwnProperty(gt))throw new Error("unknown type: "+gt);return{type:gt,name:vt}})}ot.prototype=l.prototype={constructor:ot,on:function(st,gt){var vt=this._,Mt=J(st+"",vt),$t,Gt=-1,Ae=Mt.length;if(arguments.length<2){for(;++Gt<Ae;)if(($t=(st=Mt[Gt]).type)&&($t=j(vt[$t],st.name)))return $t;return}if(gt!=null&&typeof gt!="function")throw new Error("invalid callback: "+gt);for(;++Gt<Ae;)if($t=(st=Mt[Gt]).type)vt[$t]=Nt(vt[$t],st.name,gt);else if(gt==null)for($t in vt)vt[$t]=Nt(vt[$t],st.name,null);return this},copy:function(){var st={},gt=this._;for(var vt in gt)st[vt]=gt[vt].slice();return new ot(st)},call:function(st,gt){if(($t=arguments.length-2)>0)for(var vt=new Array($t),Mt=0,$t,Gt;Mt<$t;++Mt)vt[Mt]=arguments[Mt+2];if(!this._.hasOwnProperty(st))throw new Error("unknown type: "+st);for(Gt=this._[st],Mt=0,$t=Gt.length;Mt<$t;++Mt)Gt[Mt].value.apply(gt,vt)},apply:function(st,gt,vt){if(!this._.hasOwnProperty(st))throw new Error("unknown type: "+st);for(var Mt=this._[st],$t=0,Gt=Mt.length;$t<Gt;++$t)Mt[$t].value.apply(gt,vt)}};function j(it,st){for(var gt=0,vt=it.length,Mt;gt<vt;++gt)if((Mt=it[gt]).name===st)return Mt.value}function Nt(it,st,gt){for(var vt=0,Mt=it.length;vt<Mt;++vt)if(it[vt].name===st){it[vt]=$,it=it.slice(0,vt).concat(it.slice(vt+1));break}return gt!=null&&it.push({name:st,value:gt}),it}dt.Z=l},76295:function(lt,dt,$){"use strict";$.d(dt,{Z:function(){return l}});function l(ot){if(typeof ot=="string"||typeof ot=="number")return""+ot;let J="";if(Array.isArray(ot))for(let j=0,Nt;j<ot.length;j++)(Nt=l(ot[j]))!==""&&(J+=(J&&" ")+Nt);else for(let j in ot)ot[j]&&(J+=(J&&" ")+j);return J}},49289:function(lt,dt,$){"use strict";$.d(dt,{D:function(){return j},Z:function(){return J}});var l=$(41468),ot=$(5873);function J(Nt){var it=Nt.document.documentElement,st=(0,l.Z)(Nt).on("dragstart.drag",ot.ZP,ot.Dd);"onselectstart"in it?st.on("selectstart.drag",ot.ZP,ot.Dd):(it.__noselect=it.style.MozUserSelect,it.style.MozUserSelect="none")}function j(Nt,it){var st=Nt.document.documentElement,gt=(0,l.Z)(Nt).on("dragstart.drag",null);it&&(gt.on("click.drag",ot.ZP,ot.Dd),setTimeout(function(){gt.on("click.drag",null)},0)),"onselectstart"in st?gt.on("selectstart.drag",null):(st.style.MozUserSelect=st.__noselect,delete st.__noselect)}},5873:function(lt,dt,$){"use strict";$.d(dt,{Dd:function(){return ot},Q7:function(){return l},ZP:function(){return j},rG:function(){return J}});const l={passive:!1},ot={capture:!0,passive:!1};function J(Nt){Nt.stopImmediatePropagation()}function j(Nt){Nt.preventDefault(),Nt.stopImmediatePropagation()}},73409:function(lt,dt,$){"use strict";$.d(dt,{P:function(){return ot},Z:function(){return l}});function l(J){return function(){return this.matches(J)}}function ot(J){return function(j){return j.matches(J)}}},60021:function(lt,dt,$){"use strict";$.d(dt,{Z:function(){return ot}});var l=$(17110);function ot(J){var j=J+="",Nt=j.indexOf(":");return Nt>=0&&(j=J.slice(0,Nt))!=="xmlns"&&(J=J.slice(Nt+1)),l.Z.hasOwnProperty(j)?{space:l.Z[j],local:J}:J}},17110:function(lt,dt,$){"use strict";$.d(dt,{P:function(){return l}});var l="http://www.w3.org/1999/xhtml";dt.Z={svg:"http://www.w3.org/2000/svg",xhtml:l,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},13802:function(lt,dt,$){"use strict";$.d(dt,{Z:function(){return ot}});function l(J){let j;for(;j=J.sourceEvent;)J=j;return J}function ot(J,j){if(J=l(J),j===void 0&&(j=J.currentTarget),j){var Nt=j.ownerSVGElement||j;if(Nt.createSVGPoint){var it=Nt.createSVGPoint();return it.x=J.clientX,it.y=J.clientY,it=it.matrixTransform(j.getScreenCTM().inverse()),[it.x,it.y]}if(j.getBoundingClientRect){var st=j.getBoundingClientRect();return[J.clientX-st.left-j.clientLeft,J.clientY-st.top-j.clientTop]}}return[J.pageX,J.pageY]}},41468:function(lt,dt,$){"use strict";$.d(dt,{Z:function(){return ot}});var l=$(1776);function ot(J){return typeof J=="string"?new l.Y1([[document.querySelector(J)]],[document.documentElement]):new l.Y1([[J]],l.Jz)}},1776:function(lt,dt,$){"use strict";$.d(dt,{Y1:function(){return ae},ZP:function(){return yn},Jz:function(){return zn}});var l=$(66456);function ot(d){typeof d!="function"&&(d=(0,l.Z)(d));for(var _=this._groups,X=_.length,Y=new Array(X),z=0;z<X;++z)for(var Q=_[z],ct=Q.length,ft=Y[z]=new Array(ct),wt,Pt,Bt=0;Bt<ct;++Bt)(wt=Q[Bt])&&(Pt=d.call(wt,wt.__data__,Bt,Q))&&("__data__"in wt&&(Pt.__data__=wt.__data__),ft[Bt]=Pt);return new ae(Y,this._parents)}function J(d){return d==null?[]:Array.isArray(d)?d:Array.from(d)}var j=$(16851);function Nt(d){return function(){return J(d.apply(this,arguments))}}function it(d){typeof d=="function"?d=Nt(d):d=(0,j.Z)(d);for(var _=this._groups,X=_.length,Y=[],z=[],Q=0;Q<X;++Q)for(var ct=_[Q],ft=ct.length,wt,Pt=0;Pt<ft;++Pt)(wt=ct[Pt])&&(Y.push(d.call(wt,wt.__data__,Pt,ct)),z.push(wt));return new ae(Y,z)}var st=$(73409),gt=Array.prototype.find;function vt(d){return function(){return gt.call(this.children,d)}}function Mt(){return this.firstElementChild}function $t(d){return this.select(d==null?Mt:vt(typeof d=="function"?d:(0,st.P)(d)))}var Gt=Array.prototype.filter;function Ae(){return Array.from(this.children)}function mr(d){return function(){return Gt.call(this.children,d)}}function vn(d){return this.selectAll(d==null?Ae:mr(typeof d=="function"?d:(0,st.P)(d)))}function on(d){typeof d!="function"&&(d=(0,st.Z)(d));for(var _=this._groups,X=_.length,Y=new Array(X),z=0;z<X;++z)for(var Q=_[z],ct=Q.length,ft=Y[z]=[],wt,Pt=0;Pt<ct;++Pt)(wt=Q[Pt])&&d.call(wt,wt.__data__,Pt,Q)&&ft.push(wt);return new ae(Y,this._parents)}function sn(d){return new Array(d.length)}function We(){return new ae(this._enter||this._groups.map(sn),this._parents)}function xe(d,_){this.ownerDocument=d.ownerDocument,this.namespaceURI=d.namespaceURI,this._next=null,this._parent=d,this.__data__=_}xe.prototype={constructor:xe,appendChild:function(d){return this._parent.insertBefore(d,this._next)},insertBefore:function(d,_){return this._parent.insertBefore(d,_)},querySelector:function(d){return this._parent.querySelector(d)},querySelectorAll:function(d){return this._parent.querySelectorAll(d)}};function an(d){return function(){return d}}function ie(d,_,X,Y,z,Q){for(var ct=0,ft,wt=_.length,Pt=Q.length;ct<Pt;++ct)(ft=_[ct])?(ft.__data__=Q[ct],Y[ct]=ft):X[ct]=new xe(d,Q[ct]);for(;ct<wt;++ct)(ft=_[ct])&&(z[ct]=ft)}function En(d,_,X,Y,z,Q,ct){var ft,wt,Pt=new Map,Bt=_.length,de=Q.length,ve=new Array(Bt),ee;for(ft=0;ft<Bt;++ft)(wt=_[ft])&&(ve[ft]=ee=ct.call(wt,wt.__data__,ft,_)+"",Pt.has(ee)?z[ft]=wt:Pt.set(ee,wt));for(ft=0;ft<de;++ft)ee=ct.call(d,Q[ft],ft,Q)+"",(wt=Pt.get(ee))?(Y[ft]=wt,wt.__data__=Q[ft],Pt.delete(ee)):X[ft]=new xe(d,Q[ft]);for(ft=0;ft<Bt;++ft)(wt=_[ft])&&Pt.get(ve[ft])===wt&&(z[ft]=wt)}function Ot(d){return d.__data__}function Lt(d,_){if(!arguments.length)return Array.from(this,Ot);var X=_?En:ie,Y=this._parents,z=this._groups;typeof d!="function"&&(d=an(d));for(var Q=z.length,ct=new Array(Q),ft=new Array(Q),wt=new Array(Q),Pt=0;Pt<Q;++Pt){var Bt=Y[Pt],de=z[Pt],ve=de.length,ee=yr(d.call(Bt,Bt&&Bt.__data__,Pt,Y)),ue=ee.length,Je=ft[Pt]=new Array(ue),er=ct[Pt]=new Array(ue),Cr=wt[Pt]=new Array(ve);X(Bt,de,Je,er,Cr,ee,_);for(var je=0,tn=0,$n,Ar;je<ue;++je)if($n=Je[je]){for(je>=tn&&(tn=je+1);!(Ar=er[tn])&&++tn<ue;);$n._next=Ar||null}}return ct=new ae(ct,Y),ct._enter=ft,ct._exit=wt,ct}function yr(d){return typeof d=="object"&&"length"in d?d:Array.from(d)}function xr(){return new ae(this._exit||this._groups.map(sn),this._parents)}function wr(d,_,X){var Y=this.enter(),z=this,Q=this.exit();return typeof d=="function"?(Y=d(Y),Y&&(Y=Y.selection())):Y=Y.append(d+""),_!=null&&(z=_(z),z&&(z=z.selection())),X==null?Q.remove():X(Q),Y&&z?Y.merge(z).order():z}function Zr(d){for(var _=d.selection?d.selection():d,X=this._groups,Y=_._groups,z=X.length,Q=Y.length,ct=Math.min(z,Q),ft=new Array(z),wt=0;wt<ct;++wt)for(var Pt=X[wt],Bt=Y[wt],de=Pt.length,ve=ft[wt]=new Array(de),ee,ue=0;ue<de;++ue)(ee=Pt[ue]||Bt[ue])&&(ve[ue]=ee);for(;wt<z;++wt)ft[wt]=X[wt];return new ae(ft,this._parents)}function Lr(){for(var d=this._groups,_=-1,X=d.length;++_<X;)for(var Y=d[_],z=Y.length-1,Q=Y[z],ct;--z>=0;)(ct=Y[z])&&(Q&&ct.compareDocumentPosition(Q)^4&&Q.parentNode.insertBefore(ct,Q),Q=ct);return this}function cn(d){d||(d=He);function _(de,ve){return de&&ve?d(de.__data__,ve.__data__):!de-!ve}for(var X=this._groups,Y=X.length,z=new Array(Y),Q=0;Q<Y;++Q){for(var ct=X[Q],ft=ct.length,wt=z[Q]=new Array(ft),Pt,Bt=0;Bt<ft;++Bt)(Pt=ct[Bt])&&(wt[Bt]=Pt);wt.sort(_)}return new ae(z,this._parents).order()}function He(d,_){return d<_?-1:d>_?1:d>=_?0:NaN}function Fn(){var d=arguments[0];return arguments[0]=this,d.apply(null,arguments),this}function _r(){return Array.from(this)}function Yn(){for(var d=this._groups,_=0,X=d.length;_<X;++_)for(var Y=d[_],z=0,Q=Y.length;z<Q;++z){var ct=Y[z];if(ct)return ct}return null}function Kn(){let d=0;for(const _ of this)++d;return d}function Sn(){return!this.node()}function Pe(d){for(var _=this._groups,X=0,Y=_.length;X<Y;++X)for(var z=_[X],Q=0,ct=z.length,ft;Q<ct;++Q)(ft=z[Q])&&d.call(ft,ft.__data__,Q,z);return this}var Nn=$(60021);function Mn(d){return function(){this.removeAttribute(d)}}function Cn(d){return function(){this.removeAttributeNS(d.space,d.local)}}function Ue(d,_){return function(){this.setAttribute(d,_)}}function Wn(d,_){return function(){this.setAttributeNS(d.space,d.local,_)}}function Vt(d,_){return function(){var X=_.apply(this,arguments);X==null?this.removeAttribute(d):this.setAttribute(d,X)}}function Ht(d,_){return function(){var X=_.apply(this,arguments);X==null?this.removeAttributeNS(d.space,d.local):this.setAttributeNS(d.space,d.local,X)}}function br(d,_){var X=(0,Nn.Z)(d);if(arguments.length<2){var Y=this.node();return X.local?Y.getAttributeNS(X.space,X.local):Y.getAttribute(X)}return this.each((_==null?X.local?Cn:Mn:typeof _=="function"?X.local?Ht:Vt:X.local?Wn:Ue)(X,_))}var Oe=$(77932);function Xr(d){return function(){delete this[d]}}function we(d,_){return function(){this[d]=_}}function Un(d,_){return function(){var X=_.apply(this,arguments);X==null?delete this[d]:this[d]=X}}function _e(d,_){return arguments.length>1?this.each((_==null?Xr:typeof _=="function"?Un:we)(d,_)):this.node()[d]}function Ge(d){return d.trim().split(/^|\s+/)}function pe(d){return d.classList||new Vr(d)}function Vr(d){this._node=d,this._names=Ge(d.getAttribute("class")||"")}Vr.prototype={add:function(d){var _=this._names.indexOf(d);_<0&&(this._names.push(d),this._node.setAttribute("class",this._names.join(" ")))},remove:function(d){var _=this._names.indexOf(d);_>=0&&(this._names.splice(_,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(d){return this._names.indexOf(d)>=0}};function qe(d,_){for(var X=pe(d),Y=-1,z=_.length;++Y<z;)X.add(_[Y])}function An(d,_){for(var X=pe(d),Y=-1,z=_.length;++Y<z;)X.remove(_[Y])}function vr(d){return function(){qe(this,d)}}function Be(d){return function(){An(this,d)}}function Te(d,_){return function(){(_.apply(this,arguments)?qe:An)(this,d)}}function un(d,_){var X=Ge(d+"");if(arguments.length<2){for(var Y=pe(this.node()),z=-1,Q=X.length;++z<Q;)if(!Y.contains(X[z]))return!1;return!0}return this.each((typeof _=="function"?Te:_?vr:Be)(X,_))}function ke(){this.textContent=""}function Pn(d){return function(){this.textContent=d}}function at(d){return function(){var _=d.apply(this,arguments);this.textContent=_==null?"":_}}function Tn(d){return arguments.length?this.each(d==null?ke:(typeof d=="function"?at:Pn)(d)):this.node().textContent}function Gn(){this.innerHTML=""}function Ze(d){return function(){this.innerHTML=d}}function Qe(d){return function(){var _=d.apply(this,arguments);this.innerHTML=_==null?"":_}}function kn(d){return arguments.length?this.each(d==null?Gn:(typeof d=="function"?Qe:Ze)(d)):this.node().innerHTML}function Le(){this.nextSibling&&this.parentNode.appendChild(this)}function ln(){return this.each(Le)}function be(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Dn(){return this.each(be)}var fn=$(17110);function qn(d){return function(){var _=this.ownerDocument,X=this.namespaceURI;return X===fn.P&&_.documentElement.namespaceURI===fn.P?_.createElement(d):_.createElementNS(X,d)}}function Fr(d){return function(){return this.ownerDocument.createElementNS(d.space,d.local)}}function Rn(d){var _=(0,Nn.Z)(d);return(_.local?Fr:qn)(_)}function In(d){var _=typeof d=="function"?d:Rn(d);return this.select(function(){return this.appendChild(_.apply(this,arguments))})}function Er(){return null}function Qn(d,_){var X=typeof d=="function"?d:Rn(d),Y=_==null?Er:typeof _=="function"?_:(0,l.Z)(_);return this.select(function(){return this.insertBefore(X.apply(this,arguments),Y.apply(this,arguments)||null)})}function dn(){var d=this.parentNode;d&&d.removeChild(this)}function Jn(){return this.each(dn)}function Yr(){var d=this.cloneNode(!1),_=this.parentNode;return _?_.insertBefore(d,this.nextSibling):d}function Sr(){var d=this.cloneNode(!0),_=this.parentNode;return _?_.insertBefore(d,this.nextSibling):d}function hn(d){return this.select(d?Sr:Yr)}function jn(d){return arguments.length?this.property("__data__",d):this.node().__data__}function tr(d){return function(_){d.call(this,_,this.__data__)}}function so(d){return d.trim().split(/^|\s+/).map(function(_){var X="",Y=_.indexOf(".");return Y>=0&&(X=_.slice(Y+1),_=_.slice(0,Y)),{type:_,name:X}})}function gn(d){return function(){var _=this.__on;if(_){for(var X=0,Y=-1,z=_.length,Q;X<z;++X)Q=_[X],(!d.type||Q.type===d.type)&&Q.name===d.name?this.removeEventListener(Q.type,Q.listener,Q.options):_[++Y]=Q;++Y?_.length=Y:delete this.__on}}}function Jt(d,_,X){return function(){var Y=this.__on,z,Q=tr(_);if(Y){for(var ct=0,ft=Y.length;ct<ft;++ct)if((z=Y[ct]).type===d.type&&z.name===d.name){this.removeEventListener(z.type,z.listener,z.options),this.addEventListener(z.type,z.listener=Q,z.options=X),z.value=_;return}}this.addEventListener(d.type,Q,X),z={type:d.type,name:d.name,value:_,listener:Q,options:X},Y?Y.push(z):this.__on=[z]}}function Nr(d,_,X){var Y=so(d+""),z,Q=Y.length,ct;if(arguments.length<2){var ft=this.node().__on;if(ft){for(var wt=0,Pt=ft.length,Bt;wt<Pt;++wt)for(z=0,Bt=ft[wt];z<Q;++z)if((ct=Y[z]).type===Bt.type&&ct.name===Bt.name)return Bt.value}return}for(ft=_?Jt:gn,z=0;z<Q;++z)this.each(ft(Y[z],_,X));return this}var Kr=$(4010);function Mr(d,_,X){var Y=(0,Kr.Z)(d),z=Y.CustomEvent;typeof z=="function"?z=new z(_,X):(z=Y.document.createEvent("Event"),X?(z.initEvent(_,X.bubbles,X.cancelable),z.detail=X.detail):z.initEvent(_,!1,!1)),d.dispatchEvent(z)}function pn(d,_){return function(){return Mr(this,d,_)}}function Xe(d,_){return function(){return Mr(this,d,_.apply(this,arguments))}}function se(d,_){return this.each((typeof _=="function"?Xe:pn)(d,_))}function*mn(){for(var d=this._groups,_=0,X=d.length;_<X;++_)for(var Y=d[_],z=0,Q=Y.length,ct;z<Q;++z)(ct=Y[z])&&(yield ct)}var zn=[null];function ae(d,_){this._groups=d,this._parents=_}function ce(){return new ae([[document.documentElement]],zn)}function De(){return this}ae.prototype=ce.prototype={constructor:ae,select:ot,selectAll:it,selectChild:$t,selectChildren:vn,filter:on,data:Lt,enter:We,exit:xr,join:wr,merge:Zr,selection:De,order:Lr,sort:cn,call:Fn,nodes:_r,node:Yn,size:Kn,empty:Sn,each:Pe,attr:br,style:Oe.Z,property:_e,classed:un,text:Tn,html:kn,raise:ln,lower:Dn,append:In,insert:Qn,remove:Jn,clone:hn,datum:jn,on:Nr,dispatch:se,[Symbol.iterator]:mn};var yn=ce},77932:function(lt,dt,$){"use strict";$.d(dt,{S:function(){return it},Z:function(){return Nt}});var l=$(4010);function ot(st){return function(){this.style.removeProperty(st)}}function J(st,gt,vt){return function(){this.style.setProperty(st,gt,vt)}}function j(st,gt,vt){return function(){var Mt=gt.apply(this,arguments);Mt==null?this.style.removeProperty(st):this.style.setProperty(st,Mt,vt)}}function Nt(st,gt,vt){return arguments.length>1?this.each((gt==null?ot:typeof gt=="function"?j:J)(st,gt,vt==null?"":vt)):it(this.node(),st)}function it(st,gt){return st.style.getPropertyValue(gt)||(0,l.Z)(st).getComputedStyle(st,null).getPropertyValue(gt)}},66456:function(lt,dt,$){"use strict";$.d(dt,{Z:function(){return ot}});function l(){}function ot(J){return J==null?l:function(){return this.querySelector(J)}}},16851:function(lt,dt,$){"use strict";$.d(dt,{Z:function(){return ot}});function l(){return[]}function ot(J){return J==null?l:function(){return this.querySelectorAll(J)}}},4010:function(lt,dt,$){"use strict";$.d(dt,{Z:function(){return l}});function l(ot){return ot.ownerDocument&&ot.ownerDocument.defaultView||ot.document&&ot||ot.defaultView}},78858:function(lt,dt,$){"use strict";$.d(dt,{sP:function(){return ri},CR:function(){return ir}});var l=$(1904),ot=$(49289),J=1e-12;function j(e){return((e=Math.exp(e))+1/e)/2}function Nt(e){return((e=Math.exp(e))-1/e)/2}function it(e){return((e=Math.exp(2*e))-1)/(e+1)}var st=function e(o,a,h){function w(b,x){var A=b[0],Z=b[1],H=b[2],V=x[0],mt=x[1],pt=x[2],Ct=V-A,le=mt-Z,Yt=Ct*Ct+le*le,me,Tt;if(Yt<J)Tt=Math.log(pt/H)/o,me=function(_n){return[A+_n*Ct,Z+_n*le,H*Math.exp(o*_n*Tt)]};else{var nn=Math.sqrt(Yt),Fe=(pt*pt-H*H+h*Yt)/(2*H*a*nn),wn=(pt*pt-H*H-h*Yt)/(2*pt*a*nn),Ye=Math.log(Math.sqrt(Fe*Fe+1)-Fe),Se=Math.log(Math.sqrt(wn*wn+1)-wn);Tt=(Se-Ye)/o,me=function(_n){var ar=_n*Tt,Ir=j(Ye),zr=H/(a*nn)*(Ir*it(o*ar+Ye)-Nt(Ye));return[A+zr*Ct,Z+zr*le,H*Ir/j(o*ar+Ye)]}}return me.duration=Tt*1e3*o/Math.SQRT2,me}return w.rho=function(b){var x=Math.max(.001,+b),A=x*x,Z=A*A;return e(x,A,Z)},w}(Math.SQRT2,2,4),gt=$(41468),vt=$(13802),Mt=$(1776),$t=0,Gt=0,Ae=0,mr=1e3,vn,on,sn=0,We=0,xe=0,an=typeof performance=="object"&&performance.now?performance:Date,ie=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function En(){return We||(ie(Ot),We=an.now()+xe)}function Ot(){We=0}function Lt(){this._call=this._time=this._next=null}Lt.prototype=yr.prototype={constructor:Lt,restart:function(e,o,a){if(typeof e!="function")throw new TypeError("callback is not a function");a=(a==null?En():+a)+(o==null?0:+o),!this._next&&on!==this&&(on?on._next=this:vn=this,on=this),this._call=e,this._time=a,cn()},stop:function(){this._call&&(this._call=null,this._time=1/0,cn())}};function yr(e,o,a){var h=new Lt;return h.restart(e,o,a),h}function xr(){En(),++$t;for(var e=vn,o;e;)(o=We-e._time)>=0&&e._call.call(void 0,o),e=e._next;--$t}function wr(){We=(sn=an.now())+xe,$t=Gt=0;try{xr()}finally{$t=0,Lr(),We=0}}function Zr(){var e=an.now(),o=e-sn;o>mr&&(xe-=o,sn=e)}function Lr(){for(var e,o=vn,a,h=1/0;o;)o._call?(h>o._time&&(h=o._time),e=o,o=o._next):(a=o._next,o._next=null,o=e?e._next=a:vn=a);on=e,cn(h)}function cn(e){if(!$t){Gt&&(Gt=clearTimeout(Gt));var o=e-We;o>24?(e<1/0&&(Gt=setTimeout(wr,e-an.now()-xe)),Ae&&(Ae=clearInterval(Ae))):(Ae||(sn=an.now(),Ae=setInterval(Zr,mr)),$t=1,ie(wr))}}function He(e,o,a){var h=new Lt;return o=o==null?0:+o,h.restart(w=>{h.stop(),e(w+o)},o,a),h}var Fn=(0,l.Z)("start","end","cancel","interrupt"),_r=[],Yn=0,Kn=1,Sn=2,Pe=3,Nn=4,Mn=5,Cn=6;function Ue(e,o,a,h,w,b){var x=e.__transition;if(!x)e.__transition={};else if(a in x)return;br(e,a,{name:o,index:h,group:w,on:Fn,tween:_r,time:b.time,delay:b.delay,duration:b.duration,ease:b.ease,timer:null,state:Yn})}function Wn(e,o){var a=Ht(e,o);if(a.state>Yn)throw new Error("too late; already scheduled");return a}function Vt(e,o){var a=Ht(e,o);if(a.state>Pe)throw new Error("too late; already running");return a}function Ht(e,o){var a=e.__transition;if(!a||!(a=a[o]))throw new Error("transition not found");return a}function br(e,o,a){var h=e.__transition,w;h[o]=a,a.timer=yr(b,0,a.time);function b(H){a.state=Kn,a.timer.restart(x,a.delay,a.time),a.delay<=H&&x(H-a.delay)}function x(H){var V,mt,pt,Ct;if(a.state!==Kn)return Z();for(V in h)if(Ct=h[V],Ct.name===a.name){if(Ct.state===Pe)return He(x);Ct.state===Nn?(Ct.state=Cn,Ct.timer.stop(),Ct.on.call("interrupt",e,e.__data__,Ct.index,Ct.group),delete h[V]):+V<o&&(Ct.state=Cn,Ct.timer.stop(),Ct.on.call("cancel",e,e.__data__,Ct.index,Ct.group),delete h[V])}if(He(function(){a.state===Pe&&(a.state=Nn,a.timer.restart(A,a.delay,a.time),A(H))}),a.state=Sn,a.on.call("start",e,e.__data__,a.index,a.group),a.state===Sn){for(a.state=Pe,w=new Array(pt=a.tween.length),V=0,mt=-1;V<pt;++V)(Ct=a.tween[V].value.call(e,e.__data__,a.index,a.group))&&(w[++mt]=Ct);w.length=mt+1}}function A(H){for(var V=H<a.duration?a.ease.call(null,H/a.duration):(a.timer.restart(Z),a.state=Mn,1),mt=-1,pt=w.length;++mt<pt;)w[mt].call(e,V);a.state===Mn&&(a.on.call("end",e,e.__data__,a.index,a.group),Z())}function Z(){a.state=Cn,a.timer.stop(),delete h[o];for(var H in h)return;delete e.__transition}}function Oe(e,o){var a=e.__transition,h,w,b=!0,x;if(a){o=o==null?null:o+"";for(x in a){if((h=a[x]).name!==o){b=!1;continue}w=h.state>Sn&&h.state<Mn,h.state=Cn,h.timer.stop(),h.on.call(w?"interrupt":"cancel",e,e.__data__,h.index,h.group),delete a[x]}b&&delete e.__transition}}function Xr(e){return this.each(function(){Oe(this,e)})}function we(e,o){return e=+e,o=+o,function(a){return e*(1-a)+o*a}}var Un=180/Math.PI,_e={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ge(e,o,a,h,w,b){var x,A,Z;return(x=Math.sqrt(e*e+o*o))&&(e/=x,o/=x),(Z=e*a+o*h)&&(a-=e*Z,h-=o*Z),(A=Math.sqrt(a*a+h*h))&&(a/=A,h/=A,Z/=A),e*h<o*a&&(e=-e,o=-o,Z=-Z,x=-x),{translateX:w,translateY:b,rotate:Math.atan2(o,e)*Un,skewX:Math.atan(Z)*Un,scaleX:x,scaleY:A}}var pe;function Vr(e){var o=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return o.isIdentity?_e:Ge(o.a,o.b,o.c,o.d,o.e,o.f)}function qe(e){return e==null||(pe||(pe=document.createElementNS("http://www.w3.org/2000/svg","g")),pe.setAttribute("transform",e),!(e=pe.transform.baseVal.consolidate()))?_e:(e=e.matrix,Ge(e.a,e.b,e.c,e.d,e.e,e.f))}function An(e,o,a,h){function w(H){return H.length?H.pop()+" ":""}function b(H,V,mt,pt,Ct,le){if(H!==mt||V!==pt){var Yt=Ct.push("translate(",null,o,null,a);le.push({i:Yt-4,x:we(H,mt)},{i:Yt-2,x:we(V,pt)})}else(mt||pt)&&Ct.push("translate("+mt+o+pt+a)}function x(H,V,mt,pt){H!==V?(H-V>180?V+=360:V-H>180&&(H+=360),pt.push({i:mt.push(w(mt)+"rotate(",null,h)-2,x:we(H,V)})):V&&mt.push(w(mt)+"rotate("+V+h)}function A(H,V,mt,pt){H!==V?pt.push({i:mt.push(w(mt)+"skewX(",null,h)-2,x:we(H,V)}):V&&mt.push(w(mt)+"skewX("+V+h)}function Z(H,V,mt,pt,Ct,le){if(H!==mt||V!==pt){var Yt=Ct.push(w(Ct)+"scale(",null,",",null,")");le.push({i:Yt-4,x:we(H,mt)},{i:Yt-2,x:we(V,pt)})}else(mt!==1||pt!==1)&&Ct.push(w(Ct)+"scale("+mt+","+pt+")")}return function(H,V){var mt=[],pt=[];return H=e(H),V=e(V),b(H.translateX,H.translateY,V.translateX,V.translateY,mt,pt),x(H.rotate,V.rotate,mt,pt),A(H.skewX,V.skewX,mt,pt),Z(H.scaleX,H.scaleY,V.scaleX,V.scaleY,mt,pt),H=V=null,function(Ct){for(var le=-1,Yt=pt.length,me;++le<Yt;)mt[(me=pt[le]).i]=me.x(Ct);return mt.join("")}}}var vr=An(Vr,"px, ","px)","deg)"),Be=An(qe,", ",")",")"),Te=$(60021);function un(e,o){var a,h;return function(){var w=Vt(this,e),b=w.tween;if(b!==a){h=a=b;for(var x=0,A=h.length;x<A;++x)if(h[x].name===o){h=h.slice(),h.splice(x,1);break}}w.tween=h}}function ke(e,o,a){var h,w;if(typeof a!="function")throw new Error;return function(){var b=Vt(this,e),x=b.tween;if(x!==h){w=(h=x).slice();for(var A={name:o,value:a},Z=0,H=w.length;Z<H;++Z)if(w[Z].name===o){w[Z]=A;break}Z===H&&w.push(A)}b.tween=w}}function Pn(e,o){var a=this._id;if(e+="",arguments.length<2){for(var h=Ht(this.node(),a).tween,w=0,b=h.length,x;w<b;++w)if((x=h[w]).name===e)return x.value;return null}return this.each((o==null?un:ke)(a,e,o))}function at(e,o,a){var h=e._id;return e.each(function(){var w=Vt(this,h);(w.value||(w.value={}))[o]=a.apply(this,arguments)}),function(w){return Ht(w,h).value[o]}}function Tn(e,o,a){e.prototype=o.prototype=a,a.constructor=e}function Gn(e,o){var a=Object.create(e.prototype);for(var h in o)a[h]=o[h];return a}function Ze(){}var Qe=.7,kn=1/Qe,Le="\\s*([+-]?\\d+)\\s*",ln="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",be="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Dn=/^#([0-9a-f]{3,8})$/,fn=new RegExp("^rgb\\(".concat(Le,",").concat(Le,",").concat(Le,"\\)$")),qn=new RegExp("^rgb\\(".concat(be,",").concat(be,",").concat(be,"\\)$")),Fr=new RegExp("^rgba\\(".concat(Le,",").concat(Le,",").concat(Le,",").concat(ln,"\\)$")),Rn=new RegExp("^rgba\\(".concat(be,",").concat(be,",").concat(be,",").concat(ln,"\\)$")),In=new RegExp("^hsl\\(".concat(ln,",").concat(be,",").concat(be,"\\)$")),Er=new RegExp("^hsla\\(".concat(ln,",").concat(be,",").concat(be,",").concat(ln,"\\)$")),Qn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Tn(Ze,hn,{copy:function(o){return Object.assign(new this.constructor,this,o)},displayable:function(){return this.rgb().displayable()},hex:dn,formatHex:dn,formatHex8:Jn,formatHsl:Yr,formatRgb:Sr,toString:Sr});function dn(){return this.rgb().formatHex()}function Jn(){return this.rgb().formatHex8()}function Yr(){return zn(this).formatHsl()}function Sr(){return this.rgb().formatRgb()}function hn(e){var o,a;return e=(e+"").trim().toLowerCase(),(o=Dn.exec(e))?(a=o[1].length,o=parseInt(o[1],16),a===6?jn(o):a===3?new Jt(o>>8&15|o>>4&240,o>>4&15|o&240,(o&15)<<4|o&15,1):a===8?tr(o>>24&255,o>>16&255,o>>8&255,(o&255)/255):a===4?tr(o>>12&15|o>>8&240,o>>8&15|o>>4&240,o>>4&15|o&240,((o&15)<<4|o&15)/255):null):(o=fn.exec(e))?new Jt(o[1],o[2],o[3],1):(o=qn.exec(e))?new Jt(o[1]*255/100,o[2]*255/100,o[3]*255/100,1):(o=Fr.exec(e))?tr(o[1],o[2],o[3],o[4]):(o=Rn.exec(e))?tr(o[1]*255/100,o[2]*255/100,o[3]*255/100,o[4]):(o=In.exec(e))?mn(o[1],o[2]/100,o[3]/100,1):(o=Er.exec(e))?mn(o[1],o[2]/100,o[3]/100,o[4]):Qn.hasOwnProperty(e)?jn(Qn[e]):e==="transparent"?new Jt(NaN,NaN,NaN,0):null}function jn(e){return new Jt(e>>16&255,e>>8&255,e&255,1)}function tr(e,o,a,h){return h<=0&&(e=o=a=NaN),new Jt(e,o,a,h)}function so(e){return e instanceof Ze||(e=hn(e)),e?(e=e.rgb(),new Jt(e.r,e.g,e.b,e.opacity)):new Jt}function gn(e,o,a,h){return arguments.length===1?so(e):new Jt(e,o,a,h==null?1:h)}function Jt(e,o,a,h){this.r=+e,this.g=+o,this.b=+a,this.opacity=+h}Tn(Jt,gn,Gn(Ze,{brighter:function(o){return o=o==null?kn:Math.pow(kn,o),new Jt(this.r*o,this.g*o,this.b*o,this.opacity)},darker:function(o){return o=o==null?Qe:Math.pow(Qe,o),new Jt(this.r*o,this.g*o,this.b*o,this.opacity)},rgb:function(){return this},clamp:function(){return new Jt(Xe(this.r),Xe(this.g),Xe(this.b),pn(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Nr,formatHex:Nr,formatHex8:Kr,formatRgb:Mr,toString:Mr}));function Nr(){return"#".concat(se(this.r)).concat(se(this.g)).concat(se(this.b))}function Kr(){return"#".concat(se(this.r)).concat(se(this.g)).concat(se(this.b)).concat(se((isNaN(this.opacity)?1:this.opacity)*255))}function Mr(){var e=pn(this.opacity);return"".concat(e===1?"rgb(":"rgba(").concat(Xe(this.r),", ").concat(Xe(this.g),", ").concat(Xe(this.b)).concat(e===1?")":", ".concat(e,")"))}function pn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Xe(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function se(e){return e=Xe(e),(e<16?"0":"")+e.toString(16)}function mn(e,o,a,h){return h<=0?e=o=a=NaN:a<=0||a>=1?e=o=NaN:o<=0&&(e=NaN),new ce(e,o,a,h)}function zn(e){if(e instanceof ce)return new ce(e.h,e.s,e.l,e.opacity);if(e instanceof Ze||(e=hn(e)),!e)return new ce;if(e instanceof ce)return e;e=e.rgb();var o=e.r/255,a=e.g/255,h=e.b/255,w=Math.min(o,a,h),b=Math.max(o,a,h),x=NaN,A=b-w,Z=(b+w)/2;return A?(o===b?x=(a-h)/A+(a<h)*6:a===b?x=(h-o)/A+2:x=(o-a)/A+4,A/=Z<.5?b+w:2-b-w,x*=60):A=Z>0&&Z<1?0:x,new ce(x,A,Z,e.opacity)}function ae(e,o,a,h){return arguments.length===1?zn(e):new ce(e,o,a,h==null?1:h)}function ce(e,o,a,h){this.h=+e,this.s=+o,this.l=+a,this.opacity=+h}Tn(ce,ae,Gn(Ze,{brighter:function(o){return o=o==null?kn:Math.pow(kn,o),new ce(this.h,this.s,this.l*o,this.opacity)},darker:function(o){return o=o==null?Qe:Math.pow(Qe,o),new ce(this.h,this.s,this.l*o,this.opacity)},rgb:function(){var o=this.h%360+(this.h<0)*360,a=isNaN(o)||isNaN(this.s)?0:this.s,h=this.l,w=h+(h<.5?h:1-h)*a,b=2*h-w;return new Jt(d(o>=240?o-240:o+120,b,w),d(o,b,w),d(o<120?o+240:o-120,b,w),this.opacity)},clamp:function(){return new ce(De(this.h),yn(this.s),yn(this.l),pn(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var o=pn(this.opacity);return"".concat(o===1?"hsl(":"hsla(").concat(De(this.h),", ").concat(yn(this.s)*100,"%, ").concat(yn(this.l)*100,"%").concat(o===1?")":", ".concat(o,")"))}}));function De(e){return e=(e||0)%360,e<0?e+360:e}function yn(e){return Math.max(0,Math.min(1,e||0))}function d(e,o,a){return(e<60?o+(a-o)*e/60:e<180?a:e<240?o+(a-o)*(240-e)/60:o)*255}function _(e,o,a,h,w){var b=e*e,x=b*e;return((1-3*e+3*b-x)*o+(4-6*b+3*x)*a+(1+3*e+3*b-3*x)*h+x*w)/6}function X(e){var o=e.length-1;return function(a){var h=a<=0?a=0:a>=1?(a=1,o-1):Math.floor(a*o),w=e[h],b=e[h+1],x=h>0?e[h-1]:2*w-b,A=h<o-1?e[h+2]:2*b-w;return _((a-h/o)*o,x,w,b,A)}}function Y(e){var o=e.length;return function(a){var h=Math.floor(((a%=1)<0?++a:a)*o),w=e[(h+o-1)%o],b=e[h%o],x=e[(h+1)%o],A=e[(h+2)%o];return _((a-h/o)*o,w,b,x,A)}}var z=function(e){return function(){return e}};function Q(e,o){return function(a){return e+a*o}}function ct(e,o,a){return e=Math.pow(e,a),o=Math.pow(o,a)-e,a=1/a,function(h){return Math.pow(e+h*o,a)}}function ft(e,o){var a=o-e;return a?Q(e,a>180||a<-180?a-360*Math.round(a/360):a):constant(isNaN(e)?o:e)}function wt(e){return(e=+e)==1?Pt:function(o,a){return a-o?ct(o,a,e):z(isNaN(o)?a:o)}}function Pt(e,o){var a=o-e;return a?Q(e,a):z(isNaN(e)?o:e)}var Bt=function e(o){var a=wt(o);function h(w,b){var x=a((w=gn(w)).r,(b=gn(b)).r),A=a(w.g,b.g),Z=a(w.b,b.b),H=Pt(w.opacity,b.opacity);return function(V){return w.r=x(V),w.g=A(V),w.b=Z(V),w.opacity=H(V),w+""}}return h.gamma=e,h}(1);function de(e){return function(o){var a=o.length,h=new Array(a),w=new Array(a),b=new Array(a),x,A;for(x=0;x<a;++x)A=gn(o[x]),h[x]=A.r||0,w[x]=A.g||0,b[x]=A.b||0;return h=e(h),w=e(w),b=e(b),A.opacity=1,function(Z){return A.r=h(Z),A.g=w(Z),A.b=b(Z),A+""}}}var ve=de(X),ee=de(Y),ue=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Je=new RegExp(ue.source,"g");function er(e){return function(){return e}}function Cr(e){return function(o){return e(o)+""}}function je(e,o){var a=ue.lastIndex=Je.lastIndex=0,h,w,b,x=-1,A=[],Z=[];for(e=e+"",o=o+"";(h=ue.exec(e))&&(w=Je.exec(o));)(b=w.index)>a&&(b=o.slice(a,b),A[x]?A[x]+=b:A[++x]=b),(h=h[0])===(w=w[0])?A[x]?A[x]+=w:A[++x]=w:(A[++x]=null,Z.push({i:x,x:we(h,w)})),a=Je.lastIndex;return a<o.length&&(b=o.slice(a),A[x]?A[x]+=b:A[++x]=b),A.length<2?Z[0]?Cr(Z[0].x):er(o):(o=Z.length,function(H){for(var V=0,mt;V<o;++V)A[(mt=Z[V]).i]=mt.x(H);return A.join("")})}function tn(e,o){var a;return(typeof o=="number"?we:o instanceof hn?Bt:(a=hn(o))?(o=a,Bt):je)(e,o)}function $n(e){return function(){this.removeAttribute(e)}}function Ar(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Pr(e,o,a){var h,w=a+"",b;return function(){var x=this.getAttribute(e);return x===w?null:x===h?b:b=o(h=x,a)}}function Po(e,o,a){var h,w=a+"",b;return function(){var x=this.getAttributeNS(e.space,e.local);return x===w?null:x===h?b:b=o(h=x,a)}}function ao(e,o,a){var h,w,b;return function(){var x,A=a(this),Z;return A==null?void this.removeAttribute(e):(x=this.getAttribute(e),Z=A+"",x===Z?null:x===h&&Z===w?b:(w=Z,b=o(h=x,A)))}}function To(e,o,a){var h,w,b;return function(){var x,A=a(this),Z;return A==null?void this.removeAttributeNS(e.space,e.local):(x=this.getAttributeNS(e.space,e.local),Z=A+"",x===Z?null:x===h&&Z===w?b:(w=Z,b=o(h=x,A)))}}function ko(e,o){var a=(0,Te.Z)(e),h=a==="transform"?Be:tn;return this.attrTween(e,typeof o=="function"?(a.local?To:ao)(a,h,at(this,"attr."+e,o)):o==null?(a.local?Ar:$n)(a):(a.local?Po:Pr)(a,h,o))}function Do(e,o){return function(a){this.setAttribute(e,o.call(this,a))}}function Hn(e,o){return function(a){this.setAttributeNS(e.space,e.local,o.call(this,a))}}function Dt(e,o){var a,h;function w(){var b=o.apply(this,arguments);return b!==h&&(a=(h=b)&&Hn(e,b)),a}return w._value=o,w}function Ro(e,o){var a,h;function w(){var b=o.apply(this,arguments);return b!==h&&(a=(h=b)&&Do(e,b)),a}return w._value=o,w}function co(e,o){var a="attr."+e;if(arguments.length<2)return(a=this.tween(a))&&a._value;if(o==null)return this.tween(a,null);if(typeof o!="function")throw new Error;var h=(0,Te.Z)(e);return this.tween(a,(h.local?Dt:Ro)(h,o))}function Io(e,o){return function(){Wn(this,e).delay=+o.apply(this,arguments)}}function uo(e,o){return o=+o,function(){Wn(this,e).delay=o}}function lo(e){var o=this._id;return arguments.length?this.each((typeof e=="function"?Io:uo)(o,e)):Ht(this.node(),o).delay}function zo(e,o){return function(){Vt(this,e).duration=+o.apply(this,arguments)}}function $o(e,o){return o=+o,function(){Vt(this,e).duration=o}}function Ho(e){var o=this._id;return arguments.length?this.each((typeof e=="function"?zo:$o)(o,e)):Ht(this.node(),o).duration}function Oo(e,o){if(typeof o!="function")throw new Error;return function(){Vt(this,e).ease=o}}function nr(e){var o=this._id;return arguments.length?this.each(Oo(o,e)):Ht(this.node(),o).ease}function fo(e,o){return function(){var a=o.apply(this,arguments);if(typeof a!="function")throw new Error;Vt(this,e).ease=a}}function ho(e){if(typeof e!="function")throw new Error;return this.each(fo(this._id,e))}var go=$(73409);function po(e){typeof e!="function"&&(e=(0,go.Z)(e));for(var o=this._groups,a=o.length,h=new Array(a),w=0;w<a;++w)for(var b=o[w],x=b.length,A=h[w]=[],Z,H=0;H<x;++H)(Z=b[H])&&e.call(Z,Z.__data__,H,b)&&A.push(Z);return new Re(h,this._parents,this._name,this._id)}function Wr(e){if(e._id!==this._id)throw new Error;for(var o=this._groups,a=e._groups,h=o.length,w=a.length,b=Math.min(h,w),x=new Array(h),A=0;A<b;++A)for(var Z=o[A],H=a[A],V=Z.length,mt=x[A]=new Array(V),pt,Ct=0;Ct<V;++Ct)(pt=Z[Ct]||H[Ct])&&(mt[Ct]=pt);for(;A<h;++A)x[A]=o[A];return new Re(x,this._parents,this._name,this._id)}function mo(e){return(e+"").trim().split(/^|\s+/).every(function(o){var a=o.indexOf(".");return a>=0&&(o=o.slice(0,a)),!o||o==="start"})}function Bo(e,o,a){var h,w,b=mo(o)?Wn:Vt;return function(){var x=b(this,e),A=x.on;A!==h&&(w=(h=A).copy()).on(o,a),x.on=w}}function Zo(e,o){var a=this._id;return arguments.length<2?Ht(this.node(),a).on.on(e):this.each(Bo(a,e,o))}function Tr(e){return function(){var o=this.parentNode;for(var a in this.__transition)if(+a!==e)return;o&&o.removeChild(this)}}function On(){return this.on("end.remove",Tr(this._id))}var Lo=$(66456);function Xo(e){var o=this._name,a=this._id;typeof e!="function"&&(e=(0,Lo.Z)(e));for(var h=this._groups,w=h.length,b=new Array(w),x=0;x<w;++x)for(var A=h[x],Z=A.length,H=b[x]=new Array(Z),V,mt,pt=0;pt<Z;++pt)(V=A[pt])&&(mt=e.call(V,V.__data__,pt,A))&&("__data__"in V&&(mt.__data__=V.__data__),H[pt]=mt,Ue(H[pt],o,a,pt,H,Ht(V,a)));return new Re(b,this._parents,o,a)}var Vo=$(16851);function Ur(e){var o=this._name,a=this._id;typeof e!="function"&&(e=(0,Vo.Z)(e));for(var h=this._groups,w=h.length,b=[],x=[],A=0;A<w;++A)for(var Z=h[A],H=Z.length,V,mt=0;mt<H;++mt)if(V=Z[mt]){for(var pt=e.call(V,V.__data__,mt,Z),Ct,le=Ht(V,a),Yt=0,me=pt.length;Yt<me;++Yt)(Ct=pt[Yt])&&Ue(Ct,o,a,Yt,pt,le);b.push(pt),x.push(V)}return new Re(b,x,o,a)}var Fo=Mt.ZP.prototype.constructor;function Yo(){return new Fo(this._groups,this._parents)}var rr=$(77932);function Gr(e,o){var a,h,w;return function(){var b=(0,rr.S)(this,e),x=(this.style.removeProperty(e),(0,rr.S)(this,e));return b===x?null:b===a&&x===h?w:w=o(a=b,h=x)}}function yo(e){return function(){this.style.removeProperty(e)}}function kr(e,o,a){var h,w=a+"",b;return function(){var x=(0,rr.S)(this,e);return x===w?null:x===h?b:b=o(h=x,a)}}function Bn(e,o,a){var h,w,b;return function(){var x=(0,rr.S)(this,e),A=a(this),Z=A+"";return A==null&&(Z=A=(this.style.removeProperty(e),(0,rr.S)(this,e))),x===Z?null:x===h&&Z===w?b:(w=Z,b=o(h=x,A))}}function xo(e,o){var a,h,w,b="style."+o,x="end."+b,A;return function(){var Z=Vt(this,e),H=Z.on,V=Z.value[b]==null?A||(A=yo(o)):void 0;(H!==a||w!==V)&&(h=(a=H).copy()).on(x,w=V),Z.on=h}}function wo(e,o,a){var h=(e+="")=="transform"?vr:tn;return o==null?this.styleTween(e,Gr(e,h)).on("end.style."+e,yo(e)):typeof o=="function"?this.styleTween(e,Bn(e,h,at(this,"style."+e,o))).each(xo(this._id,e)):this.styleTween(e,kr(e,h,o),a).on("end.style."+e,null)}function Ko(e,o,a){return function(h){this.style.setProperty(e,o.call(this,h),a)}}function Wo(e,o,a){var h,w;function b(){var x=o.apply(this,arguments);return x!==w&&(h=(w=x)&&Ko(e,x,a)),h}return b._value=o,b}function Uo(e,o,a){var h="style."+(e+="");if(arguments.length<2)return(h=this.tween(h))&&h._value;if(o==null)return this.tween(h,null);if(typeof o!="function")throw new Error;return this.tween(h,Wo(e,o,a==null?"":a))}function Go(e){return function(){this.textContent=e}}function _o(e){return function(){var o=e(this);this.textContent=o==null?"":o}}function bo(e){return this.tween("text",typeof e=="function"?_o(at(this,"text",e)):Go(e==null?"":e+""))}function vo(e){return function(o){this.textContent=e.call(this,o)}}function qo(e){var o,a;function h(){var w=e.apply(this,arguments);return w!==a&&(o=(a=w)&&vo(w)),o}return h._value=e,h}function en(e){var o="text";if(arguments.length<1)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,qo(e))}function Zn(){for(var e=this._name,o=this._id,a=Qr(),h=this._groups,w=h.length,b=0;b<w;++b)for(var x=h[b],A=x.length,Z,H=0;H<A;++H)if(Z=x[H]){var V=Ht(Z,o);Ue(Z,e,a,H,x,{time:V.time+V.delay+V.duration,delay:0,duration:V.duration,ease:V.ease})}return new Re(h,this._parents,e,a)}function qr(){var e,o,a=this,h=a._id,w=a.size();return new Promise(function(b,x){var A={value:x},Z={value:function(){--w===0&&b()}};a.each(function(){var H=Vt(this,h),V=H.on;V!==e&&(o=(e=V).copy(),o._.cancel.push(A),o._.interrupt.push(A),o._.end.push(Z)),H.on=o}),w===0&&b()})}var Qo=0;function Re(e,o,a,h){this._groups=e,this._parents=o,this._name=a,this._id=h}function Eo(e){return(0,Mt.ZP)().transition(e)}function Qr(){return++Qo}var Ve=Mt.ZP.prototype;Re.prototype=Eo.prototype={constructor:Re,select:Xo,selectAll:Ur,selectChild:Ve.selectChild,selectChildren:Ve.selectChildren,filter:po,merge:Wr,selection:Yo,transition:Zn,call:Ve.call,nodes:Ve.nodes,node:Ve.node,size:Ve.size,empty:Ve.empty,each:Ve.each,on:Zo,attr:ko,attrTween:co,style:wo,styleTween:Uo,text:bo,textTween:en,remove:On,tween:Pn,delay:lo,duration:Ho,ease:nr,easeVarying:ho,end:qr,[Symbol.iterator]:Ve[Symbol.iterator]};function ui(e){return e*e*e}function Jo(e){return--e*e*e+1}function Jr(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var So={time:null,delay:0,duration:250,ease:Jr};function or(e,o){for(var a;!(a=e.__transition)||!(a=a[o]);)if(!(e=e.parentNode))throw new Error(`transition ${o} not found`);return a}function jr(e){var o,a;e instanceof Re?(o=e._id,e=e._name):(o=Qr(),(a=So).time=En(),e=e==null?null:e+"");for(var h=this._groups,w=h.length,b=0;b<w;++b)for(var x=h[b],A=x.length,Z,H=0;H<A;++H)(Z=x[H])&&Ue(Z,e,o,H,x,a||or(Z,o));return new Re(h,this._parents,e,o)}Mt.ZP.prototype.interrupt=Xr,Mt.ZP.prototype.transition=jr;var Dr=e=>()=>e;function to(e,{sourceEvent:o,target:a,transform:h,dispatch:w}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:o,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},transform:{value:h,enumerable:!0,configurable:!0},_:{value:w}})}function Ie(e,o,a){this.k=e,this.x=o,this.y=a}Ie.prototype={constructor:Ie,scale:function(e){return e===1?this:new Ie(this.k*e,this.x,this.y)},translate:function(e,o){return e===0&o===0?this:new Ie(this.k,this.x+this.k*e,this.y+this.k*o)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ir=new Ie(1,0,0);Ln.prototype=Ie.prototype;function Ln(e){for(;!e.__zoom;)if(!(e=e.parentNode))return ir;return e.__zoom}function xn(e){e.stopImmediatePropagation()}function sr(e){e.preventDefault(),e.stopImmediatePropagation()}function jo(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function ti(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function No(){return this.__zoom||ir}function Mo(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function ei(){return navigator.maxTouchPoints||"ontouchstart"in this}function ni(e,o,a){var h=e.invertX(o[0][0])-a[0][0],w=e.invertX(o[1][0])-a[1][0],b=e.invertY(o[0][1])-a[0][1],x=e.invertY(o[1][1])-a[1][1];return e.translate(w>h?(h+w)/2:Math.min(0,h)||Math.max(0,w),x>b?(b+x)/2:Math.min(0,b)||Math.max(0,x))}function ri(){var e=jo,o=ti,a=ni,h=Mo,w=ei,b=[0,1/0],x=[[-1/0,-1/0],[1/0,1/0]],A=250,Z=st,H=(0,l.Z)("start","zoom","end"),V,mt,pt,Ct=500,le=150,Yt=0,me=10;function Tt(C){C.property("__zoom",No).on("wheel.zoom",_n,{passive:!1}).on("mousedown.zoom",ar).on("dblclick.zoom",Ir).filter(w).on("touchstart.zoom",zr).on("touchmove.zoom",Co).on("touchend.zoom touchcancel.zoom",oi).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}Tt.transform=function(C,ht,L,xt){var kt=C.selection?C.selection():C;kt.property("__zoom",No),C!==kt?Ye(C,ht,L,xt):kt.interrupt().each(function(){Se(this,arguments).event(xt).start().zoom(null,typeof ht=="function"?ht.apply(this,arguments):ht).end()})},Tt.scaleBy=function(C,ht,L,xt){Tt.scaleTo(C,function(){var kt=this.__zoom.k,It=typeof ht=="function"?ht.apply(this,arguments):ht;return kt*It},L,xt)},Tt.scaleTo=function(C,ht,L,xt){Tt.transform(C,function(){var kt=o.apply(this,arguments),It=this.__zoom,zt=L==null?wn(kt):typeof L=="function"?L.apply(this,arguments):L,Zt=It.invert(zt),Kt=typeof ht=="function"?ht.apply(this,arguments):ht;return a(Fe(nn(It,Kt),zt,Zt),kt,x)},L,xt)},Tt.translateBy=function(C,ht,L,xt){Tt.transform(C,function(){return a(this.__zoom.translate(typeof ht=="function"?ht.apply(this,arguments):ht,typeof L=="function"?L.apply(this,arguments):L),o.apply(this,arguments),x)},null,xt)},Tt.translateTo=function(C,ht,L,xt,kt){Tt.transform(C,function(){var It=o.apply(this,arguments),zt=this.__zoom,Zt=xt==null?wn(It):typeof xt=="function"?xt.apply(this,arguments):xt;return a(ir.translate(Zt[0],Zt[1]).scale(zt.k).translate(typeof ht=="function"?-ht.apply(this,arguments):-ht,typeof L=="function"?-L.apply(this,arguments):-L),It,x)},xt,kt)};function nn(C,ht){return ht=Math.max(b[0],Math.min(b[1],ht)),ht===C.k?C:new Ie(ht,C.x,C.y)}function Fe(C,ht,L){var xt=ht[0]-L[0]*C.k,kt=ht[1]-L[1]*C.k;return xt===C.x&&kt===C.y?C:new Ie(C.k,xt,kt)}function wn(C){return[(+C[0][0]+ +C[1][0])/2,(+C[0][1]+ +C[1][1])/2]}function Ye(C,ht,L,xt){C.on("start.zoom",function(){Se(this,arguments).event(xt).start()}).on("interrupt.zoom end.zoom",function(){Se(this,arguments).event(xt).end()}).tween("zoom",function(){var kt=this,It=arguments,zt=Se(kt,It).event(xt),Zt=o.apply(kt,It),Kt=L==null?wn(Zt):typeof L=="function"?L.apply(kt,It):L,ze=Math.max(Zt[1][0]-Zt[0][0],Zt[1][1]-Zt[0][1]),qt=kt.__zoom,jt=typeof ht=="function"?ht.apply(kt,It):ht,Ke=Z(qt.invert(Kt).concat(ze/qt.k),jt.invert(Kt).concat(ze/jt.k));return function(ye){if(ye===1)ye=jt;else{var $e=Ke(ye),eo=ze/$e[2];ye=new Ie(eo,Kt[0]-$e[0]*eo,Kt[1]-$e[1]*eo)}zt.zoom(null,ye)}})}function Se(C,ht,L){return!L&&C.__zooming||new Rr(C,ht)}function Rr(C,ht){this.that=C,this.args=ht,this.active=0,this.sourceEvent=null,this.extent=o.apply(C,ht),this.taps=0}Rr.prototype={event:function(C){return C&&(this.sourceEvent=C),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(C,ht){return this.mouse&&C!=="mouse"&&(this.mouse[1]=ht.invert(this.mouse[0])),this.touch0&&C!=="touch"&&(this.touch0[1]=ht.invert(this.touch0[0])),this.touch1&&C!=="touch"&&(this.touch1[1]=ht.invert(this.touch1[0])),this.that.__zoom=ht,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(C){var ht=(0,gt.Z)(this.that).datum();H.call(C,this.that,new to(C,{sourceEvent:this.sourceEvent,target:Tt,type:C,transform:this.that.__zoom,dispatch:H}),ht)}};function _n(C,...ht){if(!e.apply(this,arguments))return;var L=Se(this,ht).event(C),xt=this.__zoom,kt=Math.max(b[0],Math.min(b[1],xt.k*Math.pow(2,h.apply(this,arguments)))),It=(0,vt.Z)(C);if(L.wheel)(L.mouse[0][0]!==It[0]||L.mouse[0][1]!==It[1])&&(L.mouse[1]=xt.invert(L.mouse[0]=It)),clearTimeout(L.wheel);else{if(xt.k===kt)return;L.mouse=[It,xt.invert(It)],Oe(this),L.start()}sr(C),L.wheel=setTimeout(zt,le),L.zoom("mouse",a(Fe(nn(xt,kt),L.mouse[0],L.mouse[1]),L.extent,x));function zt(){L.wheel=null,L.end()}}function ar(C,...ht){if(pt||!e.apply(this,arguments))return;var L=C.currentTarget,xt=Se(this,ht,!0).event(C),kt=(0,gt.Z)(C.view).on("mousemove.zoom",Kt,!0).on("mouseup.zoom",ze,!0),It=(0,vt.Z)(C,L),zt=C.clientX,Zt=C.clientY;(0,ot.Z)(C.view),xn(C),xt.mouse=[It,this.__zoom.invert(It)],Oe(this),xt.start();function Kt(qt){if(sr(qt),!xt.moved){var jt=qt.clientX-zt,Ke=qt.clientY-Zt;xt.moved=jt*jt+Ke*Ke>Yt}xt.event(qt).zoom("mouse",a(Fe(xt.that.__zoom,xt.mouse[0]=(0,vt.Z)(qt,L),xt.mouse[1]),xt.extent,x))}function ze(qt){kt.on("mousemove.zoom mouseup.zoom",null),(0,ot.D)(qt.view,xt.moved),sr(qt),xt.event(qt).end()}}function Ir(C,...ht){if(e.apply(this,arguments)){var L=this.__zoom,xt=(0,vt.Z)(C.changedTouches?C.changedTouches[0]:C,this),kt=L.invert(xt),It=L.k*(C.shiftKey?.5:2),zt=a(Fe(nn(L,It),xt,kt),o.apply(this,ht),x);sr(C),A>0?(0,gt.Z)(this).transition().duration(A).call(Ye,zt,xt,C):(0,gt.Z)(this).call(Tt.transform,zt,xt,C)}}function zr(C,...ht){if(e.apply(this,arguments)){var L=C.touches,xt=L.length,kt=Se(this,ht,C.changedTouches.length===xt).event(C),It,zt,Zt,Kt;for(xn(C),zt=0;zt<xt;++zt)Zt=L[zt],Kt=(0,vt.Z)(Zt,this),Kt=[Kt,this.__zoom.invert(Kt),Zt.identifier],kt.touch0?!kt.touch1&&kt.touch0[2]!==Kt[2]&&(kt.touch1=Kt,kt.taps=0):(kt.touch0=Kt,It=!0,kt.taps=1+!!V);V&&(V=clearTimeout(V)),It&&(kt.taps<2&&(mt=Kt[0],V=setTimeout(function(){V=null},Ct)),Oe(this),kt.start())}}function Co(C,...ht){if(this.__zooming){var L=Se(this,ht).event(C),xt=C.changedTouches,kt=xt.length,It,zt,Zt,Kt;for(sr(C),It=0;It<kt;++It)zt=xt[It],Zt=(0,vt.Z)(zt,this),L.touch0&&L.touch0[2]===zt.identifier?L.touch0[0]=Zt:L.touch1&&L.touch1[2]===zt.identifier&&(L.touch1[0]=Zt);if(zt=L.that.__zoom,L.touch1){var ze=L.touch0[0],qt=L.touch0[1],jt=L.touch1[0],Ke=L.touch1[1],ye=(ye=jt[0]-ze[0])*ye+(ye=jt[1]-ze[1])*ye,$e=($e=Ke[0]-qt[0])*$e+($e=Ke[1]-qt[1])*$e;zt=nn(zt,Math.sqrt(ye/$e)),Zt=[(ze[0]+jt[0])/2,(ze[1]+jt[1])/2],Kt=[(qt[0]+Ke[0])/2,(qt[1]+Ke[1])/2]}else if(L.touch0)Zt=L.touch0[0],Kt=L.touch0[1];else return;L.zoom("touch",a(Fe(zt,Zt,Kt),L.extent,x))}}function oi(C,...ht){if(this.__zooming){var L=Se(this,ht).event(C),xt=C.changedTouches,kt=xt.length,It,zt;for(xn(C),pt&&clearTimeout(pt),pt=setTimeout(function(){pt=null},Ct),It=0;It<kt;++It)zt=xt[It],L.touch0&&L.touch0[2]===zt.identifier?delete L.touch0:L.touch1&&L.touch1[2]===zt.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(zt=(0,vt.Z)(zt,this),Math.hypot(mt[0]-zt[0],mt[1]-zt[1])<me)){var Zt=(0,gt.Z)(this).on("dblclick.zoom");Zt&&Zt.apply(this,arguments)}}}return Tt.wheelDelta=function(C){return arguments.length?(h=typeof C=="function"?C:Dr(+C),Tt):h},Tt.filter=function(C){return arguments.length?(e=typeof C=="function"?C:Dr(!!C),Tt):e},Tt.touchable=function(C){return arguments.length?(w=typeof C=="function"?C:Dr(!!C),Tt):w},Tt.extent=function(C){return arguments.length?(o=typeof C=="function"?C:Dr([[+C[0][0],+C[0][1]],[+C[1][0],+C[1][1]]]),Tt):o},Tt.scaleExtent=function(C){return arguments.length?(b[0]=+C[0],b[1]=+C[1],Tt):[b[0],b[1]]},Tt.translateExtent=function(C){return arguments.length?(x[0][0]=+C[0][0],x[1][0]=+C[1][0],x[0][1]=+C[0][1],x[1][1]=+C[1][1],Tt):[[x[0][0],x[0][1]],[x[1][0],x[1][1]]]},Tt.constrain=function(C){return arguments.length?(a=C,Tt):a},Tt.duration=function(C){return arguments.length?(A=+C,Tt):A},Tt.interpolate=function(C){return arguments.length?(Z=C,Tt):Z},Tt.on=function(){var C=H.on.apply(H,arguments);return C===H?Tt:C},Tt.clickDistance=function(C){return arguments.length?(Yt=(C=+C)*C,Tt):Math.sqrt(Yt)},Tt.tapDistance=function(C){return arguments.length?(me=+C,Tt):me},Tt}},49344:function(lt,dt,$){"use strict";$.d(dt,{X:function(){return l}});function l(J,j){if(Object.is(J,j))return!0;if(typeof J!="object"||J===null||typeof j!="object"||j===null)return!1;if(J instanceof Map&&j instanceof Map){if(J.size!==j.size)return!1;for(const[it,st]of J)if(!Object.is(st,j.get(it)))return!1;return!0}if(J instanceof Set&&j instanceof Set){if(J.size!==j.size)return!1;for(const it of J)if(!j.has(it))return!1;return!0}const Nt=Object.keys(J);if(Nt.length!==Object.keys(j).length)return!1;for(let it=0;it<Nt.length;it++)if(!Object.prototype.hasOwnProperty.call(j,Nt[it])||!Object.is(J[Nt[it]],j[Nt[it]]))return!1;return!0}var ot=(J,j)=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { shallow } from 'zustand/shallow'`."),l(J,j))}}]);
}());