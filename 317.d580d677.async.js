"use strict";(self.webpackChunk_ant_design_pro_flow_editor=self.webpackChunk_ant_design_pro_flow_editor||[]).push([[317],{2702:function(_e,Oe,v){v.d(Oe,{Z:function(){return P}});var xe=v(87366),z=v(58216),De=v(53669),le=v(49919),Ae=v(87989),T=v(51852),ge=v(75859),he=v(49559),ye=v(75656),de=v(84875),m=v.n(de),re=v(1916),_=v(50959),Se=v(43482),ke=function(L){for(var J=L.prefixCls,t=L.level,Z=L.isStart,H=L.isEnd,ne="".concat(J,"-indent-unit"),d=[],c=0;c<t;c+=1){var S;d.push(_.createElement("span",{key:c,className:m()(ne,(S={},(0,z.Z)(S,"".concat(ne,"-start"),Z[c]),(0,z.Z)(S,"".concat(ne,"-end"),H[c]),S))}))}return _.createElement("span",{"aria-hidden":"true",className:"".concat(J,"-indent")},d)},ie=_.memo(ke),oe=v(82394),w=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],$="open",s="close",f="---",k=function(j){(0,he.Z)(J,j);var L=(0,ye.Z)(J);function J(){var t;(0,Ae.Z)(this,J);for(var Z=arguments.length,H=new Array(Z),ne=0;ne<Z;ne++)H[ne]=arguments[ne];return t=L.call.apply(L,[this].concat(H)),t.state={dragNodeHighlight:!1},t.selectHandle=void 0,t.cacheIndent=void 0,t.onSelectorClick=function(d){var c=t.props.context.onNodeClick;c(d,(0,oe.F)(t.props)),t.isSelectable()?t.onSelect(d):t.onCheck(d)},t.onSelectorDoubleClick=function(d){var c=t.props.context.onNodeDoubleClick;c(d,(0,oe.F)(t.props))},t.onSelect=function(d){if(!t.isDisabled()){var c=t.props.context.onNodeSelect;d.preventDefault(),c(d,(0,oe.F)(t.props))}},t.onCheck=function(d){if(!t.isDisabled()){var c=t.props,S=c.disableCheckbox,D=c.checked,V=t.props.context.onNodeCheck;if(!(!t.isCheckable()||S)){d.preventDefault();var ae=!D;V(d,(0,oe.F)(t.props),ae)}}},t.onMouseEnter=function(d){var c=t.props.context.onNodeMouseEnter;c(d,(0,oe.F)(t.props))},t.onMouseLeave=function(d){var c=t.props.context.onNodeMouseLeave;c(d,(0,oe.F)(t.props))},t.onContextMenu=function(d){var c=t.props.context.onNodeContextMenu;c(d,(0,oe.F)(t.props))},t.onDragStart=function(d){var c=t.props.context.onNodeDragStart;d.stopPropagation(),t.setState({dragNodeHighlight:!0}),c(d,(0,ge.Z)(t));try{d.dataTransfer.setData("text/plain","")}catch(S){}},t.onDragEnter=function(d){var c=t.props.context.onNodeDragEnter;d.preventDefault(),d.stopPropagation(),c(d,(0,ge.Z)(t))},t.onDragOver=function(d){var c=t.props.context.onNodeDragOver;d.preventDefault(),d.stopPropagation(),c(d,(0,ge.Z)(t))},t.onDragLeave=function(d){var c=t.props.context.onNodeDragLeave;d.stopPropagation(),c(d,(0,ge.Z)(t))},t.onDragEnd=function(d){var c=t.props.context.onNodeDragEnd;d.stopPropagation(),t.setState({dragNodeHighlight:!1}),c(d,(0,ge.Z)(t))},t.onDrop=function(d){var c=t.props.context.onNodeDrop;d.preventDefault(),d.stopPropagation(),t.setState({dragNodeHighlight:!1}),c(d,(0,ge.Z)(t))},t.onExpand=function(d){var c=t.props,S=c.loading,D=c.context.onNodeExpand;S||D(d,(0,oe.F)(t.props))},t.setSelectHandle=function(d){t.selectHandle=d},t.getNodeState=function(){var d=t.props.expanded;return t.isLeaf()?null:d?$:s},t.hasChildren=function(){var d=t.props.eventKey,c=t.props.context.keyEntities,S=c[d]||{},D=S.children;return!!(D||[]).length},t.isLeaf=function(){var d=t.props,c=d.isLeaf,S=d.loaded,D=t.props.context.loadData,V=t.hasChildren();return c===!1?!1:c||!D&&!V||D&&S&&!V},t.isDisabled=function(){var d=t.props.disabled,c=t.props.context.disabled;return!!(c||d)},t.isCheckable=function(){var d=t.props.checkable,c=t.props.context.checkable;return!c||d===!1?!1:c},t.syncLoadData=function(d){var c=d.expanded,S=d.loading,D=d.loaded,V=t.props.context,ae=V.loadData,q=V.onNodeLoad;S||ae&&c&&!t.isLeaf()&&!t.hasChildren()&&!D&&q((0,oe.F)(t.props))},t.isDraggable=function(){var d=t.props,c=d.data,S=d.context.draggable;return!!(S&&(!S.nodeDraggable||S.nodeDraggable(c)))},t.renderDragHandler=function(){var d=t.props.context,c=d.draggable,S=d.prefixCls;return c!=null&&c.icon?_.createElement("span",{className:"".concat(S,"-draggable-icon")},c.icon):null},t.renderSwitcherIconDom=function(d){var c=t.props.switcherIcon,S=t.props.context.switcherIcon,D=c||S;return typeof D=="function"?D((0,le.Z)((0,le.Z)({},t.props),{},{isLeaf:d})):D},t.renderSwitcher=function(){var d=t.props.expanded,c=t.props.context.prefixCls;if(t.isLeaf()){var S=t.renderSwitcherIconDom(!0);return S!==!1?_.createElement("span",{className:m()("".concat(c,"-switcher"),"".concat(c,"-switcher-noop"))},S):null}var D=m()("".concat(c,"-switcher"),"".concat(c,"-switcher_").concat(d?$:s)),V=t.renderSwitcherIconDom(!1);return V!==!1?_.createElement("span",{onClick:t.onExpand,className:D},V):null},t.renderCheckbox=function(){var d=t.props,c=d.checked,S=d.halfChecked,D=d.disableCheckbox,V=t.props.context.prefixCls,ae=t.isDisabled(),q=t.isCheckable();if(!q)return null;var se=typeof q!="boolean"?q:null;return _.createElement("span",{className:m()("".concat(V,"-checkbox"),c&&"".concat(V,"-checkbox-checked"),!c&&S&&"".concat(V,"-checkbox-indeterminate"),(ae||D)&&"".concat(V,"-checkbox-disabled")),onClick:t.onCheck},se)},t.renderIcon=function(){var d=t.props.loading,c=t.props.context.prefixCls;return _.createElement("span",{className:m()("".concat(c,"-iconEle"),"".concat(c,"-icon__").concat(t.getNodeState()||"docu"),d&&"".concat(c,"-icon_loading"))})},t.renderSelector=function(){var d=t.state.dragNodeHighlight,c=t.props,S=c.title,D=S===void 0?f:S,V=c.selected,ae=c.icon,q=c.loading,se=c.data,Ke=t.props.context,ce=Ke.prefixCls,Me=Ke.showIcon,Le=Ke.icon,Te=Ke.loadData,h=Ke.titleRender,F=t.isDisabled(),R="".concat(ce,"-node-content-wrapper"),i;if(Me){var C=ae||Le;i=C?_.createElement("span",{className:m()("".concat(ce,"-iconEle"),"".concat(ce,"-icon__customize"))},typeof C=="function"?C(t.props):C):t.renderIcon()}else Te&&q&&(i=t.renderIcon());var x;typeof D=="function"?x=D(se):h?x=h(se):x=D;var I=_.createElement("span",{className:"".concat(ce,"-title")},x);return _.createElement("span",{ref:t.setSelectHandle,title:typeof D=="string"?D:"",className:m()("".concat(R),"".concat(R,"-").concat(t.getNodeState()||"normal"),!F&&(V||d)&&"".concat(ce,"-node-selected")),onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onContextMenu:t.onContextMenu,onClick:t.onSelectorClick,onDoubleClick:t.onSelectorDoubleClick},i,I,t.renderDropIndicator())},t.renderDropIndicator=function(){var d=t.props,c=d.disabled,S=d.eventKey,D=t.props.context,V=D.draggable,ae=D.dropLevelOffset,q=D.dropPosition,se=D.prefixCls,Ke=D.indent,ce=D.dropIndicatorRender,Me=D.dragOverNodeKey,Le=D.direction,Te=!!V,h=!c&&Te&&Me===S,F=Ke!=null?Ke:t.cacheIndent;return t.cacheIndent=Ke,h?ce({dropPosition:q,dropLevelOffset:ae,indent:F,prefixCls:se,direction:Le}):null},t}return(0,T.Z)(J,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var Z=this.props.selectable,H=this.props.context.selectable;return typeof Z=="boolean"?Z:H}},{key:"render",value:function(){var Z,H=this.props,ne=H.eventKey,d=H.className,c=H.style,S=H.dragOver,D=H.dragOverGapTop,V=H.dragOverGapBottom,ae=H.isLeaf,q=H.isStart,se=H.isEnd,Ke=H.expanded,ce=H.selected,Me=H.checked,Le=H.halfChecked,Te=H.loading,h=H.domRef,F=H.active,R=H.data,i=H.onMouseMove,C=H.selectable,x=(0,De.Z)(H,w),I=this.props.context,r=I.prefixCls,u=I.filterTreeNode,g=I.keyEntities,e=I.dropContainerKey,l=I.dropTargetKey,N=I.draggingNodeKey,K=this.isDisabled(),n=(0,re.Z)(x,{aria:!0,data:!0}),o=g[ne]||{},a=o.level,y=se[se.length-1],E=this.isDraggable(),A=!K&&E,O=N===ne,M=C!==void 0?{"aria-selected":!!C}:void 0;return _.createElement("div",(0,xe.Z)({ref:h,className:m()(d,"".concat(r,"-treenode"),(Z={},(0,z.Z)(Z,"".concat(r,"-treenode-disabled"),K),(0,z.Z)(Z,"".concat(r,"-treenode-switcher-").concat(Ke?"open":"close"),!ae),(0,z.Z)(Z,"".concat(r,"-treenode-checkbox-checked"),Me),(0,z.Z)(Z,"".concat(r,"-treenode-checkbox-indeterminate"),Le),(0,z.Z)(Z,"".concat(r,"-treenode-selected"),ce),(0,z.Z)(Z,"".concat(r,"-treenode-loading"),Te),(0,z.Z)(Z,"".concat(r,"-treenode-active"),F),(0,z.Z)(Z,"".concat(r,"-treenode-leaf-last"),y),(0,z.Z)(Z,"".concat(r,"-treenode-draggable"),E),(0,z.Z)(Z,"dragging",O),(0,z.Z)(Z,"drop-target",l===ne),(0,z.Z)(Z,"drop-container",e===ne),(0,z.Z)(Z,"drag-over",!K&&S),(0,z.Z)(Z,"drag-over-gap-top",!K&&D),(0,z.Z)(Z,"drag-over-gap-bottom",!K&&V),(0,z.Z)(Z,"filter-node",u&&u((0,oe.F)(this.props))),Z)),style:c,draggable:A,"aria-grabbed":O,onDragStart:A?this.onDragStart:void 0,onDragEnter:E?this.onDragEnter:void 0,onDragOver:E?this.onDragOver:void 0,onDragLeave:E?this.onDragLeave:void 0,onDrop:E?this.onDrop:void 0,onDragEnd:E?this.onDragEnd:void 0,onMouseMove:i},M,n),_.createElement(ie,{prefixCls:r,level:a,isStart:q,isEnd:se}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),J}(_.Component),b=function(L){return _.createElement(Se.k.Consumer,null,function(J){return _.createElement(k,(0,xe.Z)({},L,{context:J}))})};b.displayName="TreeNode",b.isTreeNode=1;var P=b},43482:function(_e,Oe,v){v.d(Oe,{k:function(){return z}});var xe=v(50959),z=xe.createContext(null)},42317:function(_e,Oe,v){v.d(Oe,{O:function(){return L.Z},Z:function(){return I}});var xe=v(87366),z=v(58216),De=v(88143),le=v(49919),Ae=v(74758),T=v(87989),ge=v(51852),he=v(75859),ye=v(49559),de=v(75656),m=v(50959),re=v(52053),_=v(37543),Se=v(1916),ke=v(84875),ie=v.n(ke),oe=v(43482),w=v(96068),$=v(82394);function s(r){if(r==null)throw new TypeError("Cannot destructure "+r)}var f=v(47028),k=v(53669),b=v(90429),P=v(2689),j=v(39668),L=v(2702);function J(r,u){var g=m.useState(!1),e=(0,f.Z)(g,2),l=e[0],N=e[1];m.useLayoutEffect(function(){if(l)return r(),function(){u()}},[l]),m.useLayoutEffect(function(){return N(!0),function(){N(!1)}},[])}var t=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],Z=function(u,g){var e=u.className,l=u.style,N=u.motion,K=u.motionNodes,n=u.motionType,o=u.onMotionStart,a=u.onMotionEnd,y=u.active,E=u.treeNodeRequiredProps,A=(0,k.Z)(u,t),O=m.useState(!0),M=(0,f.Z)(O,2),U=M[0],Y=M[1],p=m.useContext(oe.k),W=p.prefixCls,G=K&&n!=="hide";(0,b.Z)(function(){K&&G!==U&&Y(G)},[K]);var B=function(){K&&o()},Q=m.useRef(!1),ee=function(){K&&!Q.current&&(Q.current=!0,a())};J(B,ee);var ue=function(te){G===te&&ee()};return K?m.createElement(j.ZP,(0,xe.Z)({ref:g,visible:U},N,{motionAppear:n==="show",onVisibleChanged:ue}),function(fe,te){var pe=fe.className,Ne=fe.style;return m.createElement("div",{ref:te,className:ie()("".concat(W,"-treenode-motion"),pe),style:Ne},K.map(function(me){var Ce=(0,xe.Z)({},(s(me.data),me.data)),Ze=me.title,Pe=me.key,Ie=me.isStart,Re=me.isEnd;delete Ce.children;var Ue=(0,$.H8)(Pe,E);return m.createElement(L.Z,(0,xe.Z)({},Ce,Ue,{title:Ze,active:y,data:me.data,key:Pe,isStart:Ie,isEnd:Re}))}))}):m.createElement(L.Z,(0,xe.Z)({domRef:g,className:e,style:l},A,{active:y}))};Z.displayName="MotionTreeNode";var H=m.forwardRef(Z),ne=H;function d(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],g=r.length,e=u.length;if(Math.abs(g-e)!==1)return{add:!1,key:null};function l(N,K){var n=new Map;N.forEach(function(a){n.set(a,!0)});var o=K.filter(function(a){return!n.has(a)});return o.length===1?o[0]:null}return g<e?{add:!0,key:l(r,u)}:{add:!1,key:l(u,r)}}function c(r,u,g){var e=r.findIndex(function(n){return n.key===g}),l=r[e+1],N=u.findIndex(function(n){return n.key===g});if(l){var K=u.findIndex(function(n){return n.key===l.key});return u.slice(N+1,K)}return u.slice(N+1)}var S=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],D={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},V=function(){},ae="RC_TREE_MOTION_".concat(Math.random()),q={key:ae},se={key:ae,level:0,index:0,pos:"0",node:q,nodes:[q]},Ke={parent:null,children:[],pos:se.pos,data:q,title:null,key:ae,isStart:[],isEnd:[]};function ce(r,u,g,e){return u===!1||!g?r:r.slice(0,Math.ceil(g/e)+1)}function Me(r){var u=r.key,g=r.pos;return(0,$.km)(u,g)}function Le(r){for(var u=String(r.data.key),g=r;g.parent;)g=g.parent,u="".concat(g.data.key," > ").concat(u);return u}var Te=m.forwardRef(function(r,u){var g=r.prefixCls,e=r.data,l=r.selectable,N=r.checkable,K=r.expandedKeys,n=r.selectedKeys,o=r.checkedKeys,a=r.loadedKeys,y=r.loadingKeys,E=r.halfCheckedKeys,A=r.keyEntities,O=r.disabled,M=r.dragging,U=r.dragOverNodeKey,Y=r.dropPosition,p=r.motion,W=r.height,G=r.itemHeight,B=r.virtual,Q=r.focusable,ee=r.activeItem,ue=r.focused,fe=r.tabIndex,te=r.onKeyDown,pe=r.onFocus,Ne=r.onBlur,me=r.onActiveChange,Ce=r.onListChangeStart,Ze=r.onListChangeEnd,Pe=(0,k.Z)(r,S),Ie=m.useRef(null),Re=m.useRef(null);m.useImperativeHandle(u,function(){return{scrollTo:function(Fe){Ie.current.scrollTo(Fe)},getIndentWidth:function(){return Re.current.offsetWidth}}});var Ue=m.useState(K),et=(0,f.Z)(Ue,2),nt=et[0],rt=et[1],ze=m.useState(e),tt=(0,f.Z)(ze,2),We=tt[0],Je=tt[1],at=m.useState(e),Be=(0,f.Z)(at,2),Qe=Be[0],He=Be[1],Ve=m.useState([]),je=(0,f.Z)(Ve,2),ot=je[0],qe=je[1],vt=m.useState(null),it=(0,f.Z)(vt,2),ut=it[0],st=it[1],ft=m.useRef(e);ft.current=e;function dt(){var Ee=ft.current;Je(Ee),He(Ee),qe([]),st(null),Ze()}(0,b.Z)(function(){rt(K);var Ee=d(nt,K);if(Ee.key!==null)if(Ee.add){var Fe=We.findIndex(function(be){var $e=be.key;return $e===Ee.key}),Ge=ce(c(We,e,Ee.key),B,W,G),Xe=We.slice();Xe.splice(Fe+1,0,Ke),He(Xe),qe(Ge),st("show")}else{var we=e.findIndex(function(be){var $e=be.key;return $e===Ee.key}),X=ce(c(e,We,Ee.key),B,W,G),ve=e.slice();ve.splice(we+1,0,Ke),He(ve),qe(X),st("hide")}else We!==e&&(Je(e),He(e))},[K,e]),m.useEffect(function(){M||dt()},[M]);var ht=p?Qe:e,lt={expandedKeys:K,selectedKeys:n,loadedKeys:a,loadingKeys:y,checkedKeys:o,halfCheckedKeys:E,dragOverNodeKey:U,dropPosition:Y,keyEntities:A};return m.createElement(m.Fragment,null,ue&&ee&&m.createElement("span",{style:D,"aria-live":"assertive"},Le(ee)),m.createElement("div",null,m.createElement("input",{style:D,disabled:Q===!1||O,tabIndex:Q!==!1?fe:null,onKeyDown:te,onFocus:pe,onBlur:Ne,value:"",onChange:V,"aria-label":"for screen reader"})),m.createElement("div",{className:"".concat(g,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},m.createElement("div",{className:"".concat(g,"-indent")},m.createElement("div",{ref:Re,className:"".concat(g,"-indent-unit")}))),m.createElement(P.Z,(0,xe.Z)({},Pe,{data:ht,itemKey:Me,height:W,fullHeight:!1,virtual:B,itemHeight:G,prefixCls:"".concat(g,"-list"),ref:Ie,onVisibleChange:function(Fe,Ge){var Xe=new Set(Fe),we=Ge.filter(function(X){return!Xe.has(X)});we.some(function(X){return Me(X)===ae})&&dt()}}),function(Ee){var Fe=Ee.pos,Ge=(0,xe.Z)({},(s(Ee.data),Ee.data)),Xe=Ee.title,we=Ee.key,X=Ee.isStart,ve=Ee.isEnd,be=(0,$.km)(we,Fe);delete Ge.key,delete Ge.children;var $e=(0,$.H8)(be,lt);return m.createElement(ne,(0,xe.Z)({},Ge,$e,{title:Xe,active:!!ee&&we===ee.key,pos:Fe,data:Ee.data,isStart:X,isEnd:ve,motion:p,motionNodes:we===ae?ot:null,motionType:ut,onMotionStart:Ce,onMotionEnd:dt,treeNodeRequiredProps:lt,onMouseMove:function(){me(null)}}))}))});Te.displayName="NodeList";var h=Te,F=v(9816);function R(r){var u=r.dropPosition,g=r.dropLevelOffset,e=r.indent,l={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(u){case-1:l.top=0,l.left=-g*e;break;case 1:l.bottom=0,l.left=-g*e;break;case 0:l.bottom=0,l.left=e;break}return m.createElement("div",{style:l})}var i=10,C=function(r){(0,ye.Z)(g,r);var u=(0,de.Z)(g);function g(){var e;(0,T.Z)(this,g);for(var l=arguments.length,N=new Array(l),K=0;K<l;K++)N[K]=arguments[K];return e=u.call.apply(u,[this].concat(N)),e.destroyed=!1,e.delayedDragEnterLogic=void 0,e.loadingRetryTimes={},e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:(0,$.w$)()},e.dragStartMousePosition=null,e.dragNode=void 0,e.currentMouseOverDroppableNodeKey=null,e.listRef=m.createRef(),e.onNodeDragStart=function(n,o){var a=e.state,y=a.expandedKeys,E=a.keyEntities,A=e.props.onDragStart,O=o.props.eventKey;e.dragNode=o,e.dragStartMousePosition={x:n.clientX,y:n.clientY};var M=(0,w._5)(y,O);e.setState({draggingNodeKey:O,dragChildrenKeys:(0,w.wA)(O,E),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(M),window.addEventListener("dragend",e.onWindowDragEnd),A==null||A({event:n,node:(0,$.F)(o.props)})},e.onNodeDragEnter=function(n,o){var a=e.state,y=a.expandedKeys,E=a.keyEntities,A=a.dragChildrenKeys,O=a.flattenNodes,M=a.indent,U=e.props,Y=U.onDragEnter,p=U.onExpand,W=U.allowDrop,G=U.direction,B=o.props,Q=B.pos,ee=B.eventKey,ue=(0,he.Z)(e),fe=ue.dragNode;if(e.currentMouseOverDroppableNodeKey!==ee&&(e.currentMouseOverDroppableNodeKey=ee),!fe){e.resetDragState();return}var te=(0,w.OM)(n,fe,o,M,e.dragStartMousePosition,W,O,E,y,G),pe=te.dropPosition,Ne=te.dropLevelOffset,me=te.dropTargetKey,Ce=te.dropContainerKey,Ze=te.dropTargetPos,Pe=te.dropAllowed,Ie=te.dragOverNodeKey;if(A.indexOf(me)!==-1||!Pe){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(Re){clearTimeout(e.delayedDragEnterLogic[Re])}),fe.props.eventKey!==o.props.eventKey&&(n.persist(),e.delayedDragEnterLogic[Q]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var Re=(0,Ae.Z)(y),Ue=E[o.props.eventKey];Ue&&(Ue.children||[]).length&&(Re=(0,w.L0)(y,o.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(Re),p==null||p(Re,{node:(0,$.F)(o.props),expanded:!0,nativeEvent:n.nativeEvent})}},800)),fe.props.eventKey===me&&Ne===0){e.resetDragState();return}e.setState({dragOverNodeKey:Ie,dropPosition:pe,dropLevelOffset:Ne,dropTargetKey:me,dropContainerKey:Ce,dropTargetPos:Ze,dropAllowed:Pe}),Y==null||Y({event:n,node:(0,$.F)(o.props),expandedKeys:y})},e.onNodeDragOver=function(n,o){var a=e.state,y=a.dragChildrenKeys,E=a.flattenNodes,A=a.keyEntities,O=a.expandedKeys,M=a.indent,U=e.props,Y=U.onDragOver,p=U.allowDrop,W=U.direction,G=(0,he.Z)(e),B=G.dragNode;if(B){var Q=(0,w.OM)(n,B,o,M,e.dragStartMousePosition,p,E,A,O,W),ee=Q.dropPosition,ue=Q.dropLevelOffset,fe=Q.dropTargetKey,te=Q.dropContainerKey,pe=Q.dropAllowed,Ne=Q.dropTargetPos,me=Q.dragOverNodeKey;y.indexOf(fe)!==-1||!pe||(B.props.eventKey===fe&&ue===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():ee===e.state.dropPosition&&ue===e.state.dropLevelOffset&&fe===e.state.dropTargetKey&&te===e.state.dropContainerKey&&Ne===e.state.dropTargetPos&&pe===e.state.dropAllowed&&me===e.state.dragOverNodeKey||e.setState({dropPosition:ee,dropLevelOffset:ue,dropTargetKey:fe,dropContainerKey:te,dropTargetPos:Ne,dropAllowed:pe,dragOverNodeKey:me}),Y==null||Y({event:n,node:(0,$.F)(o.props)}))}},e.onNodeDragLeave=function(n,o){e.currentMouseOverDroppableNodeKey===o.props.eventKey&&!n.currentTarget.contains(n.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var a=e.props.onDragLeave;a==null||a({event:n,node:(0,$.F)(o.props)})},e.onWindowDragEnd=function(n){e.onNodeDragEnd(n,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(n,o){var a=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),a==null||a({event:n,node:(0,$.F)(o.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDrop=function(n,o){var a,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,E=e.state,A=E.dragChildrenKeys,O=E.dropPosition,M=E.dropTargetKey,U=E.dropTargetPos,Y=E.dropAllowed;if(Y){var p=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),M!==null){var W=(0,le.Z)((0,le.Z)({},(0,$.H8)(M,e.getTreeNodeRequiredProps())),{},{active:((a=e.getActiveItem())===null||a===void 0?void 0:a.key)===M,data:e.state.keyEntities[M].node}),G=A.indexOf(M)!==-1;(0,_.ZP)(!G,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var B=(0,w.yx)(U),Q={event:n,node:(0,$.F)(W),dragNode:e.dragNode?(0,$.F)(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(A),dropToGap:O!==0,dropPosition:O+Number(B[B.length-1])};y||p==null||p(Q),e.dragNode=null}}},e.cleanDragState=function(){var n=e.state.draggingNodeKey;n!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null},e.triggerExpandActionExpand=function(n,o){var a=e.state,y=a.expandedKeys,E=a.flattenNodes,A=o.expanded,O=o.key,M=o.isLeaf;if(!(M||n.shiftKey||n.metaKey||n.ctrlKey)){var U=E.filter(function(p){return p.key===O})[0],Y=(0,$.F)((0,le.Z)((0,le.Z)({},(0,$.H8)(O,e.getTreeNodeRequiredProps())),{},{data:U.data}));e.setExpandedKeys(A?(0,w._5)(y,O):(0,w.L0)(y,O)),e.onNodeExpand(n,Y)}},e.onNodeClick=function(n,o){var a=e.props,y=a.onClick,E=a.expandAction;E==="click"&&e.triggerExpandActionExpand(n,o),y==null||y(n,o)},e.onNodeDoubleClick=function(n,o){var a=e.props,y=a.onDoubleClick,E=a.expandAction;E==="doubleClick"&&e.triggerExpandActionExpand(n,o),y==null||y(n,o)},e.onNodeSelect=function(n,o){var a=e.state.selectedKeys,y=e.state,E=y.keyEntities,A=y.fieldNames,O=e.props,M=O.onSelect,U=O.multiple,Y=o.selected,p=o[A.key],W=!Y;W?U?a=(0,w.L0)(a,p):a=[p]:a=(0,w._5)(a,p);var G=a.map(function(B){var Q=E[B];return Q?Q.node:null}).filter(function(B){return B});e.setUncontrolledState({selectedKeys:a}),M==null||M(a,{event:"select",selected:W,node:o,selectedNodes:G,nativeEvent:n.nativeEvent})},e.onNodeCheck=function(n,o,a){var y=e.state,E=y.keyEntities,A=y.checkedKeys,O=y.halfCheckedKeys,M=e.props,U=M.checkStrictly,Y=M.onCheck,p=o.key,W,G={event:"check",node:o,checked:a,nativeEvent:n.nativeEvent};if(U){var B=a?(0,w.L0)(A,p):(0,w._5)(A,p),Q=(0,w._5)(O,p);W={checked:B,halfChecked:Q},G.checkedNodes=B.map(function(Ne){return E[Ne]}).filter(function(Ne){return Ne}).map(function(Ne){return Ne.node}),e.setUncontrolledState({checkedKeys:B})}else{var ee=(0,F.S)([].concat((0,Ae.Z)(A),[p]),!0,E),ue=ee.checkedKeys,fe=ee.halfCheckedKeys;if(!a){var te=new Set(ue);te.delete(p);var pe=(0,F.S)(Array.from(te),{checked:!1,halfCheckedKeys:fe},E);ue=pe.checkedKeys,fe=pe.halfCheckedKeys}W=ue,G.checkedNodes=[],G.checkedNodesPositions=[],G.halfCheckedKeys=fe,ue.forEach(function(Ne){var me=E[Ne];if(me){var Ce=me.node,Ze=me.pos;G.checkedNodes.push(Ce),G.checkedNodesPositions.push({node:Ce,pos:Ze})}}),e.setUncontrolledState({checkedKeys:ue},!1,{halfCheckedKeys:fe})}Y==null||Y(W,G)},e.onNodeLoad=function(n){var o=n.key,a=new Promise(function(y,E){e.setState(function(A){var O=A.loadedKeys,M=O===void 0?[]:O,U=A.loadingKeys,Y=U===void 0?[]:U,p=e.props,W=p.loadData,G=p.onLoad;if(!W||M.indexOf(o)!==-1||Y.indexOf(o)!==-1)return null;var B=W(n);return B.then(function(){var Q=e.state.loadedKeys,ee=(0,w.L0)(Q,o);G==null||G(ee,{event:"load",node:n}),e.setUncontrolledState({loadedKeys:ee}),e.setState(function(ue){return{loadingKeys:(0,w._5)(ue.loadingKeys,o)}}),y()}).catch(function(Q){if(e.setState(function(ue){return{loadingKeys:(0,w._5)(ue.loadingKeys,o)}}),e.loadingRetryTimes[o]=(e.loadingRetryTimes[o]||0)+1,e.loadingRetryTimes[o]>=i){var ee=e.state.loadedKeys;(0,_.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:(0,w.L0)(ee,o)}),y()}E(Q)}),{loadingKeys:(0,w.L0)(Y,o)}})});return a.catch(function(){}),a},e.onNodeMouseEnter=function(n,o){var a=e.props.onMouseEnter;a==null||a({event:n,node:o})},e.onNodeMouseLeave=function(n,o){var a=e.props.onMouseLeave;a==null||a({event:n,node:o})},e.onNodeContextMenu=function(n,o){var a=e.props.onRightClick;a&&(n.preventDefault(),a({event:n,node:o}))},e.onFocus=function(){var n=e.props.onFocus;e.setState({focused:!0});for(var o=arguments.length,a=new Array(o),y=0;y<o;y++)a[y]=arguments[y];n==null||n.apply(void 0,a)},e.onBlur=function(){var n=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var o=arguments.length,a=new Array(o),y=0;y<o;y++)a[y]=arguments[y];n==null||n.apply(void 0,a)},e.getTreeNodeRequiredProps=function(){var n=e.state,o=n.expandedKeys,a=n.selectedKeys,y=n.loadedKeys,E=n.loadingKeys,A=n.checkedKeys,O=n.halfCheckedKeys,M=n.dragOverNodeKey,U=n.dropPosition,Y=n.keyEntities;return{expandedKeys:o||[],selectedKeys:a||[],loadedKeys:y||[],loadingKeys:E||[],checkedKeys:A||[],halfCheckedKeys:O||[],dragOverNodeKey:M,dropPosition:U,keyEntities:Y}},e.setExpandedKeys=function(n){var o=e.state,a=o.treeData,y=o.fieldNames,E=(0,$.oH)(a,n,y);e.setUncontrolledState({expandedKeys:n,flattenNodes:E},!0)},e.onNodeExpand=function(n,o){var a=e.state.expandedKeys,y=e.state,E=y.listChanging,A=y.fieldNames,O=e.props,M=O.onExpand,U=O.loadData,Y=o.expanded,p=o[A.key];if(!E){var W=a.indexOf(p),G=!Y;if((0,_.ZP)(Y&&W!==-1||!Y&&W===-1,"Expand state not sync with index check"),G?a=(0,w.L0)(a,p):a=(0,w._5)(a,p),e.setExpandedKeys(a),M==null||M(a,{node:o,expanded:G,nativeEvent:n.nativeEvent}),G&&U){var B=e.onNodeLoad(o);B&&B.then(function(){var Q=(0,$.oH)(e.state.treeData,a,A);e.setUncontrolledState({flattenNodes:Q})}).catch(function(){var Q=e.state.expandedKeys,ee=(0,w._5)(Q,p);e.setExpandedKeys(ee)})}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})},e.onActiveChange=function(n){var o=e.state.activeKey,a=e.props.onActiveChange;o!==n&&(e.setState({activeKey:n}),n!==null&&e.scrollTo({key:n}),a==null||a(n))},e.getActiveItem=function(){var n=e.state,o=n.activeKey,a=n.flattenNodes;return o===null?null:a.find(function(y){var E=y.key;return E===o})||null},e.offsetActiveKey=function(n){var o=e.state,a=o.flattenNodes,y=o.activeKey,E=a.findIndex(function(M){var U=M.key;return U===y});E===-1&&n<0&&(E=a.length),E=(E+n+a.length)%a.length;var A=a[E];if(A){var O=A.key;e.onActiveChange(O)}else e.onActiveChange(null)},e.onKeyDown=function(n){var o=e.state,a=o.activeKey,y=o.expandedKeys,E=o.checkedKeys,A=o.fieldNames,O=e.props,M=O.onKeyDown,U=O.checkable,Y=O.selectable;switch(n.which){case re.Z.UP:{e.offsetActiveKey(-1),n.preventDefault();break}case re.Z.DOWN:{e.offsetActiveKey(1),n.preventDefault();break}}var p=e.getActiveItem();if(p&&p.data){var W=e.getTreeNodeRequiredProps(),G=p.data.isLeaf===!1||!!(p.data[A.children]||[]).length,B=(0,$.F)((0,le.Z)((0,le.Z)({},(0,$.H8)(a,W)),{},{data:p.data,active:!0}));switch(n.which){case re.Z.LEFT:{G&&y.includes(a)?e.onNodeExpand({},B):p.parent&&e.onActiveChange(p.parent.key),n.preventDefault();break}case re.Z.RIGHT:{G&&!y.includes(a)?e.onNodeExpand({},B):p.children&&p.children.length&&e.onActiveChange(p.children[0].key),n.preventDefault();break}case re.Z.ENTER:case re.Z.SPACE:{U&&!B.disabled&&B.checkable!==!1&&!B.disableCheckbox?e.onNodeCheck({},B,!E.includes(a)):!U&&Y&&!B.disabled&&B.selectable!==!1&&e.onNodeSelect({},B);break}}}M==null||M(n)},e.setUncontrolledState=function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var y=!1,E=!0,A={};Object.keys(n).forEach(function(O){if(O in e.props){E=!1;return}y=!0,A[O]=n[O]}),y&&(!o||E)&&e.setState((0,le.Z)((0,le.Z)({},A),a))}},e.scrollTo=function(n){e.listRef.current.scrollTo(n)},e}return(0,ge.Z)(g,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var l=this.props.activeKey;l!==void 0&&l!==this.state.activeKey&&(this.setState({activeKey:l}),l!==null&&this.scrollTo({key:l}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var l,N=this.state,K=N.focused,n=N.flattenNodes,o=N.keyEntities,a=N.draggingNodeKey,y=N.activeKey,E=N.dropLevelOffset,A=N.dropContainerKey,O=N.dropTargetKey,M=N.dropPosition,U=N.dragOverNodeKey,Y=N.indent,p=this.props,W=p.prefixCls,G=p.className,B=p.style,Q=p.showLine,ee=p.focusable,ue=p.tabIndex,fe=ue===void 0?0:ue,te=p.selectable,pe=p.showIcon,Ne=p.icon,me=p.switcherIcon,Ce=p.draggable,Ze=p.checkable,Pe=p.checkStrictly,Ie=p.disabled,Re=p.motion,Ue=p.loadData,et=p.filterTreeNode,nt=p.height,rt=p.itemHeight,ze=p.virtual,tt=p.titleRender,We=p.dropIndicatorRender,Je=p.onContextMenu,at=p.onScroll,Be=p.direction,Qe=p.rootClassName,He=p.rootStyle,Ve=(0,Se.Z)(this.props,{aria:!0,data:!0}),je;return Ce&&((0,De.Z)(Ce)==="object"?je=Ce:typeof Ce=="function"?je={nodeDraggable:Ce}:je={}),m.createElement(oe.k.Provider,{value:{prefixCls:W,selectable:te,showIcon:pe,icon:Ne,switcherIcon:me,draggable:je,draggingNodeKey:a,checkable:Ze,checkStrictly:Pe,disabled:Ie,keyEntities:o,dropLevelOffset:E,dropContainerKey:A,dropTargetKey:O,dropPosition:M,dragOverNodeKey:U,indent:Y,direction:Be,dropIndicatorRender:We,loadData:Ue,filterTreeNode:et,titleRender:tt,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},m.createElement("div",{role:"tree",className:ie()(W,G,Qe,(l={},(0,z.Z)(l,"".concat(W,"-show-line"),Q),(0,z.Z)(l,"".concat(W,"-focused"),K),(0,z.Z)(l,"".concat(W,"-active-focused"),y!==null),l)),style:He},m.createElement(h,(0,xe.Z)({ref:this.listRef,prefixCls:W,style:B,data:n,disabled:Ie,selectable:te,checkable:!!Ze,motion:Re,dragging:a!==null,height:nt,itemHeight:rt,virtual:ze,focusable:ee,focused:K,tabIndex:fe,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:Je,onScroll:at},this.getTreeNodeRequiredProps(),Ve))))}}],[{key:"getDerivedStateFromProps",value:function(l,N){var K=N.prevProps,n={prevProps:l};function o(ee){return!K&&ee in l||K&&K[ee]!==l[ee]}var a,y=N.fieldNames;if(o("fieldNames")&&(y=(0,$.w$)(l.fieldNames),n.fieldNames=y),o("treeData")?a=l.treeData:o("children")&&((0,_.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),a=(0,$.zn)(l.children)),a){n.treeData=a;var E=(0,$.I8)(a,{fieldNames:y});n.keyEntities=(0,le.Z)((0,z.Z)({},ae,se),E.keyEntities)}var A=n.keyEntities||N.keyEntities;if(o("expandedKeys")||K&&o("autoExpandParent"))n.expandedKeys=l.autoExpandParent||!K&&l.defaultExpandParent?(0,w.r7)(l.expandedKeys,A):l.expandedKeys;else if(!K&&l.defaultExpandAll){var O=(0,le.Z)({},A);delete O[ae],n.expandedKeys=Object.keys(O).map(function(ee){return O[ee].key})}else!K&&l.defaultExpandedKeys&&(n.expandedKeys=l.autoExpandParent||l.defaultExpandParent?(0,w.r7)(l.defaultExpandedKeys,A):l.defaultExpandedKeys);if(n.expandedKeys||delete n.expandedKeys,a||n.expandedKeys){var M=(0,$.oH)(a||N.treeData,n.expandedKeys||N.expandedKeys,y);n.flattenNodes=M}if(l.selectable&&(o("selectedKeys")?n.selectedKeys=(0,w.BT)(l.selectedKeys,l):!K&&l.defaultSelectedKeys&&(n.selectedKeys=(0,w.BT)(l.defaultSelectedKeys,l))),l.checkable){var U;if(o("checkedKeys")?U=(0,w.E6)(l.checkedKeys)||{}:!K&&l.defaultCheckedKeys?U=(0,w.E6)(l.defaultCheckedKeys)||{}:a&&(U=(0,w.E6)(l.checkedKeys)||{checkedKeys:N.checkedKeys,halfCheckedKeys:N.halfCheckedKeys}),U){var Y=U,p=Y.checkedKeys,W=p===void 0?[]:p,G=Y.halfCheckedKeys,B=G===void 0?[]:G;if(!l.checkStrictly){var Q=(0,F.S)(W,!0,A);W=Q.checkedKeys,B=Q.halfCheckedKeys}n.checkedKeys=W,n.halfCheckedKeys=B}}return o("loadedKeys")&&(n.loadedKeys=l.loadedKeys),n}}]),g}(m.Component);C.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:R,allowDrop:function(){return!0},expandAction:!1},C.TreeNode=L.Z;var x=C,I=x},96068:function(_e,Oe,v){v.d(Oe,{BT:function(){return ke},E6:function(){return w},L0:function(){return ye},OM:function(){return Se},_5:function(){return he},r7:function(){return $},wA:function(){return m},yx:function(){return de}});var xe=v(74758),z=v(88143),De=v(50959),le=v(37543),Ae=v(2702),T=v(82394),ge=null;function he(s,f){if(!s)return[];var k=s.slice(),b=k.indexOf(f);return b>=0&&k.splice(b,1),k}function ye(s,f){var k=(s||[]).slice();return k.indexOf(f)===-1&&k.push(f),k}function de(s){return s.split("-")}function m(s,f){var k=[],b=f[s];function P(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];j.forEach(function(L){var J=L.key,t=L.children;k.push(J),P(t)})}return P(b.children),k}function re(s){if(s.parent){var f=de(s.pos);return Number(f[f.length-1])===s.parent.children.length-1}return!1}function _(s){var f=de(s.pos);return Number(f[f.length-1])===0}function Se(s,f,k,b,P,j,L,J,t,Z){var H,ne=s.clientX,d=s.clientY,c=s.target.getBoundingClientRect(),S=c.top,D=c.height,V=(Z==="rtl"?-1:1)*(((P==null?void 0:P.x)||0)-ne),ae=(V-12)/b,q=J[k.props.eventKey];if(d<S+D/2){var se=L.findIndex(function(I){return I.key===q.key}),Ke=se<=0?0:se-1,ce=L[Ke].key;q=J[ce]}var Me=q.key,Le=q,Te=q.key,h=0,F=0;if(!t.includes(Me))for(var R=0;R<ae&&re(q);R+=1)q=q.parent,F+=1;var i=f.props.data,C=q.node,x=!0;return _(q)&&q.level===0&&d<S+D/2&&j({dragNode:i,dropNode:C,dropPosition:-1})&&q.key===k.props.eventKey?h=-1:(Le.children||[]).length&&t.includes(Te)?j({dragNode:i,dropNode:C,dropPosition:0})?h=0:x=!1:F===0?ae>-1.5?j({dragNode:i,dropNode:C,dropPosition:1})?h=1:x=!1:j({dragNode:i,dropNode:C,dropPosition:0})?h=0:j({dragNode:i,dropNode:C,dropPosition:1})?h=1:x=!1:j({dragNode:i,dropNode:C,dropPosition:1})?h=1:x=!1,{dropPosition:h,dropLevelOffset:F,dropTargetKey:q.key,dropTargetPos:q.pos,dragOverNodeKey:Te,dropContainerKey:h===0?null:((H=q.parent)===null||H===void 0?void 0:H.key)||null,dropAllowed:x}}function ke(s,f){if(s){var k=f.multiple;return k?s.slice():s.length?[s[0]]:s}}var ie=function(f){return f};function oe(s,f){if(!s)return[];var k=f||{},b=k.processProps,P=b===void 0?ie:b,j=Array.isArray(s)?s:[s];return j.map(function(L){var J=L.children,t=_objectWithoutProperties(L,ge),Z=oe(J,f);return React.createElement(TreeNode,_extends({key:t.key},P(t)),Z)})}function w(s){if(!s)return null;var f;if(Array.isArray(s))f={checkedKeys:s,halfCheckedKeys:void 0};else if((0,z.Z)(s)==="object")f={checkedKeys:s.checked||void 0,halfCheckedKeys:s.halfChecked||void 0};else return(0,le.ZP)(!1,"`checkedKeys` is not an array or an object"),null;return f}function $(s,f){var k=new Set;function b(P){if(!k.has(P)){var j=f[P];if(j){k.add(P);var L=j.parent,J=j.node;J.disabled||L&&b(L.key)}}}return(s||[]).forEach(function(P){b(P)}),(0,xe.Z)(k)}},9816:function(_e,Oe,v){v.d(Oe,{S:function(){return T}});var xe=v(37543);function z(ge,he){var ye=new Set;return ge.forEach(function(de){he.has(de)||ye.add(de)}),ye}function De(ge){var he=ge||{},ye=he.disabled,de=he.disableCheckbox,m=he.checkable;return!!(ye||de)||m===!1}function le(ge,he,ye,de){for(var m=new Set(ge),re=new Set,_=0;_<=ye;_+=1){var Se=he.get(_)||new Set;Se.forEach(function(w){var $=w.key,s=w.node,f=w.children,k=f===void 0?[]:f;m.has($)&&!de(s)&&k.filter(function(b){return!de(b.node)}).forEach(function(b){m.add(b.key)})})}for(var ke=new Set,ie=ye;ie>=0;ie-=1){var oe=he.get(ie)||new Set;oe.forEach(function(w){var $=w.parent,s=w.node;if(!(de(s)||!w.parent||ke.has(w.parent.key))){if(de(w.parent.node)){ke.add($.key);return}var f=!0,k=!1;($.children||[]).filter(function(b){return!de(b.node)}).forEach(function(b){var P=b.key,j=m.has(P);f&&!j&&(f=!1),!k&&(j||re.has(P))&&(k=!0)}),f&&m.add($.key),k&&re.add($.key),ke.add($.key)}})}return{checkedKeys:Array.from(m),halfCheckedKeys:Array.from(z(re,m))}}function Ae(ge,he,ye,de,m){for(var re=new Set(ge),_=new Set(he),Se=0;Se<=de;Se+=1){var ke=ye.get(Se)||new Set;ke.forEach(function($){var s=$.key,f=$.node,k=$.children,b=k===void 0?[]:k;!re.has(s)&&!_.has(s)&&!m(f)&&b.filter(function(P){return!m(P.node)}).forEach(function(P){re.delete(P.key)})})}_=new Set;for(var ie=new Set,oe=de;oe>=0;oe-=1){var w=ye.get(oe)||new Set;w.forEach(function($){var s=$.parent,f=$.node;if(!(m(f)||!$.parent||ie.has($.parent.key))){if(m($.parent.node)){ie.add(s.key);return}var k=!0,b=!1;(s.children||[]).filter(function(P){return!m(P.node)}).forEach(function(P){var j=P.key,L=re.has(j);k&&!L&&(k=!1),!b&&(L||_.has(j))&&(b=!0)}),k||re.delete(s.key),b&&_.add(s.key),ie.add(s.key)}})}return{checkedKeys:Array.from(re),halfCheckedKeys:Array.from(z(_,re))}}function T(ge,he,ye,de){var m=[],re;de?re=de:re=De;var _=new Set(ge.filter(function(oe){var w=!!ye[oe];return w||m.push(oe),w})),Se=new Map,ke=0;Object.keys(ye).forEach(function(oe){var w=ye[oe],$=w.level,s=Se.get($);s||(s=new Set,Se.set($,s)),s.add(w),ke=Math.max(ke,$)}),(0,xe.ZP)(!m.length,"Tree missing follow keys: ".concat(m.slice(0,100).map(function(oe){return"'".concat(oe,"'")}).join(", ")));var ie;return he===!0?ie=le(_,Se,ke,re):ie=Ae(_,he.halfCheckedKeys,Se,ke,re),ie}},82394:function(_e,Oe,v){v.d(Oe,{F:function(){return $},H8:function(){return w},I8:function(){return oe},km:function(){return m},oH:function(){return ke},w$:function(){return re},zn:function(){return Se}});var xe=v(88143),z=v(74758),De=v(49919),le=v(53669),Ae=v(1726),T=v(47740),ge=v(37543),he=["children"];function ye(s,f){return"".concat(s,"-").concat(f)}function de(s){return s&&s.type&&s.type.isTreeNode}function m(s,f){return s!=null?s:f}function re(s){var f=s||{},k=f.title,b=f._title,P=f.key,j=f.children,L=k||"title";return{title:L,_title:b||[L],key:P||"key",children:j||"children"}}function _(s,f){var k=new Map;function b(P){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(P||[]).forEach(function(L){var J=L[f.key],t=L[f.children];warning(J!=null,"Tree node must have a certain key: [".concat(j).concat(J,"]"));var Z=String(J);warning(!k.has(Z)||J===null||J===void 0,"Same 'key' exist in the Tree: ".concat(Z)),k.set(Z,!0),b(t,"".concat(j).concat(Z," > "))})}b(s)}function Se(s){function f(k){var b=(0,Ae.Z)(k);return b.map(function(P){if(!de(P))return(0,ge.ZP)(!P,"Tree/TreeNode can only accept TreeNode as children."),null;var j=P.key,L=P.props,J=L.children,t=(0,le.Z)(L,he),Z=(0,De.Z)({key:j},t),H=f(J);return H.length&&(Z.children=H),Z}).filter(function(P){return P})}return f(s)}function ke(s,f,k){var b=re(k),P=b._title,j=b.key,L=b.children,J=new Set(f===!0?[]:f),t=[];function Z(H){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return H.map(function(d,c){for(var S=ye(ne?ne.pos:"0",c),D=m(d[j],S),V,ae=0;ae<P.length;ae+=1){var q=P[ae];if(d[q]!==void 0){V=d[q];break}}var se=(0,De.Z)((0,De.Z)({},(0,T.Z)(d,[].concat((0,z.Z)(P),[j,L]))),{},{title:V,key:D,parent:ne,pos:S,children:null,data:d,isStart:[].concat((0,z.Z)(ne?ne.isStart:[]),[c===0]),isEnd:[].concat((0,z.Z)(ne?ne.isEnd:[]),[c===H.length-1])});return t.push(se),f===!0||J.has(D)?se.children=Z(d[L]||[],se):se.children=[],se})}return Z(s),t}function ie(s,f,k){var b={};(0,xe.Z)(k)==="object"?b=k:b={externalGetKey:k},b=b||{};var P=b,j=P.childrenPropName,L=P.externalGetKey,J=P.fieldNames,t=re(J),Z=t.key,H=t.children,ne=j||H,d;L?typeof L=="string"?d=function(D){return D[L]}:typeof L=="function"&&(d=function(D){return L(D)}):d=function(D,V){return m(D[Z],V)};function c(S,D,V,ae){var q=S?S[ne]:s,se=S?ye(V.pos,D):"0",Ke=S?[].concat((0,z.Z)(ae),[S]):[];if(S){var ce=d(S,se),Me={node:S,index:D,pos:se,key:ce,parentPos:V.node?V.pos:null,level:V.level+1,nodes:Ke};f(Me)}q&&q.forEach(function(Le,Te){c(Le,Te,{node:S,pos:se,level:V?V.level+1:-1},Ke)})}c(null)}function oe(s){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k=f.initWrapper,b=f.processEntity,P=f.onProcessFinished,j=f.externalGetKey,L=f.childrenPropName,J=f.fieldNames,t=arguments.length>2?arguments[2]:void 0,Z=j||t,H={},ne={},d={posEntities:H,keyEntities:ne};return k&&(d=k(d)||d),ie(s,function(c){var S=c.node,D=c.index,V=c.pos,ae=c.key,q=c.parentPos,se=c.level,Ke=c.nodes,ce={node:S,nodes:Ke,index:D,key:ae,pos:V,level:se},Me=m(ae,V);H[V]=ce,ne[Me]=ce,ce.parent=H[q],ce.parent&&(ce.parent.children=ce.parent.children||[],ce.parent.children.push(ce)),b&&b(ce,d)},{externalGetKey:Z,childrenPropName:L,fieldNames:J}),P&&P(d),d}function w(s,f){var k=f.expandedKeys,b=f.selectedKeys,P=f.loadedKeys,j=f.loadingKeys,L=f.checkedKeys,J=f.halfCheckedKeys,t=f.dragOverNodeKey,Z=f.dropPosition,H=f.keyEntities,ne=H[s],d={eventKey:s,expanded:k.indexOf(s)!==-1,selected:b.indexOf(s)!==-1,loaded:P.indexOf(s)!==-1,loading:j.indexOf(s)!==-1,checked:L.indexOf(s)!==-1,halfChecked:J.indexOf(s)!==-1,pos:String(ne?ne.pos:""),dragOver:t===s&&Z===0,dragOverGapTop:t===s&&Z===-1,dragOverGapBottom:t===s&&Z===1};return d}function $(s){var f=s.data,k=s.expanded,b=s.selected,P=s.checked,j=s.loaded,L=s.loading,J=s.halfChecked,t=s.dragOver,Z=s.dragOverGapTop,H=s.dragOverGapBottom,ne=s.pos,d=s.active,c=s.eventKey,S=(0,De.Z)((0,De.Z)({},f),{},{expanded:k,selected:b,checked:P,loaded:j,loading:L,halfChecked:J,dragOver:t,dragOverGapTop:Z,dragOverGapBottom:H,pos:ne,active:d,key:c});return"props"in S||Object.defineProperty(S,"props",{get:function(){return(0,ge.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),s}}),S}},2689:function(_e,Oe,v){v.d(Oe,{Z:function(){return Te}});var xe=v(87366),z=v(49919),De=v(58216),le=v(47028),Ae=v(53669),T=v(50959),ge=v(84875),he=v.n(ge),ye=v(87040),de=T.forwardRef(function(h,F){var R=h.height,i=h.offset,C=h.children,x=h.prefixCls,I=h.onInnerResize,r=h.innerProps,u={},g={display:"flex",flexDirection:"column"};return i!==void 0&&(u={height:R,position:"relative",overflow:"hidden"},g=(0,z.Z)((0,z.Z)({},g),{},{transform:"translateY(".concat(i,"px)"),position:"absolute",left:0,right:0,top:0})),T.createElement("div",{style:u},T.createElement(ye.Z,{onResize:function(l){var N=l.offsetHeight;N&&I&&I()}},T.createElement("div",(0,xe.Z)({style:g,className:he()((0,De.Z)({},"".concat(x,"-holder-inner"),x)),ref:F},r),C)))});de.displayName="Filler";var m=de,re=v(87989),_=v(51852),Se=v(49559),ke=v(75656),ie=v(18383),oe=20;function w(h){return"touches"in h?h.touches[0].pageY:h.pageY}var $=function(h){(0,Se.Z)(R,h);var F=(0,ke.Z)(R);function R(){var i;(0,re.Z)(this,R);for(var C=arguments.length,x=new Array(C),I=0;I<C;I++)x[I]=arguments[I];return i=F.call.apply(F,[this].concat(x)),i.moveRaf=null,i.scrollbarRef=T.createRef(),i.thumbRef=T.createRef(),i.visibleTimeout=null,i.state={dragging:!1,pageY:null,startTop:null,visible:!1},i.delayHidden=function(){clearTimeout(i.visibleTimeout),i.setState({visible:!0}),i.visibleTimeout=setTimeout(function(){i.setState({visible:!1})},2e3)},i.onScrollbarTouchStart=function(r){r.preventDefault()},i.onContainerMouseDown=function(r){r.stopPropagation(),r.preventDefault()},i.patchEvents=function(){window.addEventListener("mousemove",i.onMouseMove),window.addEventListener("mouseup",i.onMouseUp),i.thumbRef.current.addEventListener("touchmove",i.onMouseMove),i.thumbRef.current.addEventListener("touchend",i.onMouseUp)},i.removeEvents=function(){window.removeEventListener("mousemove",i.onMouseMove),window.removeEventListener("mouseup",i.onMouseUp),i.thumbRef.current&&(i.thumbRef.current.removeEventListener("touchmove",i.onMouseMove),i.thumbRef.current.removeEventListener("touchend",i.onMouseUp)),ie.Z.cancel(i.moveRaf)},i.onMouseDown=function(r){var u=i.props.onStartMove;i.setState({dragging:!0,pageY:w(r),startTop:i.getTop()}),u(),i.patchEvents(),r.stopPropagation(),r.preventDefault()},i.onMouseMove=function(r){var u=i.state,g=u.dragging,e=u.pageY,l=u.startTop,N=i.props.onScroll;if(ie.Z.cancel(i.moveRaf),g){var K=w(r)-e,n=l+K,o=i.getEnableScrollRange(),a=i.getEnableHeightRange(),y=a?n/a:0,E=Math.ceil(y*o);i.moveRaf=(0,ie.Z)(function(){N(E)})}},i.onMouseUp=function(){var r=i.props.onStopMove;i.setState({dragging:!1}),r(),i.removeEvents()},i.getSpinHeight=function(){var r=i.props,u=r.height,g=r.count,e=u/g*10;return e=Math.max(e,oe),e=Math.min(e,u/2),Math.floor(e)},i.getEnableScrollRange=function(){var r=i.props,u=r.scrollHeight,g=r.height;return u-g||0},i.getEnableHeightRange=function(){var r=i.props.height,u=i.getSpinHeight();return r-u||0},i.getTop=function(){var r=i.props.scrollTop,u=i.getEnableScrollRange(),g=i.getEnableHeightRange();if(r===0||u===0)return 0;var e=r/u;return e*g},i.showScroll=function(){var r=i.props,u=r.height,g=r.scrollHeight;return g>u},i}return(0,_.Z)(R,[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(C){C.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){var C,x;this.removeEvents(),(C=this.scrollbarRef.current)===null||C===void 0||C.removeEventListener("touchstart",this.onScrollbarTouchStart),(x=this.thumbRef.current)===null||x===void 0||x.removeEventListener("touchstart",this.onMouseDown),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var C=this.state,x=C.dragging,I=C.visible,r=this.props,u=r.prefixCls,g=r.direction,e=this.getSpinHeight(),l=this.getTop(),N=this.showScroll(),K=N&&I,n=g==="rtl"?{left:0}:{right:0};return T.createElement("div",{ref:this.scrollbarRef,className:he()("".concat(u,"-scrollbar"),(0,De.Z)({},"".concat(u,"-scrollbar-show"),N)),style:(0,z.Z)((0,z.Z)({width:8,top:0,bottom:0},n),{},{position:"absolute",display:K?null:"none"}),onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},T.createElement("div",{ref:this.thumbRef,className:he()("".concat(u,"-scrollbar-thumb"),(0,De.Z)({},"".concat(u,"-scrollbar-thumb-moving"),x)),style:{width:"100%",height:e,top:l,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}]),R}(T.Component);function s(h){var F=h.children,R=h.setRef,i=T.useCallback(function(C){R(C)},[]);return T.cloneElement(F,{ref:i})}function f(h,F,R,i,C,x){var I=x.getKey;return h.slice(F,R+1).map(function(r,u){var g=F+u,e=C(r,g,{}),l=I(r);return T.createElement(s,{key:l,setRef:function(K){return i(r,K)}},e)})}var k=v(69699),b=function(){function h(){(0,re.Z)(this,h),this.maps=void 0,this.maps=Object.create(null)}return(0,_.Z)(h,[{key:"set",value:function(R,i){this.maps[R]=i}},{key:"get",value:function(R){return this.maps[R]}}]),h}(),P=b;function j(h,F,R){var i=T.useState(0),C=(0,le.Z)(i,2),x=C[0],I=C[1],r=(0,T.useRef)(new Map),u=(0,T.useRef)(new P),g=(0,T.useRef)();function e(){ie.Z.cancel(g.current)}function l(){e(),g.current=(0,ie.Z)(function(){r.current.forEach(function(K,n){if(K&&K.offsetParent){var o=(0,k.Z)(K),a=o.offsetHeight;u.current.get(n)!==a&&u.current.set(n,o.offsetHeight)}}),I(function(K){return K+1})})}function N(K,n){var o=h(K),a=r.current.get(o);n?(r.current.set(o,n),l()):r.current.delete(o),!a!=!n&&(n?F==null||F(K):R==null||R(K))}return(0,T.useEffect)(function(){return e},[]),[N,l,u.current,x]}var L=v(88143);function J(h,F,R,i,C,x,I,r){var u=T.useRef();return function(g){if(g==null){r();return}if(ie.Z.cancel(u.current),typeof g=="number")I(g);else if(g&&(0,L.Z)(g)==="object"){var e,l=g.align;"index"in g?e=g.index:e=F.findIndex(function(o){return C(o)===g.key});var N=g.offset,K=N===void 0?0:N,n=function o(a,y){if(!(a<0||!h.current)){var E=h.current.clientHeight,A=!1,O=y;if(E){for(var M=y||l,U=0,Y=0,p=0,W=Math.min(F.length,e),G=0;G<=W;G+=1){var B=C(F[G]);Y=U;var Q=R.get(B);p=Y+(Q===void 0?i:Q),U=p,G===e&&Q===void 0&&(A=!0)}var ee=null;switch(M){case"top":ee=Y-K;break;case"bottom":ee=p-E+K;break;default:{var ue=h.current.scrollTop,fe=ue+E;Y<ue?O="top":p>fe&&(O="bottom")}}ee!==null&&ee!==h.current.scrollTop&&I(ee)}u.current=(0,ie.Z)(function(){A&&x(),o(a-1,O)},2)}};n(3)}}}function t(h,F,R,i){var C=R-h,x=F-R,I=Math.min(C,x)*2;if(i<=I){var r=Math.floor(i/2);return i%2?R+r+1:R-r}return C>x?R-(i-x):R+(i-C)}function Z(h,F,R){var i=h.length,C=F.length,x,I;if(i===0&&C===0)return null;i<C?(x=h,I=F):(x=F,I=h);var r={__EMPTY_ITEM__:!0};function u(n){return n!==void 0?R(n):r}for(var g=null,e=Math.abs(i-C)!==1,l=0;l<I.length;l+=1){var N=u(x[l]),K=u(I[l]);if(N!==K){g=l,e=e||N!==u(I[l+1]);break}}return g===null?null:{index:g,multiple:e}}function H(h,F,R){var i=T.useState(h),C=(0,le.Z)(i,2),x=C[0],I=C[1],r=T.useState(null),u=(0,le.Z)(r,2),g=u[0],e=u[1];return T.useEffect(function(){var l=Z(x||[],h||[],F);(l==null?void 0:l.index)!==void 0&&(R==null||R(l.index),e(h[l.index])),I(h)},[h]),[g]}var ne=(typeof navigator=="undefined"?"undefined":(0,L.Z)(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),d=ne,c=function(h,F){var R=(0,T.useRef)(!1),i=(0,T.useRef)(null);function C(){clearTimeout(i.current),R.current=!0,i.current=setTimeout(function(){R.current=!1},50)}var x=(0,T.useRef)({top:h,bottom:F});return x.current.top=h,x.current.bottom=F,function(I){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=I<0&&x.current.top||I>0&&x.current.bottom;return r&&u?(clearTimeout(i.current),R.current=!1):(!u||R.current)&&C(),!R.current&&u}};function S(h,F,R,i){var C=(0,T.useRef)(0),x=(0,T.useRef)(null),I=(0,T.useRef)(null),r=(0,T.useRef)(!1),u=c(F,R);function g(l){if(h){ie.Z.cancel(x.current);var N=l.deltaY;C.current+=N,I.current=N,!u(N)&&(d||l.preventDefault(),x.current=(0,ie.Z)(function(){var K=r.current?10:1;i(C.current*K),C.current=0}))}}function e(l){h&&(r.current=l.detail===I.current)}return[g,e]}var D=v(90429),V=14/15;function ae(h,F,R){var i=(0,T.useRef)(!1),C=(0,T.useRef)(0),x=(0,T.useRef)(null),I=(0,T.useRef)(null),r,u=function(N){if(i.current){var K=Math.ceil(N.touches[0].pageY),n=C.current-K;C.current=K,R(n)&&N.preventDefault(),clearInterval(I.current),I.current=setInterval(function(){n*=V,(!R(n,!0)||Math.abs(n)<=.1)&&clearInterval(I.current)},16)}},g=function(){i.current=!1,r()},e=function(N){r(),N.touches.length===1&&!i.current&&(i.current=!0,C.current=Math.ceil(N.touches[0].pageY),x.current=N.target,x.current.addEventListener("touchmove",u),x.current.addEventListener("touchend",g))};r=function(){x.current&&(x.current.removeEventListener("touchmove",u),x.current.removeEventListener("touchend",g))},(0,D.Z)(function(){return h&&F.current.addEventListener("touchstart",e),function(){var l;(l=F.current)===null||l===void 0||l.removeEventListener("touchstart",e),r(),clearInterval(I.current)}},[h])}var q=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","component","onScroll","onVisibleChange","innerProps"],se=[],Ke={overflowY:"auto",overflowAnchor:"none"};function ce(h,F){var R=h.prefixCls,i=R===void 0?"rc-virtual-list":R,C=h.className,x=h.height,I=h.itemHeight,r=h.fullHeight,u=r===void 0?!0:r,g=h.style,e=h.data,l=h.children,N=h.itemKey,K=h.virtual,n=h.direction,o=h.component,a=o===void 0?"div":o,y=h.onScroll,E=h.onVisibleChange,A=h.innerProps,O=(0,Ae.Z)(h,q),M=!!(K!==!1&&x&&I),U=M&&e&&I*e.length>x,Y=(0,T.useState)(0),p=(0,le.Z)(Y,2),W=p[0],G=p[1],B=(0,T.useState)(!1),Q=(0,le.Z)(B,2),ee=Q[0],ue=Q[1],fe=he()(i,(0,De.Z)({},"".concat(i,"-rtl"),n==="rtl"),C),te=e||se,pe=(0,T.useRef)(),Ne=(0,T.useRef)(),me=(0,T.useRef)(),Ce=T.useCallback(function(X){return typeof N=="function"?N(X):X==null?void 0:X[N]},[N]),Ze={getKey:Ce};function Pe(X){G(function(ve){var be;typeof X=="function"?be=X(ve):be=X;var $e=vt(be);return pe.current.scrollTop=$e,$e})}var Ie=(0,T.useRef)({start:0,end:te.length}),Re=(0,T.useRef)(),Ue=H(te,Ce),et=(0,le.Z)(Ue,1),nt=et[0];Re.current=nt;var rt=j(Ce,null,null),ze=(0,le.Z)(rt,4),tt=ze[0],We=ze[1],Je=ze[2],at=ze[3],Be=T.useMemo(function(){if(!M)return{scrollHeight:void 0,start:0,end:te.length-1,offset:void 0};if(!U){var X;return{scrollHeight:((X=Ne.current)===null||X===void 0?void 0:X.offsetHeight)||0,start:0,end:te.length-1,offset:void 0}}for(var ve=0,be,$e,Ye,yt=te.length,ct=0;ct<yt;ct+=1){var mt=te[ct],Et=Ce(mt),gt=Je.get(Et),pt=ve+(gt===void 0?I:gt);pt>=W&&be===void 0&&(be=ct,$e=ve),pt>W+x&&Ye===void 0&&(Ye=ct),ve=pt}return be===void 0&&(be=0,$e=0,Ye=Math.ceil(x/I)),Ye===void 0&&(Ye=te.length-1),Ye=Math.min(Ye+1,te.length),{scrollHeight:ve,start:be,end:Ye,offset:$e}},[U,M,W,te,at,x]),Qe=Be.scrollHeight,He=Be.start,Ve=Be.end,je=Be.offset;Ie.current.start=He,Ie.current.end=Ve;var ot=Qe-x,qe=(0,T.useRef)(ot);qe.current=ot;function vt(X){var ve=X;return Number.isNaN(qe.current)||(ve=Math.min(ve,qe.current)),ve=Math.max(ve,0),ve}var it=W<=0,ut=W>=ot,st=c(it,ut);function ft(X){var ve=X;Pe(ve)}function dt(X){var ve=X.currentTarget.scrollTop;ve!==W&&Pe(ve),y==null||y(X)}var ht=S(M,it,ut,function(X){Pe(function(ve){var be=ve+X;return be})}),lt=(0,le.Z)(ht,2),Ee=lt[0],Fe=lt[1];ae(M,pe,function(X,ve){return st(X,ve)?!1:(Ee({preventDefault:function(){},deltaY:X}),!0)}),(0,D.Z)(function(){function X(ve){M&&ve.preventDefault()}return pe.current.addEventListener("wheel",Ee),pe.current.addEventListener("DOMMouseScroll",Fe),pe.current.addEventListener("MozMousePixelScroll",X),function(){pe.current&&(pe.current.removeEventListener("wheel",Ee),pe.current.removeEventListener("DOMMouseScroll",Fe),pe.current.removeEventListener("MozMousePixelScroll",X))}},[M]);var Ge=J(pe,te,Je,I,Ce,We,Pe,function(){var X;(X=me.current)===null||X===void 0||X.delayHidden()});T.useImperativeHandle(F,function(){return{scrollTo:Ge}}),(0,D.Z)(function(){if(E){var X=te.slice(He,Ve+1);E(X,te)}},[He,Ve,te]);var Xe=f(te,He,Ve,tt,l,Ze),we=null;return x&&(we=(0,z.Z)((0,De.Z)({},u?"height":"maxHeight",x),Ke),M&&(we.overflowY="hidden",ee&&(we.pointerEvents="none"))),T.createElement("div",(0,xe.Z)({style:(0,z.Z)((0,z.Z)({},g),{},{position:"relative"}),className:fe},O),T.createElement(a,{className:"".concat(i,"-holder"),style:we,ref:pe,onScroll:dt},T.createElement(m,{prefixCls:i,height:Qe,offset:je,onInnerResize:We,ref:Ne,innerProps:A},Xe)),M&&T.createElement($,{ref:me,prefixCls:i,scrollTop:W,height:x,scrollHeight:Qe,count:te.length,direction:n,onScroll:ft,onStartMove:function(){ue(!0)},onStopMove:function(){ue(!1)}}))}var Me=T.forwardRef(ce);Me.displayName="List";var Le=Me,Te=Le}}]);
