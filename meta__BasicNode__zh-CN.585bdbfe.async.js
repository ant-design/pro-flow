"use strict";(self.webpackChunk_ant_design_pro_flow=self.webpackChunk_ant_design_pro_flow||[]).push([[4623],{50049:function(s,t,e){var n;e.r(t),e.d(t,{demos:function(){return g}});var d=e(90228),a=e.n(d),r=e(87999),l=e.n(r),o=e(75271),c=e(6365),i=e(34439),A=e(64331),_=e(71124),g={"basicnode-demo-default":{component:o.memo(o.lazy(function(){return e.e(9199).then(e.bind(e,43296))})),asset:{type:"BLOCK",id:"basicnode-demo-default",refAtomIds:["BasicNode"],dependencies:{"index.tsx":{type:"FILE",value:e(94749).Z},"@ant-design/pro-flow":{type:"NPM",value:"1.3.9"},"antd-style":{type:"NPM",value:"3.7.1"},react:{type:"NPM",value:"18.3.1"},"./data.tsx":{type:"FILE",value:e(9412).Z},antd:{type:"NPM",value:"5.22.7"}},entry:"index.tsx"},context:{"./data.tsx":A,"@ant-design/pro-flow":c,"antd-style":i,react:n||(n=e.t(o,2)),"/home/runner/work/pro-flow/pro-flow/src/BasicNode/demos/default/data.tsx":A,antd:_},renderOpts:{compile:function(){var p=l()(a()().mark(function v(){var m,I=arguments;return a()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,e.e(1021).then(e.bind(e,61021));case 2:return u.abrupt("return",(m=u.sent).default.apply(m,I));case 3:case"end":return u.stop()}},v)}));function f(){return p.apply(this,arguments)}return f}()}}}},64331:function(s,t,e){e.r(t),e.d(t,{edges:function(){return l},nodes:function(){return r}});var n=e(86722),d=e(52676),a=function(c){var i=c.score;return(0,d.jsx)(n.Z,{style:{fontSize:"6px",textAlign:"center"},type:"circle",trailColor:"white",percent:i===0?1:i*20,strokeColor:i*20>60?"#30a46c":"#e5484d",format:function(){return"".concat(i)},size:28})},r=[{id:"b1",label:"titleSlot-left",data:{title:"XXX_API1",logo:"https://mdn.alipayobjects.com/huamei_ntgeqc/afts/img/A*kgyiRKi04eUAAAAAAAAAAAAADvuvAQ/original",describe:"XXX_XXX_XXX_API",titleSlot:{type:"left",value:(0,d.jsx)("div",{className:"dangerLogo",children:(0,d.jsx)("img",{src:"https://mdn.alipayobjects.com/huamei_ntgeqc/afts/img/A*wkEJRbSowekAAAAAAAAAAAAADvuvAQ/original",alt:""})})}}},{id:"b2",label:"titleSlot-right",data:{title:"XXX_APIddddddddddddddddddddddddddddddddddddddddddddddddddd_b2",logo:"https://mdn.alipayobjects.com/huamei_ntgeqc/afts/img/A*kgyiRKi04eUAAAAAAAAAAAAADvuvAQ/original",describe:"XXX_XXX_XXX_API",titleSlot:{type:"right",value:(0,d.jsx)(a,{score:4})}}},{id:"b3",label:"default",data:{title:"XXX_API_b3",logo:"https://mdn.alipayobjects.com/huamei_ntgeqc/afts/img/A*kgyiRKi04eUAAAAAAAAAAAAADvuvAQ/original",describe:"XXX_XXX_XXX_API"}}],l=[{id:"b12",source:"b1",target:"b2"},{id:"b23",source:"b2",target:"b3"}]},2151:function(s,t,e){e.d(t,{F:function(){return r}});var n=e(70508),d=e(75153),a=e(75271),r=function(){var o=d.ZP.useBreakpoint();return(0,a.useMemo)(function(){return(0,n.f)(o)},[o])}},34439:function(s,t,e){e.r(t),e.d(t,{StyleProvider:function(){return n.V9},ThemeProvider:function(){return n.f6},createGlobalStyle:function(){return n.vJ},createInstance:function(){return n.Fs},createStyles:function(){return n.kc},createStylish:function(){return n.Yz},css:function(){return n.iv},cx:function(){return n.cx},extractStaticStyle:function(){return n.Y2},injectGlobal:function(){return n.hi},keyframes:function(){return n.F4},setupStyled:function(){return n.Us},styleManager:function(){return n.Rr},useAntdStylish:function(){return d.n},useAntdTheme:function(){return a.A},useAntdToken:function(){return r.S},useResponsive:function(){return l.F},useTheme:function(){return n.Fg},useThemeMode:function(){return o.r}});var n=e(51307),d=e(94501),a=e(22280),r=e(23193),l=e(2151),o=e(10368)},33707:function(s,t,e){e.r(t),e.d(t,{texts:function(){return n}});const n=[{value:"\u5C5E\u6027\u540D",paraId:0,tocIndex:1},{value:"\u7C7B\u578B",paraId:0,tocIndex:1},{value:"\u63CF\u8FF0",paraId:0,tocIndex:1},{value:"\u9ED8\u8BA4\u503C",paraId:0,tocIndex:1},{value:"\u5FC5\u9009",paraId:0,tocIndex:1},{value:"title",paraId:0,tocIndex:1},{value:"string",paraId:0,tocIndex:1},{value:"\u8282\u70B9\u6807\u9898",paraId:0,tocIndex:1},{value:"-",paraId:0,tocIndex:1},{value:"-",paraId:0,tocIndex:1},{value:"describe",paraId:0,tocIndex:1},{value:"string",paraId:0,tocIndex:1},{value:"\u8282\u70B9\u63CF\u8FF0",paraId:0,tocIndex:1},{value:"-",paraId:0,tocIndex:1},{value:"-",paraId:0,tocIndex:1},{value:"logo",paraId:0,tocIndex:1},{value:"string",paraId:0,tocIndex:1},{value:"\u8282\u70B9 logo \u7684 url",paraId:0,tocIndex:1},{value:"-",paraId:0,tocIndex:1},{value:"-",paraId:0,tocIndex:1},{value:"titleSlot",paraId:0,tocIndex:1},{value:"{type: 'left' | 'right', value: React.ReactNode}",paraId:0,tocIndex:1},{value:"\u6807\u9898\u53F3\u4FA7\u7684\u63D2\u69FD\uFF0Cleft \u8DDF\u968F\u5728 title \u6587\u5B57\u7ED3\u5C3E\u5904\uFF0Cright \u5728 title \u884C\u5C3E\u90E8",paraId:0,tocIndex:1},{value:"-",paraId:0,tocIndex:1},{value:"-",paraId:0,tocIndex:1}]},9412:function(s,t){t.Z=`import { FlowViewNode } from '@ant-design/pro-flow';
import { Progress } from 'antd';

const ApiScore: React.FC<{ score: number }> = ({ score }) => {
  return (
    <Progress
      style={{
        fontSize: '6px',
        textAlign: 'center',
      }}
      type="circle"
      trailColor={'white'}
      percent={score === 0 ? 1 : score * 20}
      strokeColor={score * 20 > 60 ? '#30a46c' : '#e5484d'}
      format={() => \`\${score}\`}
      size={28}
    />
  );
};

export const nodes: FlowViewNode[] = [
  {
    id: 'b1',
    label: 'titleSlot-left',
    data: {
      title: 'XXX_API1',
      logo: 'https://mdn.alipayobjects.com/huamei_ntgeqc/afts/img/A*kgyiRKi04eUAAAAAAAAAAAAADvuvAQ/original',
      describe: 'XXX_XXX_XXX_API',
      titleSlot: {
        type: 'left',
        value: (
          <div className="dangerLogo">
            <img
              src={
                'https://mdn.alipayobjects.com/huamei_ntgeqc/afts/img/A*wkEJRbSowekAAAAAAAAAAAAADvuvAQ/original'
              }
              alt=""
            />
          </div>
        ),
      },
    },
  },
  {
    id: 'b2',
    label: 'titleSlot-right',
    data: {
      title: 'XXX_APIddddddddddddddddddddddddddddddddddddddddddddddddddd_b2',
      logo: 'https://mdn.alipayobjects.com/huamei_ntgeqc/afts/img/A*kgyiRKi04eUAAAAAAAAAAAAADvuvAQ/original',
      describe: 'XXX_XXX_XXX_API',
      titleSlot: {
        type: 'right',
        value: <ApiScore score={4} />,
      },
    },
  },
  {
    id: 'b3',
    label: 'default',
    data: {
      title: 'XXX_API_b3',
      logo: 'https://mdn.alipayobjects.com/huamei_ntgeqc/afts/img/A*kgyiRKi04eUAAAAAAAAAAAAADvuvAQ/original',
      describe: 'XXX_XXX_XXX_API',
    },
  },
];

export const edges = [
  {
    id: 'b12',
    source: 'b1',
    target: 'b2',
  },
  {
    id: 'b23',
    source: 'b2',
    target: 'b3',
  },
];
`},94749:function(s,t){t.Z=`import { FlowView, FlowViewEdge, FlowViewNode, SelectType } from '@ant-design/pro-flow';
import { createStyles } from 'antd-style';
import { useState } from 'react';
import { edges, nodes } from './data';

const useStyles = createStyles(({ css }) => ({
  container: css\`
    width: 100%;
    height: 600px;
    .ant-progress-text {
      text-align: center !important;
    }
  \`,
}));

const ProFlowDemo = () => {
  const [_nodes, setNodes] = useState<FlowViewNode[]>(nodes);
  const [_edges, setEdges] = useState<FlowViewEdge[]>(edges);
  const { styles } = useStyles();

  const handleHighlight = (node: FlowViewNode) => {
    setNodes(
      _nodes.map((_node) => {
        if (_node.id === node.id) {
          _node.select = SelectType.SELECT;
        }
        return _node;
      }),
    );
    setEdges(
      _edges.map((edge) => {
        if (edge.source === node.id || edge.target === node.id) {
          edge.select = SelectType.SUB_SELECT;
        }
        return {
          ...edge,
        };
      }),
    );
  };

  const handleUnHighlight = () => {
    setNodes(
      _nodes.map((_node) => {
        _node.select = SelectType.DEFAULT;
        return _node;
      }),
    );
    setEdges(
      _edges.map((edge) => {
        edge.select = SelectType.DEFAULT;
        return edge;
      }),
    );
  };

  return (
    <div className={styles.container}>
      <FlowView
        onNodeDragStart={(e, node: any) => handleHighlight(node)}
        onPaneClick={handleUnHighlight}
        nodes={_nodes}
        edges={_edges}
      ></FlowView>
    </div>
  );
};

const FlowDemo = () => {
  return <ProFlowDemo />;
};

export default FlowDemo;
`}}]);
