"use strict";(self.webpackChunk_ant_design_pro_flow=self.webpackChunk_ant_design_pro_flow||[]).push([[7572],{38356:function(ut,He,h){h.d(He,{Z:function(){return L}});var ke=h(89856),Pe=h(58424),ne=h(88598),xe=h(71479),Ze=h(38172),U=h(10037),W=h(14280),De=h(62324),C=h(30985),k=h(82187),re=h.n(k),c=h(41045),j=h(75271),be=h(90503),Ce=function(Z){for(var J=Z.prefixCls,r=Z.level,te=Z.isStart,B=Z.isEnd,oe="".concat(J,"-indent-unit"),s=[],u=0;u<r;u+=1)s.push(j.createElement("span",{key:u,className:re()(oe,(0,C.Z)((0,C.Z)({},"".concat(oe,"-start"),te[u]),"".concat(oe,"-end"),B[u]))}));return j.createElement("span",{"aria-hidden":"true",className:"".concat(J,"-indent")},s)},F=j.memo(Ce),Ne=h(63559),fe=h(133),ge=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],ae="open",o="close",g="---",O=function(G){(0,W.Z)(J,G);var Z=(0,De.Z)(J);function J(){var r;(0,xe.Z)(this,J);for(var te=arguments.length,B=new Array(te),oe=0;oe<te;oe++)B[oe]=arguments[oe];return r=Z.call.apply(Z,[this].concat(B)),(0,C.Z)((0,U.Z)(r),"state",{dragNodeHighlight:!1}),(0,C.Z)((0,U.Z)(r),"selectHandle",void 0),(0,C.Z)((0,U.Z)(r),"cacheIndent",void 0),(0,C.Z)((0,U.Z)(r),"onSelectorClick",function(s){var u=r.props.context.onNodeClick;u(s,(0,fe.F)(r.props)),r.isSelectable()?r.onSelect(s):r.onCheck(s)}),(0,C.Z)((0,U.Z)(r),"onSelectorDoubleClick",function(s){var u=r.props.context.onNodeDoubleClick;u(s,(0,fe.F)(r.props))}),(0,C.Z)((0,U.Z)(r),"onSelect",function(s){if(!r.isDisabled()){var u=r.props.context.onNodeSelect;u(s,(0,fe.F)(r.props))}}),(0,C.Z)((0,U.Z)(r),"onCheck",function(s){if(!r.isDisabled()){var u=r.props,I=u.disableCheckbox,$=u.checked,z=r.props.context.onNodeCheck;if(!(!r.isCheckable()||I)){var he=!$;z(s,(0,fe.F)(r.props),he)}}}),(0,C.Z)((0,U.Z)(r),"onMouseEnter",function(s){var u=r.props.context.onNodeMouseEnter;u(s,(0,fe.F)(r.props))}),(0,C.Z)((0,U.Z)(r),"onMouseLeave",function(s){var u=r.props.context.onNodeMouseLeave;u(s,(0,fe.F)(r.props))}),(0,C.Z)((0,U.Z)(r),"onContextMenu",function(s){var u=r.props.context.onNodeContextMenu;u(s,(0,fe.F)(r.props))}),(0,C.Z)((0,U.Z)(r),"onDragStart",function(s){var u=r.props.context.onNodeDragStart;s.stopPropagation(),r.setState({dragNodeHighlight:!0}),u(s,(0,U.Z)(r));try{s.dataTransfer.setData("text/plain","")}catch(I){}}),(0,C.Z)((0,U.Z)(r),"onDragEnter",function(s){var u=r.props.context.onNodeDragEnter;s.preventDefault(),s.stopPropagation(),u(s,(0,U.Z)(r))}),(0,C.Z)((0,U.Z)(r),"onDragOver",function(s){var u=r.props.context.onNodeDragOver;s.preventDefault(),s.stopPropagation(),u(s,(0,U.Z)(r))}),(0,C.Z)((0,U.Z)(r),"onDragLeave",function(s){var u=r.props.context.onNodeDragLeave;s.stopPropagation(),u(s,(0,U.Z)(r))}),(0,C.Z)((0,U.Z)(r),"onDragEnd",function(s){var u=r.props.context.onNodeDragEnd;s.stopPropagation(),r.setState({dragNodeHighlight:!1}),u(s,(0,U.Z)(r))}),(0,C.Z)((0,U.Z)(r),"onDrop",function(s){var u=r.props.context.onNodeDrop;s.preventDefault(),s.stopPropagation(),r.setState({dragNodeHighlight:!1}),u(s,(0,U.Z)(r))}),(0,C.Z)((0,U.Z)(r),"onExpand",function(s){var u=r.props,I=u.loading,$=u.context.onNodeExpand;I||$(s,(0,fe.F)(r.props))}),(0,C.Z)((0,U.Z)(r),"setSelectHandle",function(s){r.selectHandle=s}),(0,C.Z)((0,U.Z)(r),"getNodeState",function(){var s=r.props.expanded;return r.isLeaf()?null:s?ae:o}),(0,C.Z)((0,U.Z)(r),"hasChildren",function(){var s=r.props.eventKey,u=r.props.context.keyEntities,I=(0,Ne.Z)(u,s)||{},$=I.children;return!!($||[]).length}),(0,C.Z)((0,U.Z)(r),"isLeaf",function(){var s=r.props,u=s.isLeaf,I=s.loaded,$=r.props.context.loadData,z=r.hasChildren();return u===!1?!1:u||!$&&!z||$&&I&&!z}),(0,C.Z)((0,U.Z)(r),"isDisabled",function(){var s=r.props.disabled,u=r.props.context.disabled;return!!(u||s)}),(0,C.Z)((0,U.Z)(r),"isCheckable",function(){var s=r.props.checkable,u=r.props.context.checkable;return!u||s===!1?!1:u}),(0,C.Z)((0,U.Z)(r),"syncLoadData",function(s){var u=s.expanded,I=s.loading,$=s.loaded,z=r.props.context,he=z.loadData,ye=z.onNodeLoad;I||he&&u&&!r.isLeaf()&&!$&&ye((0,fe.F)(r.props))}),(0,C.Z)((0,U.Z)(r),"isDraggable",function(){var s=r.props,u=s.data,I=s.context.draggable;return!!(I&&(!I.nodeDraggable||I.nodeDraggable(u)))}),(0,C.Z)((0,U.Z)(r),"renderDragHandler",function(){var s=r.props.context,u=s.draggable,I=s.prefixCls;return u!=null&&u.icon?j.createElement("span",{className:"".concat(I,"-draggable-icon")},u.icon):null}),(0,C.Z)((0,U.Z)(r),"renderSwitcherIconDom",function(s){var u=r.props.switcherIcon,I=r.props.context.switcherIcon,$=u||I;return typeof $=="function"?$((0,ne.Z)((0,ne.Z)({},r.props),{},{isLeaf:s})):$}),(0,C.Z)((0,U.Z)(r),"renderSwitcher",function(){var s=r.props.expanded,u=r.props.context.prefixCls;if(r.isLeaf()){var I=r.renderSwitcherIconDom(!0);return I!==!1?j.createElement("span",{className:re()("".concat(u,"-switcher"),"".concat(u,"-switcher-noop"))},I):null}var $=re()("".concat(u,"-switcher"),"".concat(u,"-switcher_").concat(s?ae:o)),z=r.renderSwitcherIconDom(!1);return z!==!1?j.createElement("span",{onClick:r.onExpand,className:$},z):null}),(0,C.Z)((0,U.Z)(r),"renderCheckbox",function(){var s=r.props,u=s.checked,I=s.halfChecked,$=s.disableCheckbox,z=r.props.context.prefixCls,he=r.isDisabled(),ye=r.isCheckable();if(!ye)return null;var Q=typeof ye!="boolean"?ye:null;return j.createElement("span",{className:re()("".concat(z,"-checkbox"),u&&"".concat(z,"-checkbox-checked"),!u&&I&&"".concat(z,"-checkbox-indeterminate"),(he||$)&&"".concat(z,"-checkbox-disabled")),onClick:r.onCheck},Q)}),(0,C.Z)((0,U.Z)(r),"renderIcon",function(){var s=r.props.loading,u=r.props.context.prefixCls;return j.createElement("span",{className:re()("".concat(u,"-iconEle"),"".concat(u,"-icon__").concat(r.getNodeState()||"docu"),s&&"".concat(u,"-icon_loading"))})}),(0,C.Z)((0,U.Z)(r),"renderSelector",function(){var s=r.state.dragNodeHighlight,u=r.props,I=u.title,$=I===void 0?g:I,z=u.selected,he=u.icon,ye=u.loading,Q=u.data,Ee=r.props.context,me=Ee.prefixCls,Ue=Ee.showIcon,je=Ee.icon,Ge=Ee.loadData,_=Ee.titleRender,Te=r.isDisabled(),$e="".concat(me,"-node-content-wrapper"),f;if(Ue){var T=he||je;f=T?j.createElement("span",{className:re()("".concat(me,"-iconEle"),"".concat(me,"-icon__customize"))},typeof T=="function"?T(r.props):T):r.renderIcon()}else Ge&&ye&&(f=r.renderIcon());var D;typeof $=="function"?D=$(Q):_?D=_(Q):D=$;var M=j.createElement("span",{className:"".concat(me,"-title")},D);return j.createElement("span",{ref:r.setSelectHandle,title:typeof $=="string"?$:"",className:re()("".concat($e),"".concat($e,"-").concat(r.getNodeState()||"normal"),!Te&&(z||s)&&"".concat(me,"-node-selected")),onMouseEnter:r.onMouseEnter,onMouseLeave:r.onMouseLeave,onContextMenu:r.onContextMenu,onClick:r.onSelectorClick,onDoubleClick:r.onSelectorDoubleClick},f,M,r.renderDropIndicator())}),(0,C.Z)((0,U.Z)(r),"renderDropIndicator",function(){var s=r.props,u=s.disabled,I=s.eventKey,$=r.props.context,z=$.draggable,he=$.dropLevelOffset,ye=$.dropPosition,Q=$.prefixCls,Ee=$.indent,me=$.dropIndicatorRender,Ue=$.dragOverNodeKey,je=$.direction,Ge=!!z,_=!u&&Ge&&Ue===I,Te=Ee!=null?Ee:r.cacheIndent;return r.cacheIndent=Ee,_?me({dropPosition:ye,dropLevelOffset:he,indent:Te,prefixCls:Q,direction:je}):null}),r}return(0,Ze.Z)(J,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var te=this.props.selectable,B=this.props.context.selectable;return typeof te=="boolean"?te:B}},{key:"render",value:function(){var te,B=this.props,oe=B.eventKey,s=B.className,u=B.style,I=B.dragOver,$=B.dragOverGapTop,z=B.dragOverGapBottom,he=B.isLeaf,ye=B.isStart,Q=B.isEnd,Ee=B.expanded,me=B.selected,Ue=B.checked,je=B.halfChecked,Ge=B.loading,_=B.domRef,Te=B.active,$e=B.data,f=B.onMouseMove,T=B.selectable,D=(0,Pe.Z)(B,ge),M=this.props.context,i=M.prefixCls,p=M.filterTreeNode,K=M.keyEntities,e=M.dropContainerKey,v=M.dropTargetKey,N=M.draggingNodeKey,S=this.isDisabled(),t=(0,c.Z)(D,{aria:!0,data:!0}),a=(0,Ne.Z)(K,oe)||{},n=a.level,d=Q[Q.length-1],l=this.isDraggable(),y=!S&&l,x=N===oe,m=T!==void 0?{"aria-selected":!!T}:void 0;return j.createElement("div",(0,ke.Z)({ref:_,className:re()(s,"".concat(i,"-treenode"),(te={},(0,C.Z)((0,C.Z)((0,C.Z)((0,C.Z)((0,C.Z)((0,C.Z)((0,C.Z)((0,C.Z)((0,C.Z)((0,C.Z)(te,"".concat(i,"-treenode-disabled"),S),"".concat(i,"-treenode-switcher-").concat(Ee?"open":"close"),!he),"".concat(i,"-treenode-checkbox-checked"),Ue),"".concat(i,"-treenode-checkbox-indeterminate"),je),"".concat(i,"-treenode-selected"),me),"".concat(i,"-treenode-loading"),Ge),"".concat(i,"-treenode-active"),Te),"".concat(i,"-treenode-leaf-last"),d),"".concat(i,"-treenode-draggable"),l),"dragging",x),(0,C.Z)((0,C.Z)((0,C.Z)((0,C.Z)((0,C.Z)((0,C.Z)(te,"drop-target",v===oe),"drop-container",e===oe),"drag-over",!S&&I),"drag-over-gap-top",!S&&$),"drag-over-gap-bottom",!S&&z),"filter-node",p&&p((0,fe.F)(this.props))))),style:u,draggable:y,"aria-grabbed":x,onDragStart:y?this.onDragStart:void 0,onDragEnter:l?this.onDragEnter:void 0,onDragOver:l?this.onDragOver:void 0,onDragLeave:l?this.onDragLeave:void 0,onDrop:l?this.onDrop:void 0,onDragEnd:l?this.onDragEnd:void 0,onMouseMove:f},m,t),j.createElement(F,{prefixCls:i,level:n,isStart:ye,isEnd:Q}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),J}(j.Component),w=function(Z){return j.createElement(be.k.Consumer,null,function(J){return j.createElement(O,(0,ke.Z)({},Z,{context:J}))})};w.displayName="TreeNode",w.isTreeNode=1;var L=w},90503:function(ut,He,h){h.d(He,{k:function(){return Pe}});var ke=h(75271),Pe=ke.createContext(null)},27572:function(ut,He,h){h.d(He,{O:function(){return L.Z},Z:function(){return M}});var ke=h(89856),Pe=h(63194),ne=h(88598),xe=h(40665),Ze=h(71479),U=h(38172),W=h(10037),De=h(14280),C=h(62324),k=h(30985),re=h(82187),c=h.n(re),j=h(1260),be=h(41045),Ce=h(7432),F=h(75271),Ne=h(90503);function fe(i){var p=i.dropPosition,K=i.dropLevelOffset,e=i.indent,v={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(p){case-1:v.top=0,v.left=-K*e;break;case 1:v.bottom=0,v.left=-K*e;break;case 0:v.bottom=0,v.left=e;break}return F.createElement("div",{style:v})}function ge(i){if(i==null)throw new TypeError("Cannot destructure "+i)}var ae=h(97171),o=h(58424),g=h(40570),O=h(39591),w=h(61435),L=h(38356);function G(i,p){var K=F.useState(!1),e=(0,ae.Z)(K,2),v=e[0],N=e[1];(0,g.Z)(function(){if(v)return i(),function(){p()}},[v]),(0,g.Z)(function(){return N(!0),function(){N(!1)}},[])}var Z=h(133),J=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],r=function(p,K){var e=p.className,v=p.style,N=p.motion,S=p.motionNodes,t=p.motionType,a=p.onMotionStart,n=p.onMotionEnd,d=p.active,l=p.treeNodeRequiredProps,y=(0,o.Z)(p,J),x=F.useState(!0),m=(0,ae.Z)(x,2),b=m[0],E=m[1],R=F.useContext(Ne.k),V=R.prefixCls,P=S&&t!=="hide";(0,g.Z)(function(){S&&P!==b&&E(P)},[S]);var A=function(){S&&a()},Y=F.useRef(!1),q=function(){S&&!Y.current&&(Y.current=!0,n())};G(A,q);var ve=function(se){P===se&&q()};return S?F.createElement(w.ZP,(0,ke.Z)({ref:K,visible:b},N,{motionAppear:t==="show",onVisibleChanged:ve}),function(ie,se){var de=ie.className,Ke=ie.style;return F.createElement("div",{ref:se,className:c()("".concat(V,"-treenode-motion"),de),style:Ke},S.map(function(ee){var Me=Object.assign({},(ge(ee.data),ee.data)),Re=ee.title,Se=ee.key,Ye=ee.isStart,le=ee.isEnd;delete Me.children;var Ae=(0,Z.H8)(Se,l);return F.createElement(L.Z,(0,ke.Z)({},Me,Ae,{title:Re,active:d,data:ee.data,key:Se,isStart:Ye,isEnd:le}))}))}):F.createElement(L.Z,(0,ke.Z)({domRef:K,className:e,style:v},y,{active:d}))};r.displayName="MotionTreeNode";var te=F.forwardRef(r),B=te;function oe(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],K=i.length,e=p.length;if(Math.abs(K-e)!==1)return{add:!1,key:null};function v(N,S){var t=new Map;N.forEach(function(n){t.set(n,!0)});var a=S.filter(function(n){return!t.has(n)});return a.length===1?a[0]:null}return K<e?{add:!0,key:v(i,p)}:{add:!1,key:v(p,i)}}function s(i,p,K){var e=i.findIndex(function(t){return t.key===K}),v=i[e+1],N=p.findIndex(function(t){return t.key===K});if(v){var S=p.findIndex(function(t){return t.key===v.key});return p.slice(N+1,S)}return p.slice(N+1)}var u=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],I={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},$=function(){},z="RC_TREE_MOTION_".concat(Math.random()),he={key:z},ye={key:z,level:0,index:0,pos:"0",node:he,nodes:[he]},Q={parent:null,children:[],pos:ye.pos,data:he,title:null,key:z,isStart:[],isEnd:[]};function Ee(i,p,K,e){return p===!1||!K?i:i.slice(0,Math.ceil(K/e)+1)}function me(i){var p=i.key,K=i.pos;return(0,Z.km)(p,K)}function Ue(i){for(var p=String(i.data.key),K=i;K.parent;)K=K.parent,p="".concat(K.data.key," > ").concat(p);return p}var je=F.forwardRef(function(i,p){var K=i.prefixCls,e=i.data,v=i.selectable,N=i.checkable,S=i.expandedKeys,t=i.selectedKeys,a=i.checkedKeys,n=i.loadedKeys,d=i.loadingKeys,l=i.halfCheckedKeys,y=i.keyEntities,x=i.disabled,m=i.dragging,b=i.dragOverNodeKey,E=i.dropPosition,R=i.motion,V=i.height,P=i.itemHeight,A=i.virtual,Y=i.focusable,q=i.activeItem,ve=i.focused,ie=i.tabIndex,se=i.onKeyDown,de=i.onFocus,Ke=i.onBlur,ee=i.onActiveChange,Me=i.onListChangeStart,Re=i.onListChangeEnd,Se=(0,o.Z)(i,u),Ye=F.useRef(null),le=F.useRef(null);F.useImperativeHandle(p,function(){return{scrollTo:function(We){Ye.current.scrollTo(We)},getIndentWidth:function(){return le.current.offsetWidth}}});var Ae=F.useState(S),Qe=(0,ae.Z)(Ae,2),qe=Qe[0],at=Qe[1],tt=F.useState(e),Oe=(0,ae.Z)(tt,2),Le=Oe[0],Be=Oe[1],Ie=F.useState(e),pe=(0,ae.Z)(Ie,2),Fe=pe[0],_e=pe[1],Xe=F.useState([]),ot=(0,ae.Z)(Xe,2),pt=ot[0],it=ot[1],gt=F.useState(null),ft=(0,ae.Z)(gt,2),st=ft[0],nt=ft[1],lt=F.useRef(e);lt.current=e;function dt(){var ce=lt.current;Be(ce),_e(ce),it([]),nt(null),Re()}(0,g.Z)(function(){at(S);var ce=oe(qe,S);if(ce.key!==null)if(ce.add){var We=Le.findIndex(function(ze){var ht=ze.key;return ht===ce.key}),Ve=Ee(s(Le,e,ce.key),A,V,P),Je=Le.slice();Je.splice(We+1,0,Q),_e(Je),it(Ve),nt("show")}else{var et=e.findIndex(function(ze){var ht=ze.key;return ht===ce.key}),rt=Ee(s(e,Le,ce.key),A,V,P),vt=e.slice();vt.splice(et+1,0,Q),_e(vt),it(rt),nt("hide")}else Le!==e&&(Be(e),_e(e))},[S,e]),F.useEffect(function(){m||dt()},[m]);var yt=R?Fe:e,mt={expandedKeys:S,selectedKeys:t,loadedKeys:n,loadingKeys:d,checkedKeys:a,halfCheckedKeys:l,dragOverNodeKey:b,dropPosition:E,keyEntities:y};return F.createElement(F.Fragment,null,ve&&q&&F.createElement("span",{style:I,"aria-live":"assertive"},Ue(q)),F.createElement("div",null,F.createElement("input",{style:I,disabled:Y===!1||x,tabIndex:Y!==!1?ie:null,onKeyDown:se,onFocus:de,onBlur:Ke,value:"",onChange:$,"aria-label":"for screen reader"})),F.createElement("div",{className:"".concat(K,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},F.createElement("div",{className:"".concat(K,"-indent")},F.createElement("div",{ref:le,className:"".concat(K,"-indent-unit")}))),F.createElement(O.Z,(0,ke.Z)({},Se,{data:yt,itemKey:me,height:V,fullHeight:!1,virtual:A,itemHeight:P,prefixCls:"".concat(K,"-list"),ref:Ye,onVisibleChange:function(We,Ve){var Je=new Set(We),et=Ve.filter(function(rt){return!Je.has(rt)});et.some(function(rt){return me(rt)===z})&&dt()}}),function(ce){var We=ce.pos,Ve=Object.assign({},(ge(ce.data),ce.data)),Je=ce.title,et=ce.key,rt=ce.isStart,vt=ce.isEnd,ze=(0,Z.km)(et,We);delete Ve.key,delete Ve.children;var ht=(0,Z.H8)(ze,mt);return F.createElement(B,(0,ke.Z)({},Ve,ht,{title:Je,active:!!q&&et===q.key,pos:We,data:ce.data,isStart:rt,isEnd:vt,motion:R,motionNodes:et===z?pt:null,motionType:st,onMotionStart:Me,onMotionEnd:dt,treeNodeRequiredProps:mt,onMouseMove:function(){ee(null)}}))}))});je.displayName="NodeList";var Ge=je,_=h(37989),Te=h(88394),$e=h(63559),f=10,T=function(i){(0,De.Z)(K,i);var p=(0,C.Z)(K);function K(){var e;(0,Ze.Z)(this,K);for(var v=arguments.length,N=new Array(v),S=0;S<v;S++)N[S]=arguments[S];return e=p.call.apply(p,[this].concat(N)),(0,k.Z)((0,W.Z)(e),"destroyed",!1),(0,k.Z)((0,W.Z)(e),"delayedDragEnterLogic",void 0),(0,k.Z)((0,W.Z)(e),"loadingRetryTimes",{}),(0,k.Z)((0,W.Z)(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:(0,Z.w$)()}),(0,k.Z)((0,W.Z)(e),"dragStartMousePosition",null),(0,k.Z)((0,W.Z)(e),"dragNode",void 0),(0,k.Z)((0,W.Z)(e),"currentMouseOverDroppableNodeKey",null),(0,k.Z)((0,W.Z)(e),"listRef",F.createRef()),(0,k.Z)((0,W.Z)(e),"onNodeDragStart",function(t,a){var n=e.state,d=n.expandedKeys,l=n.keyEntities,y=e.props.onDragStart,x=a.props.eventKey;e.dragNode=a,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var m=(0,_._5)(d,x);e.setState({draggingNodeKey:x,dragChildrenKeys:(0,_.wA)(x,l),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(m),window.addEventListener("dragend",e.onWindowDragEnd),y==null||y({event:t,node:(0,Z.F)(a.props)})}),(0,k.Z)((0,W.Z)(e),"onNodeDragEnter",function(t,a){var n=e.state,d=n.expandedKeys,l=n.keyEntities,y=n.dragChildrenKeys,x=n.flattenNodes,m=n.indent,b=e.props,E=b.onDragEnter,R=b.onExpand,V=b.allowDrop,P=b.direction,A=a.props,Y=A.pos,q=A.eventKey,ve=(0,W.Z)(e),ie=ve.dragNode;if(e.currentMouseOverDroppableNodeKey!==q&&(e.currentMouseOverDroppableNodeKey=q),!ie){e.resetDragState();return}var se=(0,_.OM)(t,ie,a,m,e.dragStartMousePosition,V,x,l,d,P),de=se.dropPosition,Ke=se.dropLevelOffset,ee=se.dropTargetKey,Me=se.dropContainerKey,Re=se.dropTargetPos,Se=se.dropAllowed,Ye=se.dragOverNodeKey;if(y.indexOf(ee)!==-1||!Se){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(le){clearTimeout(e.delayedDragEnterLogic[le])}),ie.props.eventKey!==a.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[Y]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var le=(0,xe.Z)(d),Ae=(0,$e.Z)(l,a.props.eventKey);Ae&&(Ae.children||[]).length&&(le=(0,_.L0)(d,a.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(le),R==null||R(le,{node:(0,Z.F)(a.props),expanded:!0,nativeEvent:t.nativeEvent})}},800)),ie.props.eventKey===ee&&Ke===0){e.resetDragState();return}e.setState({dragOverNodeKey:Ye,dropPosition:de,dropLevelOffset:Ke,dropTargetKey:ee,dropContainerKey:Me,dropTargetPos:Re,dropAllowed:Se}),E==null||E({event:t,node:(0,Z.F)(a.props),expandedKeys:d})}),(0,k.Z)((0,W.Z)(e),"onNodeDragOver",function(t,a){var n=e.state,d=n.dragChildrenKeys,l=n.flattenNodes,y=n.keyEntities,x=n.expandedKeys,m=n.indent,b=e.props,E=b.onDragOver,R=b.allowDrop,V=b.direction,P=(0,W.Z)(e),A=P.dragNode;if(A){var Y=(0,_.OM)(t,A,a,m,e.dragStartMousePosition,R,l,y,x,V),q=Y.dropPosition,ve=Y.dropLevelOffset,ie=Y.dropTargetKey,se=Y.dropContainerKey,de=Y.dropAllowed,Ke=Y.dropTargetPos,ee=Y.dragOverNodeKey;d.indexOf(ie)!==-1||!de||(A.props.eventKey===ie&&ve===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():q===e.state.dropPosition&&ve===e.state.dropLevelOffset&&ie===e.state.dropTargetKey&&se===e.state.dropContainerKey&&Ke===e.state.dropTargetPos&&de===e.state.dropAllowed&&ee===e.state.dragOverNodeKey||e.setState({dropPosition:q,dropLevelOffset:ve,dropTargetKey:ie,dropContainerKey:se,dropTargetPos:Ke,dropAllowed:de,dragOverNodeKey:ee}),E==null||E({event:t,node:(0,Z.F)(a.props)}))}}),(0,k.Z)((0,W.Z)(e),"onNodeDragLeave",function(t,a){e.currentMouseOverDroppableNodeKey===a.props.eventKey&&!t.currentTarget.contains(t.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var n=e.props.onDragLeave;n==null||n({event:t,node:(0,Z.F)(a.props)})}),(0,k.Z)((0,W.Z)(e),"onWindowDragEnd",function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),(0,k.Z)((0,W.Z)(e),"onNodeDragEnd",function(t,a){var n=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),n==null||n({event:t,node:(0,Z.F)(a.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),(0,k.Z)((0,W.Z)(e),"onNodeDrop",function(t,a){var n,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,l=e.state,y=l.dragChildrenKeys,x=l.dropPosition,m=l.dropTargetKey,b=l.dropTargetPos,E=l.dropAllowed;if(E){var R=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),m!==null){var V=(0,ne.Z)((0,ne.Z)({},(0,Z.H8)(m,e.getTreeNodeRequiredProps())),{},{active:((n=e.getActiveItem())===null||n===void 0?void 0:n.key)===m,data:(0,$e.Z)(e.state.keyEntities,m).node}),P=y.indexOf(m)!==-1;(0,Ce.ZP)(!P,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var A=(0,_.yx)(b),Y={event:t,node:(0,Z.F)(V),dragNode:e.dragNode?(0,Z.F)(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(y),dropToGap:x!==0,dropPosition:x+Number(A[A.length-1])};d||R==null||R(Y),e.dragNode=null}}}),(0,k.Z)((0,W.Z)(e),"cleanDragState",function(){var t=e.state.draggingNodeKey;t!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),(0,k.Z)((0,W.Z)(e),"triggerExpandActionExpand",function(t,a){var n=e.state,d=n.expandedKeys,l=n.flattenNodes,y=a.expanded,x=a.key,m=a.isLeaf;if(!(m||t.shiftKey||t.metaKey||t.ctrlKey)){var b=l.filter(function(R){return R.key===x})[0],E=(0,Z.F)((0,ne.Z)((0,ne.Z)({},(0,Z.H8)(x,e.getTreeNodeRequiredProps())),{},{data:b.data}));e.setExpandedKeys(y?(0,_._5)(d,x):(0,_.L0)(d,x)),e.onNodeExpand(t,E)}}),(0,k.Z)((0,W.Z)(e),"onNodeClick",function(t,a){var n=e.props,d=n.onClick,l=n.expandAction;l==="click"&&e.triggerExpandActionExpand(t,a),d==null||d(t,a)}),(0,k.Z)((0,W.Z)(e),"onNodeDoubleClick",function(t,a){var n=e.props,d=n.onDoubleClick,l=n.expandAction;l==="doubleClick"&&e.triggerExpandActionExpand(t,a),d==null||d(t,a)}),(0,k.Z)((0,W.Z)(e),"onNodeSelect",function(t,a){var n=e.state.selectedKeys,d=e.state,l=d.keyEntities,y=d.fieldNames,x=e.props,m=x.onSelect,b=x.multiple,E=a.selected,R=a[y.key],V=!E;V?b?n=(0,_.L0)(n,R):n=[R]:n=(0,_._5)(n,R);var P=n.map(function(A){var Y=(0,$e.Z)(l,A);return Y?Y.node:null}).filter(function(A){return A});e.setUncontrolledState({selectedKeys:n}),m==null||m(n,{event:"select",selected:V,node:a,selectedNodes:P,nativeEvent:t.nativeEvent})}),(0,k.Z)((0,W.Z)(e),"onNodeCheck",function(t,a,n){var d=e.state,l=d.keyEntities,y=d.checkedKeys,x=d.halfCheckedKeys,m=e.props,b=m.checkStrictly,E=m.onCheck,R=a.key,V,P={event:"check",node:a,checked:n,nativeEvent:t.nativeEvent};if(b){var A=n?(0,_.L0)(y,R):(0,_._5)(y,R),Y=(0,_._5)(x,R);V={checked:A,halfChecked:Y},P.checkedNodes=A.map(function(Ke){return(0,$e.Z)(l,Ke)}).filter(function(Ke){return Ke}).map(function(Ke){return Ke.node}),e.setUncontrolledState({checkedKeys:A})}else{var q=(0,Te.S)([].concat((0,xe.Z)(y),[R]),!0,l),ve=q.checkedKeys,ie=q.halfCheckedKeys;if(!n){var se=new Set(ve);se.delete(R);var de=(0,Te.S)(Array.from(se),{checked:!1,halfCheckedKeys:ie},l);ve=de.checkedKeys,ie=de.halfCheckedKeys}V=ve,P.checkedNodes=[],P.checkedNodesPositions=[],P.halfCheckedKeys=ie,ve.forEach(function(Ke){var ee=(0,$e.Z)(l,Ke);if(ee){var Me=ee.node,Re=ee.pos;P.checkedNodes.push(Me),P.checkedNodesPositions.push({node:Me,pos:Re})}}),e.setUncontrolledState({checkedKeys:ve},!1,{halfCheckedKeys:ie})}E==null||E(V,P)}),(0,k.Z)((0,W.Z)(e),"onNodeLoad",function(t){var a,n=t.key,d=e.state.keyEntities,l=(0,$e.Z)(d,n);if(!(l!=null&&(a=l.children)!==null&&a!==void 0&&a.length)){var y=new Promise(function(x,m){e.setState(function(b){var E=b.loadedKeys,R=E===void 0?[]:E,V=b.loadingKeys,P=V===void 0?[]:V,A=e.props,Y=A.loadData,q=A.onLoad;if(!Y||R.indexOf(n)!==-1||P.indexOf(n)!==-1)return null;var ve=Y(t);return ve.then(function(){var ie=e.state.loadedKeys,se=(0,_.L0)(ie,n);q==null||q(se,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:se}),e.setState(function(de){return{loadingKeys:(0,_._5)(de.loadingKeys,n)}}),x()}).catch(function(ie){if(e.setState(function(de){return{loadingKeys:(0,_._5)(de.loadingKeys,n)}}),e.loadingRetryTimes[n]=(e.loadingRetryTimes[n]||0)+1,e.loadingRetryTimes[n]>=f){var se=e.state.loadedKeys;(0,Ce.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:(0,_.L0)(se,n)}),x()}m(ie)}),{loadingKeys:(0,_.L0)(P,n)}})});return y.catch(function(){}),y}}),(0,k.Z)((0,W.Z)(e),"onNodeMouseEnter",function(t,a){var n=e.props.onMouseEnter;n==null||n({event:t,node:a})}),(0,k.Z)((0,W.Z)(e),"onNodeMouseLeave",function(t,a){var n=e.props.onMouseLeave;n==null||n({event:t,node:a})}),(0,k.Z)((0,W.Z)(e),"onNodeContextMenu",function(t,a){var n=e.props.onRightClick;n&&(t.preventDefault(),n({event:t,node:a}))}),(0,k.Z)((0,W.Z)(e),"onFocus",function(){var t=e.props.onFocus;e.setState({focused:!0});for(var a=arguments.length,n=new Array(a),d=0;d<a;d++)n[d]=arguments[d];t==null||t.apply(void 0,n)}),(0,k.Z)((0,W.Z)(e),"onBlur",function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var a=arguments.length,n=new Array(a),d=0;d<a;d++)n[d]=arguments[d];t==null||t.apply(void 0,n)}),(0,k.Z)((0,W.Z)(e),"getTreeNodeRequiredProps",function(){var t=e.state,a=t.expandedKeys,n=t.selectedKeys,d=t.loadedKeys,l=t.loadingKeys,y=t.checkedKeys,x=t.halfCheckedKeys,m=t.dragOverNodeKey,b=t.dropPosition,E=t.keyEntities;return{expandedKeys:a||[],selectedKeys:n||[],loadedKeys:d||[],loadingKeys:l||[],checkedKeys:y||[],halfCheckedKeys:x||[],dragOverNodeKey:m,dropPosition:b,keyEntities:E}}),(0,k.Z)((0,W.Z)(e),"setExpandedKeys",function(t){var a=e.state,n=a.treeData,d=a.fieldNames,l=(0,Z.oH)(n,t,d);e.setUncontrolledState({expandedKeys:t,flattenNodes:l},!0)}),(0,k.Z)((0,W.Z)(e),"onNodeExpand",function(t,a){var n=e.state.expandedKeys,d=e.state,l=d.listChanging,y=d.fieldNames,x=e.props,m=x.onExpand,b=x.loadData,E=a.expanded,R=a[y.key];if(!l){var V=n.indexOf(R),P=!E;if((0,Ce.ZP)(E&&V!==-1||!E&&V===-1,"Expand state not sync with index check"),P?n=(0,_.L0)(n,R):n=(0,_._5)(n,R),e.setExpandedKeys(n),m==null||m(n,{node:a,expanded:P,nativeEvent:t.nativeEvent}),P&&b){var A=e.onNodeLoad(a);A&&A.then(function(){var Y=(0,Z.oH)(e.state.treeData,n,y);e.setUncontrolledState({flattenNodes:Y})}).catch(function(){var Y=e.state.expandedKeys,q=(0,_._5)(Y,R);e.setExpandedKeys(q)})}}}),(0,k.Z)((0,W.Z)(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),(0,k.Z)((0,W.Z)(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),(0,k.Z)((0,W.Z)(e),"onActiveChange",function(t){var a=e.state.activeKey,n=e.props,d=n.onActiveChange,l=n.itemScrollOffset,y=l===void 0?0:l;a!==t&&(e.setState({activeKey:t}),t!==null&&e.scrollTo({key:t,offset:y}),d==null||d(t))}),(0,k.Z)((0,W.Z)(e),"getActiveItem",function(){var t=e.state,a=t.activeKey,n=t.flattenNodes;return a===null?null:n.find(function(d){var l=d.key;return l===a})||null}),(0,k.Z)((0,W.Z)(e),"offsetActiveKey",function(t){var a=e.state,n=a.flattenNodes,d=a.activeKey,l=n.findIndex(function(m){var b=m.key;return b===d});l===-1&&t<0&&(l=n.length),l=(l+t+n.length)%n.length;var y=n[l];if(y){var x=y.key;e.onActiveChange(x)}else e.onActiveChange(null)}),(0,k.Z)((0,W.Z)(e),"onKeyDown",function(t){var a=e.state,n=a.activeKey,d=a.expandedKeys,l=a.checkedKeys,y=a.fieldNames,x=e.props,m=x.onKeyDown,b=x.checkable,E=x.selectable;switch(t.which){case j.Z.UP:{e.offsetActiveKey(-1),t.preventDefault();break}case j.Z.DOWN:{e.offsetActiveKey(1),t.preventDefault();break}}var R=e.getActiveItem();if(R&&R.data){var V=e.getTreeNodeRequiredProps(),P=R.data.isLeaf===!1||!!(R.data[y.children]||[]).length,A=(0,Z.F)((0,ne.Z)((0,ne.Z)({},(0,Z.H8)(n,V)),{},{data:R.data,active:!0}));switch(t.which){case j.Z.LEFT:{P&&d.includes(n)?e.onNodeExpand({},A):R.parent&&e.onActiveChange(R.parent.key),t.preventDefault();break}case j.Z.RIGHT:{P&&!d.includes(n)?e.onNodeExpand({},A):R.children&&R.children.length&&e.onActiveChange(R.children[0].key),t.preventDefault();break}case j.Z.ENTER:case j.Z.SPACE:{b&&!A.disabled&&A.checkable!==!1&&!A.disableCheckbox?e.onNodeCheck({},A,!l.includes(n)):!b&&E&&!A.disabled&&A.selectable!==!1&&e.onNodeSelect({},A);break}}}m==null||m(t)}),(0,k.Z)((0,W.Z)(e),"setUncontrolledState",function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var d=!1,l=!0,y={};Object.keys(t).forEach(function(x){if(x in e.props){l=!1;return}d=!0,y[x]=t[x]}),d&&(!a||l)&&e.setState((0,ne.Z)((0,ne.Z)({},y),n))}}),(0,k.Z)((0,W.Z)(e),"scrollTo",function(t){e.listRef.current.scrollTo(t)}),e}return(0,U.Z)(K,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var v=this.props,N=v.activeKey,S=v.itemScrollOffset,t=S===void 0?0:S;N!==void 0&&N!==this.state.activeKey&&(this.setState({activeKey:N}),N!==null&&this.scrollTo({key:N,offset:t}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var v=this.state,N=v.focused,S=v.flattenNodes,t=v.keyEntities,a=v.draggingNodeKey,n=v.activeKey,d=v.dropLevelOffset,l=v.dropContainerKey,y=v.dropTargetKey,x=v.dropPosition,m=v.dragOverNodeKey,b=v.indent,E=this.props,R=E.prefixCls,V=E.className,P=E.style,A=E.showLine,Y=E.focusable,q=E.tabIndex,ve=q===void 0?0:q,ie=E.selectable,se=E.showIcon,de=E.icon,Ke=E.switcherIcon,ee=E.draggable,Me=E.checkable,Re=E.checkStrictly,Se=E.disabled,Ye=E.motion,le=E.loadData,Ae=E.filterTreeNode,Qe=E.height,qe=E.itemHeight,at=E.virtual,tt=E.titleRender,Oe=E.dropIndicatorRender,Le=E.onContextMenu,Be=E.onScroll,Ie=E.direction,pe=E.rootClassName,Fe=E.rootStyle,_e=(0,be.Z)(this.props,{aria:!0,data:!0}),Xe;return ee&&((0,Pe.Z)(ee)==="object"?Xe=ee:typeof ee=="function"?Xe={nodeDraggable:ee}:Xe={}),F.createElement(Ne.k.Provider,{value:{prefixCls:R,selectable:ie,showIcon:se,icon:de,switcherIcon:Ke,draggable:Xe,draggingNodeKey:a,checkable:Me,checkStrictly:Re,disabled:Se,keyEntities:t,dropLevelOffset:d,dropContainerKey:l,dropTargetKey:y,dropPosition:x,dragOverNodeKey:m,indent:b,direction:Ie,dropIndicatorRender:Oe,loadData:le,filterTreeNode:Ae,titleRender:tt,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},F.createElement("div",{role:"tree",className:c()(R,V,pe,(0,k.Z)((0,k.Z)((0,k.Z)({},"".concat(R,"-show-line"),A),"".concat(R,"-focused"),N),"".concat(R,"-active-focused"),n!==null)),style:Fe},F.createElement(Ge,(0,ke.Z)({ref:this.listRef,prefixCls:R,style:P,data:S,disabled:Se,selectable:ie,checkable:!!Me,motion:Ye,dragging:a!==null,height:Qe,itemHeight:qe,virtual:at,focusable:Y,focused:N,tabIndex:ve,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:Le,onScroll:Be},this.getTreeNodeRequiredProps(),_e))))}}],[{key:"getDerivedStateFromProps",value:function(v,N){var S=N.prevProps,t={prevProps:v};function a(q){return!S&&q in v||S&&S[q]!==v[q]}var n,d=N.fieldNames;if(a("fieldNames")&&(d=(0,Z.w$)(v.fieldNames),t.fieldNames=d),a("treeData")?n=v.treeData:a("children")&&((0,Ce.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=(0,Z.zn)(v.children)),n){t.treeData=n;var l=(0,Z.I8)(n,{fieldNames:d});t.keyEntities=(0,ne.Z)((0,k.Z)({},z,ye),l.keyEntities)}var y=t.keyEntities||N.keyEntities;if(a("expandedKeys")||S&&a("autoExpandParent"))t.expandedKeys=v.autoExpandParent||!S&&v.defaultExpandParent?(0,_.r7)(v.expandedKeys,y):v.expandedKeys;else if(!S&&v.defaultExpandAll){var x=(0,ne.Z)({},y);delete x[z],t.expandedKeys=Object.keys(x).map(function(q){return x[q].key})}else!S&&v.defaultExpandedKeys&&(t.expandedKeys=v.autoExpandParent||v.defaultExpandParent?(0,_.r7)(v.defaultExpandedKeys,y):v.defaultExpandedKeys);if(t.expandedKeys||delete t.expandedKeys,n||t.expandedKeys){var m=(0,Z.oH)(n||N.treeData,t.expandedKeys||N.expandedKeys,d);t.flattenNodes=m}if(v.selectable&&(a("selectedKeys")?t.selectedKeys=(0,_.BT)(v.selectedKeys,v):!S&&v.defaultSelectedKeys&&(t.selectedKeys=(0,_.BT)(v.defaultSelectedKeys,v))),v.checkable){var b;if(a("checkedKeys")?b=(0,_.E6)(v.checkedKeys)||{}:!S&&v.defaultCheckedKeys?b=(0,_.E6)(v.defaultCheckedKeys)||{}:n&&(b=(0,_.E6)(v.checkedKeys)||{checkedKeys:N.checkedKeys,halfCheckedKeys:N.halfCheckedKeys}),b){var E=b,R=E.checkedKeys,V=R===void 0?[]:R,P=E.halfCheckedKeys,A=P===void 0?[]:P;if(!v.checkStrictly){var Y=(0,Te.S)(V,!0,y);V=Y.checkedKeys,A=Y.halfCheckedKeys}t.checkedKeys=V,t.halfCheckedKeys=A}}return a("loadedKeys")&&(t.loadedKeys=v.loadedKeys),t}}]),K}(F.Component);(0,k.Z)(T,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:fe,allowDrop:function(){return!0},expandAction:!1}),(0,k.Z)(T,"TreeNode",L.Z);var D=T,M=D},37989:function(ut,He,h){h.d(He,{BT:function(){return F},E6:function(){return ge},L0:function(){return k},OM:function(){return Ce},_5:function(){return C},r7:function(){return ae},wA:function(){return c},yx:function(){return re}});var ke=h(40665),Pe=h(63194),ne=h(7432),xe=h(75271),Ze=h(38356),U=h(63559),W=h(133),De=null;function C(o,g){if(!o)return[];var O=o.slice(),w=O.indexOf(g);return w>=0&&O.splice(w,1),O}function k(o,g){var O=(o||[]).slice();return O.indexOf(g)===-1&&O.push(g),O}function re(o){return o.split("-")}function c(o,g){var O=[],w=(0,U.Z)(g,o);function L(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];G.forEach(function(Z){var J=Z.key,r=Z.children;O.push(J),L(r)})}return L(w.children),O}function j(o){if(o.parent){var g=re(o.pos);return Number(g[g.length-1])===o.parent.children.length-1}return!1}function be(o){var g=re(o.pos);return Number(g[g.length-1])===0}function Ce(o,g,O,w,L,G,Z,J,r,te){var B,oe=o.clientX,s=o.clientY,u=o.target.getBoundingClientRect(),I=u.top,$=u.height,z=(te==="rtl"?-1:1)*(((L==null?void 0:L.x)||0)-oe),he=(z-12)/w,ye=r.filter(function(i){var p;return(p=J[i])===null||p===void 0||(p=p.children)===null||p===void 0?void 0:p.length}),Q=(0,U.Z)(J,O.props.eventKey);if(s<I+$/2){var Ee=Z.findIndex(function(i){return i.key===Q.key}),me=Ee<=0?0:Ee-1,Ue=Z[me].key;Q=(0,U.Z)(J,Ue)}var je=Q.key,Ge=Q,_=Q.key,Te=0,$e=0;if(!ye.includes(je))for(var f=0;f<he&&j(Q);f+=1)Q=Q.parent,$e+=1;var T=g.props.data,D=Q.node,M=!0;return be(Q)&&Q.level===0&&s<I+$/2&&G({dragNode:T,dropNode:D,dropPosition:-1})&&Q.key===O.props.eventKey?Te=-1:(Ge.children||[]).length&&ye.includes(_)?G({dragNode:T,dropNode:D,dropPosition:0})?Te=0:M=!1:$e===0?he>-1.5?G({dragNode:T,dropNode:D,dropPosition:1})?Te=1:M=!1:G({dragNode:T,dropNode:D,dropPosition:0})?Te=0:G({dragNode:T,dropNode:D,dropPosition:1})?Te=1:M=!1:G({dragNode:T,dropNode:D,dropPosition:1})?Te=1:M=!1,{dropPosition:Te,dropLevelOffset:$e,dropTargetKey:Q.key,dropTargetPos:Q.pos,dragOverNodeKey:_,dropContainerKey:Te===0?null:((B=Q.parent)===null||B===void 0?void 0:B.key)||null,dropAllowed:M}}function F(o,g){if(o){var O=g.multiple;return O?o.slice():o.length?[o[0]]:o}}var Ne=function(g){return g};function fe(o,g){if(!o)return[];var O=g||{},w=O.processProps,L=w===void 0?Ne:w,G=Array.isArray(o)?o:[o];return G.map(function(Z){var J=Z.children,r=_objectWithoutProperties(Z,De),te=fe(J,g);return React.createElement(TreeNode,_extends({key:r.key},L(r)),te)})}function ge(o){if(!o)return null;var g;if(Array.isArray(o))g={checkedKeys:o,halfCheckedKeys:void 0};else if((0,Pe.Z)(o)==="object")g={checkedKeys:o.checked||void 0,halfCheckedKeys:o.halfChecked||void 0};else return(0,ne.ZP)(!1,"`checkedKeys` is not an array or an object"),null;return g}function ae(o,g){var O=new Set;function w(L){if(!O.has(L)){var G=(0,U.Z)(g,L);if(G){O.add(L);var Z=G.parent,J=G.node;J.disabled||Z&&w(Z.key)}}}return(o||[]).forEach(function(L){w(L)}),(0,ke.Z)(O)}},88394:function(ut,He,h){h.d(He,{S:function(){return W}});var ke=h(7432),Pe=h(63559);function ne(De,C){var k=new Set;return De.forEach(function(re){C.has(re)||k.add(re)}),k}function xe(De){var C=De||{},k=C.disabled,re=C.disableCheckbox,c=C.checkable;return!!(k||re)||c===!1}function Ze(De,C,k,re){for(var c=new Set(De),j=new Set,be=0;be<=k;be+=1){var Ce=C.get(be)||new Set;Ce.forEach(function(ge){var ae=ge.key,o=ge.node,g=ge.children,O=g===void 0?[]:g;c.has(ae)&&!re(o)&&O.filter(function(w){return!re(w.node)}).forEach(function(w){c.add(w.key)})})}for(var F=new Set,Ne=k;Ne>=0;Ne-=1){var fe=C.get(Ne)||new Set;fe.forEach(function(ge){var ae=ge.parent,o=ge.node;if(!(re(o)||!ge.parent||F.has(ge.parent.key))){if(re(ge.parent.node)){F.add(ae.key);return}var g=!0,O=!1;(ae.children||[]).filter(function(w){return!re(w.node)}).forEach(function(w){var L=w.key,G=c.has(L);g&&!G&&(g=!1),!O&&(G||j.has(L))&&(O=!0)}),g&&c.add(ae.key),O&&j.add(ae.key),F.add(ae.key)}})}return{checkedKeys:Array.from(c),halfCheckedKeys:Array.from(ne(j,c))}}function U(De,C,k,re,c){for(var j=new Set(De),be=new Set(C),Ce=0;Ce<=re;Ce+=1){var F=k.get(Ce)||new Set;F.forEach(function(ae){var o=ae.key,g=ae.node,O=ae.children,w=O===void 0?[]:O;!j.has(o)&&!be.has(o)&&!c(g)&&w.filter(function(L){return!c(L.node)}).forEach(function(L){j.delete(L.key)})})}be=new Set;for(var Ne=new Set,fe=re;fe>=0;fe-=1){var ge=k.get(fe)||new Set;ge.forEach(function(ae){var o=ae.parent,g=ae.node;if(!(c(g)||!ae.parent||Ne.has(ae.parent.key))){if(c(ae.parent.node)){Ne.add(o.key);return}var O=!0,w=!1;(o.children||[]).filter(function(L){return!c(L.node)}).forEach(function(L){var G=L.key,Z=j.has(G);O&&!Z&&(O=!1),!w&&(Z||be.has(G))&&(w=!0)}),O||j.delete(o.key),w&&be.add(o.key),Ne.add(o.key)}})}return{checkedKeys:Array.from(j),halfCheckedKeys:Array.from(ne(be,j))}}function W(De,C,k,re){var c=[],j;re?j=re:j=xe;var be=new Set(De.filter(function(fe){var ge=!!(0,Pe.Z)(k,fe);return ge||c.push(fe),ge})),Ce=new Map,F=0;Object.keys(k).forEach(function(fe){var ge=k[fe],ae=ge.level,o=Ce.get(ae);o||(o=new Set,Ce.set(ae,o)),o.add(ge),F=Math.max(F,ae)}),(0,ke.ZP)(!c.length,"Tree missing follow keys: ".concat(c.slice(0,100).map(function(fe){return"'".concat(fe,"'")}).join(", ")));var Ne;return C===!0?Ne=Ze(be,Ce,F,j):Ne=U(be,C.halfCheckedKeys,Ce,F,j),Ne}},63559:function(ut,He,h){h.d(He,{Z:function(){return ke}});function ke(Pe,ne){return Pe[ne]}},133:function(ut,He,h){h.d(He,{F:function(){return ae},H8:function(){return ge},I8:function(){return fe},km:function(){return c},oH:function(){return F},w$:function(){return j},zn:function(){return Ce}});var ke=h(63194),Pe=h(40665),ne=h(88598),xe=h(58424),Ze=h(22615),U=h(2021),W=h(7432),De=h(63559),C=["children"];function k(o,g){return"".concat(o,"-").concat(g)}function re(o){return o&&o.type&&o.type.isTreeNode}function c(o,g){return o!=null?o:g}function j(o){var g=o||{},O=g.title,w=g._title,L=g.key,G=g.children,Z=O||"title";return{title:Z,_title:w||[Z],key:L||"key",children:G||"children"}}function be(o,g){var O=new Map;function w(L){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(L||[]).forEach(function(Z){var J=Z[g.key],r=Z[g.children];warning(J!=null,"Tree node must have a certain key: [".concat(G).concat(J,"]"));var te=String(J);warning(!O.has(te)||J===null||J===void 0,"Same 'key' exist in the Tree: ".concat(te)),O.set(te,!0),w(r,"".concat(G).concat(te," > "))})}w(o)}function Ce(o){function g(O){var w=(0,Ze.Z)(O);return w.map(function(L){if(!re(L))return(0,W.ZP)(!L,"Tree/TreeNode can only accept TreeNode as children."),null;var G=L.key,Z=L.props,J=Z.children,r=(0,xe.Z)(Z,C),te=(0,ne.Z)({key:G},r),B=g(J);return B.length&&(te.children=B),te}).filter(function(L){return L})}return g(o)}function F(o,g,O){var w=j(O),L=w._title,G=w.key,Z=w.children,J=new Set(g===!0?[]:g),r=[];function te(B){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return B.map(function(s,u){for(var I=k(oe?oe.pos:"0",u),$=c(s[G],I),z,he=0;he<L.length;he+=1){var ye=L[he];if(s[ye]!==void 0){z=s[ye];break}}var Q=Object.assign((0,U.Z)(s,[].concat((0,Pe.Z)(L),[G,Z])),{title:z,key:$,parent:oe,pos:I,children:null,data:s,isStart:[].concat((0,Pe.Z)(oe?oe.isStart:[]),[u===0]),isEnd:[].concat((0,Pe.Z)(oe?oe.isEnd:[]),[u===B.length-1])});return r.push(Q),g===!0||J.has($)?Q.children=te(s[Z]||[],Q):Q.children=[],Q})}return te(o),r}function Ne(o,g,O){var w={};(0,ke.Z)(O)==="object"?w=O:w={externalGetKey:O},w=w||{};var L=w,G=L.childrenPropName,Z=L.externalGetKey,J=L.fieldNames,r=j(J),te=r.key,B=r.children,oe=G||B,s;Z?typeof Z=="string"?s=function($){return $[Z]}:typeof Z=="function"&&(s=function($){return Z($)}):s=function($,z){return c($[te],z)};function u(I,$,z,he){var ye=I?I[oe]:o,Q=I?k(z.pos,$):"0",Ee=I?[].concat((0,Pe.Z)(he),[I]):[];if(I){var me=s(I,Q),Ue={node:I,index:$,pos:Q,key:me,parentPos:z.node?z.pos:null,level:z.level+1,nodes:Ee};g(Ue)}ye&&ye.forEach(function(je,Ge){u(je,Ge,{node:I,pos:Q,level:z?z.level+1:-1},Ee)})}u(null)}function fe(o){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=g.initWrapper,w=g.processEntity,L=g.onProcessFinished,G=g.externalGetKey,Z=g.childrenPropName,J=g.fieldNames,r=arguments.length>2?arguments[2]:void 0,te=G||r,B={},oe={},s={posEntities:B,keyEntities:oe};return O&&(s=O(s)||s),Ne(o,function(u){var I=u.node,$=u.index,z=u.pos,he=u.key,ye=u.parentPos,Q=u.level,Ee=u.nodes,me={node:I,nodes:Ee,index:$,key:he,pos:z,level:Q},Ue=c(he,z);B[z]=me,oe[Ue]=me,me.parent=B[ye],me.parent&&(me.parent.children=me.parent.children||[],me.parent.children.push(me)),w&&w(me,s)},{externalGetKey:te,childrenPropName:Z,fieldNames:J}),L&&L(s),s}function ge(o,g){var O=g.expandedKeys,w=g.selectedKeys,L=g.loadedKeys,G=g.loadingKeys,Z=g.checkedKeys,J=g.halfCheckedKeys,r=g.dragOverNodeKey,te=g.dropPosition,B=g.keyEntities,oe=(0,De.Z)(B,o),s={eventKey:o,expanded:O.indexOf(o)!==-1,selected:w.indexOf(o)!==-1,loaded:L.indexOf(o)!==-1,loading:G.indexOf(o)!==-1,checked:Z.indexOf(o)!==-1,halfChecked:J.indexOf(o)!==-1,pos:String(oe?oe.pos:""),dragOver:r===o&&te===0,dragOverGapTop:r===o&&te===-1,dragOverGapBottom:r===o&&te===1};return s}function ae(o){var g=o.data,O=o.expanded,w=o.selected,L=o.checked,G=o.loaded,Z=o.loading,J=o.halfChecked,r=o.dragOver,te=o.dragOverGapTop,B=o.dragOverGapBottom,oe=o.pos,s=o.active,u=o.eventKey,I=(0,ne.Z)((0,ne.Z)({},g),{},{expanded:O,selected:w,checked:L,loaded:G,loading:Z,halfChecked:J,dragOver:r,dragOverGapTop:te,dragOverGapBottom:B,pos:oe,active:s,key:u});return"props"in I||Object.defineProperty(I,"props",{get:function(){return(0,W.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),o}}),I}},39591:function(ut,He,h){h.d(He,{Z:function(){return $e}});var ke=h(89856),Pe=h(63194),ne=h(88598),xe=h(30985),Ze=h(97171),U=h(58424),W=h(82187),De=h.n(W),C=h(28526),k=h(28774),re=h(40570),c=h(75271),j=h(30967),be=c.forwardRef(function(f,T){var D=f.height,M=f.offsetY,i=f.offsetX,p=f.children,K=f.prefixCls,e=f.onInnerResize,v=f.innerProps,N=f.rtl,S=f.extra,t={},a={display:"flex",flexDirection:"column"};return M!==void 0&&(t={height:D,position:"relative",overflow:"hidden"},a=(0,ne.Z)((0,ne.Z)({},a),{},(0,xe.Z)((0,xe.Z)((0,xe.Z)((0,xe.Z)((0,xe.Z)({transform:"translateY(".concat(M,"px)")},N?"marginRight":"marginLeft",-i),"position","absolute"),"left",0),"right",0),"top",0))),c.createElement("div",{style:t},c.createElement(C.Z,{onResize:function(d){var l=d.offsetHeight;l&&e&&e()}},c.createElement("div",(0,ke.Z)({style:a,className:De()((0,xe.Z)({},"".concat(K,"-holder-inner"),K)),ref:T},v),p,S)))});be.displayName="Filler";var Ce=be;function F(f){var T=f.children,D=f.setRef,M=c.useCallback(function(i){D(i)},[]);return c.cloneElement(T,{ref:M})}function Ne(f,T,D,M,i,p,K,e){var v=e.getKey;return f.slice(T,D+1).map(function(N,S){var t=T+S,a=K(N,t,{style:{width:M},offsetX:i}),n=v(N);return c.createElement(F,{key:n,setRef:function(l){return p(N,l)}},a)})}function fe(f,T,D,M){var i=D-f,p=T-D,K=Math.min(i,p)*2;if(M<=K){var e=Math.floor(M/2);return M%2?D+e+1:D-e}return i>p?D-(M-p):D+(M-i)}function ge(f,T,D){var M=f.length,i=T.length,p,K;if(M===0&&i===0)return null;M<i?(p=f,K=T):(p=T,K=f);var e={__EMPTY_ITEM__:!0};function v(d){return d!==void 0?D(d):e}for(var N=null,S=Math.abs(M-i)!==1,t=0;t<K.length;t+=1){var a=v(p[t]),n=v(K[t]);if(a!==n){N=t,S=S||a!==v(K[t+1]);break}}return N===null?null:{index:N,multiple:S}}function ae(f,T,D){var M=c.useState(f),i=(0,Ze.Z)(M,2),p=i[0],K=i[1],e=c.useState(null),v=(0,Ze.Z)(e,2),N=v[0],S=v[1];return c.useEffect(function(){var t=ge(p||[],f||[],T);(t==null?void 0:t.index)!==void 0&&(D==null||D(t.index),S(f[t.index])),K(f)},[f]),[N]}var o=h(15363),g=(typeof navigator=="undefined"?"undefined":(0,Pe.Z)(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),O=g,w=function(f,T,D,M){var i=(0,c.useRef)(!1),p=(0,c.useRef)(null);function K(){clearTimeout(p.current),i.current=!0,p.current=setTimeout(function(){i.current=!1},50)}var e=(0,c.useRef)({top:f,bottom:T,left:D,right:M});return e.current.top=f,e.current.bottom=T,e.current.left=D,e.current.right=M,function(v,N){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=v?N<0&&e.current.left||N>0&&e.current.right:N<0&&e.current.top||N>0&&e.current.bottom;return S&&t?(clearTimeout(p.current),i.current=!1):(!t||i.current)&&K(),!i.current&&t}};function L(f,T,D,M,i,p,K){var e=(0,c.useRef)(0),v=(0,c.useRef)(null),N=(0,c.useRef)(null),S=(0,c.useRef)(!1),t=w(T,D,M,i);function a(m,b){o.Z.cancel(v.current),e.current+=b,N.current=b,!t(!1,b)&&(O||m.preventDefault(),v.current=(0,o.Z)(function(){var E=S.current?10:1;K(e.current*E),e.current=0}))}function n(m,b){K(b,!0),O||m.preventDefault()}var d=(0,c.useRef)(null),l=(0,c.useRef)(null);function y(m){if(f){o.Z.cancel(l.current),l.current=(0,o.Z)(function(){d.current=null},2);var b=m.deltaX,E=m.deltaY,R=m.shiftKey,V=b,P=E;(d.current==="sx"||!d.current&&R&&E&&!b)&&(V=E,P=0,d.current="sx");var A=Math.abs(V),Y=Math.abs(P);d.current===null&&(d.current=p&&A>Y?"x":"y"),d.current==="y"?a(m,P):n(m,V)}}function x(m){f&&(S.current=m.detail===N.current)}return[y,x]}function G(f,T,D,M){var i=c.useMemo(function(){return[new Map,[]]},[f,D.id,M]),p=(0,Ze.Z)(i,2),K=p[0],e=p[1],v=function(S){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S,a=K.get(S),n=K.get(t);if(a===void 0||n===void 0)for(var d=f.length,l=e.length;l<d;l+=1){var y,x=f[l],m=T(x);K.set(m,l);var b=(y=D.get(m))!==null&&y!==void 0?y:M;if(e[l]=(e[l-1]||0)+b,m===S&&(a=l),m===t&&(n=l),a!==void 0&&n!==void 0)break}return{top:e[a-1]||0,bottom:e[n]}};return v}var Z=h(74194),J=h(71479),r=h(38172),te=function(){function f(){(0,J.Z)(this,f),(0,xe.Z)(this,"maps",void 0),(0,xe.Z)(this,"id",0),this.maps=Object.create(null)}return(0,r.Z)(f,[{key:"set",value:function(D,M){this.maps[D]=M,this.id+=1}},{key:"get",value:function(D){return this.maps[D]}}]),f}(),B=te;function oe(f,T,D){var M=c.useState(0),i=(0,Ze.Z)(M,2),p=i[0],K=i[1],e=(0,c.useRef)(new Map),v=(0,c.useRef)(new B),N=(0,c.useRef)();function S(){o.Z.cancel(N.current)}function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;S();var d=function(){e.current.forEach(function(y,x){if(y&&y.offsetParent){var m=(0,Z.ZP)(y),b=m.offsetHeight;v.current.get(x)!==b&&v.current.set(x,m.offsetHeight)}}),K(function(y){return y+1})};n?d():N.current=(0,o.Z)(d)}function a(n,d){var l=f(n),y=e.current.get(l);d?(e.current.set(l,d),t()):e.current.delete(l),!y!=!d&&(d?T==null||T(n):D==null||D(n))}return(0,c.useEffect)(function(){return S},[]),[a,t,v.current,p]}var s=14/15;function u(f,T,D){var M=(0,c.useRef)(!1),i=(0,c.useRef)(0),p=(0,c.useRef)(0),K=(0,c.useRef)(null),e=(0,c.useRef)(null),v,N=function(n){if(M.current){var d=Math.ceil(n.touches[0].pageX),l=Math.ceil(n.touches[0].pageY),y=i.current-d,x=p.current-l,m=Math.abs(y)>Math.abs(x);m?i.current=d:p.current=l,D(m,m?y:x)&&n.preventDefault(),clearInterval(e.current),e.current=setInterval(function(){m?y*=s:x*=s;var b=Math.floor(m?y:x);(!D(m,b,!0)||Math.abs(b)<=.1)&&clearInterval(e.current)},16)}},S=function(){M.current=!1,v()},t=function(n){v(),n.touches.length===1&&!M.current&&(M.current=!0,i.current=Math.ceil(n.touches[0].pageX),p.current=Math.ceil(n.touches[0].pageY),K.current=n.target,K.current.addEventListener("touchmove",N,{passive:!1}),K.current.addEventListener("touchend",S,{passive:!0}))};v=function(){K.current&&(K.current.removeEventListener("touchmove",N),K.current.removeEventListener("touchend",S))},(0,re.Z)(function(){return f&&T.current.addEventListener("touchstart",t,{passive:!0}),function(){var a;(a=T.current)===null||a===void 0||a.removeEventListener("touchstart",t),v(),clearInterval(e.current)}},[f])}var I=10;function $(f,T,D,M,i,p,K,e){var v=c.useRef(),N=c.useState(null),S=(0,Ze.Z)(N,2),t=S[0],a=S[1];return(0,re.Z)(function(){if(t&&t.times<I){if(!f.current){a(function(Se){return(0,ne.Z)({},Se)});return}p();var n=t.targetAlign,d=t.originAlign,l=t.index,y=t.offset,x=f.current.clientHeight,m=!1,b=n,E=null;if(x){for(var R=n||d,V=0,P=0,A=0,Y=Math.min(T.length-1,l),q=0;q<=Y;q+=1){var ve=i(T[q]);P=V;var ie=D.get(ve);A=P+(ie===void 0?M:ie),V=A}for(var se=R==="top"?y:x-y,de=Y;de>=0;de-=1){var Ke=i(T[de]),ee=D.get(Ke);if(ee===void 0){m=!0;break}if(se-=ee,se<=0)break}switch(R){case"top":E=P-y;break;case"bottom":E=A-x+y;break;default:{var Me=f.current.scrollTop,Re=Me+x;P<Me?b="top":A>Re&&(b="bottom")}}E!==null&&K(E),E!==t.lastTop&&(m=!0)}m&&a((0,ne.Z)((0,ne.Z)({},t),{},{times:t.times+1,targetAlign:b,lastTop:E}))}},[t,f.current]),function(n){if(n==null){e();return}if(o.Z.cancel(v.current),typeof n=="number")K(n);else if(n&&(0,Pe.Z)(n)==="object"){var d,l=n.align;"index"in n?d=n.index:d=T.findIndex(function(m){return i(m)===n.key});var y=n.offset,x=y===void 0?0:y;a({times:0,index:d,offset:x,originAlign:l})}}}function z(f,T){var D="touches"in f?f.touches[0]:f;return D[T?"pageX":"pageY"]}var he=c.forwardRef(function(f,T){var D=f.prefixCls,M=f.rtl,i=f.scrollOffset,p=f.scrollRange,K=f.onStartMove,e=f.onStopMove,v=f.onScroll,N=f.horizontal,S=f.spinSize,t=f.containerSize,a=f.style,n=f.thumbStyle,d=c.useState(!1),l=(0,Ze.Z)(d,2),y=l[0],x=l[1],m=c.useState(null),b=(0,Ze.Z)(m,2),E=b[0],R=b[1],V=c.useState(null),P=(0,Ze.Z)(V,2),A=P[0],Y=P[1],q=!M,ve=c.useRef(),ie=c.useRef(),se=c.useState(!1),de=(0,Ze.Z)(se,2),Ke=de[0],ee=de[1],Me=c.useRef(),Re=function(){clearTimeout(Me.current),ee(!0),Me.current=setTimeout(function(){ee(!1)},3e3)},Se=p-t||0,Ye=t-S||0,le=c.useMemo(function(){if(i===0||Se===0)return 0;var Ie=i/Se;return Ie*Ye},[i,Se,Ye]),Ae=function(pe){pe.stopPropagation(),pe.preventDefault()},Qe=c.useRef({top:le,dragging:y,pageY:E,startTop:A});Qe.current={top:le,dragging:y,pageY:E,startTop:A};var qe=function(pe){x(!0),R(z(pe,N)),Y(Qe.current.top),K(),pe.stopPropagation(),pe.preventDefault()};c.useEffect(function(){var Ie=function(Xe){Xe.preventDefault()},pe=ve.current,Fe=ie.current;return pe.addEventListener("touchstart",Ie,{passive:!1}),Fe.addEventListener("touchstart",qe,{passive:!1}),function(){pe.removeEventListener("touchstart",Ie),Fe.removeEventListener("touchstart",qe)}},[]);var at=c.useRef();at.current=Se;var tt=c.useRef();tt.current=Ye,c.useEffect(function(){if(y){var Ie,pe=function(Xe){var ot=Qe.current,pt=ot.dragging,it=ot.pageY,gt=ot.startTop;o.Z.cancel(Ie);var ft=ve.current.getBoundingClientRect(),st=t/(N?ft.width:ft.height);if(pt){var nt=(z(Xe,N)-it)*st,lt=gt;!q&&N?lt-=nt:lt+=nt;var dt=at.current,yt=tt.current,mt=yt?lt/yt:0,ce=Math.ceil(mt*dt);ce=Math.max(ce,0),ce=Math.min(ce,dt),Ie=(0,o.Z)(function(){v(ce,N)})}},Fe=function(){x(!1),e()};return window.addEventListener("mousemove",pe,{passive:!0}),window.addEventListener("touchmove",pe,{passive:!0}),window.addEventListener("mouseup",Fe,{passive:!0}),window.addEventListener("touchend",Fe,{passive:!0}),function(){window.removeEventListener("mousemove",pe),window.removeEventListener("touchmove",pe),window.removeEventListener("mouseup",Fe),window.removeEventListener("touchend",Fe),o.Z.cancel(Ie)}}},[y]),c.useEffect(function(){return Re(),function(){clearTimeout(Me.current)}},[i]),c.useImperativeHandle(T,function(){return{delayHidden:Re}});var Oe="".concat(D,"-scrollbar"),Le={position:"absolute",visibility:Ke?null:"hidden"},Be={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return N?(Le.height=8,Le.left=0,Le.right=0,Le.bottom=0,Be.height="100%",Be.width=S,q?Be.left=le:Be.right=le):(Le.width=8,Le.top=0,Le.bottom=0,q?Le.right=0:Le.left=0,Be.width="100%",Be.height=S,Be.top=le),c.createElement("div",{ref:ve,className:De()(Oe,(0,xe.Z)((0,xe.Z)((0,xe.Z)({},"".concat(Oe,"-horizontal"),N),"".concat(Oe,"-vertical"),!N),"".concat(Oe,"-visible"),Ke)),style:(0,ne.Z)((0,ne.Z)({},Le),a),onMouseDown:Ae,onMouseMove:Re},c.createElement("div",{ref:ie,className:De()("".concat(Oe,"-thumb"),(0,xe.Z)({},"".concat(Oe,"-thumb-moving"),y)),style:(0,ne.Z)((0,ne.Z)({},Be),n),onMouseDown:qe}))}),ye=he,Q=20;function Ee(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=f/T*f;return isNaN(D)&&(D=0),D=Math.max(D,Q),Math.floor(D)}var me=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],Ue=[],je={overflowY:"auto",overflowAnchor:"none"};function Ge(f,T){var D=f.prefixCls,M=D===void 0?"rc-virtual-list":D,i=f.className,p=f.height,K=f.itemHeight,e=f.fullHeight,v=e===void 0?!0:e,N=f.style,S=f.data,t=f.children,a=f.itemKey,n=f.virtual,d=f.direction,l=f.scrollWidth,y=f.component,x=y===void 0?"div":y,m=f.onScroll,b=f.onVirtualScroll,E=f.onVisibleChange,R=f.innerProps,V=f.extraRender,P=f.styles,A=(0,U.Z)(f,me),Y=c.useCallback(function(X){return typeof a=="function"?a(X):X==null?void 0:X[a]},[a]),q=oe(Y,null,null),ve=(0,Ze.Z)(q,4),ie=ve[0],se=ve[1],de=ve[2],Ke=ve[3],ee=!!(n!==!1&&p&&K),Me=c.useMemo(function(){return Object.values(de.maps).reduce(function(X,H){return X+H},0)},[de.id,de.maps]),Re=ee&&S&&(Math.max(K*S.length,Me)>p||!!l),Se=d==="rtl",Ye=De()(M,(0,xe.Z)({},"".concat(M,"-rtl"),Se),i),le=S||Ue,Ae=(0,c.useRef)(),Qe=(0,c.useRef)(),qe=(0,c.useRef)(),at=(0,c.useState)(0),tt=(0,Ze.Z)(at,2),Oe=tt[0],Le=tt[1],Be=(0,c.useState)(0),Ie=(0,Ze.Z)(Be,2),pe=Ie[0],Fe=Ie[1],_e=(0,c.useState)(!1),Xe=(0,Ze.Z)(_e,2),ot=Xe[0],pt=Xe[1],it=function(){pt(!0)},gt=function(){pt(!1)},ft={getKey:Y};function st(X){Le(function(H){var ue;typeof X=="function"?ue=X(H):ue=X;var we=jt(ue);return Ae.current.scrollTop=we,we})}var nt=(0,c.useRef)({start:0,end:le.length}),lt=(0,c.useRef)(),dt=ae(le,Y),yt=(0,Ze.Z)(dt,1),mt=yt[0];lt.current=mt;var ce=c.useMemo(function(){if(!ee)return{scrollHeight:void 0,start:0,end:le.length-1,offset:void 0};if(!Re){var X;return{scrollHeight:((X=Qe.current)===null||X===void 0?void 0:X.offsetHeight)||0,start:0,end:le.length-1,offset:void 0}}for(var H=0,ue,we,ct,qt=le.length,Kt=0;Kt<qt;Kt+=1){var en=le[Kt],tn=Y(en),Bt=de.get(tn),bt=H+(Bt===void 0?K:Bt);bt>=Oe&&ue===void 0&&(ue=Kt,we=H),bt>Oe+p&&ct===void 0&&(ct=Kt),H=bt}return ue===void 0&&(ue=0,we=0,ct=Math.ceil(p/K)),ct===void 0&&(ct=le.length-1),ct=Math.min(ct+1,le.length-1),{scrollHeight:H,start:ue,end:ct,offset:we}},[Re,ee,Oe,le,Ke,p]),We=ce.scrollHeight,Ve=ce.start,Je=ce.end,et=ce.offset;nt.current.start=Ve,nt.current.end=Je;var rt=c.useState({width:0,height:p}),vt=(0,Ze.Z)(rt,2),ze=vt[0],ht=vt[1],Mt=function(H){ht({width:H.offsetWidth,height:H.offsetHeight})},Rt=(0,c.useRef)(),Pt=(0,c.useRef)(),Wt=c.useMemo(function(){return Ee(ze.width,l)},[ze.width,l]),zt=c.useMemo(function(){return Ee(ze.height,We)},[ze.height,We]),Zt=We-p,xt=(0,c.useRef)(Zt);xt.current=Zt;function jt(X){var H=X;return Number.isNaN(xt.current)||(H=Math.min(H,xt.current)),H=Math.max(H,0),H}var Tt=Oe<=0,Ot=Oe>=Zt,Lt=pe<=0,It=pe>=l,Yt=w(Tt,Ot,Lt,It),Ct=function(){return{x:Se?-pe:pe,y:Oe}},Nt=(0,c.useRef)(Ct()),St=(0,k.zX)(function(X){if(b){var H=(0,ne.Z)((0,ne.Z)({},Ct()),X);(Nt.current.x!==H.x||Nt.current.y!==H.y)&&(b(H),Nt.current=H)}});function wt(X,H){var ue=X;H?((0,j.flushSync)(function(){Fe(ue)}),St()):st(ue)}function Gt(X){var H=X.currentTarget.scrollTop;H!==Oe&&st(H),m==null||m(X),St()}var kt=function(H){var ue=H,we=l?l-ze.width:0;return ue=Math.max(ue,0),ue=Math.min(ue,we),ue},Xt=(0,k.zX)(function(X,H){H?((0,j.flushSync)(function(){Fe(function(ue){var we=ue+(Se?-X:X);return kt(we)})}),St()):st(function(ue){var we=ue+X;return we})}),Vt=L(ee,Tt,Ot,Lt,It,!!l,Xt),$t=(0,Ze.Z)(Vt,2),Dt=$t[0],At=$t[1];u(ee,Ae,function(X,H,ue){return Yt(X,H,ue)?!1:(Dt({preventDefault:function(){},deltaX:X?H:0,deltaY:X?0:H}),!0)}),(0,re.Z)(function(){function X(ue){ee&&ue.preventDefault()}var H=Ae.current;return H.addEventListener("wheel",Dt,{passive:!1}),H.addEventListener("DOMMouseScroll",At,{passive:!0}),H.addEventListener("MozMousePixelScroll",X,{passive:!1}),function(){H.removeEventListener("wheel",Dt),H.removeEventListener("DOMMouseScroll",At),H.removeEventListener("MozMousePixelScroll",X)}},[ee]),(0,re.Z)(function(){if(l){var X=kt(pe);Fe(X),St({x:X})}},[ze.width,l]);var Ft=function(){var H,ue;(H=Rt.current)===null||H===void 0||H.delayHidden(),(ue=Pt.current)===null||ue===void 0||ue.delayHidden()},Ht=$(Ae,le,de,K,Y,function(){return se(!0)},st,Ft);c.useImperativeHandle(T,function(){return{nativeElement:qe.current,getScrollInfo:Ct,scrollTo:function(H){function ue(we){return we&&(0,Pe.Z)(we)==="object"&&("left"in we||"top"in we)}ue(H)?(H.left!==void 0&&Fe(kt(H.left)),Ht(H.top)):Ht(H)}}}),(0,re.Z)(function(){if(E){var X=le.slice(Ve,Je+1);E(X,le)}},[Ve,Je,le]);var Jt=G(le,Y,de,K),Qt=V==null?void 0:V({start:Ve,end:Je,virtual:Re,offsetX:pe,offsetY:et,rtl:Se,getSize:Jt}),_t=Ne(le,Ve,Je,l,pe,ie,t,ft),Et=null;p&&(Et=(0,ne.Z)((0,xe.Z)({},v?"height":"maxHeight",p),je),ee&&(Et.overflowY="hidden",l&&(Et.overflowX="hidden"),ot&&(Et.pointerEvents="none")));var Ut={};return Se&&(Ut.dir="rtl"),c.createElement("div",(0,ke.Z)({ref:qe,style:(0,ne.Z)((0,ne.Z)({},N),{},{position:"relative"}),className:Ye},Ut,A),c.createElement(C.Z,{onResize:Mt},c.createElement(x,{className:"".concat(M,"-holder"),style:Et,ref:Ae,onScroll:Gt,onMouseEnter:Ft},c.createElement(Ce,{prefixCls:M,height:We,offsetX:pe,offsetY:et,scrollWidth:l,onInnerResize:se,ref:Qe,innerProps:R,rtl:Se,extra:Qt},_t))),Re&&We>p&&c.createElement(ye,{ref:Rt,prefixCls:M,scrollOffset:Oe,scrollRange:We,rtl:Se,onScroll:wt,onStartMove:it,onStopMove:gt,spinSize:zt,containerSize:ze.height,style:P==null?void 0:P.verticalScrollBar,thumbStyle:P==null?void 0:P.verticalScrollBarThumb}),Re&&l>ze.width&&c.createElement(ye,{ref:Pt,prefixCls:M,scrollOffset:pe,scrollRange:l,rtl:Se,onScroll:wt,onStartMove:it,onStopMove:gt,spinSize:Wt,containerSize:ze.width,horizontal:!0,style:P==null?void 0:P.horizontalScrollBar,thumbStyle:P==null?void 0:P.horizontalScrollBarThumb}))}var _=c.forwardRef(Ge);_.displayName="List";var Te=_,$e=Te}}]);
