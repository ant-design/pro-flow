!(function(){var ou=Object.defineProperty,iu=Object.defineProperties;var su=Object.getOwnPropertyDescriptors;var wa=Object.getOwnPropertySymbols;var Gc=Object.prototype.hasOwnProperty,Xc=Object.prototype.propertyIsEnumerable;var Yc=B=>{throw TypeError(B)},ja=Math.pow,Kc=(B,j,h)=>j in B?ou(B,j,{enumerable:!0,configurable:!0,writable:!0,value:h}):B[j]=h,Nt=(B,j)=>{for(var h in j||(j={}))Gc.call(j,h)&&Kc(B,h,j[h]);if(wa)for(var h of wa(j))Xc.call(j,h)&&Kc(B,h,j[h]);return B},Vn=(B,j)=>iu(B,su(j));var Ai=(B,j)=>{var h={};for(var i in B)Gc.call(B,i)&&j.indexOf(i)<0&&(h[i]=B[i]);if(B!=null&&wa)for(var i of wa(B))j.indexOf(i)<0&&Xc.call(B,i)&&(h[i]=B[i]);return h};var Za=(B,j,h)=>j.has(B)||Yc("Cannot "+h);var He=(B,j,h)=>(Za(B,j,"read from private field"),h?h.call(B):j.get(B)),Gn=(B,j,h)=>j.has(B)?Yc("Cannot add the same private member more than once"):j instanceof WeakSet?j.add(B):j.set(B,h),po=(B,j,h,i)=>(Za(B,j,"write to private field"),i?i.call(B,h):j.set(B,h),h),zo=(B,j,h)=>(Za(B,j,"access private method"),h);var Ks=(B,j,h,i)=>({set _(O){po(B,j,O,h)},get _(){return He(B,j,i)}});var Jc=(B,j,h)=>new Promise((i,O)=>{var _=b=>{try{x(h.next(b))}catch(u){O(u)}},T=b=>{try{x(h.throw(b))}catch(u){O(u)}},x=b=>b.done?i(b.value):Promise.resolve(b.value).then(_,T);x((h=h.apply(B,j)).next())});(self.webpackChunk_ant_design_pro_flow=self.webpackChunk_ant_design_pro_flow||[]).push([[8743],{66662:function(B,j,h){"use strict";h.d(j,{Z:function(){return y}});var i=h(89856),O=h(75271),_={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},T=_,x=h(43952),b=function(I,U){return O.createElement(x.Z,(0,i.Z)({},I,{ref:U,icon:T}))},u=O.forwardRef(b),y=u},68666:function(B,j,h){"use strict";h.d(j,{Z:function(){return y}});var i=h(89856),O=h(75271),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M342 88H120c-17.7 0-32 14.3-32 32v224c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V168h174c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zm578 576h-48c-8.8 0-16 7.2-16 16v176H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h222c17.7 0 32-14.3 32-32V680c0-8.8-7.2-16-16-16zM342 856H168V680c0-8.8-7.2-16-16-16h-48c-8.8 0-16 7.2-16 16v224c0 17.7 14.3 32 32 32h222c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zM904 88H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h174v176c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V120c0-17.7-14.3-32-32-32z"}}]},name:"expand",theme:"outlined"},T=_,x=h(43952),b=function(I,U){return O.createElement(x.Z,(0,i.Z)({},I,{ref:U,icon:T}))},u=O.forwardRef(b),y=u},90673:function(B,j,h){"use strict";h.d(j,{Z:function(){return y}});var i=h(89856),O=h(75271),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},T=_,x=h(43952),b=function(I,U){return O.createElement(x.Z,(0,i.Z)({},I,{ref:U,icon:T}))},u=O.forwardRef(b),y=u},22500:function(B,j,h){"use strict";h.d(j,{Z:function(){return y}});var i=h(89856),O=h(75271),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},T=_,x=h(43952),b=function(I,U){return O.createElement(x.Z,(0,i.Z)({},I,{ref:U,icon:T}))},u=O.forwardRef(b),y=u},91970:function(B,j,h){"use strict";h.d(j,{Z:function(){return y}});var i=h(89856),O=h(75271),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},T=_,x=h(43952),b=function(I,U){return O.createElement(x.Z,(0,i.Z)({},I,{ref:U,icon:T}))},u=O.forwardRef(b),y=u},90386:function(B,j,h){"use strict";h.d(j,{Z:function(){return y}});var i=h(89856),O=h(75271),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},T=_,x=h(43952),b=function(I,U){return O.createElement(x.Z,(0,i.Z)({},I,{ref:U,icon:T}))},u=O.forwardRef(b),y=u},15309:function(B,j,h){"use strict";h.d(j,{Z:function(){return y}});var i=h(89856),O=h(75271),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},T=_,x=h(43952),b=function(I,U){return O.createElement(x.Z,(0,i.Z)({},I,{ref:U,icon:T}))},u=O.forwardRef(b),y=u},2467:function(B,j,h){"use strict";h.d(j,{Z:function(){return Ve}});var i=h(88598),O=h(58424),_=h(92430),T=h(7331),x=h(39841),b=h(23755),u=h(97403),y,C,I,U=(0,u.kc)(function(ce,ue){var K=ce.token,ne=ce.css,re=ce.cx,$=ce.prefixCls,Q=ue.size,ae=ue.className,oe="".concat($,"-").concat(K.editorPrefix,"-icon"),Ee=typeof Q=="number"?ne(y||(y=(0,b.Z)([`
          width: `,`px !important;
          height: `,`px !important;
        `])),Q,Q):"",Le=ne(C||(C=(0,b.Z)([`
    display: flex;
    align-items: center;
    justify-content: center;

    &:hover {
      color: `,` !important;
    }

    &:active {
      scale: 0.8;
      color: `,`;
    }

    transition: color 600ms `,", scale 400ms ",`,
      background-color 100ms `,`;
  `])),K.colorText,K.colorText,K.motionEaseOut,K.motionEaseOut,K.motionEaseOut);return{container:re(oe,Le,Ee,ae),tooltip:ne(I||(I=(0,b.Z)([`
      pointer-events: none;
    `])))}}),D=h(52676),Y=["placement","title","icon","cursor","onClick","className","arrow","size","tooltipDelay"],G=function(ue){var K=ue.placement,ne=ue.title,re=ue.icon,$=ue.cursor,Q=ue.onClick,ae=ue.className,oe=ue.arrow,Ee=oe===void 0?!1:oe,Le=ue.size,R=Le===void 0?"default":Le,J=ue.tooltipDelay,ke=J===void 0?.5:J,xe=(0,O.Z)(ue,Y),Ze=U({size:R}),Z=Ze.styles,ie=Ze.cx,Se=(0,D.jsx)(_.ZP,(0,i.Z)((0,i.Z)({icon:re,className:ie(Z.container,ae),type:"text",style:{cursor:$},size:typeof R=="number"||R==="default"?"middle":R},xe),{},{onClick:Q}));return(0,D.jsx)(D.Fragment,{children:ne?(0,D.jsx)(T.Z,{arrow:Ee,overlayClassName:Z.tooltip,title:ne,mouseEnterDelay:ke,placement:K,children:Se}):Se})},de=function(ue){var K=ue||{},ne=K.size,re=U({size:ne}),$=re.theme;return(0,D.jsx)(x.iV,{componentToken:{Button:{colorText:$.colorTextTertiary,colorBgTextHover:$.colorFillSecondary,colorBgTextActive:$.colorFill}},children:(0,D.jsx)(G,(0,i.Z)({},ue))})},Ve=de},39841:function(B,j,h){"use strict";h.d(j,{iV:function(){return Le}});var i=h(88598),O=h(18626),_=h(54915),T=h(8076),x=h(89465),b=function(ke,xe){var Ze=x.Z.darkAlgorithm(ke,xe);return(0,i.Z)((0,i.Z)({},Ze),{},{colorBgLayout:"#20252b",colorBgContainer:"#282c34",colorBgElevated:"#32363e"})},u=function(ke){var xe={algorithm:[x.Z.compactAlgorithm]};return ke==="dark"&&xe.algorithm.push(b),xe},y=h(97403),C=function(){return{focusedOutlineColor:"#4c9ffe",colorTypeBoolean:"#D8C152",colorTypeNumber:"#5295C4",colorTypeString:"#149E6D",colorTypeBoolArray:"#D8C152",colorTypeNumberArray:"#239BEF",colorTypeStringArray:"#62AE8D"}},I=C({}),U=h(23755),D=h(24151),Y,G,de,Ve,ce,ue,K,ne,re,$,Q,ae=function(ke){var xe=ke.token,Ze=ke.css,Z=Ze(Y||(Y=(0,U.Z)([`
    cursor: pointer;
    transition: 150ms background-color ease-in-out;
    &:hover {
      background: `,`;
    }
  `])),xe.colorFillQuaternary),ie=Ze(G||(G=(0,U.Z)([`
    color: `,`;
    background-color: `,`;
    border-color: transparent;
  `])),xe.colorText,xe.colorFillTertiary),Se=Ze(de||(de=(0,U.Z)([`
    color: `,` !important;
    background-color: `,` !important;
    border-color: `,` !important;
    box-shadow: none;
  `])),xe.colorText,xe.colorFillQuaternary,xe.colorPrimary),Ge=Ze(Ve||(Ve=(0,U.Z)([`
    color: `,`;
    background: `,`;
    border-color: transparent;
  `])),xe.colorTextSecondary,xe.colorFillQuaternary);return{defaultButton:Ze(ce||(ce=(0,U.Z)([`
      `,`;

      &:hover {
        color: `,` !important;
        background: `,` !important;
        border-color: transparent !important;
      }
      &:focus {
        `,`;
        border-color: `,` !important;
      }
    `])),Ge,xe.colorText,xe.colorFillSecondary,Ge,xe.colorPrimary),textInfo:Ze(ue||(ue=(0,U.Z)([`
      color: `,`;
      &:hover {
        color: `,`;
      }
    `])),xe.colorTextSecondary,xe.colorText),textDefault:Ze(K||(K=(0,U.Z)([`
      color: `,`;
    `])),xe.colorTextSecondary),containerBgHover:Ze(ne||(ne=(0,U.Z)([`
      cursor: pointer;
      transition: 150ms background-color ease-in-out;

      &:hover {
        background: `,`;
      }
    `])),xe.colorFillQuaternary),containerBgL2:Ze(re||(re=(0,U.Z)([`
      `,`;
      border-radius: 4px;
      background: `,`;

      &:hover {
        background: `,`;
      }
    `])),Z,xe.colorFillQuaternary,xe.colorFillTertiary),controlContainerFocused:Se,controlContainer:Ze($||($=(0,U.Z)([`
      &:hover {
        `,`
      }
      &:focus {
        `,`
      }
    `])),ie,Se),backgroundBlur:Ze(Q||(Q=(0,U.Z)([`
      background: `,`;
      backdrop-filter: blur(10px);
    `])),(0,D.DZ)(.4)(xe.colorBgElevated))}},oe=h(52676),Ee=function(ke){var xe=(0,_.S)(),Ze=u(ke),Z={colorBgContainer:xe==null?void 0:xe.colorFillQuaternary,colorBorder:"transparent",controlOutline:"transparent"};return Ze.components={Input:Z,InputNumber:Z,Select:Z,Tree:{colorBgContainer:"transparent"},TreeSelect:Z},Ze},Le=function(ke){var xe=ke.children,Ze=ke.componentToken,Z=(0,T.r)(),ie=Z.appearance,Se=Z.themeMode,Ge=Ee(ie);return Ge.components=(0,i.Z)((0,i.Z)({},Ge.components),Ze),(0,oe.jsx)(O.ZP,{theme:Ge,children:(0,oe.jsx)(y.f6,{appearance:ie,themeMode:Se,theme:u,customToken:C,customStylish:ae,children:xe})})},R=function(ke){return function(xe){return _jsx(Le,{children:_jsx(ke,_objectSpread({},xe))})}}},69809:function(B,j,h){"use strict";h.d(j,{Z:function(){return Tt}});var i=h(88598),O=h(97171),_=h(58424),T=h(37187),x=h(9585),b=h(93828),u=h(8212),y=h(75271),C=h(39841),I=h(30985),U=h(90142),D=h(52676),Y=2.2,G="13px",de=function(){return(0,D.jsx)("svg",{fill:"none",height:G,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:Y,viewBox:"0 0 24 24",width:G,xmlns:"http://www.w3.org/2000/svg",children:(0,D.jsx)("path",{d:"M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"})})},Ve=function(){return(0,D.jsx)("svg",{className:"lucide lucide-chevron-up",fill:"none",height:G,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:Y,viewBox:"0 0 24 24",width:G,xmlns:"http://www.w3.org/2000/svg",children:(0,D.jsx)("polyline",{points:"18 15 12 9 6 15"})})},ce=function(){return(0,D.jsx)("svg",{className:"lucide lucide-chevron-up",fill:"none",height:G,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:Y,viewBox:"0 0 24 24",width:G,xmlns:"http://www.w3.org/2000/svg",children:(0,D.jsx)("path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z"})})},ue=function(){return(0,D.jsxs)("svg",{className:"lucide lucide-chevron-up",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",height:G,strokeWidth:Y,width:G,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,D.jsx)("path",{d:"M3 3h6l6 18h6"}),(0,D.jsx)("path",{d:"M14 3h7"})]})},K=function(he){var ve=he.className;return(0,D.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:G,width:G,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:Y,strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-right ".concat(ve),children:(0,D.jsx)("polyline",{points:"9 18 15 12 9 6"})})},ne=h(23755),re=h(97403),$,Q,ae,oe,Ee,Le=(0,re.kc)(function(X){var he=X.css,ve=X.cx,be=X.token,Pe=X.prefixCls,ut="".concat(Pe,"-").concat(be.editorPrefix,"-context-menu"),mt=he($||($=(0,ne.Z)([`
    font-weight: bold;
    color: `,`;
    background: `,`;
    &:hover {
      color: `,`;
      background: `,`;
    }
  `])),be.colorPrimaryText,be.colorPrimaryBg,be.colorPrimaryTextHover,be.colorPrimaryBgHover);return{item:ve("".concat(ut,"-item"),he(Q||(Q=(0,ne.Z)([`
        all: unset;

        user-select: none;
        scroll-margin: 50px;

        display: flex;
        align-items: center;
        justify-content: space-between;

        box-sizing: inherit;
        width: 100%;
        padding: 12px 10px;

        font-family: `,`;
        font-weight: normal;
        line-height: 1;
        color: `,`;

        background: transparent;
        border-radius: 5px;
        &:hover {
          background: `,`;
        }
      `])),be.fontFamily,be.colorText,be.colorFillTertiary)),selected:ve("".concat(ut,"-item-selected"),mt),active:ve("".concat(ut,"-item-active"),he(ae||(ae=(0,ne.Z)([`
        background: `,`;
      `])),be.colorFillTertiary)),arrow:he(oe||(oe=(0,ne.Z)([`
      color: `,`;
    `])),be.colorTextTertiary),kbd:he(Ee||(Ee=(0,ne.Z)([`
      display: flex;
      align-items: center;
      justify-content: center;

      width: 18px;
      height: 20px;

      font-family: `,`;
      font-size: 14px;
      color: `,`;

      border-radius: 2px;
    `])),be.fontFamily,be.colorTextQuaternary)}}),R=["label","icon","disabled","nested","shortcut","active","selected"],J={meta:(0,D.jsx)(de,{}),control:(0,D.jsx)(Ve,{}),shift:(0,D.jsx)(ce,{}),alt:(0,D.jsx)(ue,{}),enter:"\u21B5"},ke={meta:"meta",command:"meta",cmd:"meta",ctl:"control",control:"control",shift:"shift",alt:"alt"},xe=(0,y.forwardRef)(function(X,he){var ve=X.label,be=X.icon,Pe=X.disabled,ut=X.nested,mt=X.shortcut,$t=X.active,Jt=X.selected,Ie=(0,_.Z)(X,R),Me=Le(),We=Me.styles,$e=Me.cx;return(0,D.jsxs)("button",(0,i.Z)((0,i.Z)({type:"button"},Ie),{},{className:$e(We.item,(0,I.Z)((0,I.Z)({},We.selected,Jt),We.active,$t)),disabled:Pe,ref:he,role:"menuitem",children:[(0,D.jsxs)(U.D,{gap:8,horizontal:!0,children:[be&&(0,D.jsx)("span",{children:be}),ve]}),ut?(0,D.jsx)("span",{"aria-hidden":!0,children:(0,D.jsx)(K,{className:We.arrow})}):mt?(0,D.jsx)(U.D,{align:"center",horizontal:!0,children:mt.map(function(me){var Ut=ke[me.toLowerCase()];return(0,D.jsx)("kbd",{className:We.kbd,children:Ut?J[Ut]:me.toUpperCase()},me)})}):null]}))}),Ze=xe,Z,ie,Se=(0,re.kc)(function(X){var he=X.css,ve=X.cx,be=X.token,Pe=X.prefixCls,ut="".concat(Pe,"-").concat(be.editorPrefix,"-context-menu");return{container:ve(ut,he(Z||(Z=(0,ne.Z)([`
        all: unset;
        user-select: none;
        scrollbar-width: none;

        overflow-y: auto;
        overscroll-behavior: contain;

        box-sizing: border-box;
        width: 200px;
        padding: 5px;

        font-size: `,`px;

        background: `,`;
        border: 1px solid `,`;
        border-radius: 8px;
        outline: 0;
        box-shadow: `,`;

        &::-webkit-scrollbar {
          display: none;
        }
      `])),be.fontSize,be.colorBgContainer,be.colorBorder,be.boxShadowSecondary)),button:ve("".concat(ut,"-button"),he(ie||(ie=(0,ne.Z)([`
        all: unset;

        cursor: default;
        user-select: none;

        padding: 12px 10px;

        font-size: `,`px;
        line-height: 1;
        color: `,`;

        background: `,`;
        border: 1px solid `,`;
        border-radius: `,`px;

        -webkit-tap-highlight-color: transparent;

        &:hover {
          background: `,`;
          border-color: transparent;
        }

        &:focus-visible {
          border-color: `,`;
          box-shadow: 0 0 0 2px `,`;
        }
      `])),be.fontSize,be.colorText,be.colorBgContainer,be.colorBorder,be.borderRadius,be.colorPrimaryBg,be.colorPrimary,be.colorPrimaryBg))}}),Ge=["items","label","container"],Et=(0,y.forwardRef)(function(X,he){var ve=X.items,be=X.label,Pe=X.container,ut=(0,_.Z)(X,Ge),mt=Se(),$t=mt.styles,Jt=(0,y.useState)(!1),Ie=(0,O.Z)(Jt,2),Me=Ie[0],We=Ie[1],$e=(0,y.useState)(null),me=(0,O.Z)($e,2),Ut=me[0],yn=me[1],mn=(0,y.useState)(!1),kn=(0,O.Z)(mn,2),Tn=kn[0],vn=kn[1],On=(0,y.useRef)([]),Ln=(0,y.useRef)(ve.map(function(vt){return vt.label})),An=(0,y.useRef)(!1),cn=(0,T.ay)(),M=(0,T.jV)(),W=(0,T.Zm)(),ye=W!==null,Ne=(0,T.YF)({nodeId:M,open:Me,onOpenChange:We,placement:ye?"right-start":"bottom-start",middleware:[(0,x.cv)({mainAxis:ye?0:4,alignmentAxis:ye?-4:0}),(0,x.RR)(),(0,x.uY)()],whileElementsMounted:b.Me}),Xe=Ne.refs,yt=Ne.context,xt=Ne.floatingStyles,ht=(0,T.XI)(yt,{enabled:ye&&Tn,delay:{open:75},handleClose:(0,T.xp)({blockPointerEvents:!0})}),ze=(0,T.eS)(yt,{event:"mousedown",toggle:!ye||!Tn,ignoreMouse:ye}),Je=(0,T.qs)(yt,{role:"menu"}),zt=(0,T.bQ)(yt),un=(0,T.c0)(yt,{listRef:On,activeIndex:Ut,nested:ye,onNavigate:yn}),Vt=(0,T.ox)(yt,{enabled:Me,listRef:Ln,onMatch:Me?yn:void 0,activeIndex:Ut}),tn=(0,T.NI)([ht,ze,Je,zt,un,Vt]),Qt=tn.getReferenceProps,qt=tn.getFloatingProps,wn=tn.getItemProps;(0,y.useEffect)(function(){if(!cn)return;function vt(){We(!1)}function Lt(Ot){Ot.nodeId!==M&&Ot.parentId===W&&We(!1)}return cn.events.on("click",vt),cn.events.on("menuopen",Lt),function(){cn.events.off("click",vt),cn.events.off("menuopen",Lt)}},[cn,M,W]),(0,y.useEffect)(function(){Me&&cn&&cn.events.emit("menuopen",{parentId:W,nodeId:M})},[cn,Me,M,W]),(0,y.useEffect)(function(){function vt(Ot){var st=Ot.pointerType;st!=="touch"&&vn(!0)}function Lt(){vn(!1)}return window.addEventListener("pointermove",vt,{once:!0,capture:!0}),window.addEventListener("keydown",Lt,!0),function(){window.removeEventListener("pointermove",vt,{capture:!0}),window.removeEventListener("keydown",Lt,!0)}},[Tn]),(0,y.useEffect)(function(){var vt;function Lt(st){st.preventDefault(),Xe.setPositionReference({getBoundingClientRect:function(){return{width:0,height:0,x:st.clientX,y:st.clientY,top:st.clientY,right:st.clientX,bottom:st.clientY,left:st.clientX}}}),We(!0),clearTimeout(vt),An.current=!1,vt=window.setTimeout(function(){An.current=!0},300)}function Ot(){An.current&&We(!1)}return document.addEventListener("contextmenu",Lt),document.addEventListener("mouseup",Ot),function(){document.removeEventListener("contextmenu",Lt),document.removeEventListener("mouseup",Ot),clearTimeout(vt)}},[Xe,Pe]);var pn=(0,y.useCallback)(function(vt,Lt){if("type"in vt&&vt.type==="divider")return(0,D.jsx)(u.Z,{style:{margin:"4px 12px",minWidth:"auto",width:"auto"}});var Ot=vt,st=(0,i.Z)({label:Ot.label,key:Ot.key,icon:Ot.icon,shortcut:Ot.shortcut,active:Ut===Lt},wn({ref:function(Kt){On.current[Lt]=Kt},onClick:function(){var Kt;(Kt=Ot.onClick)===null||Kt===void 0||Kt.call(Ot),We(!1)},onMouseUp:function(){var Kt;(Kt=Ot.onClick)===null||Kt===void 0||Kt.call(Ot),We(!1)}}));return"children"in vt?(0,D.jsx)(Et,(0,i.Z)((0,i.Z)({},st),{},{items:vt.children})):(0,D.jsx)(Ze,(0,i.Z)({},st))},[Ut]),gn=(0,T.qq)([Xe.setReference,he]);return(0,D.jsxs)(T.mN,{id:M,children:[be?(0,D.jsx)(Ze,(0,i.Z)((0,i.Z)({label:be,nested:ye,ref:gn,role:ye?"menuitem":"menu"},ut),Qt({onClick:function(Lt){Lt.stopPropagation()}}))):null,(0,D.jsx)(T.ll,{children:Me&&(0,D.jsx)(T.wD,{context:yt,initialFocus:ye?-1:0,modal:!1,returnFocus:!ye,children:(0,D.jsx)("div",(0,i.Z)((0,i.Z)({className:$t.container,ref:Xe.setFloating,style:xt},qt()),{},{children:ve==null?void 0:ve.map(pn)}))})})]})}),Wt=(0,y.forwardRef)(function(X,he){return(0,D.jsx)(C.iV,{children:(0,D.jsx)(T.RB,{children:(0,D.jsx)(Et,(0,i.Z)((0,i.Z)({},X),{},{ref:he}))})})}),Tt=Wt},97403:function(B,j,h){"use strict";h.d(j,{f6:function(){return T},kc:function(){return _}});var i=h(79962),O=(0,i.F)({customToken:{editorPrefix:"editor"}}),_=O.createStyles,T=O.ThemeProvider},79511:function(B,j,h){B.exports={graphlib:h(7378),layout:h(2008),debug:h(27710),util:{time:h(20965).time,notime:h(20965).notime},version:h(61360)}},78514:function(B,j,h){"use strict";let i=h(28699),O=h(20965).uniqueId;B.exports={run:_,undo:x};function _(b){(b.graph().acyclicer==="greedy"?i(b,y(b)):T(b)).forEach(C=>{let I=b.edge(C);b.removeEdge(C),I.forwardName=C.name,I.reversed=!0,b.setEdge(C.w,C.v,I,O("rev"))});function y(C){return I=>C.edge(I).weight}}function T(b){let u=[],y={},C={};function I(U){C.hasOwnProperty(U)||(C[U]=!0,y[U]=!0,b.outEdges(U).forEach(D=>{y.hasOwnProperty(D.w)?u.push(D):I(D.w)}),delete y[U])}return b.nodes().forEach(I),u}function x(b){b.edges().forEach(u=>{let y=b.edge(u);if(y.reversed){b.removeEdge(u);let C=y.forwardName;delete y.reversed,delete y.forwardName,b.setEdge(u.w,u.v,y,C)}})}},59702:function(B,j,h){let i=h(20965);B.exports=O;function O(T){function x(b){let u=T.children(b),y=T.node(b);if(u.length&&u.forEach(x),y.hasOwnProperty("minRank")){y.borderLeft=[],y.borderRight=[];for(let C=y.minRank,I=y.maxRank+1;C<I;++C)_(T,"borderLeft","_bl",b,y,C),_(T,"borderRight","_br",b,y,C)}}T.children().forEach(x)}function _(T,x,b,u,y,C){let I={width:0,height:0,rank:C,borderType:x},U=y[x][C-1],D=i.addDummyNode(T,"border",I,b);y[x][C]=D,T.setParent(D,u),U&&T.setEdge(U,D,{weight:1})}},43543:function(B){"use strict";B.exports={adjust:j,undo:h};function j(u){let y=u.graph().rankdir.toLowerCase();(y==="lr"||y==="rl")&&i(u)}function h(u){let y=u.graph().rankdir.toLowerCase();(y==="bt"||y==="rl")&&_(u),(y==="lr"||y==="rl")&&(x(u),i(u))}function i(u){u.nodes().forEach(y=>O(u.node(y))),u.edges().forEach(y=>O(u.edge(y)))}function O(u){let y=u.width;u.width=u.height,u.height=y}function _(u){u.nodes().forEach(y=>T(u.node(y))),u.edges().forEach(y=>{let C=u.edge(y);C.points.forEach(T),C.hasOwnProperty("y")&&T(C)})}function T(u){u.y=-u.y}function x(u){u.nodes().forEach(y=>b(u.node(y))),u.edges().forEach(y=>{let C=u.edge(y);C.points.forEach(b),C.hasOwnProperty("x")&&b(C)})}function b(u){let y=u.x;u.x=u.y,u.y=y}},20668:function(B){class j{constructor(){let _={};_._next=_._prev=_,this._sentinel=_}dequeue(){let _=this._sentinel,T=_._prev;if(T!==_)return h(T),T}enqueue(_){let T=this._sentinel;_._prev&&_._next&&h(_),_._next=T._next,T._next._prev=_,T._next=_,_._prev=T}toString(){let _=[],T=this._sentinel,x=T._prev;for(;x!==T;)_.push(JSON.stringify(x,i)),x=x._prev;return"["+_.join(", ")+"]"}}function h(O){O._prev._next=O._next,O._next._prev=O._prev,delete O._next,delete O._prev}function i(O,_){if(O!=="_next"&&O!=="_prev")return _}B.exports=j},27710:function(B,j,h){let i=h(20965),O=h(7378).Graph;B.exports={debugOrdering:_};function _(T){let x=i.buildLayerMatrix(T),b=new O({compound:!0,multigraph:!0}).setGraph({});return T.nodes().forEach(u=>{b.setNode(u,{label:u}),b.setParent(u,"layer"+T.node(u).rank)}),T.edges().forEach(u=>b.setEdge(u.v,u.w,{},u.name)),x.forEach((u,y)=>{let C="layer"+y;b.setNode(C,{rank:"same"}),u.reduce((I,U)=>(b.setEdge(I,U,{style:"invis"}),U))}),b}},28699:function(B,j,h){let i=h(7378).Graph,O=h(20668);B.exports=T;let _=()=>1;function T(I,U){if(I.nodeCount()<=1)return[];let D=u(I,U||_);return x(D.graph,D.buckets,D.zeroIdx).flatMap(G=>I.outEdges(G.v,G.w))}function x(I,U,D){let Y=[],G=U[U.length-1],de=U[0],Ve;for(;I.nodeCount();){for(;Ve=de.dequeue();)b(I,U,D,Ve);for(;Ve=G.dequeue();)b(I,U,D,Ve);if(I.nodeCount()){for(let ce=U.length-2;ce>0;--ce)if(Ve=U[ce].dequeue(),Ve){Y=Y.concat(b(I,U,D,Ve,!0));break}}}return Y}function b(I,U,D,Y,G){let de=G?[]:void 0;return I.inEdges(Y.v).forEach(Ve=>{let ce=I.edge(Ve),ue=I.node(Ve.v);G&&de.push({v:Ve.v,w:Ve.w}),ue.out-=ce,y(U,D,ue)}),I.outEdges(Y.v).forEach(Ve=>{let ce=I.edge(Ve),ue=Ve.w,K=I.node(ue);K.in-=ce,y(U,D,K)}),I.removeNode(Y.v),de}function u(I,U){let D=new i,Y=0,G=0;I.nodes().forEach(ce=>{D.setNode(ce,{v:ce,in:0,out:0})}),I.edges().forEach(ce=>{let ue=D.edge(ce.v,ce.w)||0,K=U(ce),ne=ue+K;D.setEdge(ce.v,ce.w,ne),G=Math.max(G,D.node(ce.v).out+=K),Y=Math.max(Y,D.node(ce.w).in+=K)});let de=C(G+Y+3).map(()=>new O),Ve=Y+1;return D.nodes().forEach(ce=>{y(de,Ve,D.node(ce))}),{graph:D,buckets:de,zeroIdx:Ve}}function y(I,U,D){D.out?D.in?I[D.out-D.in+U].enqueue(D):I[I.length-1].enqueue(D):I[0].enqueue(D)}function C(I){const U=[];for(let D=0;D<I;D++)U.push(D);return U}},2008:function(B,j,h){"use strict";let i=h(78514),O=h(88778),_=h(42311),T=h(20965).normalizeRanks,x=h(3409),b=h(20965).removeEmptyRanks,u=h(13122),y=h(59702),C=h(43543),I=h(59009),U=h(3862),D=h(20965),Y=h(7378).Graph;B.exports=G;function G(X,he){let ve=he&&he.debugTiming?D.time:D.notime;ve("layout",()=>{let be=ve("  buildLayoutGraph",()=>oe(X));ve("  runLayout",()=>de(be,ve)),ve("  updateInputGraph",()=>Ve(X,be))})}function de(X,he){he("    makeSpaceForEdgeLabels",()=>Ee(X)),he("    removeSelfEdges",()=>Se(X)),he("    acyclic",()=>i.run(X)),he("    nestingGraph.run",()=>u.run(X)),he("    rank",()=>_(D.asNonCompoundGraph(X))),he("    injectEdgeLabelProxies",()=>Le(X)),he("    removeEmptyRanks",()=>b(X)),he("    nestingGraph.cleanup",()=>u.cleanup(X)),he("    normalizeRanks",()=>T(X)),he("    assignRankMinMax",()=>R(X)),he("    removeEdgeLabelProxies",()=>J(X)),he("    normalize.run",()=>O.run(X)),he("    parentDummyChains",()=>x(X)),he("    addBorderSegments",()=>y(X)),he("    order",()=>I(X)),he("    insertSelfEdges",()=>Ge(X)),he("    adjustCoordinateSystem",()=>C.adjust(X)),he("    position",()=>U(X)),he("    positionSelfEdges",()=>Et(X)),he("    removeBorderNodes",()=>ie(X)),he("    normalize.undo",()=>O.undo(X)),he("    fixupEdgeLabelCoords",()=>Ze(X)),he("    undoCoordinateSystem",()=>C.undo(X)),he("    translateGraph",()=>ke(X)),he("    assignNodeIntersects",()=>xe(X)),he("    reversePoints",()=>Z(X)),he("    acyclic.undo",()=>i.undo(X))}function Ve(X,he){X.nodes().forEach(ve=>{let be=X.node(ve),Pe=he.node(ve);be&&(be.x=Pe.x,be.y=Pe.y,be.rank=Pe.rank,he.children(ve).length&&(be.width=Pe.width,be.height=Pe.height))}),X.edges().forEach(ve=>{let be=X.edge(ve),Pe=he.edge(ve);be.points=Pe.points,Pe.hasOwnProperty("x")&&(be.x=Pe.x,be.y=Pe.y)}),X.graph().width=he.graph().width,X.graph().height=he.graph().height}let ce=["nodesep","edgesep","ranksep","marginx","marginy"],ue={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},K=["acyclicer","ranker","rankdir","align"],ne=["width","height"],re={width:0,height:0},$=["minlen","weight","width","height","labeloffset"],Q={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},ae=["labelpos"];function oe(X){let he=new Y({multigraph:!0,compound:!0}),ve=Tt(X.graph());return he.setGraph(Object.assign({},ue,Wt(ve,ce),D.pick(ve,K))),X.nodes().forEach(be=>{let Pe=Tt(X.node(be));const ut=Wt(Pe,ne);Object.keys(re).forEach(mt=>{ut[mt]===void 0&&(ut[mt]=re[mt])}),he.setNode(be,ut),he.setParent(be,X.parent(be))}),X.edges().forEach(be=>{let Pe=Tt(X.edge(be));he.setEdge(be,Object.assign({},Q,Wt(Pe,$),D.pick(Pe,ae)))}),he}function Ee(X){let he=X.graph();he.ranksep/=2,X.edges().forEach(ve=>{let be=X.edge(ve);be.minlen*=2,be.labelpos.toLowerCase()!=="c"&&(he.rankdir==="TB"||he.rankdir==="BT"?be.width+=be.labeloffset:be.height+=be.labeloffset)})}function Le(X){X.edges().forEach(he=>{let ve=X.edge(he);if(ve.width&&ve.height){let be=X.node(he.v),ut={rank:(X.node(he.w).rank-be.rank)/2+be.rank,e:he};D.addDummyNode(X,"edge-proxy",ut,"_ep")}})}function R(X){let he=0;X.nodes().forEach(ve=>{let be=X.node(ve);be.borderTop&&(be.minRank=X.node(be.borderTop).rank,be.maxRank=X.node(be.borderBottom).rank,he=Math.max(he,be.maxRank))}),X.graph().maxRank=he}function J(X){X.nodes().forEach(he=>{let ve=X.node(he);ve.dummy==="edge-proxy"&&(X.edge(ve.e).labelRank=ve.rank,X.removeNode(he))})}function ke(X){let he=Number.POSITIVE_INFINITY,ve=0,be=Number.POSITIVE_INFINITY,Pe=0,ut=X.graph(),mt=ut.marginx||0,$t=ut.marginy||0;function Jt(Ie){let Me=Ie.x,We=Ie.y,$e=Ie.width,me=Ie.height;he=Math.min(he,Me-$e/2),ve=Math.max(ve,Me+$e/2),be=Math.min(be,We-me/2),Pe=Math.max(Pe,We+me/2)}X.nodes().forEach(Ie=>Jt(X.node(Ie))),X.edges().forEach(Ie=>{let Me=X.edge(Ie);Me.hasOwnProperty("x")&&Jt(Me)}),he-=mt,be-=$t,X.nodes().forEach(Ie=>{let Me=X.node(Ie);Me.x-=he,Me.y-=be}),X.edges().forEach(Ie=>{let Me=X.edge(Ie);Me.points.forEach(We=>{We.x-=he,We.y-=be}),Me.hasOwnProperty("x")&&(Me.x-=he),Me.hasOwnProperty("y")&&(Me.y-=be)}),ut.width=ve-he+mt,ut.height=Pe-be+$t}function xe(X){X.edges().forEach(he=>{let ve=X.edge(he),be=X.node(he.v),Pe=X.node(he.w),ut,mt;ve.points?(ut=ve.points[0],mt=ve.points[ve.points.length-1]):(ve.points=[],ut=Pe,mt=be),ve.points.unshift(D.intersectRect(be,ut)),ve.points.push(D.intersectRect(Pe,mt))})}function Ze(X){X.edges().forEach(he=>{let ve=X.edge(he);if(ve.hasOwnProperty("x"))switch((ve.labelpos==="l"||ve.labelpos==="r")&&(ve.width-=ve.labeloffset),ve.labelpos){case"l":ve.x-=ve.width/2+ve.labeloffset;break;case"r":ve.x+=ve.width/2+ve.labeloffset;break}})}function Z(X){X.edges().forEach(he=>{let ve=X.edge(he);ve.reversed&&ve.points.reverse()})}function ie(X){X.nodes().forEach(he=>{if(X.children(he).length){let ve=X.node(he),be=X.node(ve.borderTop),Pe=X.node(ve.borderBottom),ut=X.node(ve.borderLeft[ve.borderLeft.length-1]),mt=X.node(ve.borderRight[ve.borderRight.length-1]);ve.width=Math.abs(mt.x-ut.x),ve.height=Math.abs(Pe.y-be.y),ve.x=ut.x+ve.width/2,ve.y=be.y+ve.height/2}}),X.nodes().forEach(he=>{X.node(he).dummy==="border"&&X.removeNode(he)})}function Se(X){X.edges().forEach(he=>{if(he.v===he.w){var ve=X.node(he.v);ve.selfEdges||(ve.selfEdges=[]),ve.selfEdges.push({e:he,label:X.edge(he)}),X.removeEdge(he)}})}function Ge(X){var he=D.buildLayerMatrix(X);he.forEach(ve=>{var be=0;ve.forEach((Pe,ut)=>{var mt=X.node(Pe);mt.order=ut+be,(mt.selfEdges||[]).forEach($t=>{D.addDummyNode(X,"selfedge",{width:$t.label.width,height:$t.label.height,rank:mt.rank,order:ut+ ++be,e:$t.e,label:$t.label},"_se")}),delete mt.selfEdges})})}function Et(X){X.nodes().forEach(he=>{var ve=X.node(he);if(ve.dummy==="selfedge"){var be=X.node(ve.e.v),Pe=be.x+be.width/2,ut=be.y,mt=ve.x-Pe,$t=be.height/2;X.setEdge(ve.e,ve.label),X.removeNode(he),ve.label.points=[{x:Pe+2*mt/3,y:ut-$t},{x:Pe+5*mt/6,y:ut-$t},{x:Pe+mt,y:ut},{x:Pe+5*mt/6,y:ut+$t},{x:Pe+2*mt/3,y:ut+$t}],ve.label.x=ve.x,ve.label.y=ve.y}})}function Wt(X,he){return D.mapValues(D.pick(X,he),Number)}function Tt(X){var he={};return X&&Object.entries(X).forEach(([ve,be])=>{typeof ve=="string"&&(ve=ve.toLowerCase()),he[ve]=be}),he}},13122:function(B,j,h){let i=h(20965);B.exports={run:O,cleanup:b};function O(u){let y=i.addDummyNode(u,"root",{},"_root"),C=T(u),I=Math.max(...Object.values(C))-1,U=2*I+1;u.graph().nestingRoot=y,u.edges().forEach(Y=>u.edge(Y).minlen*=U);let D=x(u)+1;u.children().forEach(Y=>_(u,y,U,D,I,C,Y)),u.graph().nodeRankFactor=U}function _(u,y,C,I,U,D,Y){let G=u.children(Y);if(!G.length){Y!==y&&u.setEdge(y,Y,{weight:0,minlen:C});return}let de=i.addBorderNode(u,"_bt"),Ve=i.addBorderNode(u,"_bb"),ce=u.node(Y);u.setParent(de,Y),ce.borderTop=de,u.setParent(Ve,Y),ce.borderBottom=Ve,G.forEach(ue=>{_(u,y,C,I,U,D,ue);let K=u.node(ue),ne=K.borderTop?K.borderTop:ue,re=K.borderBottom?K.borderBottom:ue,$=K.borderTop?I:2*I,Q=ne!==re?1:U-D[Y]+1;u.setEdge(de,ne,{weight:$,minlen:Q,nestingEdge:!0}),u.setEdge(re,Ve,{weight:$,minlen:Q,nestingEdge:!0})}),u.parent(Y)||u.setEdge(y,de,{weight:0,minlen:U+D[Y]})}function T(u){var y={};function C(I,U){var D=u.children(I);D&&D.length&&D.forEach(Y=>C(Y,U+1)),y[I]=U}return u.children().forEach(I=>C(I,1)),y}function x(u){return u.edges().reduce((y,C)=>y+u.edge(C).weight,0)}function b(u){var y=u.graph();u.removeNode(y.nestingRoot),delete y.nestingRoot,u.edges().forEach(C=>{var I=u.edge(C);I.nestingEdge&&u.removeEdge(C)})}},88778:function(B,j,h){"use strict";let i=h(20965);B.exports={run:O,undo:T};function O(x){x.graph().dummyChains=[],x.edges().forEach(b=>_(x,b))}function _(x,b){let u=b.v,y=x.node(u).rank,C=b.w,I=x.node(C).rank,U=b.name,D=x.edge(b),Y=D.labelRank;if(I===y+1)return;x.removeEdge(b);let G,de,Ve;for(Ve=0,++y;y<I;++Ve,++y)D.points=[],de={width:0,height:0,edgeLabel:D,edgeObj:b,rank:y},G=i.addDummyNode(x,"edge",de,"_d"),y===Y&&(de.width=D.width,de.height=D.height,de.dummy="edge-label",de.labelpos=D.labelpos),x.setEdge(u,G,{weight:D.weight},U),Ve===0&&x.graph().dummyChains.push(G),u=G;x.setEdge(u,C,{weight:D.weight},U)}function T(x){x.graph().dummyChains.forEach(b=>{let u=x.node(b),y=u.edgeLabel,C;for(x.setEdge(u.edgeObj,y);u.dummy;)C=x.successors(b)[0],x.removeNode(b),y.points.push({x:u.x,y:u.y}),u.dummy==="edge-label"&&(y.x=u.x,y.y=u.y,y.width=u.width,y.height=u.height),b=C,u=x.node(b)})}},899:function(B){B.exports=j;function j(h,i,O){let _={},T;O.forEach(x=>{let b=h.parent(x),u,y;for(;b;){if(u=h.parent(b),u?(y=_[u],_[u]=b):(y=T,T=b),y&&y!==b){i.setEdge(y,b);return}b=u}})}},205:function(B){B.exports=j;function j(h,i=[]){return i.map(O=>{let _=h.inEdges(O);if(_.length){let T=_.reduce((x,b)=>{let u=h.edge(b),y=h.node(b.v);return{sum:x.sum+u.weight*y.order,weight:x.weight+u.weight}},{sum:0,weight:0});return{v:O,barycenter:T.sum/T.weight,weight:T.weight}}else return{v:O}})}},41707:function(B,j,h){let i=h(7378).Graph,O=h(20965);B.exports=_;function _(x,b,u){let y=T(x),C=new i({compound:!0}).setGraph({root:y}).setDefaultNodeLabel(I=>x.node(I));return x.nodes().forEach(I=>{let U=x.node(I),D=x.parent(I);(U.rank===b||U.minRank<=b&&b<=U.maxRank)&&(C.setNode(I),C.setParent(I,D||y),x[u](I).forEach(Y=>{let G=Y.v===I?Y.w:Y.v,de=C.edge(G,I),Ve=de!==void 0?de.weight:0;C.setEdge(G,I,{weight:x.edge(Y).weight+Ve})}),U.hasOwnProperty("minRank")&&C.setNode(I,{borderLeft:U.borderLeft[b],borderRight:U.borderRight[b]}))}),C}function T(x){for(var b;x.hasNode(b=O.uniqueId("_root")););return b}},94650:function(B,j,h){"use strict";let i=h(20965).zipObject;B.exports=O;function O(T,x){let b=0;for(let u=1;u<x.length;++u)b+=_(T,x[u-1],x[u]);return b}function _(T,x,b){let u=i(b,b.map((Y,G)=>G)),y=x.flatMap(Y=>T.outEdges(Y).map(G=>({pos:u[G.w],weight:T.edge(G).weight})).sort((G,de)=>G.pos-de.pos)),C=1;for(;C<b.length;)C<<=1;let I=2*C-1;C-=1;let U=new Array(I).fill(0),D=0;return y.forEach(Y=>{let G=Y.pos+C;U[G]+=Y.weight;let de=0;for(;G>0;)G%2&&(de+=U[G+1]),G=G-1>>1,U[G]+=Y.weight;D+=Y.weight*de}),D}},59009:function(B,j,h){"use strict";let i=h(37978),O=h(94650),_=h(85855),T=h(41707),x=h(899),b=h(7378).Graph,u=h(20965);B.exports=y;function y(D){let Y=u.maxRank(D),G=C(D,u.range(1,Y+1),"inEdges"),de=C(D,u.range(Y-1,-1,-1),"outEdges"),Ve=i(D);U(D,Ve);let ce=Number.POSITIVE_INFINITY,ue;for(let K=0,ne=0;ne<4;++K,++ne){I(K%2?G:de,K%4>=2),Ve=u.buildLayerMatrix(D);let re=O(D,Ve);re<ce&&(ne=0,ue=Object.assign({},Ve),ce=re)}U(D,ue)}function C(D,Y,G){return Y.map(function(de){return T(D,de,G)})}function I(D,Y){let G=new b;D.forEach(function(de){let Ve=de.graph().root,ce=_(de,Ve,G,Y);ce.vs.forEach((ue,K)=>de.node(ue).order=K),x(de,G,ce.vs)})}function U(D,Y){Object.values(Y).forEach(G=>G.forEach((de,Ve)=>D.node(de).order=Ve))}},37978:function(B,j,h){"use strict";let i=h(20965);B.exports=O;function O(_){let T={},x=_.nodes().filter(I=>!_.children(I).length),b=Math.max(...x.map(I=>_.node(I).rank)),u=i.range(b+1).map(()=>[]);function y(I){if(T[I])return;T[I]=!0;let U=_.node(I);u[U.rank].push(I),_.successors(I).forEach(y)}return x.sort((I,U)=>_.node(I).rank-_.node(U).rank).forEach(y),u}},55139:function(B,j,h){"use strict";let i=h(20965);B.exports=O;function O(x,b){let u={};x.forEach((C,I)=>{let U=u[C.v]={indegree:0,in:[],out:[],vs:[C.v],i:I};C.barycenter!==void 0&&(U.barycenter=C.barycenter,U.weight=C.weight)}),b.edges().forEach(C=>{let I=u[C.v],U=u[C.w];I!==void 0&&U!==void 0&&(U.indegree++,I.out.push(u[C.w]))});let y=Object.values(u).filter(C=>!C.indegree);return _(y)}function _(x){let b=[];function u(C){return I=>{I.merged||(I.barycenter===void 0||C.barycenter===void 0||I.barycenter>=C.barycenter)&&T(C,I)}}function y(C){return I=>{I.in.push(C),--I.indegree===0&&x.push(I)}}for(;x.length;){let C=x.pop();b.push(C),C.in.reverse().forEach(u(C)),C.out.forEach(y(C))}return b.filter(C=>!C.merged).map(C=>i.pick(C,["vs","i","barycenter","weight"]))}function T(x,b){let u=0,y=0;x.weight&&(u+=x.barycenter*x.weight,y+=x.weight),b.weight&&(u+=b.barycenter*b.weight,y+=b.weight),x.vs=b.vs.concat(x.vs),x.barycenter=u/y,x.weight=y,x.i=Math.min(b.i,x.i),b.merged=!0}},85855:function(B,j,h){let i=h(205),O=h(55139),_=h(26063);B.exports=T;function T(u,y,C,I){let U=u.children(y),D=u.node(y),Y=D?D.borderLeft:void 0,G=D?D.borderRight:void 0,de={};Y&&(U=U.filter(K=>K!==Y&&K!==G));let Ve=i(u,U);Ve.forEach(K=>{if(u.children(K.v).length){let ne=T(u,K.v,C,I);de[K.v]=ne,ne.hasOwnProperty("barycenter")&&b(K,ne)}});let ce=O(Ve,C);x(ce,de);let ue=_(ce,I);if(Y&&(ue.vs=[Y,ue.vs,G].flat(!0),u.predecessors(Y).length)){let K=u.node(u.predecessors(Y)[0]),ne=u.node(u.predecessors(G)[0]);ue.hasOwnProperty("barycenter")||(ue.barycenter=0,ue.weight=0),ue.barycenter=(ue.barycenter*ue.weight+K.order+ne.order)/(ue.weight+2),ue.weight+=2}return ue}function x(u,y){u.forEach(C=>{C.vs=C.vs.flatMap(I=>y[I]?y[I].vs:I)})}function b(u,y){u.barycenter!==void 0?(u.barycenter=(u.barycenter*u.weight+y.barycenter*y.weight)/(u.weight+y.weight),u.weight+=y.weight):(u.barycenter=y.barycenter,u.weight=y.weight)}},26063:function(B,j,h){let i=h(20965);B.exports=O;function O(x,b){let u=i.partition(x,de=>de.hasOwnProperty("barycenter")),y=u.lhs,C=u.rhs.sort((de,Ve)=>Ve.i-de.i),I=[],U=0,D=0,Y=0;y.sort(T(!!b)),Y=_(I,C,Y),y.forEach(de=>{Y+=de.vs.length,I.push(de.vs),U+=de.barycenter*de.weight,D+=de.weight,Y=_(I,C,Y)});let G={vs:I.flat(!0)};return D&&(G.barycenter=U/D,G.weight=D),G}function _(x,b,u){let y;for(;b.length&&(y=b[b.length-1]).i<=u;)b.pop(),x.push(y.vs),u++;return u}function T(x){return(b,u)=>b.barycenter<u.barycenter?-1:b.barycenter>u.barycenter?1:x?u.i-b.i:b.i-u.i}},3409:function(B){B.exports=j;function j(O){let _=i(O);O.graph().dummyChains.forEach(T=>{let x=O.node(T),b=x.edgeObj,u=h(O,_,b.v,b.w),y=u.path,C=u.lca,I=0,U=y[I],D=!0;for(;T!==b.w;){if(x=O.node(T),D){for(;(U=y[I])!==C&&O.node(U).maxRank<x.rank;)I++;U===C&&(D=!1)}if(!D){for(;I<y.length-1&&O.node(U=y[I+1]).minRank<=x.rank;)I++;U=y[I]}O.setParent(T,U),T=O.successors(T)[0]}})}function h(O,_,T,x){let b=[],u=[],y=Math.min(_[T].low,_[x].low),C=Math.max(_[T].lim,_[x].lim),I,U;I=T;do I=O.parent(I),b.push(I);while(I&&(_[I].low>y||C>_[I].lim));for(U=I,I=x;(I=O.parent(I))!==U;)u.push(I);return{path:b.concat(u.reverse()),lca:U}}function i(O){let _={},T=0;function x(b){let u=T;O.children(b).forEach(x),_[b]={low:u,lim:T++}}return O.children().forEach(x),_}},48358:function(B,j,h){"use strict";let i=h(7378).Graph,O=h(20965);B.exports={positionX:G,findType1Conflicts:_,findType2Conflicts:T,addConflict:b,hasConflict:u,verticalAlignment:y,horizontalCompaction:C,alignCoordinates:D,findSmallestWidthAlignment:U,balance:Y};function _(ce,ue){let K={};function ne(re,$){let Q=0,ae=0,oe=re.length,Ee=$[$.length-1];return $.forEach((Le,R)=>{let J=x(ce,Le),ke=J?ce.node(J).order:oe;(J||Le===Ee)&&($.slice(ae,R+1).forEach(xe=>{ce.predecessors(xe).forEach(Ze=>{let Z=ce.node(Ze),ie=Z.order;(ie<Q||ke<ie)&&!(Z.dummy&&ce.node(xe).dummy)&&b(K,Ze,xe)})}),ae=R+1,Q=ke)}),$}return ue.reduce(ne),K}function T(ce,ue){let K={};function ne($,Q,ae,oe,Ee){let Le;O.range(Q,ae).forEach(R=>{Le=$[R],ce.node(Le).dummy&&ce.predecessors(Le).forEach(J=>{let ke=ce.node(J);ke.dummy&&(ke.order<oe||ke.order>Ee)&&b(K,J,Le)})})}function re($,Q){let ae=-1,oe,Ee=0;return Q.forEach((Le,R)=>{if(ce.node(Le).dummy==="border"){let J=ce.predecessors(Le);J.length&&(oe=ce.node(J[0]).order,ne(Q,Ee,R,ae,oe),Ee=R,ae=oe)}ne(Q,Ee,Q.length,oe,$.length)}),Q}return ue.reduce(re),K}function x(ce,ue){if(ce.node(ue).dummy)return ce.predecessors(ue).find(K=>ce.node(K).dummy)}function b(ce,ue,K){if(ue>K){let re=ue;ue=K,K=re}let ne=ce[ue];ne||(ce[ue]=ne={}),ne[K]=!0}function u(ce,ue,K){if(ue>K){let ne=ue;ue=K,K=ne}return!!ce[ue]&&ce[ue].hasOwnProperty(K)}function y(ce,ue,K,ne){let re={},$={},Q={};return ue.forEach(ae=>{ae.forEach((oe,Ee)=>{re[oe]=oe,$[oe]=oe,Q[oe]=Ee})}),ue.forEach(ae=>{let oe=-1;ae.forEach(Ee=>{let Le=ne(Ee);if(Le.length){Le=Le.sort((J,ke)=>Q[J]-Q[ke]);let R=(Le.length-1)/2;for(let J=Math.floor(R),ke=Math.ceil(R);J<=ke;++J){let xe=Le[J];$[Ee]===Ee&&oe<Q[xe]&&!u(K,Ee,xe)&&($[xe]=Ee,$[Ee]=re[Ee]=re[xe],oe=Q[xe])}}})}),{root:re,align:$}}function C(ce,ue,K,ne,re){let $={},Q=I(ce,ue,K,re),ae=re?"borderLeft":"borderRight";function oe(R,J){let ke=Q.nodes(),xe=ke.pop(),Ze={};for(;xe;)Ze[xe]?R(xe):(Ze[xe]=!0,ke.push(xe),ke=ke.concat(J(xe))),xe=ke.pop()}function Ee(R){$[R]=Q.inEdges(R).reduce((J,ke)=>Math.max(J,$[ke.v]+Q.edge(ke)),0)}function Le(R){let J=Q.outEdges(R).reduce((xe,Ze)=>Math.min(xe,$[Ze.w]-Q.edge(Ze)),Number.POSITIVE_INFINITY),ke=ce.node(R);J!==Number.POSITIVE_INFINITY&&ke.borderType!==ae&&($[R]=Math.max($[R],J))}return oe(Ee,Q.predecessors.bind(Q)),oe(Le,Q.successors.bind(Q)),Object.keys(ne).forEach(R=>$[R]=$[K[R]]),$}function I(ce,ue,K,ne){let re=new i,$=ce.graph(),Q=de($.nodesep,$.edgesep,ne);return ue.forEach(ae=>{let oe;ae.forEach(Ee=>{let Le=K[Ee];if(re.setNode(Le),oe){var R=K[oe],J=re.edge(R,Le);re.setEdge(R,Le,Math.max(Q(ce,Ee,oe),J||0))}oe=Ee})}),re}function U(ce,ue){return Object.values(ue).reduce((K,ne)=>{let re=Number.NEGATIVE_INFINITY,$=Number.POSITIVE_INFINITY;Object.entries(ne).forEach(([ae,oe])=>{let Ee=Ve(ce,ae)/2;re=Math.max(oe+Ee,re),$=Math.min(oe-Ee,$)});const Q=re-$;return Q<K[0]&&(K=[Q,ne]),K},[Number.POSITIVE_INFINITY,null])[1]}function D(ce,ue){let K=Object.values(ue),ne=Math.min(...K),re=Math.max(...K);["u","d"].forEach($=>{["l","r"].forEach(Q=>{let ae=$+Q,oe=ce[ae];if(oe===ue)return;let Ee=Object.values(oe),Le=ne-Math.min(...Ee);Q!=="l"&&(Le=re-Math.max(...Ee)),Le&&(ce[ae]=O.mapValues(oe,R=>R+Le))})})}function Y(ce,ue){return O.mapValues(ce.ul,(K,ne)=>{if(ue)return ce[ue.toLowerCase()][ne];{let re=Object.values(ce).map($=>$[ne]).sort(($,Q)=>$-Q);return(re[1]+re[2])/2}})}function G(ce){let ue=O.buildLayerMatrix(ce),K=Object.assign(_(ce,ue),T(ce,ue)),ne={},re;["u","d"].forEach(Q=>{re=Q==="u"?ue:Object.values(ue).reverse(),["l","r"].forEach(ae=>{ae==="r"&&(re=re.map(R=>Object.values(R).reverse()));let oe=(Q==="u"?ce.predecessors:ce.successors).bind(ce),Ee=y(ce,re,K,oe),Le=C(ce,re,Ee.root,Ee.align,ae==="r");ae==="r"&&(Le=O.mapValues(Le,R=>-R)),ne[Q+ae]=Le})});let $=U(ce,ne);return D(ne,$),Y(ne,ce.graph().align)}function de(ce,ue,K){return(ne,re,$)=>{let Q=ne.node(re),ae=ne.node($),oe=0,Ee;if(oe+=Q.width/2,Q.hasOwnProperty("labelpos"))switch(Q.labelpos.toLowerCase()){case"l":Ee=-Q.width/2;break;case"r":Ee=Q.width/2;break}if(Ee&&(oe+=K?Ee:-Ee),Ee=0,oe+=(Q.dummy?ue:ce)/2,oe+=(ae.dummy?ue:ce)/2,oe+=ae.width/2,ae.hasOwnProperty("labelpos"))switch(ae.labelpos.toLowerCase()){case"l":Ee=ae.width/2;break;case"r":Ee=-ae.width/2;break}return Ee&&(oe+=K?Ee:-Ee),Ee=0,oe}}function Ve(ce,ue){return ce.node(ue).width}},3862:function(B,j,h){"use strict";let i=h(20965),O=h(48358).positionX;B.exports=_;function _(x){x=i.asNonCompoundGraph(x),T(x),Object.entries(O(x)).forEach(([b,u])=>x.node(b).x=u)}function T(x){let b=i.buildLayerMatrix(x),u=x.graph().ranksep,y=0;b.forEach(C=>{const I=C.reduce((U,D)=>{const Y=x.node(D).height;return U>Y?U:Y},0);C.forEach(U=>x.node(U).y=y+I/2),y+=I+u})}},18984:function(B,j,h){"use strict";var i=h(7378).Graph,O=h(97133).slack;B.exports=_;function _(u){var y=new i({directed:!1}),C=u.nodes()[0],I=u.nodeCount();y.setNode(C,{});for(var U,D;T(y,u)<I;)U=x(y,u),D=y.hasNode(U.v)?O(u,U):-O(u,U),b(y,u,D);return y}function T(u,y){function C(I){y.nodeEdges(I).forEach(U=>{var D=U.v,Y=I===D?U.w:D;!u.hasNode(Y)&&!O(y,U)&&(u.setNode(Y,{}),u.setEdge(I,Y,{}),C(Y))})}return u.nodes().forEach(C),u.nodeCount()}function x(u,y){return y.edges().reduce((I,U)=>{let D=Number.POSITIVE_INFINITY;return u.hasNode(U.v)!==u.hasNode(U.w)&&(D=O(y,U)),D<I[0]?[D,U]:I},[Number.POSITIVE_INFINITY,null])[1]}function b(u,y,C){u.nodes().forEach(I=>y.node(I).rank+=C)}},42311:function(B,j,h){"use strict";var i=h(97133),O=i.longestPath,_=h(18984),T=h(10286);B.exports=x;function x(C){switch(C.graph().ranker){case"network-simplex":y(C);break;case"tight-tree":u(C);break;case"longest-path":b(C);break;default:y(C)}}var b=O;function u(C){O(C),_(C)}function y(C){T(C)}},10286:function(B,j,h){"use strict";var i=h(18984),O=h(97133).slack,_=h(97133).longestPath,T=h(7378).alg.preorder,x=h(7378).alg.postorder,b=h(20965).simplify;B.exports=u,u.initLowLimValues=U,u.initCutValues=y,u.calcCutValue=I,u.leaveEdge=Y,u.enterEdge=G,u.exchangeEdges=de;function u(K){K=b(K),_(K);var ne=i(K);U(ne),y(ne,K);for(var re,$;re=Y(ne);)$=G(ne,K,re),de(ne,K,re,$)}function y(K,ne){var re=x(K,K.nodes());re=re.slice(0,re.length-1),re.forEach($=>C(K,ne,$))}function C(K,ne,re){var $=K.node(re),Q=$.parent;K.edge(re,Q).cutvalue=I(K,ne,re)}function I(K,ne,re){var $=K.node(re),Q=$.parent,ae=!0,oe=ne.edge(re,Q),Ee=0;return oe||(ae=!1,oe=ne.edge(Q,re)),Ee=oe.weight,ne.nodeEdges(re).forEach(Le=>{var R=Le.v===re,J=R?Le.w:Le.v;if(J!==Q){var ke=R===ae,xe=ne.edge(Le).weight;if(Ee+=ke?xe:-xe,ce(K,re,J)){var Ze=K.edge(re,J).cutvalue;Ee+=ke?-Ze:Ze}}}),Ee}function U(K,ne){arguments.length<2&&(ne=K.nodes()[0]),D(K,{},1,ne)}function D(K,ne,re,$,Q){var ae=re,oe=K.node($);return ne[$]=!0,K.neighbors($).forEach(Ee=>{ne.hasOwnProperty(Ee)||(re=D(K,ne,re,Ee,$))}),oe.low=ae,oe.lim=re++,Q?oe.parent=Q:delete oe.parent,re}function Y(K){return K.edges().find(ne=>K.edge(ne).cutvalue<0)}function G(K,ne,re){var $=re.v,Q=re.w;ne.hasEdge($,Q)||($=re.w,Q=re.v);var ae=K.node($),oe=K.node(Q),Ee=ae,Le=!1;ae.lim>oe.lim&&(Ee=oe,Le=!0);var R=ne.edges().filter(J=>Le===ue(K,K.node(J.v),Ee)&&Le!==ue(K,K.node(J.w),Ee));return R.reduce((J,ke)=>O(ne,ke)<O(ne,J)?ke:J)}function de(K,ne,re,$){var Q=re.v,ae=re.w;K.removeEdge(Q,ae),K.setEdge($.v,$.w,{}),U(K),y(K,ne),Ve(K,ne)}function Ve(K,ne){var re=K.nodes().find(Q=>!ne.node(Q).parent),$=T(K,re);$=$.slice(1),$.forEach(Q=>{var ae=K.node(Q).parent,oe=ne.edge(Q,ae),Ee=!1;oe||(oe=ne.edge(ae,Q),Ee=!0),ne.node(Q).rank=ne.node(ae).rank+(Ee?oe.minlen:-oe.minlen)})}function ce(K,ne,re){return K.hasEdge(ne,re)}function ue(K,ne,re){return re.low<=ne.lim&&ne.lim<=re.lim}},97133:function(B){"use strict";B.exports={longestPath:j,slack:h};function j(i){var O={};function _(T){var x=i.node(T);if(O.hasOwnProperty(T))return x.rank;O[T]=!0;var b=Math.min(...i.outEdges(T).map(u=>u==null?Number.POSITIVE_INFINITY:_(u.w)-i.edge(u).minlen));return b===Number.POSITIVE_INFINITY&&(b=0),x.rank=b}i.sources().forEach(_)}function h(i,O){return i.node(O.w).rank-i.node(O.v).rank-i.edge(O).minlen}},20965:function(B,j,h){"use strict";let i=h(7378).Graph;B.exports={addBorderNode:U,addDummyNode:O,asNonCompoundGraph:T,buildLayerMatrix:y,intersectRect:u,mapValues:ne,maxRank:D,normalizeRanks:C,notime:de,partition:Y,pick:K,predecessorWeights:b,range:ue,removeEmptyRanks:I,simplify:_,successorWeights:x,time:G,uniqueId:ce,zipObject:re};function O($,Q,ae,oe){let Ee;do Ee=ce(oe);while($.hasNode(Ee));return ae.dummy=Q,$.setNode(Ee,ae),Ee}function _($){let Q=new i().setGraph($.graph());return $.nodes().forEach(ae=>Q.setNode(ae,$.node(ae))),$.edges().forEach(ae=>{let oe=Q.edge(ae.v,ae.w)||{weight:0,minlen:1},Ee=$.edge(ae);Q.setEdge(ae.v,ae.w,{weight:oe.weight+Ee.weight,minlen:Math.max(oe.minlen,Ee.minlen)})}),Q}function T($){let Q=new i({multigraph:$.isMultigraph()}).setGraph($.graph());return $.nodes().forEach(ae=>{$.children(ae).length||Q.setNode(ae,$.node(ae))}),$.edges().forEach(ae=>{Q.setEdge(ae,$.edge(ae))}),Q}function x($){let Q=$.nodes().map(ae=>{let oe={};return $.outEdges(ae).forEach(Ee=>{oe[Ee.w]=(oe[Ee.w]||0)+$.edge(Ee).weight}),oe});return re($.nodes(),Q)}function b($){let Q=$.nodes().map(ae=>{let oe={};return $.inEdges(ae).forEach(Ee=>{oe[Ee.v]=(oe[Ee.v]||0)+$.edge(Ee).weight}),oe});return re($.nodes(),Q)}function u($,Q){let ae=$.x,oe=$.y,Ee=Q.x-ae,Le=Q.y-oe,R=$.width/2,J=$.height/2;if(!Ee&&!Le)throw new Error("Not possible to find intersection inside of the rectangle");let ke,xe;return Math.abs(Le)*R>Math.abs(Ee)*J?(Le<0&&(J=-J),ke=J*Ee/Le,xe=J):(Ee<0&&(R=-R),ke=R,xe=R*Le/Ee),{x:ae+ke,y:oe+xe}}function y($){let Q=ue(D($)+1).map(()=>[]);return $.nodes().forEach(ae=>{let oe=$.node(ae),Ee=oe.rank;Ee!==void 0&&(Q[Ee][oe.order]=ae)}),Q}function C($){let Q=Math.min(...$.nodes().map(ae=>{let oe=$.node(ae).rank;return oe===void 0?Number.MAX_VALUE:oe}));$.nodes().forEach(ae=>{let oe=$.node(ae);oe.hasOwnProperty("rank")&&(oe.rank-=Q)})}function I($){let Q=Math.min(...$.nodes().map(Le=>$.node(Le).rank)),ae=[];$.nodes().forEach(Le=>{let R=$.node(Le).rank-Q;ae[R]||(ae[R]=[]),ae[R].push(Le)});let oe=0,Ee=$.graph().nodeRankFactor;Array.from(ae).forEach((Le,R)=>{Le===void 0&&R%Ee!==0?--oe:Le!==void 0&&oe&&Le.forEach(J=>$.node(J).rank+=oe)})}function U($,Q,ae,oe){let Ee={width:0,height:0};return arguments.length>=4&&(Ee.rank=ae,Ee.order=oe),O($,"border",Ee,Q)}function D($){return Math.max(...$.nodes().map(Q=>{let ae=$.node(Q).rank;return ae===void 0?Number.MIN_VALUE:ae}))}function Y($,Q){let ae={lhs:[],rhs:[]};return $.forEach(oe=>{Q(oe)?ae.lhs.push(oe):ae.rhs.push(oe)}),ae}function G($,Q){let ae=Date.now();try{return Q()}finally{console.log($+" time: "+(Date.now()-ae)+"ms")}}function de($,Q){return Q()}let Ve=0;function ce($){var Q=++Ve;return toString($)+Q}function ue($,Q,ae=1){Q==null&&(Q=$,$=0);let oe=Le=>Le<Q;ae<0&&(oe=Le=>Q<Le);const Ee=[];for(let Le=$;oe(Le);Le+=ae)Ee.push(Le);return Ee}function K($,Q){const ae={};for(const oe of Q)$[oe]!==void 0&&(ae[oe]=$[oe]);return ae}function ne($,Q){let ae=Q;return typeof Q=="string"&&(ae=oe=>oe[Q]),Object.entries($).reduce((oe,[Ee,Le])=>(oe[Ee]=ae(Le,Ee),oe),{})}function re($,Q){return $.reduce((ae,oe,Ee)=>(ae[oe]=Q[Ee],ae),{})}},61360:function(B){B.exports="1.0.4"},7378:function(B,j,h){var i=h(84666);B.exports={Graph:i.Graph,json:h(98146),alg:h(83959),version:i.version}},32315:function(B){B.exports=j;function j(h){var i={},O=[],_;function T(x){i.hasOwnProperty(x)||(i[x]=!0,_.push(x),h.successors(x).forEach(T),h.predecessors(x).forEach(T))}return h.nodes().forEach(function(x){_=[],T(x),_.length&&O.push(_)}),O}},55572:function(B){B.exports=j;function j(_,T,x){Array.isArray(T)||(T=[T]);var b=_.isDirected()?I=>_.successors(I):I=>_.neighbors(I),u=x==="post"?h:i,y=[],C={};return T.forEach(I=>{if(!_.hasNode(I))throw new Error("Graph does not have node: "+I);u(I,b,C,y)}),y}function h(_,T,x,b){for(var u=[[_,!1]];u.length>0;){var y=u.pop();y[1]?b.push(y[0]):x.hasOwnProperty(y[0])||(x[y[0]]=!0,u.push([y[0],!0]),O(T(y[0]),C=>u.push([C,!1])))}}function i(_,T,x,b){for(var u=[_];u.length>0;){var y=u.pop();x.hasOwnProperty(y)||(x[y]=!0,b.push(y),O(T(y),C=>u.push(C)))}}function O(_,T){for(var x=_.length;x--;)T(_[x],x,_);return _}},1922:function(B,j,h){var i=h(24561);B.exports=O;function O(_,T,x){return _.nodes().reduce(function(b,u){return b[u]=i(_,u,T,x),b},{})}},24561:function(B,j,h){var i=h(81227);B.exports=_;var O=()=>1;function _(x,b,u,y){return T(x,String(b),u||O,y||function(C){return x.outEdges(C)})}function T(x,b,u,y){var C={},I=new i,U,D,Y=function(G){var de=G.v!==U?G.v:G.w,Ve=C[de],ce=u(G),ue=D.distance+ce;if(ce<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+G+" Weight: "+ce);ue<Ve.distance&&(Ve.distance=ue,Ve.predecessor=U,I.decrease(de,ue))};for(x.nodes().forEach(function(G){var de=G===b?0:Number.POSITIVE_INFINITY;C[G]={distance:de},I.add(G,de)});I.size()>0&&(U=I.removeMin(),D=C[U],D.distance!==Number.POSITIVE_INFINITY);)y(U).forEach(Y);return C}},36176:function(B,j,h){var i=h(33011);B.exports=O;function O(_){return i(_).filter(function(T){return T.length>1||T.length===1&&_.hasEdge(T[0],T[0])})}},4408:function(B){B.exports=h;var j=()=>1;function h(O,_,T){return i(O,_||j,T||function(x){return O.outEdges(x)})}function i(O,_,T){var x={},b=O.nodes();return b.forEach(function(u){x[u]={},x[u][u]={distance:0},b.forEach(function(y){u!==y&&(x[u][y]={distance:Number.POSITIVE_INFINITY})}),T(u).forEach(function(y){var C=y.v===u?y.w:y.v,I=_(y);x[u][C]={distance:I,predecessor:u}})}),b.forEach(function(u){var y=x[u];b.forEach(function(C){var I=x[C];b.forEach(function(U){var D=I[u],Y=y[U],G=I[U],de=D.distance+Y.distance;de<G.distance&&(G.distance=de,G.predecessor=Y.predecessor)})})}),x}},83959:function(B,j,h){B.exports={components:h(32315),dijkstra:h(24561),dijkstraAll:h(1922),findCycles:h(36176),floydWarshall:h(4408),isAcyclic:h(39110),postorder:h(23773),preorder:h(35572),prim:h(77383),tarjan:h(33011),topsort:h(20626)}},39110:function(B,j,h){var i=h(20626);B.exports=O;function O(_){try{i(_)}catch(T){if(T instanceof i.CycleException)return!1;throw T}return!0}},23773:function(B,j,h){var i=h(55572);B.exports=O;function O(_,T){return i(_,T,"post")}},35572:function(B,j,h){var i=h(55572);B.exports=O;function O(_,T){return i(_,T,"pre")}},77383:function(B,j,h){var i=h(76962),O=h(81227);B.exports=_;function _(T,x){var b=new i,u={},y=new O,C;function I(D){var Y=D.v===C?D.w:D.v,G=y.priority(Y);if(G!==void 0){var de=x(D);de<G&&(u[Y]=C,y.decrease(Y,de))}}if(T.nodeCount()===0)return b;T.nodes().forEach(function(D){y.add(D,Number.POSITIVE_INFINITY),b.setNode(D)}),y.decrease(T.nodes()[0],0);for(var U=!1;y.size()>0;){if(C=y.removeMin(),u.hasOwnProperty(C))b.setEdge(C,u[C]);else{if(U)throw new Error("Input graph is not connected: "+T);U=!0}T.nodeEdges(C).forEach(I)}return b}},33011:function(B){B.exports=j;function j(h){var i=0,O=[],_={},T=[];function x(b){var u=_[b]={onStack:!0,lowlink:i,index:i++};if(O.push(b),h.successors(b).forEach(function(I){_.hasOwnProperty(I)?_[I].onStack&&(u.lowlink=Math.min(u.lowlink,_[I].index)):(x(I),u.lowlink=Math.min(u.lowlink,_[I].lowlink))}),u.lowlink===u.index){var y=[],C;do C=O.pop(),_[C].onStack=!1,y.push(C);while(b!==C);T.push(y)}}return h.nodes().forEach(function(b){_.hasOwnProperty(b)||x(b)}),T}},20626:function(B){function j(i){var O={},_={},T=[];function x(b){if(_.hasOwnProperty(b))throw new h;O.hasOwnProperty(b)||(_[b]=!0,O[b]=!0,i.predecessors(b).forEach(x),delete _[b],T.push(b))}if(i.sinks().forEach(x),Object.keys(O).length!==i.nodeCount())throw new h;return T}class h extends Error{constructor(){super(...arguments)}}B.exports=j,j.CycleException=h},81227:function(B){var h,i,O,Ha,$a,va;class j{constructor(){Gn(this,O);Gn(this,h,[]);Gn(this,i,{})}size(){return He(this,h).length}keys(){return He(this,h).map(function(u){return u.key})}has(u){return He(this,i).hasOwnProperty(u)}priority(u){var y=He(this,i)[u];if(y!==void 0)return He(this,h)[y].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return He(this,h)[0].key}add(u,y){var C=He(this,i);if(u=String(u),!C.hasOwnProperty(u)){var I=He(this,h),U=I.length;return C[u]=U,I.push({key:u,priority:y}),zo(this,O,$a).call(this,U),!0}return!1}removeMin(){zo(this,O,va).call(this,0,He(this,h).length-1);var u=He(this,h).pop();return delete He(this,i)[u.key],zo(this,O,Ha).call(this,0),u.key}decrease(u,y){var C=He(this,i)[u];if(y>He(this,h)[C].priority)throw new Error("New priority is greater than current priority. Key: "+u+" Old: "+He(this,h)[C].priority+" New: "+y);He(this,h)[C].priority=y,zo(this,O,$a).call(this,C)}}h=new WeakMap,i=new WeakMap,O=new WeakSet,Ha=function(u){var y=He(this,h),C=2*u,I=C+1,U=u;C<y.length&&(U=y[C].priority<y[U].priority?C:U,I<y.length&&(U=y[I].priority<y[U].priority?I:U),U!==u&&(zo(this,O,va).call(this,u,U),zo(this,O,Ha).call(this,U)))},$a=function(u){for(var y=He(this,h),C=y[u].priority,I;u!==0&&(I=u>>1,!(y[I].priority<C));)zo(this,O,va).call(this,u,I),u=I},va=function(u,y){var C=He(this,h),I=He(this,i),U=C[u],D=C[y];C[u]=D,C[y]=U,I[D.key]=u,I[U.key]=y},B.exports=j},76962:function(B){"use strict";var y,C,I,U,D,Y,G,de,Ve,ce,ue,K,ne,re,$,Q,ae,oe,Wa;var j="\0",h="\0",i="";class O{constructor(R){Gn(this,oe);Gn(this,y,!0);Gn(this,C,!1);Gn(this,I,!1);Gn(this,U);Gn(this,D,()=>{});Gn(this,Y,()=>{});Gn(this,G,{});Gn(this,de,{});Gn(this,Ve,{});Gn(this,ce,{});Gn(this,ue,{});Gn(this,K,{});Gn(this,ne,{});Gn(this,re,0);Gn(this,$,0);Gn(this,Q);Gn(this,ae);R&&(po(this,y,R.hasOwnProperty("directed")?R.directed:!0),po(this,C,R.hasOwnProperty("multigraph")?R.multigraph:!1),po(this,I,R.hasOwnProperty("compound")?R.compound:!1)),He(this,I)&&(po(this,Q,{}),po(this,ae,{}),He(this,ae)[h]={})}isDirected(){return He(this,y)}isMultigraph(){return He(this,C)}isCompound(){return He(this,I)}setGraph(R){return po(this,U,R),this}graph(){return He(this,U)}setDefaultNodeLabel(R){return po(this,D,R),typeof R!="function"&&po(this,D,()=>R),this}nodeCount(){return He(this,re)}nodes(){return Object.keys(He(this,G))}sources(){var R=this;return this.nodes().filter(J=>Object.keys(He(R,de)[J]).length===0)}sinks(){var R=this;return this.nodes().filter(J=>Object.keys(He(R,ce)[J]).length===0)}setNodes(R,J){var ke=arguments,xe=this;return R.forEach(function(Ze){ke.length>1?xe.setNode(Ze,J):xe.setNode(Ze)}),this}setNode(R,J){return He(this,G).hasOwnProperty(R)?(arguments.length>1&&(He(this,G)[R]=J),this):(He(this,G)[R]=arguments.length>1?J:He(this,D).call(this,R),He(this,I)&&(He(this,Q)[R]=h,He(this,ae)[R]={},He(this,ae)[h][R]=!0),He(this,de)[R]={},He(this,Ve)[R]={},He(this,ce)[R]={},He(this,ue)[R]={},++Ks(this,re)._,this)}node(R){return He(this,G)[R]}hasNode(R){return He(this,G).hasOwnProperty(R)}removeNode(R){var J=this;if(He(this,G).hasOwnProperty(R)){var ke=xe=>J.removeEdge(He(J,K)[xe]);delete He(this,G)[R],He(this,I)&&(zo(this,oe,Wa).call(this,R),delete He(this,Q)[R],this.children(R).forEach(function(xe){J.setParent(xe)}),delete He(this,ae)[R]),Object.keys(He(this,de)[R]).forEach(ke),delete He(this,de)[R],delete He(this,Ve)[R],Object.keys(He(this,ce)[R]).forEach(ke),delete He(this,ce)[R],delete He(this,ue)[R],--Ks(this,re)._}return this}setParent(R,J){if(!He(this,I))throw new Error("Cannot set parent in a non-compound graph");if(J===void 0)J=h;else{J+="";for(var ke=J;ke!==void 0;ke=this.parent(ke))if(ke===R)throw new Error("Setting "+J+" as parent of "+R+" would create a cycle");this.setNode(J)}return this.setNode(R),zo(this,oe,Wa).call(this,R),He(this,Q)[R]=J,He(this,ae)[J][R]=!0,this}parent(R){if(He(this,I)){var J=He(this,Q)[R];if(J!==h)return J}}children(R=h){if(He(this,I)){var J=He(this,ae)[R];if(J)return Object.keys(J)}else{if(R===h)return this.nodes();if(this.hasNode(R))return[]}}predecessors(R){var J=He(this,Ve)[R];if(J)return Object.keys(J)}successors(R){var J=He(this,ue)[R];if(J)return Object.keys(J)}neighbors(R){var J=this.predecessors(R);if(J){const xe=new Set(J);for(var ke of this.successors(R))xe.add(ke);return Array.from(xe.values())}}isLeaf(R){var J;return this.isDirected()?J=this.successors(R):J=this.neighbors(R),J.length===0}filterNodes(R){var J=new this.constructor({directed:He(this,y),multigraph:He(this,C),compound:He(this,I)});J.setGraph(this.graph());var ke=this;Object.entries(He(this,G)).forEach(function([Z,ie]){R(Z)&&J.setNode(Z,ie)}),Object.values(He(this,K)).forEach(function(Z){J.hasNode(Z.v)&&J.hasNode(Z.w)&&J.setEdge(Z,ke.edge(Z))});var xe={};function Ze(Z){var ie=ke.parent(Z);return ie===void 0||J.hasNode(ie)?(xe[Z]=ie,ie):ie in xe?xe[ie]:Ze(ie)}return He(this,I)&&J.nodes().forEach(Z=>J.setParent(Z,Ze(Z))),J}setDefaultEdgeLabel(R){return po(this,Y,R),typeof R!="function"&&po(this,Y,()=>R),this}edgeCount(){return He(this,$)}edges(){return Object.values(He(this,K))}setPath(R,J){var ke=this,xe=arguments;return R.reduce(function(Ze,Z){return xe.length>1?ke.setEdge(Ze,Z,J):ke.setEdge(Ze,Z),Z}),this}setEdge(){var R,J,ke,xe,Ze=!1,Z=arguments[0];typeof Z=="object"&&Z!==null&&"v"in Z?(R=Z.v,J=Z.w,ke=Z.name,arguments.length===2&&(xe=arguments[1],Ze=!0)):(R=Z,J=arguments[1],ke=arguments[3],arguments.length>2&&(xe=arguments[2],Ze=!0)),R=""+R,J=""+J,ke!==void 0&&(ke=""+ke);var ie=x(He(this,y),R,J,ke);if(He(this,ne).hasOwnProperty(ie))return Ze&&(He(this,ne)[ie]=xe),this;if(ke!==void 0&&!He(this,C))throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(R),this.setNode(J),He(this,ne)[ie]=Ze?xe:He(this,Y).call(this,R,J,ke);var Se=b(He(this,y),R,J,ke);return R=Se.v,J=Se.w,Object.freeze(Se),He(this,K)[ie]=Se,_(He(this,Ve)[J],R),_(He(this,ue)[R],J),He(this,de)[J][ie]=Se,He(this,ce)[R][ie]=Se,Ks(this,$)._++,this}edge(R,J,ke){var xe=arguments.length===1?u(He(this,y),arguments[0]):x(He(this,y),R,J,ke);return He(this,ne)[xe]}edgeAsObj(){const R=this.edge(...arguments);return typeof R!="object"?{label:R}:R}hasEdge(R,J,ke){var xe=arguments.length===1?u(He(this,y),arguments[0]):x(He(this,y),R,J,ke);return He(this,ne).hasOwnProperty(xe)}removeEdge(R,J,ke){var xe=arguments.length===1?u(He(this,y),arguments[0]):x(He(this,y),R,J,ke),Ze=He(this,K)[xe];return Ze&&(R=Ze.v,J=Ze.w,delete He(this,ne)[xe],delete He(this,K)[xe],T(He(this,Ve)[J],R),T(He(this,ue)[R],J),delete He(this,de)[J][xe],delete He(this,ce)[R][xe],Ks(this,$)._--),this}inEdges(R,J){var ke=He(this,de)[R];if(ke){var xe=Object.values(ke);return J?xe.filter(Ze=>Ze.v===J):xe}}outEdges(R,J){var ke=He(this,ce)[R];if(ke){var xe=Object.values(ke);return J?xe.filter(Ze=>Ze.w===J):xe}}nodeEdges(R,J){var ke=this.inEdges(R,J);if(ke)return ke.concat(this.outEdges(R,J))}}y=new WeakMap,C=new WeakMap,I=new WeakMap,U=new WeakMap,D=new WeakMap,Y=new WeakMap,G=new WeakMap,de=new WeakMap,Ve=new WeakMap,ce=new WeakMap,ue=new WeakMap,K=new WeakMap,ne=new WeakMap,re=new WeakMap,$=new WeakMap,Q=new WeakMap,ae=new WeakMap,oe=new WeakSet,Wa=function(R){delete He(this,ae)[He(this,Q)[R]][R]};function _(Le,R){Le[R]?Le[R]++:Le[R]=1}function T(Le,R){--Le[R]||delete Le[R]}function x(Le,R,J,ke){var xe=""+R,Ze=""+J;if(!Le&&xe>Ze){var Z=xe;xe=Ze,Ze=Z}return xe+i+Ze+i+(ke===void 0?j:ke)}function b(Le,R,J,ke){var xe=""+R,Ze=""+J;if(!Le&&xe>Ze){var Z=xe;xe=Ze,Ze=Z}var ie={v:xe,w:Ze};return ke&&(ie.name=ke),ie}function u(Le,R){return x(Le,R.v,R.w,R.name)}B.exports=O},84666:function(B,j,h){B.exports={Graph:h(76962),version:h(95128)}},98146:function(B,j,h){var i=h(76962);B.exports={write:O,read:x};function O(b){var u={options:{directed:b.isDirected(),multigraph:b.isMultigraph(),compound:b.isCompound()},nodes:_(b),edges:T(b)};return b.graph()!==void 0&&(u.value=structuredClone(b.graph())),u}function _(b){return b.nodes().map(function(u){var y=b.node(u),C=b.parent(u),I={v:u};return y!==void 0&&(I.value=y),C!==void 0&&(I.parent=C),I})}function T(b){return b.edges().map(function(u){var y=b.edge(u),C={v:u.v,w:u.w};return u.name!==void 0&&(C.name=u.name),y!==void 0&&(C.value=y),C})}function x(b){var u=new i(b.options).setGraph(b.value);return b.nodes.forEach(function(y){u.setNode(y.v,y.value),y.parent&&u.setParent(y.v,y.parent)}),b.edges.forEach(function(y){u.setEdge({v:y.v,w:y.w,name:y.name},y.value)}),u}},95128:function(B){B.exports="2.1.13"},20979:function(){"use strict"},62758:function(B,j,h){"use strict";var i=h(75271),O=h(52297),_=h(93998);function T(x){_.Z&&((0,O.mf)(x)||console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof x)));var b=(0,i.useRef)(x);b.current=(0,i.useMemo)(function(){return x},[x]);var u=(0,i.useRef)();return u.current||(u.current=function(){for(var y=[],C=0;C<arguments.length;C++)y[C]=arguments[C];return b.current.apply(this,y)}),u.current}j.Z=T},61138:function(B,j,h){"use strict";h.d(j,{Z:function(){return Jt}});var i=h(75271),O=h(82187),_=h.n(O),T=h(28210),x=h(8785),b=h(6332),y=Ie=>{const{getPrefixCls:Me,direction:We}=(0,i.useContext)(T.E_),{prefixCls:$e,className:me}=Ie,Ut=Me("input-group",$e),yn=Me("input"),[mn,kn]=(0,b.ZP)(yn),Tn=_()(Ut,{[`${Ut}-lg`]:Ie.size==="large",[`${Ut}-sm`]:Ie.size==="small",[`${Ut}-compact`]:Ie.compact,[`${Ut}-rtl`]:We==="rtl"},kn,me),vn=(0,i.useContext)(x.aM),On=(0,i.useMemo)(()=>Object.assign(Object.assign({},vn),{isFormItemInput:!1}),[vn]);return mn(i.createElement("span",{className:Tn,style:Ie.style,onMouseEnter:Ie.onMouseEnter,onMouseLeave:Ie.onMouseLeave,onFocus:Ie.onFocus,onBlur:Ie.onBlur},i.createElement(x.aM.Provider,{value:On},Ie.children)))},C=h(50318),I=h(40665),U=h(28774),D=h(41045),Y=h(86293),G=h(97131),de=h(91160),Ve=h(61645),ce=h(76950),ue=h(25105);const K=Ie=>{const{componentCls:Me,paddingXS:We}=Ie;return{[`${Me}`]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:We,"&-rtl":{direction:"rtl"},[`${Me}-input`]:{textAlign:"center",paddingInline:Ie.paddingXXS},[`&${Me}-sm ${Me}-input`]:{paddingInline:Ie.calc(Ie.paddingXXS).div(2).equal()},[`&${Me}-lg ${Me}-input`]:{paddingInline:Ie.paddingXS}}}};var ne=(0,Ve.I$)(["Input","OTP"],Ie=>{const Me=(0,ce.IX)(Ie,(0,ue.e)(Ie));return[K(Me)]},ue.T),re=h(15363),$=function(Ie,Me){var We={};for(var $e in Ie)Object.prototype.hasOwnProperty.call(Ie,$e)&&Me.indexOf($e)<0&&(We[$e]=Ie[$e]);if(Ie!=null&&typeof Object.getOwnPropertySymbols=="function")for(var me=0,$e=Object.getOwnPropertySymbols(Ie);me<$e.length;me++)Me.indexOf($e[me])<0&&Object.prototype.propertyIsEnumerable.call(Ie,$e[me])&&(We[$e[me]]=Ie[$e[me]]);return We},ae=i.forwardRef((Ie,Me)=>{const{value:We,onChange:$e,onActiveChange:me,index:Ut,mask:yn}=Ie,mn=$(Ie,["value","onChange","onActiveChange","index","mask"]),kn=We&&typeof yn=="string"?yn:We,Tn=cn=>{$e(Ut,cn.target.value)},vn=i.useRef(null);i.useImperativeHandle(Me,()=>vn.current);const On=()=>{(0,re.Z)(()=>{var cn;const M=(cn=vn.current)===null||cn===void 0?void 0:cn.input;document.activeElement===M&&M&&M.select()})},Ln=cn=>{let{key:M}=cn;M==="ArrowLeft"?me(Ut-1):M==="ArrowRight"&&me(Ut+1),On()},An=cn=>{cn.key==="Backspace"&&!We&&me(Ut-1),On()};return i.createElement(C.Z,Object.assign({},mn,{ref:vn,value:kn,onInput:Tn,onFocus:On,onKeyDown:Ln,onKeyUp:An,onMouseDown:On,onMouseUp:On,type:yn===!0?"password":"text"}))}),oe=function(Ie,Me){var We={};for(var $e in Ie)Object.prototype.hasOwnProperty.call(Ie,$e)&&Me.indexOf($e)<0&&(We[$e]=Ie[$e]);if(Ie!=null&&typeof Object.getOwnPropertySymbols=="function")for(var me=0,$e=Object.getOwnPropertySymbols(Ie);me<$e.length;me++)Me.indexOf($e[me])<0&&Object.prototype.propertyIsEnumerable.call(Ie,$e[me])&&(We[$e[me]]=Ie[$e[me]]);return We};function Ee(Ie){return(Ie||"").split("")}var R=i.forwardRef((Ie,Me)=>{const{prefixCls:We,length:$e=6,size:me,defaultValue:Ut,value:yn,onChange:mn,formatter:kn,variant:Tn,disabled:vn,status:On,autoFocus:Ln,mask:An}=Ie,cn=oe(Ie,["prefixCls","length","size","defaultValue","value","onChange","formatter","variant","disabled","status","autoFocus","mask"]),{getPrefixCls:M,direction:W}=i.useContext(T.E_),ye=M("otp",We),Ne=(0,D.Z)(cn,{aria:!0,data:!0,attr:!0}),Xe=(0,G.Z)(ye),[yt,xt,ht]=ne(ye,Xe),ze=(0,de.Z)(st=>me!=null?me:st),Je=i.useContext(x.aM),zt=(0,Y.F)(Je.status,On),un=i.useMemo(()=>Object.assign(Object.assign({},Je),{status:zt,hasFeedback:!1,feedbackIcon:null}),[Je,zt]),Vt=i.useRef(null),tn=i.useRef({});i.useImperativeHandle(Me,()=>({focus:()=>{var st;(st=tn.current[0])===null||st===void 0||st.focus()},blur:()=>{var st;for(let kt=0;kt<$e;kt+=1)(st=tn.current[kt])===null||st===void 0||st.blur()},nativeElement:Vt.current}));const Qt=st=>kn?kn(st):st,[qt,wn]=i.useState(Ee(Qt(Ut||"")));i.useEffect(()=>{yn!==void 0&&wn(Ee(yn))},[yn]);const pn=(0,U.zX)(st=>{wn(st),mn&&st.length===$e&&st.every(kt=>kt)&&st.some((kt,Kt)=>qt[Kt]!==kt)&&mn(st.join(""))}),gn=(0,U.zX)((st,kt)=>{let Kt=(0,I.Z)(qt);for(let Pn=0;Pn<st;Pn+=1)Kt[Pn]||(Kt[Pn]="");kt.length<=1?Kt[st]=kt:Kt=Kt.slice(0,st).concat(Ee(kt)),Kt=Kt.slice(0,$e);for(let Pn=Kt.length-1;Pn>=0&&!Kt[Pn];Pn-=1)Kt.pop();const vr=Qt(Kt.map(Pn=>Pn||" ").join(""));return Kt=Ee(vr).map((Pn,jr)=>Pn===" "&&!Kt[jr]?Kt[jr]:Pn),Kt}),vt=(st,kt)=>{var Kt;const vr=gn(st,kt),Pn=Math.min(st+kt.length,$e-1);Pn!==st&&((Kt=tn.current[Pn])===null||Kt===void 0||Kt.focus()),pn(vr)},Lt=st=>{var kt;(kt=tn.current[st])===null||kt===void 0||kt.focus()},Ot={variant:Tn,disabled:vn,status:zt,mask:An};return yt(i.createElement("div",Object.assign({},Ne,{ref:Vt,className:_()(ye,{[`${ye}-sm`]:ze==="small",[`${ye}-lg`]:ze==="large",[`${ye}-rtl`]:W==="rtl"},ht,xt)}),i.createElement(x.aM.Provider,{value:un},Array.from({length:$e}).map((st,kt)=>{const Kt=`otp-${kt}`,vr=qt[kt]||"";return i.createElement(ae,Object.assign({ref:Pn=>{tn.current[kt]=Pn},key:Kt,index:kt,size:ze,htmlSize:1,className:`${ye}-input`,onChange:vt,value:vr,onActiveChange:Lt,autoFocus:kt===0&&Ln},Ot))}))))}),J=h(90673),ke=h(22500),xe=h(2021),Ze=h(3083),Z=h(29675),ie=function(Ie,Me){var We={};for(var $e in Ie)Object.prototype.hasOwnProperty.call(Ie,$e)&&Me.indexOf($e)<0&&(We[$e]=Ie[$e]);if(Ie!=null&&typeof Object.getOwnPropertySymbols=="function")for(var me=0,$e=Object.getOwnPropertySymbols(Ie);me<$e.length;me++)Me.indexOf($e[me])<0&&Object.prototype.propertyIsEnumerable.call(Ie,$e[me])&&(We[$e[me]]=Ie[$e[me]]);return We};const Se=Ie=>Ie?i.createElement(ke.Z,null):i.createElement(J.Z,null),Ge={click:"onClick",hover:"onMouseOver"};var Wt=i.forwardRef((Ie,Me)=>{const{disabled:We,action:$e="click",visibilityToggle:me=!0,iconRender:Ut=Se}=Ie,yn=typeof me=="object"&&me.visible!==void 0,[mn,kn]=(0,i.useState)(()=>yn?me.visible:!1),Tn=(0,i.useRef)(null);i.useEffect(()=>{yn&&kn(me.visible)},[yn,me]);const vn=(0,Z.Z)(Tn),On=()=>{We||(mn&&vn(),kn(Je=>{var zt;const un=!Je;return typeof me=="object"&&((zt=me.onVisibleChange)===null||zt===void 0||zt.call(me,un)),un}))},Ln=Je=>{const zt=Ge[$e]||"",un=Ut(mn),Vt={[zt]:On,className:`${Je}-icon`,key:"passwordIcon",onMouseDown:tn=>{tn.preventDefault()},onMouseUp:tn=>{tn.preventDefault()}};return i.cloneElement(i.isValidElement(un)?un:i.createElement("span",null,un),Vt)},{className:An,prefixCls:cn,inputPrefixCls:M,size:W}=Ie,ye=ie(Ie,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:Ne}=i.useContext(T.E_),Xe=Ne("input",M),yt=Ne("input-password",cn),xt=me&&Ln(yt),ht=_()(yt,An,{[`${yt}-${W}`]:!!W}),ze=Object.assign(Object.assign({},(0,xe.Z)(ye,["suffix","iconRender","visibilityToggle"])),{type:mn?"text":"password",className:ht,prefixCls:Xe,suffix:xt});return W&&(ze.size=W),i.createElement(C.Z,Object.assign({ref:(0,Ze.sQ)(Me,Tn)},ze))}),Tt=h(45500),X=h(39203),he=h(92430),ve=h(99276),be=function(Ie,Me){var We={};for(var $e in Ie)Object.prototype.hasOwnProperty.call(Ie,$e)&&Me.indexOf($e)<0&&(We[$e]=Ie[$e]);if(Ie!=null&&typeof Object.getOwnPropertySymbols=="function")for(var me=0,$e=Object.getOwnPropertySymbols(Ie);me<$e.length;me++)Me.indexOf($e[me])<0&&Object.prototype.propertyIsEnumerable.call(Ie,$e[me])&&(We[$e[me]]=Ie[$e[me]]);return We},ut=i.forwardRef((Ie,Me)=>{const{prefixCls:We,inputPrefixCls:$e,className:me,size:Ut,suffix:yn,enterButton:mn=!1,addonAfter:kn,loading:Tn,disabled:vn,onSearch:On,onChange:Ln,onCompositionStart:An,onCompositionEnd:cn}=Ie,M=be(Ie,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:W,direction:ye}=i.useContext(T.E_),Ne=i.useRef(!1),Xe=W("input-search",We),yt=W("input",$e),{compactSize:xt}=(0,ve.ri)(Xe,ye),ht=(0,de.Z)(Ot=>{var st;return(st=Ut!=null?Ut:xt)!==null&&st!==void 0?st:Ot}),ze=i.useRef(null),Je=Ot=>{Ot!=null&&Ot.target&&Ot.type==="click"&&On&&On(Ot.target.value,Ot,{source:"clear"}),Ln==null||Ln(Ot)},zt=Ot=>{var st;document.activeElement===((st=ze.current)===null||st===void 0?void 0:st.input)&&Ot.preventDefault()},un=Ot=>{var st,kt;On&&On((kt=(st=ze.current)===null||st===void 0?void 0:st.input)===null||kt===void 0?void 0:kt.value,Ot,{source:"input"})},Vt=Ot=>{Ne.current||Tn||un(Ot)},tn=typeof mn=="boolean"?i.createElement(Tt.Z,null):null,Qt=`${Xe}-button`;let qt;const wn=mn||{},pn=wn.type&&wn.type.__ANT_BUTTON===!0;pn||wn.type==="button"?qt=(0,X.Tm)(wn,Object.assign({onMouseDown:zt,onClick:Ot=>{var st,kt;(kt=(st=wn==null?void 0:wn.props)===null||st===void 0?void 0:st.onClick)===null||kt===void 0||kt.call(st,Ot),un(Ot)},key:"enterButton"},pn?{className:Qt,size:ht}:{})):qt=i.createElement(he.ZP,{className:Qt,type:mn?"primary":void 0,size:ht,disabled:vn,key:"enterButton",onMouseDown:zt,onClick:un,loading:Tn,icon:tn},mn),kn&&(qt=[qt,(0,X.Tm)(kn,{key:"addonAfter"})]);const gn=_()(Xe,{[`${Xe}-rtl`]:ye==="rtl",[`${Xe}-${ht}`]:!!ht,[`${Xe}-with-button`]:!!mn},me),vt=Ot=>{Ne.current=!0,An==null||An(Ot)},Lt=Ot=>{Ne.current=!1,cn==null||cn(Ot)};return i.createElement(C.Z,Object.assign({ref:(0,Ze.sQ)(ze,Me),onPressEnter:Vt},M,{size:ht,onCompositionStart:vt,onCompositionEnd:Lt,prefixCls:yt,addonAfter:qt,suffix:yn,onChange:Je,className:gn,disabled:vn}))}),mt=h(26717);const $t=C.Z;$t.Group=y,$t.Search=ut,$t.TextArea=mt.Z,$t.Password=Wt,$t.OTP=R;var Jt=$t},6223:function(B,j,h){"use strict";h.d(j,{Z:function(){return b}});var i=h(75271);const O=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_=(...u)=>u.filter((y,C,I)=>!!y&&I.indexOf(y)===C).join(" ");var T={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const x=(0,i.forwardRef)((Ve,de)=>{var ce=Ve,{color:u="currentColor",size:y=24,strokeWidth:C=2,absoluteStrokeWidth:I,className:U="",children:D,iconNode:Y}=ce,G=Ai(ce,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return(0,i.createElement)("svg",Nt(Vn(Nt({ref:de},T),{width:y,height:y,stroke:u,strokeWidth:I?Number(C)*24/Number(y):C,className:_("lucide",U)}),G),[...Y.map(([ue,K])=>(0,i.createElement)(ue,K)),...Array.isArray(D)?D:[D]])});const b=(u,y)=>{const C=(0,i.forwardRef)((Y,D)=>{var G=Y,{className:I}=G,U=Ai(G,["className"]);return(0,i.createElement)(x,Nt({ref:D,iconNode:y,className:_(`lucide-${O(u)}`,I)},U))});return C.displayName=`${u}`,C}},82260:function(B,j,h){"use strict";h.d(j,{Z:function(){return O}});var i=h(6223);const O=(0,i.Z)("BoxSelect",[["path",{d:"M5 3a2 2 0 0 0-2 2",key:"y57alp"}],["path",{d:"M19 3a2 2 0 0 1 2 2",key:"18rm91"}],["path",{d:"M21 19a2 2 0 0 1-2 2",key:"1j7049"}],["path",{d:"M5 21a2 2 0 0 1-2-2",key:"sbafld"}],["path",{d:"M9 3h1",key:"1yesri"}],["path",{d:"M9 21h1",key:"15o7lz"}],["path",{d:"M14 3h1",key:"1ec4yj"}],["path",{d:"M14 21h1",key:"v9vybs"}],["path",{d:"M3 9v1",key:"1r0deq"}],["path",{d:"M21 9v1",key:"mxsmne"}],["path",{d:"M3 14v1",key:"vnatye"}],["path",{d:"M21 14v1",key:"169vum"}]])},67583:function(B,j,h){"use strict";h.d(j,{Z:function(){return O}});var i=h(6223);const O=(0,i.Z)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]])},53038:function(B,j,h){"use strict";h.d(j,{NL:function(){return Le},y1:function(){return xe}});var i=h(75271),O=h(52676);function _(){return _=Object.assign?Object.assign.bind():function(Z){for(var ie=1;ie<arguments.length;ie++){var Se=arguments[ie];for(var Ge in Se)Object.prototype.hasOwnProperty.call(Se,Ge)&&(Z[Ge]=Se[Ge])}return Z},_.apply(this,arguments)}var T=["shift","alt","meta","mod","ctrl"],x={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function b(Z){return(x[Z]||Z).trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function u(Z){return T.includes(Z)}function y(Z,ie){return ie===void 0&&(ie=","),Z.split(ie)}function C(Z,ie,Se){ie===void 0&&(ie="+");var Ge=Z.toLocaleLowerCase().split(ie).map(function(Tt){return b(Tt)}),Et={alt:Ge.includes("alt"),ctrl:Ge.includes("ctrl")||Ge.includes("control"),shift:Ge.includes("shift"),meta:Ge.includes("meta"),mod:Ge.includes("mod")},Wt=Ge.filter(function(Tt){return!T.includes(Tt)});return _({},Et,{keys:Wt,description:Se})}(function(){typeof document!="undefined"&&(document.addEventListener("keydown",function(Z){Z.key!==void 0&&Y([b(Z.key),b(Z.code)])}),document.addEventListener("keyup",function(Z){Z.key!==void 0&&G([b(Z.key),b(Z.code)])})),typeof window!="undefined"&&window.addEventListener("blur",function(){I.clear()})})();var I=new Set;function U(Z){return Array.isArray(Z)}function D(Z,ie){ie===void 0&&(ie=",");var Se=U(Z)?Z:Z.split(ie);return Se.every(function(Ge){return I.has(Ge.trim().toLowerCase())})}function Y(Z){var ie=Array.isArray(Z)?Z:[Z];I.has("meta")&&I.forEach(function(Se){return!u(Se)&&I.delete(Se.toLowerCase())}),ie.forEach(function(Se){return I.add(Se.toLowerCase())})}function G(Z){var ie=Array.isArray(Z)?Z:[Z];Z==="meta"?I.clear():ie.forEach(function(Se){return I.delete(Se.toLowerCase())})}function de(Z,ie,Se){(typeof Se=="function"&&Se(Z,ie)||Se===!0)&&Z.preventDefault()}function Ve(Z,ie,Se){return typeof Se=="function"?Se(Z,ie):Se===!0||Se===void 0}function ce(Z){return ue(Z,["input","textarea","select"])}function ue(Z,ie){var Se=Z.target;ie===void 0&&(ie=!1);var Ge=Se&&Se.tagName;return U(ie)?!!(Ge&&ie&&ie.some(function(Et){return Et.toLowerCase()===Ge.toLowerCase()})):!!(Ge&&ie&&ie===!0)}function K(Z,ie){return Z.length===0&&ie?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):ie?Z.some(function(Se){return ie.includes(Se)})||Z.includes("*"):!0}var ne=function(ie,Se,Ge){Ge===void 0&&(Ge=!1);var Et=Se.alt,Wt=Se.meta,Tt=Se.mod,X=Se.shift,he=Se.ctrl,ve=Se.keys,be=ie.key,Pe=ie.code,ut=ie.ctrlKey,mt=ie.metaKey,$t=ie.shiftKey,Jt=ie.altKey,Ie=b(Pe),Me=be.toLowerCase();if(!(ve!=null&&ve.includes(Ie))&&!(ve!=null&&ve.includes(Me))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(Ie))return!1;if(!Ge){if(Et===!Jt&&Me!=="alt"||X===!$t&&Me!=="shift")return!1;if(Tt){if(!mt&&!ut)return!1}else if(Wt===!mt&&Me!=="meta"&&Me!=="os"||he===!ut&&Me!=="ctrl"&&Me!=="control")return!1}return ve&&ve.length===1&&(ve.includes(Me)||ve.includes(Ie))?!0:ve?D(ve):!ve},re=(0,i.createContext)(void 0),$=function(){return(0,i.useContext)(re)};function Q(Z){var ie=Z.addHotkey,Se=Z.removeHotkey,Ge=Z.children;return(0,O.jsx)(re.Provider,{value:{addHotkey:ie,removeHotkey:Se},children:Ge})}function ae(Z,ie){return Z&&ie&&typeof Z=="object"&&typeof ie=="object"?Object.keys(Z).length===Object.keys(ie).length&&Object.keys(Z).reduce(function(Se,Ge){return Se&&ae(Z[Ge],ie[Ge])},!0):Z===ie}var oe=(0,i.createContext)({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),Ee=function(){return(0,i.useContext)(oe)},Le=function(ie){var Se=ie.initiallyActiveScopes,Ge=Se===void 0?["*"]:Se,Et=ie.children,Wt=(0,i.useState)((Ge==null?void 0:Ge.length)>0?Ge:["*"]),Tt=Wt[0],X=Wt[1],he=(0,i.useState)([]),ve=he[0],be=he[1],Pe=(0,i.useCallback)(function(Ie){X(function(Me){return Me.includes("*")?[Ie]:Array.from(new Set([].concat(Me,[Ie])))})},[]),ut=(0,i.useCallback)(function(Ie){X(function(Me){return Me.filter(function(We){return We!==Ie}).length===0?["*"]:Me.filter(function(We){return We!==Ie})})},[]),mt=(0,i.useCallback)(function(Ie){X(function(Me){return Me.includes(Ie)?Me.filter(function(We){return We!==Ie}).length===0?["*"]:Me.filter(function(We){return We!==Ie}):Me.includes("*")?[Ie]:Array.from(new Set([].concat(Me,[Ie])))})},[]),$t=(0,i.useCallback)(function(Ie){be(function(Me){return[].concat(Me,[Ie])})},[]),Jt=(0,i.useCallback)(function(Ie){be(function(Me){return Me.filter(function(We){return!ae(We,Ie)})})},[]);return(0,O.jsx)(oe.Provider,{value:{enabledScopes:Tt,hotkeys:ve,enableScope:Pe,disableScope:ut,toggleScope:mt},children:(0,O.jsx)(Q,{addHotkey:$t,removeHotkey:Jt,children:Et})})};function R(Z){var ie=(0,i.useRef)(void 0);return ae(ie.current,Z)||(ie.current=Z),ie.current}var J=function(ie){ie.stopPropagation(),ie.preventDefault(),ie.stopImmediatePropagation()},ke=typeof window!="undefined"?i.useLayoutEffect:i.useEffect;function xe(Z,ie,Se,Ge){var Et=(0,i.useRef)(null),Wt=(0,i.useRef)(!1),Tt=Se instanceof Array?Ge instanceof Array?void 0:Ge:Se,X=U(Z)?Z.join(Tt==null?void 0:Tt.splitKey):Z,he=Se instanceof Array?Se:Ge instanceof Array?Ge:void 0,ve=(0,i.useCallback)(ie,he!=null?he:[]),be=(0,i.useRef)(ve);he?be.current=ve:be.current=ie;var Pe=R(Tt),ut=Ee(),mt=ut.enabledScopes,$t=$();return ke(function(){if(!((Pe==null?void 0:Pe.enabled)===!1||!K(mt,Pe==null?void 0:Pe.scopes))){var Jt=function(me,Ut){var yn;if(Ut===void 0&&(Ut=!1),!(ce(me)&&!ue(me,Pe==null?void 0:Pe.enableOnFormTags))){if(Et.current!==null){var mn=Et.current.getRootNode();if((mn instanceof Document||mn instanceof ShadowRoot)&&mn.activeElement!==Et.current&&!Et.current.contains(mn.activeElement)){J(me);return}}(yn=me.target)!=null&&yn.isContentEditable&&!(Pe!=null&&Pe.enableOnContentEditable)||y(X,Pe==null?void 0:Pe.splitKey).forEach(function(kn){var Tn,vn=C(kn,Pe==null?void 0:Pe.combinationKey);if(ne(me,vn,Pe==null?void 0:Pe.ignoreModifiers)||(Tn=vn.keys)!=null&&Tn.includes("*")){if(Pe!=null&&Pe.ignoreEventWhen!=null&&Pe.ignoreEventWhen(me)||Ut&&Wt.current)return;if(de(me,vn,Pe==null?void 0:Pe.preventDefault),!Ve(me,vn,Pe==null?void 0:Pe.enabled)){J(me);return}be.current(me,vn),Ut||(Wt.current=!0)}})}},Ie=function(me){me.key!==void 0&&(Y(b(me.code)),((Pe==null?void 0:Pe.keydown)===void 0&&(Pe==null?void 0:Pe.keyup)!==!0||Pe!=null&&Pe.keydown)&&Jt(me))},Me=function(me){me.key!==void 0&&(G(b(me.code)),Wt.current=!1,Pe!=null&&Pe.keyup&&Jt(me,!0))},We=Et.current||(Tt==null?void 0:Tt.document)||document;return We.addEventListener("keyup",Me),We.addEventListener("keydown",Ie),$t&&y(X,Pe==null?void 0:Pe.splitKey).forEach(function($e){return $t.addHotkey(C($e,Pe==null?void 0:Pe.combinationKey,Pe==null?void 0:Pe.description))}),function(){We.removeEventListener("keyup",Me),We.removeEventListener("keydown",Ie),$t&&y(X,Pe==null?void 0:Pe.splitKey).forEach(function($e){return $t.removeHotkey(C($e,Pe==null?void 0:Pe.combinationKey,Pe==null?void 0:Pe.description))})}}},[X,Pe,mt]),Et}function Ze(){var Z=useState(new Set),ie=Z[0],Se=Z[1],Ge=useState(!1),Et=Ge[0],Wt=Ge[1],Tt=useCallback(function(be){be.key!==void 0&&(be.preventDefault(),be.stopPropagation(),Se(function(Pe){var ut=new Set(Pe);return ut.add(b(be.code)),ut}))},[]),X=useCallback(function(){typeof document!="undefined"&&(document.removeEventListener("keydown",Tt),Wt(!1))},[Tt]),he=useCallback(function(){Se(new Set),typeof document!="undefined"&&(X(),document.addEventListener("keydown",Tt),Wt(!0))},[Tt,X]),ve=useCallback(function(){Se(new Set)},[]);return[ie,{start:he,stop:X,resetKeys:ve,isRecording:Et}]}},32249:function(B,j,h){"use strict";h.d(j,{N:function(){return x}});var i=h(30985),O=h(3341),_=h.n(O),T=h(75271),x=function(u){return function(y,C){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[C],U=arguments.length>3?arguments[3]:void 0,D=U!=null?U:u.setState;(0,T.useEffect)(function(){if(typeof C!="undefined"){var Y,G=(Y=u.getState)===null||Y===void 0?void 0:Y.call(u);if(_()(G==null?void 0:G[y],C))return;D((0,i.Z)({},y,C),!1,{type:"\u{1F4AD} useStoreUpdater / ".concat(y),payload:C})}},I)}}},64494:function(B,j,h){"use strict";h.d(j,{v:function(){return O}});var i=h(34173),O=function(T){return T?i.mW:function(x){return x}}},38498:function(B,j,h){var i=h(78770);function O(_){if(Array.isArray(_))return i(_)}B.exports=O,B.exports.__esModule=!0,B.exports.default=B.exports},62657:function(B){function j(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}B.exports=j,B.exports.__esModule=!0,B.exports.default=B.exports},335:function(B,j,h){var i=h(31479);function O(_,T){var x=typeof Symbol!="undefined"&&_[Symbol.iterator]||_["@@iterator"];if(!x){if(Array.isArray(_)||(x=i(_))||T&&_&&typeof _.length=="number"){x&&(_=x);var b=0,u=function(){};return{s:u,n:function(){return b>=_.length?{done:!0}:{done:!1,value:_[b++]}},e:function(D){throw D},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y=!0,C=!1,I;return{s:function(){x=x.call(_)},n:function(){var D=x.next();return y=D.done,D},e:function(D){C=!0,I=D},f:function(){try{!y&&x.return!=null&&x.return()}finally{if(C)throw I}}}}B.exports=O,B.exports.__esModule=!0,B.exports.default=B.exports},83136:function(B,j,h){var i=h(38836),O=h(68919),_=h(75254);function T(x){var b=O();return function(){var y=i(x),C;if(b){var I=i(this).constructor;C=Reflect.construct(y,arguments,I)}else C=y.apply(this,arguments);return _(this,C)}}B.exports=T,B.exports.__esModule=!0,B.exports.default=B.exports},38836:function(B){function j(h){return B.exports=j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},B.exports.__esModule=!0,B.exports.default=B.exports,j(h)}B.exports=j,B.exports.__esModule=!0,B.exports.default=B.exports},21742:function(B,j,h){var i=h(80038);function O(_,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(T&&T.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),T&&i(_,T)}B.exports=O,B.exports.__esModule=!0,B.exports.default=B.exports},68919:function(B){function j(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(h){return!1}}B.exports=j,B.exports.__esModule=!0,B.exports.default=B.exports},20698:function(B){function j(h){if(typeof Symbol!="undefined"&&h[Symbol.iterator]!=null||h["@@iterator"]!=null)return Array.from(h)}B.exports=j,B.exports.__esModule=!0,B.exports.default=B.exports},91162:function(B){function j(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}B.exports=j,B.exports.__esModule=!0,B.exports.default=B.exports},67825:function(B,j,h){var i=h(64382);function O(_,T){if(_==null)return{};var x=i(_,T),b,u;if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(_);for(u=0;u<y.length;u++)b=y[u],!(T.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(_,b)&&(x[b]=_[b])}return x}B.exports=O,B.exports.__esModule=!0,B.exports.default=B.exports},64382:function(B){function j(h,i){if(h==null)return{};var O={},_=Object.keys(h),T,x;for(x=0;x<_.length;x++)T=_[x],!(i.indexOf(T)>=0)&&(O[T]=h[T]);return O}B.exports=j,B.exports.__esModule=!0,B.exports.default=B.exports},75254:function(B,j,h){var i=h(31759).default,O=h(62657);function _(T,x){if(x&&(i(x)==="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O(T)}B.exports=_,B.exports.__esModule=!0,B.exports.default=B.exports},80038:function(B){function j(h,i){return B.exports=j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,T){return _.__proto__=T,_},B.exports.__esModule=!0,B.exports.default=B.exports,j(h,i)}B.exports=j,B.exports.__esModule=!0,B.exports.default=B.exports},53649:function(B){function j(h,i){return i||(i=h.slice(0)),Object.freeze(Object.defineProperties(h,{raw:{value:Object.freeze(i)}}))}B.exports=j,B.exports.__esModule=!0,B.exports.default=B.exports},15558:function(B,j,h){var i=h(38498),O=h(20698),_=h(31479),T=h(91162);function x(b){return i(b)||O(b)||_(b)||T()}B.exports=x,B.exports.__esModule=!0,B.exports.default=B.exports},6428:function(B,j,h){"use strict";h.d(j,{A:function(){return D},T:function(){return x}});var i=h(75271),O=h(28680),_=h(45171),T=h(30314),x;(function(Y){Y.Lines="lines",Y.Dots="dots",Y.Cross="cross"})(x||(x={}));function b({color:Y,dimensions:G,lineWidth:de}){return i.createElement("path",{stroke:Y,strokeWidth:de,d:`M${G[0]/2} 0 V${G[1]} M0 ${G[1]/2} H${G[0]}`})}function u({color:Y,radius:G}){return i.createElement("circle",{cx:G,cy:G,r:G,fill:Y})}const y={[x.Dots]:"#91919a",[x.Lines]:"#eee",[x.Cross]:"#e2e2e2"},C={[x.Dots]:1,[x.Lines]:1,[x.Cross]:6},I=Y=>({transform:Y.transform,patternId:`pattern-${Y.rfId}`});function U({id:Y,variant:G=x.Dots,gap:de=20,size:Ve,lineWidth:ce=1,offset:ue=2,color:K,style:ne,className:re}){const $=(0,i.useRef)(null),{transform:Q,patternId:ae}=(0,_.oR)(I,T.X),oe=K||y[G],Ee=Ve||C[G],Le=G===x.Dots,R=G===x.Cross,J=Array.isArray(de)?de:[de,de],ke=[J[0]*Q[2]||1,J[1]*Q[2]||1],xe=Ee*Q[2],Ze=R?[xe,xe]:ke,Z=Le?[xe/ue,xe/ue]:[Ze[0]/ue,Ze[1]/ue];return i.createElement("svg",{className:(0,O.Z)(["react-flow__background",re]),style:Vn(Nt({},ne),{position:"absolute",width:"100%",height:"100%",top:0,left:0}),ref:$,"data-testid":"rf__background"},i.createElement("pattern",{id:ae+Y,x:Q[0]%ke[0],y:Q[1]%ke[1],width:ke[0],height:ke[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${Z[0]},-${Z[1]})`},Le?i.createElement(u,{color:oe,radius:xe/ue}):i.createElement(b,{dimensions:Ze,color:oe,lineWidth:ce})),i.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${ae+Y})`}))}U.displayName="Background";var D=(0,i.memo)(U)},45171:function(B,j,h){"use strict";h.d(j,{$i:function(){return Dr},AC:function(){return de},AQ:function(){return Js},B:function(){return ea},Bn:function(){return ks},CV:function(){return Ys},Fb:function(){return Hr},GA:function(){return J},HH:function(){return St},Hm:function(){return W},IY:function(){return Ie},Jd:function(){return xt},Kr:function(){return mo},Kz:function(){return gn},Ly:function(){return me},Mi:function(){return Xs},OQ:function(){return yt},OW:function(){return An},QZ:function(){return $e},RF:function(){return R},RX:function(){return kt},Rr:function(){return Ms},SM:function(){return Gs},Sj:function(){return As},Su:function(){return cn},UG:function(){return un},VP:function(){return st},Wx:function(){return Ho},XQ:function(){return Cs},YH:function(){return Kt},Z_:function(){return pn},_K:function(){return Mo},bS:function(){return yn},cf:function(){return Pe},f6:function(){return ne},hR:function(){return Je},jD:function(){return Jt},ll:function(){return Ns},lx:function(){return jr},my:function(){return Pn},oI:function(){return xe},oR:function(){return G},oW:function(){return Me},r4:function(){return ye},sN:function(){return vt},s_:function(){return ce},t8:function(){return We},tV:function(){return Sn},u5:function(){return be},uZ:function(){return $},un:function(){return zt},vG:function(){return tn},wE:function(){return hi},x$:function(){return Jn},xA:function(){return Vt},xB:function(){return Se},xC:function(){return M},y7:function(){return mn},yn:function(){return or}});var i=h(75271),O=h(28680),_=h(32964),T=h(30314),x=h(65278),b=h(41468),u=h(13802),y=h(45452),C=h(30967);const I=(0,i.createContext)(null),U=I.Provider,D={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:r=>`Node type "${r}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:r=>`The old edge with id=${r} does not exist.`,error009:r=>`Marker type "${r}" doesn't exist.`,error008:(r,c)=>`Couldn't create edge for ${r?"target":"source"} handle id: "${r?c.targetHandle:c.sourceHandle}", edge id: ${c.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:r=>`Edge type "${r}" not found. Using fallback type "default".`,error012:r=>`Node with id "${r}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Y=D.error001();function G(r,c){const p=(0,i.useContext)(I);if(p===null)throw new Error(Y);return(0,_.s)(p,r,c)}const de=()=>{const r=(0,i.useContext)(I);if(r===null)throw new Error(Y);return(0,i.useMemo)(()=>({getState:r.getState,setState:r.setState,subscribe:r.subscribe,destroy:r.destroy}),[r])},Ve=r=>r.userSelectionActive?"none":"all";function ce(N){var A=N,{position:r,children:c,className:p,style:m}=A,v=Ai(A,["position","children","className","style"]);const l=G(Ve),w=`${r}`.split("-");return i.createElement("div",Nt({className:(0,O.Z)(["react-flow__panel",p,...w]),style:Vn(Nt({},m),{pointerEvents:l})},v),c)}function ue({proOptions:r,position:c="bottom-right"}){return r!=null&&r.hideAttribution?null:i.createElement(ce,{position:c,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},i.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const K=H=>{var ge=H,{x:r,y:c,label:p,labelStyle:m={},labelShowBg:v=!0,labelBgStyle:N={},labelBgPadding:A=[2,4],labelBgBorderRadius:l=2,children:w,className:E}=ge,L=Ai(ge,["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"]);const se=(0,i.useRef)(null),[_e,we]=(0,i.useState)({x:0,y:0,width:0,height:0}),De=(0,O.Z)(["react-flow__edge-textwrapper",E]);return(0,i.useEffect)(()=>{if(se.current){const Ae=se.current.getBBox();we({x:Ae.x,y:Ae.y,width:Ae.width,height:Ae.height})}},[p]),typeof p=="undefined"||!p?null:i.createElement("g",Nt({transform:`translate(${r-_e.width/2} ${c-_e.height/2})`,className:De,visibility:_e.width?"visible":"hidden"},L),v&&i.createElement("rect",{width:_e.width+2*A[0],x:-A[0],y:-A[1],height:_e.height+2*A[1],className:"react-flow__edge-textbg",style:N,rx:l,ry:l}),i.createElement("text",{className:"react-flow__edge-text",y:_e.height/2,dy:"0.3em",ref:se,style:m},p),w)};var ne=(0,i.memo)(K);const re=r=>({width:r.offsetWidth,height:r.offsetHeight}),$=(r,c=0,p=1)=>Math.min(Math.max(r,c),p),Q=(r={x:0,y:0},c)=>({x:$(r.x,c[0][0],c[1][0]),y:$(r.y,c[0][1],c[1][1])}),ae=(r,c,p)=>r<c?$(Math.abs(r-c),1,50)/50:r>p?-$(Math.abs(r-p),1,50)/50:0,oe=(r,c)=>{const p=ae(r.x,35,c.width-35)*20,m=ae(r.y,35,c.height-35)*20;return[p,m]},Ee=r=>{var c;return((c=r.getRootNode)==null?void 0:c.call(r))||(window==null?void 0:window.document)},Le=(r,c)=>({x:Math.min(r.x,c.x),y:Math.min(r.y,c.y),x2:Math.max(r.x2,c.x2),y2:Math.max(r.y2,c.y2)}),R=({x:r,y:c,width:p,height:m})=>({x:r,y:c,x2:r+p,y2:c+m}),J=({x:r,y:c,x2:p,y2:m})=>({x:r,y:c,width:p-r,height:m-c}),ke=r=>Vn(Nt({},r.positionAbsolute||{x:0,y:0}),{width:r.width||0,height:r.height||0}),xe=(r,c)=>J(Le(R(r),R(c))),Ze=(r,c)=>{const p=Math.max(0,Math.min(r.x+r.width,c.x+c.width)-Math.max(r.x,c.x)),m=Math.max(0,Math.min(r.y+r.height,c.y+c.height)-Math.max(r.y,c.y));return Math.ceil(p*m)},Z=r=>ie(r.width)&&ie(r.height)&&ie(r.x)&&ie(r.y),ie=r=>!isNaN(r)&&isFinite(r),Se=Symbol.for("internals"),Ge=["Enter"," ","Escape"],Et=(r,c)=>{},Wt=r=>"nativeEvent"in r;function Tt(r){var v,N;const c=Wt(r)?r.nativeEvent:r,p=((N=(v=c.composedPath)==null?void 0:v.call(c))==null?void 0:N[0])||r.target;return["INPUT","SELECT","TEXTAREA"].includes(p==null?void 0:p.nodeName)||(p==null?void 0:p.hasAttribute("contenteditable"))||!!(p!=null&&p.closest(".nokey"))}const X=r=>"clientX"in r,he=(r,c)=>{var N,A,l,w;const p=X(r),m=p?r.clientX:(N=r.touches)==null?void 0:N[0].clientX,v=p?r.clientY:(A=r.touches)==null?void 0:A[0].clientY;return{x:m-((l=c==null?void 0:c.left)!=null?l:0),y:v-((w=c==null?void 0:c.top)!=null?w:0)}},ve=()=>{var r;return typeof navigator!="undefined"&&((r=navigator==null?void 0:navigator.userAgent)==null?void 0:r.indexOf("Mac"))>=0},be=({id:r,path:c,labelX:p,labelY:m,label:v,labelStyle:N,labelShowBg:A,labelBgStyle:l,labelBgPadding:w,labelBgBorderRadius:E,style:L,markerEnd:H,markerStart:ge,interactionWidth:se=20})=>i.createElement(i.Fragment,null,i.createElement("path",{id:r,style:L,d:c,fill:"none",className:"react-flow__edge-path",markerEnd:H,markerStart:ge}),se&&i.createElement("path",{d:c,fill:"none",strokeOpacity:0,strokeWidth:se,className:"react-flow__edge-interaction"}),v&&ie(p)&&ie(m)?i.createElement(ne,{x:p,y:m,label:v,labelStyle:N,labelShowBg:A,labelBgStyle:l,labelBgPadding:w,labelBgBorderRadius:E}):null);be.displayName="BaseEdge";const Pe=(r,c)=>typeof c!="undefined"&&c?`url(#${c})`:typeof r!="undefined"?`url(#react-flow__${r})`:"none";function ut(r,c,p){return p===void 0?p:m=>{const v=c().edges.find(N=>N.id===r);v&&p(m,Nt({},v))}}function mt({sourceX:r,sourceY:c,targetX:p,targetY:m}){const v=Math.abs(p-r)/2,N=p<r?p+v:p-v,A=Math.abs(m-c)/2,l=m<c?m+A:m-A;return[N,l,v,A]}function $t({sourceX:r,sourceY:c,targetX:p,targetY:m,sourceControlX:v,sourceControlY:N,targetControlX:A,targetControlY:l}){const w=r*.125+v*.375+A*.375+p*.125,E=c*.125+N*.375+l*.375+m*.125,L=Math.abs(w-r),H=Math.abs(E-c);return[w,E,L,H]}var Jt;(function(r){r.Strict="strict",r.Loose="loose"})(Jt||(Jt={}));var Ie;(function(r){r.Free="free",r.Vertical="vertical",r.Horizontal="horizontal"})(Ie||(Ie={}));var Me;(function(r){r.Partial="partial",r.Full="full"})(Me||(Me={}));var We;(function(r){r.Bezier="default",r.Straight="straight",r.Step="step",r.SmoothStep="smoothstep",r.SimpleBezier="simplebezier"})(We||(We={}));var $e;(function(r){r.Arrow="arrow",r.ArrowClosed="arrowclosed"})($e||($e={}));var me;(function(r){r.Left="left",r.Top="top",r.Right="right",r.Bottom="bottom"})(me||(me={}));function Ut({pos:r,x1:c,y1:p,x2:m,y2:v}){return r===me.Left||r===me.Right?[.5*(c+m),p]:[c,.5*(p+v)]}function yn({sourceX:r,sourceY:c,sourcePosition:p=me.Bottom,targetX:m,targetY:v,targetPosition:N=me.Top}){const[A,l]=Ut({pos:p,x1:r,y1:c,x2:m,y2:v}),[w,E]=Ut({pos:N,x1:m,y1:v,x2:r,y2:c}),[L,H,ge,se]=$t({sourceX:r,sourceY:c,targetX:m,targetY:v,sourceControlX:A,sourceControlY:l,targetControlX:w,targetControlY:E});return[`M${r},${c} C${A},${l} ${w},${E} ${m},${v}`,L,H,ge,se]}const mn=(0,i.memo)(({sourceX:r,sourceY:c,targetX:p,targetY:m,sourcePosition:v=me.Bottom,targetPosition:N=me.Top,label:A,labelStyle:l,labelShowBg:w,labelBgStyle:E,labelBgPadding:L,labelBgBorderRadius:H,style:ge,markerEnd:se,markerStart:_e,interactionWidth:we})=>{const[De,Ae,Re]=yn({sourceX:r,sourceY:c,sourcePosition:v,targetX:p,targetY:m,targetPosition:N});return i.createElement(be,{path:De,labelX:Ae,labelY:Re,label:A,labelStyle:l,labelShowBg:w,labelBgStyle:E,labelBgPadding:L,labelBgBorderRadius:H,style:ge,markerEnd:se,markerStart:_e,interactionWidth:we})});mn.displayName="SimpleBezierEdge";const kn={[me.Left]:{x:-1,y:0},[me.Right]:{x:1,y:0},[me.Top]:{x:0,y:-1},[me.Bottom]:{x:0,y:1}},Tn=({source:r,sourcePosition:c=me.Bottom,target:p})=>c===me.Left||c===me.Right?r.x<p.x?{x:1,y:0}:{x:-1,y:0}:r.y<p.y?{x:0,y:1}:{x:0,y:-1},vn=(r,c)=>Math.sqrt(Math.pow(c.x-r.x,2)+Math.pow(c.y-r.y,2));function On({source:r,sourcePosition:c=me.Bottom,target:p,targetPosition:m=me.Top,center:v,offset:N}){var Gt,Pt;const A=kn[c],l=kn[m],w={x:r.x+A.x*N,y:r.y+A.y*N},E={x:p.x+l.x*N,y:p.y+l.y*N},L=Tn({source:w,sourcePosition:c,target:E}),H=L.x!==0?"x":"y",ge=L[H];let se=[],_e,we;const De={x:0,y:0},Ae={x:0,y:0},[Re,Fe,lt,it]=mt({sourceX:r.x,sourceY:r.y,targetX:p.x,targetY:p.y});if(A[H]*l[H]===-1){_e=(Gt=v.x)!=null?Gt:Re,we=(Pt=v.y)!=null?Pt:Fe;const at=[{x:_e,y:w.y},{x:_e,y:E.y}],ft=[{x:w.x,y:we},{x:E.x,y:we}];A[H]===ge?se=H==="x"?at:ft:se=H==="x"?ft:at}else{const at=[{x:w.x,y:E.y}],ft=[{x:E.x,y:w.y}];if(H==="x"?se=A.x===ge?ft:at:se=A.y===ge?at:ft,c===m){const ct=Math.abs(r[H]-p[H]);if(ct<=N){const It=Math.min(N-1,N-ct);A[H]===ge?De[H]=(w[H]>r[H]?-1:1)*It:Ae[H]=(E[H]>p[H]?-1:1)*It}}if(c!==m){const ct=H==="x"?"y":"x",It=A[H]===l[ct],Ht=w[ct]>E[ct],jt=w[ct]<E[ct];(A[H]===1&&(!It&&Ht||It&&jt)||A[H]!==1&&(!It&&jt||It&&Ht))&&(se=H==="x"?at:ft)}const wt={x:w.x+De.x,y:w.y+De.y},bt={x:E.x+Ae.x,y:E.y+Ae.y},ot=Math.max(Math.abs(wt.x-se[0].x),Math.abs(bt.x-se[0].x)),je=Math.max(Math.abs(wt.y-se[0].y),Math.abs(bt.y-se[0].y));ot>=je?(_e=(wt.x+bt.x)/2,we=se[0].y):(_e=se[0].x,we=(wt.y+bt.y)/2)}return[[r,{x:w.x+De.x,y:w.y+De.y},...se,{x:E.x+Ae.x,y:E.y+Ae.y},p],_e,we,lt,it]}function Ln(r,c,p,m){const v=Math.min(vn(r,c)/2,vn(c,p)/2,m),{x:N,y:A}=c;if(r.x===N&&N===p.x||r.y===A&&A===p.y)return`L${N} ${A}`;if(r.y===A){const E=r.x<p.x?-1:1,L=r.y<p.y?1:-1;return`L ${N+v*E},${A}Q ${N},${A} ${N},${A+v*L}`}const l=r.x<p.x?1:-1,w=r.y<p.y?-1:1;return`L ${N},${A+v*w}Q ${N},${A} ${N+v*l},${A}`}function An({sourceX:r,sourceY:c,sourcePosition:p=me.Bottom,targetX:m,targetY:v,targetPosition:N=me.Top,borderRadius:A=5,centerX:l,centerY:w,offset:E=20}){const[L,H,ge,se,_e]=On({source:{x:r,y:c},sourcePosition:p,target:{x:m,y:v},targetPosition:N,center:{x:l,y:w},offset:E});return[L.reduce((De,Ae,Re)=>{let Fe="";return Re>0&&Re<L.length-1?Fe=Ln(L[Re-1],Ae,L[Re+1],A):Fe=`${Re===0?"M":"L"}${Ae.x} ${Ae.y}`,De+=Fe,De},""),H,ge,se,_e]}const cn=(0,i.memo)(({sourceX:r,sourceY:c,targetX:p,targetY:m,label:v,labelStyle:N,labelShowBg:A,labelBgStyle:l,labelBgPadding:w,labelBgBorderRadius:E,style:L,sourcePosition:H=me.Bottom,targetPosition:ge=me.Top,markerEnd:se,markerStart:_e,pathOptions:we,interactionWidth:De})=>{const[Ae,Re,Fe]=An({sourceX:r,sourceY:c,sourcePosition:H,targetX:p,targetY:m,targetPosition:ge,borderRadius:we==null?void 0:we.borderRadius,offset:we==null?void 0:we.offset});return i.createElement(be,{path:Ae,labelX:Re,labelY:Fe,label:v,labelStyle:N,labelShowBg:A,labelBgStyle:l,labelBgPadding:w,labelBgBorderRadius:E,style:L,markerEnd:se,markerStart:_e,interactionWidth:De})});cn.displayName="SmoothStepEdge";const M=(0,i.memo)(r=>{var c;return i.createElement(cn,Vn(Nt({},r),{pathOptions:(0,i.useMemo)(()=>{var p;return{borderRadius:0,offset:(p=r.pathOptions)==null?void 0:p.offset}},[(c=r.pathOptions)==null?void 0:c.offset])}))});M.displayName="StepEdge";function W({sourceX:r,sourceY:c,targetX:p,targetY:m}){const[v,N,A,l]=mt({sourceX:r,sourceY:c,targetX:p,targetY:m});return[`M ${r},${c}L ${p},${m}`,v,N,A,l]}const ye=(0,i.memo)(({sourceX:r,sourceY:c,targetX:p,targetY:m,label:v,labelStyle:N,labelShowBg:A,labelBgStyle:l,labelBgPadding:w,labelBgBorderRadius:E,style:L,markerEnd:H,markerStart:ge,interactionWidth:se})=>{const[_e,we,De]=W({sourceX:r,sourceY:c,targetX:p,targetY:m});return i.createElement(be,{path:_e,labelX:we,labelY:De,label:v,labelStyle:N,labelShowBg:A,labelBgStyle:l,labelBgPadding:w,labelBgBorderRadius:E,style:L,markerEnd:H,markerStart:ge,interactionWidth:se})});ye.displayName="StraightEdge";function Ne(r,c){return r>=0?.5*r:c*25*Math.sqrt(-r)}function Xe({pos:r,x1:c,y1:p,x2:m,y2:v,c:N}){switch(r){case me.Left:return[c-Ne(c-m,N),p];case me.Right:return[c+Ne(m-c,N),p];case me.Top:return[c,p-Ne(p-v,N)];case me.Bottom:return[c,p+Ne(v-p,N)]}}function yt({sourceX:r,sourceY:c,sourcePosition:p=me.Bottom,targetX:m,targetY:v,targetPosition:N=me.Top,curvature:A=.25}){const[l,w]=Xe({pos:p,x1:r,y1:c,x2:m,y2:v,c:A}),[E,L]=Xe({pos:N,x1:m,y1:v,x2:r,y2:c,c:A}),[H,ge,se,_e]=$t({sourceX:r,sourceY:c,targetX:m,targetY:v,sourceControlX:l,sourceControlY:w,targetControlX:E,targetControlY:L});return[`M${r},${c} C${l},${w} ${E},${L} ${m},${v}`,H,ge,se,_e]}const xt=(0,i.memo)(({sourceX:r,sourceY:c,targetX:p,targetY:m,sourcePosition:v=me.Bottom,targetPosition:N=me.Top,label:A,labelStyle:l,labelShowBg:w,labelBgStyle:E,labelBgPadding:L,labelBgBorderRadius:H,style:ge,markerEnd:se,markerStart:_e,pathOptions:we,interactionWidth:De})=>{const[Ae,Re,Fe]=yt({sourceX:r,sourceY:c,sourcePosition:v,targetX:p,targetY:m,targetPosition:N,curvature:we==null?void 0:we.curvature});return i.createElement(be,{path:Ae,labelX:Re,labelY:Fe,label:A,labelStyle:l,labelShowBg:w,labelBgStyle:E,labelBgPadding:L,labelBgBorderRadius:H,style:ge,markerEnd:se,markerStart:_e,interactionWidth:De})});xt.displayName="BezierEdge";const ht=(0,i.createContext)(null),ze=ht.Provider;ht.Consumer;const Je=()=>(0,i.useContext)(ht),zt=r=>"id"in r&&"source"in r&&"target"in r,un=r=>"id"in r&&!("source"in r)&&!("target"in r),Vt=(r,c,p)=>{if(!un(r))return[];const m=p.filter(v=>v.source===r.id).map(v=>v.target);return c.filter(v=>m.includes(v.id))},tn=(r,c,p)=>{if(!un(r))return[];const m=p.filter(v=>v.target===r.id).map(v=>v.source);return c.filter(v=>m.includes(v.id))},Qt=({source:r,sourceHandle:c,target:p,targetHandle:m})=>`reactflow__edge-${r}${c||""}-${p}${m||""}`,qt=(r,c)=>typeof r=="undefined"?"":typeof r=="string"?r:`${c?`${c}__`:""}${Object.keys(r).sort().map(m=>`${m}=${r[m]}`).join("&")}`,wn=(r,c)=>c.some(p=>p.source===r.source&&p.target===r.target&&(p.sourceHandle===r.sourceHandle||!p.sourceHandle&&!r.sourceHandle)&&(p.targetHandle===r.targetHandle||!p.targetHandle&&!r.targetHandle)),pn=(r,c)=>{if(!r.source||!r.target)return Et("006",D.error006()),c;let p;return zt(r)?p=Nt({},r):p=Vn(Nt({},r),{id:Qt(r)}),wn(p,c)?c:c.concat(p)},gn=(r,c,p,m={shouldReplaceId:!0})=>{const w=r,{id:v}=w,N=Ai(w,["id"]);if(!c.source||!c.target)return Et("006",D.error006()),p;if(!p.find(E=>E.id===v))return Et("007",D.error007(v)),p;const l=Vn(Nt({},N),{id:m.shouldReplaceId?Qt(c):v,source:c.source,target:c.target,sourceHandle:c.sourceHandle,targetHandle:c.targetHandle});return p.filter(E=>E.id!==v).concat(l)},vt=(r,c,p,m={shouldReplaceId:!0})=>(console.warn("[DEPRECATED] `updateEdge` is deprecated. Instead use `reconnectEdge` https://reactflow.dev/api-reference/utils/reconnect-edge"),gn(r,c,p,m)),Lt=({x:r,y:c},[p,m,v],N,[A,l])=>{const w={x:(r-p)/v,y:(c-m)/v};return N?{x:A*Math.round(w.x/A),y:l*Math.round(w.y/l)}:w},Ot=({x:r,y:c},[p,m,v])=>({x:r*v+p,y:c*v+m}),st=(r,c=[0,0])=>{var N,A;if(!r)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const p=((N=r.width)!=null?N:0)*c[0],m=((A=r.height)!=null?A:0)*c[1],v={x:r.position.x-p,y:r.position.y-m};return Vn(Nt({},v),{positionAbsolute:r.positionAbsolute?{x:r.positionAbsolute.x-p,y:r.positionAbsolute.y-m}:v})},kt=(r,c=[0,0])=>{if(r.length===0)return{x:0,y:0,width:0,height:0};const p=r.reduce((m,v)=>{const{x:N,y:A}=st(v,c).positionAbsolute;return Le(m,R({x:N,y:A,width:v.width||0,height:v.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return J(p)},Kt=(r,c=[0,0])=>(console.warn("[DEPRECATED] `getRectOfNodes` is deprecated. Instead use `getNodesBounds` https://reactflow.dev/api-reference/utils/get-nodes-bounds."),kt(r,c)),vr=(r,c,[p,m,v]=[0,0,1],N=!1,A=!1,l=[0,0])=>{const w={x:(c.x-p)/v,y:(c.y-m)/v,width:c.width/v,height:c.height/v},E=[];return r.forEach(L=>{const{width:H,height:ge,selectable:se=!0,hidden:_e=!1}=L;if(A&&!se||_e)return!1;const{positionAbsolute:we}=st(L,l),De={x:we.x,y:we.y,width:H||0,height:ge||0},Ae=Ze(w,De),Re=typeof H=="undefined"||typeof ge=="undefined"||H===null||ge===null,Fe=N&&Ae>0,lt=(H||0)*(ge||0);(Re||Fe||Ae>=lt||L.dragging)&&E.push(L)}),E},Pn=(r,c)=>{const p=r.map(m=>m.id);return c.filter(m=>p.includes(m.source)||p.includes(m.target))},jr=(r,c,p,m,v,N=.1)=>{const{x:A,y:l,zoom:w}=Dr(r,c,p,m,v,N);return console.warn("[DEPRECATED] `getTransformForBounds` is deprecated. Instead use `getViewportForBounds`. Beware that the return value is type Viewport (`{ x: number, y: number, zoom: number }`) instead of Transform (`[number, number, number]`). https://reactflow.dev/api-reference/utils/get-viewport-for-bounds"),[A,l,w]},Dr=(r,c,p,m,v,N=.1)=>{const A=c/(r.width*(1+N)),l=p/(r.height*(1+N)),w=Math.min(A,l),E=$(w,m,v),L=r.x+r.width/2,H=r.y+r.height/2,ge=c/2-L*E,se=p/2-H*E;return{x:ge,y:se,zoom:E}},qn=(r,c=0)=>r.transition().duration(c);function er(r,c,p,m){return(c[p]||[]).reduce((v,N)=>{var A,l,w,E;return`${r.id}-${N.id}-${p}`!==m&&v.push({id:N.id||null,type:p,nodeId:r.id,x:((l=(A=r.positionAbsolute)==null?void 0:A.x)!=null?l:0)+N.x+N.width/2,y:((E=(w=r.positionAbsolute)==null?void 0:w.y)!=null?E:0)+N.y+N.height/2}),v},[])}function Vo(r,c,p,m,v,N){const{x:A,y:l}=he(r),E=c.elementsFromPoint(A,l).find(_e=>_e.classList.contains("react-flow__handle"));if(E){const _e=E.getAttribute("data-nodeid");if(_e){const we=Zr(void 0,E),De=E.getAttribute("data-handleid"),Ae=N({nodeId:_e,id:De,type:we});if(Ae){const Re=v.find(Fe=>Fe.nodeId===_e&&Fe.type===we&&Fe.id===De);return{handle:{id:De,type:we,nodeId:_e,x:(Re==null?void 0:Re.x)||p.x,y:(Re==null?void 0:Re.y)||p.y},validHandleResult:Ae}}}}let L=[],H=1/0;if(v.forEach(_e=>{const we=Math.sqrt(ja(_e.x-p.x,2)+ja(_e.y-p.y,2));if(we<=m){const De=N(_e);we<=H&&(we<H?L=[{handle:_e,validHandleResult:De}]:we===H&&L.push({handle:_e,validHandleResult:De}),H=we)}}),!L.length)return{handle:null,validHandleResult:tr()};if(L.length===1)return L[0];const ge=L.some(({validHandleResult:_e})=>_e.isValid),se=L.some(({handle:_e})=>_e.type==="target");return L.find(({handle:_e,validHandleResult:we})=>se?_e.type==="target":ge?we.isValid:!0)||L[0]}const Io={source:null,target:null,sourceHandle:null,targetHandle:null},tr=()=>({handleDomNode:null,isValid:!1,connection:Io,endHandle:null});function nr(r,c,p,m,v,N,A){const l=v==="target",w=A.querySelector(`.react-flow__handle[data-id="${r==null?void 0:r.nodeId}-${r==null?void 0:r.id}-${r==null?void 0:r.type}"]`),E=Vn(Nt({},tr()),{handleDomNode:w});if(w){const L=Zr(void 0,w),H=w.getAttribute("data-nodeid"),ge=w.getAttribute("data-handleid"),se=w.classList.contains("connectable"),_e=w.classList.contains("connectableend"),we={source:l?H:p,sourceHandle:l?ge:m,target:l?p:H,targetHandle:l?m:ge};E.connection=we,se&&_e&&(c===Jt.Strict?l&&L==="source"||!l&&L==="target":H!==p||ge!==m)&&(E.endHandle={nodeId:H,handleId:ge,type:L},E.isValid=N(we))}return E}function Pr({nodes:r,nodeId:c,handleId:p,handleType:m}){return r.reduce((v,N)=>{if(N[Se]){const{handleBounds:A}=N[Se];let l=[],w=[];A&&(l=er(N,A,"source",`${c}-${p}-${m}`),w=er(N,A,"target",`${c}-${p}-${m}`)),v.push(...l,...w)}return v},[])}function Zr(r,c){return r||(c!=null&&c.classList.contains("target")?"target":c!=null&&c.classList.contains("source")?"source":null)}function z(r){r==null||r.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function pe(r,c){let p=null;return c?p="valid":r&&!c&&(p="invalid"),p}function tt({event:r,handleId:c,nodeId:p,onConnect:m,isTarget:v,getState:N,setState:A,isValidConnection:l,edgeUpdaterType:w,onReconnectEnd:E}){const L=Ee(r.target),{connectionMode:H,domNode:ge,autoPanOnConnect:se,connectionRadius:_e,onConnectStart:we,panBy:De,getNodes:Ae,cancelConnection:Re}=N();let Fe=0,lt;const{x:it,y:Mt}=he(r),Gt=L==null?void 0:L.elementFromPoint(it,Mt),Pt=Zr(w,Gt),at=ge==null?void 0:ge.getBoundingClientRect();if(!at||!Pt)return;let ft,wt=he(r,at),bt=!1,ot=null,je=!1,ct=null;const It=Pr({nodes:Ae(),nodeId:p,handleId:c,handleType:Pt}),Ht=()=>{if(!se)return;const[Ct,_t]=oe(wt,at);De({x:Ct,y:_t}),Fe=requestAnimationFrame(Ht)};A({connectionPosition:wt,connectionStatus:null,connectionNodeId:p,connectionHandleId:c,connectionHandleType:Pt,connectionStartHandle:{nodeId:p,handleId:c,type:Pt},connectionEndHandle:null}),we==null||we(r,{nodeId:p,handleId:c,handleType:Pt});function jt(Ct){const{transform:_t}=N();wt=he(Ct,at);const{handle:pt,validHandleResult:Yt}=Vo(Ct,L,Lt(wt,_t,!1,[1,1]),_e,It,an=>nr(an,H,p,c,v?"target":"source",l,L));if(lt=pt,bt||(Ht(),bt=!0),ct=Yt.handleDomNode,ot=Yt.connection,je=Yt.isValid,A({connectionPosition:lt&&je?Ot({x:lt.x,y:lt.y},_t):wt,connectionStatus:pe(!!lt,je),connectionEndHandle:Yt.endHandle}),!lt&&!je&&!ct)return z(ft);ot.source!==ot.target&&ct&&(z(ft),ft=ct,ct.classList.add("connecting","react-flow__handle-connecting"),ct.classList.toggle("valid",je),ct.classList.toggle("react-flow__handle-valid",je))}function Ue(Ct){var _t,pt;(lt||ct)&&ot&&je&&(m==null||m(ot)),(pt=(_t=N()).onConnectEnd)==null||pt.call(_t,Ct),w&&(E==null||E(Ct)),z(ft),Re(),cancelAnimationFrame(Fe),bt=!1,je=!1,ot=null,ct=null,L.removeEventListener("mousemove",jt),L.removeEventListener("mouseup",Ue),L.removeEventListener("touchmove",jt),L.removeEventListener("touchend",Ue)}L.addEventListener("mousemove",jt),L.addEventListener("mouseup",Ue),L.addEventListener("touchmove",jt),L.addEventListener("touchend",Ue)}const rt=()=>!0,Ke=r=>({connectionStartHandle:r.connectionStartHandle,connectOnClick:r.connectOnClick,noPanClassName:r.noPanClassName}),dt=(r,c,p)=>m=>{const{connectionStartHandle:v,connectionEndHandle:N,connectionClickStartHandle:A}=m;return{connecting:(v==null?void 0:v.nodeId)===r&&(v==null?void 0:v.handleId)===c&&(v==null?void 0:v.type)===p||(N==null?void 0:N.nodeId)===r&&(N==null?void 0:N.handleId)===c&&(N==null?void 0:N.type)===p,clickConnecting:(A==null?void 0:A.nodeId)===r&&(A==null?void 0:A.handleId)===c&&(A==null?void 0:A.type)===p}},Dt=(0,i.forwardRef)((_e,se)=>{var we=_e,{type:r="source",position:c=me.Top,isValidConnection:p,isConnectable:m=!0,isConnectableStart:v=!0,isConnectableEnd:N=!0,id:A,onConnect:l,children:w,className:E,onMouseDown:L,onTouchStart:H}=we,ge=Ai(we,["type","position","isValidConnection","isConnectable","isConnectableStart","isConnectableEnd","id","onConnect","children","className","onMouseDown","onTouchStart"]);var wt,bt;const De=A||null,Ae=r==="target",Re=de(),Fe=Je(),{connectOnClick:lt,noPanClassName:it}=G(Ke,T.X),{connecting:Mt,clickConnecting:Gt}=G(dt(Fe,De,r),T.X);Fe||(bt=(wt=Re.getState()).onError)==null||bt.call(wt,"010",D.error010());const Pt=ot=>{const{defaultEdgeOptions:je,onConnect:ct,hasDefaultEdges:It}=Re.getState(),Ht=Nt(Nt({},je),ot);if(It){const{edges:jt,setEdges:Ue}=Re.getState();Ue(pn(Ht,jt))}ct==null||ct(Ht),l==null||l(Ht)},at=ot=>{if(!Fe)return;const je=X(ot);v&&(je&&ot.button===0||!je)&&tt({event:ot,handleId:De,nodeId:Fe,onConnect:Pt,isTarget:Ae,getState:Re.getState,setState:Re.setState,isValidConnection:p||Re.getState().isValidConnection||rt}),je?L==null||L(ot):H==null||H(ot)},ft=ot=>{const{onClickConnectStart:je,onClickConnectEnd:ct,connectionClickStartHandle:It,connectionMode:Ht,isValidConnection:jt}=Re.getState();if(!Fe||!It&&!v)return;if(!It){je==null||je(ot,{nodeId:Fe,handleId:De,handleType:r}),Re.setState({connectionClickStartHandle:{nodeId:Fe,type:r,handleId:De}});return}const Ue=Ee(ot.target),Ct=p||jt||rt,{connection:_t,isValid:pt}=nr({nodeId:Fe,id:De,type:r},Ht,It.nodeId,It.handleId||null,It.type,Ct,Ue);pt&&Pt(_t),ct==null||ct(ot),Re.setState({connectionClickStartHandle:null})};return i.createElement("div",Nt({"data-handleid":De,"data-nodeid":Fe,"data-handlepos":c,"data-id":`${Fe}-${De}-${r}`,className:(0,O.Z)(["react-flow__handle",`react-flow__handle-${c}`,"nodrag",it,E,{source:!Ae,target:Ae,connectable:m,connectablestart:v,connectableend:N,connecting:Gt,connectionindicator:m&&(v&&!Mt||N&&Mt)}]),onMouseDown:at,onTouchStart:at,onClick:lt?ft:void 0,ref:se},ge),w)});Dt.displayName="Handle";var St=(0,i.memo)(Dt);const Zt=({data:r,isConnectable:c,targetPosition:p=me.Top,sourcePosition:m=me.Bottom})=>i.createElement(i.Fragment,null,i.createElement(St,{type:"target",position:p,isConnectable:c}),r==null?void 0:r.label,i.createElement(St,{type:"source",position:m,isConnectable:c}));Zt.displayName="DefaultNode";var rn=(0,i.memo)(Zt);const xn=({data:r,isConnectable:c,sourcePosition:p=me.Bottom})=>i.createElement(i.Fragment,null,r==null?void 0:r.label,i.createElement(St,{type:"source",position:p,isConnectable:c}));xn.displayName="InputNode";var Xn=(0,i.memo)(xn);const dr=({data:r,isConnectable:c,targetPosition:p=me.Top})=>i.createElement(i.Fragment,null,i.createElement(St,{type:"target",position:p,isConnectable:c}),r==null?void 0:r.label);dr.displayName="OutputNode";var rr=(0,i.memo)(dr);const Hn=()=>null;Hn.displayName="GroupNode";const go=r=>({selectedNodes:r.getNodes().filter(c=>c.selected),selectedEdges:r.edges.filter(c=>c.selected).map(c=>Nt({},c))}),Yr=r=>r.id;function oi(r,c){return(0,T.X)(r.selectedNodes.map(Yr),c.selectedNodes.map(Yr))&&(0,T.X)(r.selectedEdges.map(Yr),c.selectedEdges.map(Yr))}const Ir=(0,i.memo)(({onSelectionChange:r})=>{const c=de(),{selectedNodes:p,selectedEdges:m}=G(go,oi);return(0,i.useEffect)(()=>{const v={nodes:p,edges:m};r==null||r(v),c.getState().onSelectionChange.forEach(N=>N(v))},[p,m,r]),null});Ir.displayName="SelectionListener";const Jr=r=>!!r.onSelectionChange;function Fo({onSelectionChange:r}){const c=G(Jr);return r||c?i.createElement(Ir,{onSelectionChange:r}):null}const To=r=>({setNodes:r.setNodes,setEdges:r.setEdges,setDefaultNodesAndEdges:r.setDefaultNodesAndEdges,setMinZoom:r.setMinZoom,setMaxZoom:r.setMaxZoom,setTranslateExtent:r.setTranslateExtent,setNodeExtent:r.setNodeExtent,reset:r.reset});function Qr(r,c){(0,i.useEffect)(()=>{typeof r!="undefined"&&c(r)},[r])}function dn(r,c,p){(0,i.useEffect)(()=>{typeof c!="undefined"&&p({[r]:c})},[c])}const Oi=({nodes:r,edges:c,defaultNodes:p,defaultEdges:m,onConnect:v,onConnectStart:N,onConnectEnd:A,onClickConnectStart:l,onClickConnectEnd:w,nodesDraggable:E,nodesConnectable:L,nodesFocusable:H,edgesFocusable:ge,edgesUpdatable:se,elevateNodesOnSelect:_e,minZoom:we,maxZoom:De,nodeExtent:Ae,onNodesChange:Re,onEdgesChange:Fe,elementsSelectable:lt,connectionMode:it,snapGrid:Mt,snapToGrid:Gt,translateExtent:Pt,connectOnClick:at,defaultEdgeOptions:ft,fitView:wt,fitViewOptions:bt,onNodesDelete:ot,onEdgesDelete:je,onNodeDrag:ct,onNodeDragStart:It,onNodeDragStop:Ht,onSelectionDrag:jt,onSelectionDragStart:Ue,onSelectionDragStop:Ct,noPanClassName:_t,nodeOrigin:pt,rfId:Yt,autoPanOnConnect:an,autoPanOnNodeDrag:Cn,onError:Nn,connectionRadius:jn,isValidConnection:cr,nodeDragThreshold:lr})=>{const{setNodes:Qn,setEdges:Mr,setDefaultNodesAndEdges:$n,setMinZoom:ao,setMaxZoom:$r,setTranslateExtent:Wn,setNodeExtent:zr,reset:_n}=G(To,T.X),Xt=de();return(0,i.useEffect)(()=>{const kr=m==null?void 0:m.map(Xo=>Nt(Nt({},Xo),ft));return $n(p,kr),()=>{_n()}},[]),dn("defaultEdgeOptions",ft,Xt.setState),dn("connectionMode",it,Xt.setState),dn("onConnect",v,Xt.setState),dn("onConnectStart",N,Xt.setState),dn("onConnectEnd",A,Xt.setState),dn("onClickConnectStart",l,Xt.setState),dn("onClickConnectEnd",w,Xt.setState),dn("nodesDraggable",E,Xt.setState),dn("nodesConnectable",L,Xt.setState),dn("nodesFocusable",H,Xt.setState),dn("edgesFocusable",ge,Xt.setState),dn("edgesUpdatable",se,Xt.setState),dn("elementsSelectable",lt,Xt.setState),dn("elevateNodesOnSelect",_e,Xt.setState),dn("snapToGrid",Gt,Xt.setState),dn("snapGrid",Mt,Xt.setState),dn("onNodesChange",Re,Xt.setState),dn("onEdgesChange",Fe,Xt.setState),dn("connectOnClick",at,Xt.setState),dn("fitViewOnInit",wt,Xt.setState),dn("fitViewOnInitOptions",bt,Xt.setState),dn("onNodesDelete",ot,Xt.setState),dn("onEdgesDelete",je,Xt.setState),dn("onNodeDrag",ct,Xt.setState),dn("onNodeDragStart",It,Xt.setState),dn("onNodeDragStop",Ht,Xt.setState),dn("onSelectionDrag",jt,Xt.setState),dn("onSelectionDragStart",Ue,Xt.setState),dn("onSelectionDragStop",Ct,Xt.setState),dn("noPanClassName",_t,Xt.setState),dn("nodeOrigin",pt,Xt.setState),dn("rfId",Yt,Xt.setState),dn("autoPanOnConnect",an,Xt.setState),dn("autoPanOnNodeDrag",Cn,Xt.setState),dn("onError",Nn,Xt.setState),dn("connectionRadius",jn,Xt.setState),dn("isValidConnection",cr,Xt.setState),dn("nodeDragThreshold",lr,Xt.setState),Qr(r,Qn),Qr(c,Mr),Qr(we,ao),Qr(De,$r),Qr(Pt,Wn),Qr(Ae,zr),null},Ao={display:"none"},ns={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},ii="react-flow__node-desc",qr="react-flow__edge-desc",rs="react-flow__aria-live",Mi=r=>r.ariaLiveMessage;function Ni({rfId:r}){const c=G(Mi);return i.createElement("div",{id:`${rs}-${r}`,"aria-live":"assertive","aria-atomic":"true",style:ns},c)}function Oo({rfId:r,disableKeyboardA11y:c}){return i.createElement(i.Fragment,null,i.createElement("div",{id:`${ii}-${r}`,style:Ao},"Press enter or space to select a node.",!c&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),i.createElement("div",{id:`${qr}-${r}`,style:Ao},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!c&&i.createElement(Ni,{rfId:r}))}var mo=(r=null,c={actInsideInputWithModifier:!0})=>{const[p,m]=(0,i.useState)(!1),v=(0,i.useRef)(!1),N=(0,i.useRef)(new Set([])),[A,l]=(0,i.useMemo)(()=>{if(r!==null){const E=(Array.isArray(r)?r:[r]).filter(H=>typeof H=="string").map(H=>H.split("+")),L=E.reduce((H,ge)=>H.concat(...ge),[]);return[E,L]}return[[],[]]},[r]);return(0,i.useEffect)(()=>{const w=typeof document!="undefined"?document:null,E=(c==null?void 0:c.target)||w;if(r!==null){const L=se=>{if(v.current=se.ctrlKey||se.metaKey||se.shiftKey,(!v.current||v.current&&!c.actInsideInputWithModifier)&&Tt(se))return!1;const we=Di(se.code,l);N.current.add(se[we]),si(A,N.current,!1)&&(se.preventDefault(),m(!0))},H=se=>{if((!v.current||v.current&&!c.actInsideInputWithModifier)&&Tt(se))return!1;const we=Di(se.code,l);si(A,N.current,!0)?(m(!1),N.current.clear()):N.current.delete(se[we]),se.key==="Meta"&&N.current.clear(),v.current=!1},ge=()=>{N.current.clear(),m(!1)};return E==null||E.addEventListener("keydown",L),E==null||E.addEventListener("keyup",H),window.addEventListener("blur",ge),()=>{E==null||E.removeEventListener("keydown",L),E==null||E.removeEventListener("keyup",H),window.removeEventListener("blur",ge)}}},[r,m]),p};function si(r,c,p){return r.filter(m=>p||m.length===c.size).some(m=>m.every(v=>c.has(v)))}function Di(r,c){return c.includes(r)?"code":"key"}function Pi(r,c,p,m){var l,w,E,L,H,ge,se,_e;const v=r.parentNode||r.parentId;if(!v)return p;const N=c.get(v),A=st(N,m);return Pi(N,c,{x:((l=p.x)!=null?l:0)+A.x,y:((w=p.y)!=null?w:0)+A.y,z:((L=(E=N[Se])==null?void 0:E.z)!=null?L:0)>((H=p.z)!=null?H:0)?(se=(ge=N[Se])==null?void 0:ge.z)!=null?se:0:(_e=p.z)!=null?_e:0},m)}function fr(r,c,p){r.forEach(m=>{var N,A;const v=m.parentNode||m.parentId;if(v&&!r.has(v))throw new Error(`Parent node ${v} not found`);if(v||p!=null&&p[m.id]){const{x:l,y:w,z:E}=Pi(m,r,Vn(Nt({},m.position),{z:(A=(N=m[Se])==null?void 0:N.z)!=null?A:0}),c);m.positionAbsolute={x:l,y:w},m[Se].z=E,p!=null&&p[m.id]&&(m[Se].isParent=!0)}})}function eo(r,c,p,m){const v=new Map,N={},A=m?1e3:0;return r.forEach(l=>{var se;const w=(ie(l.zIndex)?l.zIndex:0)+(l.selected?A:0),E=c.get(l.id),L=Vn(Nt({},l),{positionAbsolute:{x:l.position.x,y:l.position.y}}),H=l.parentNode||l.parentId;H&&(N[H]=!0);const ge=(E==null?void 0:E.type)&&(E==null?void 0:E.type)!==l.type;Object.defineProperty(L,Se,{enumerable:!1,value:{handleBounds:ge||(se=E==null?void 0:E[Se])==null?void 0:se.handleBounds,z:w}}),v.set(l.id,L)}),fr(v,p,N),v}function Ri(r,c={}){var _e,we,De;const{getNodes:p,width:m,height:v,minZoom:N,maxZoom:A,d3Zoom:l,d3Selection:w,fitViewOnInitDone:E,fitViewOnInit:L,nodeOrigin:H}=r(),ge=c.initial&&!E&&L;if(l&&w&&(ge||!c.initial)){const Ae=p().filter(Fe=>{var it;const lt=c.includeHiddenNodes?Fe.width&&Fe.height:!Fe.hidden;return(it=c.nodes)!=null&&it.length?lt&&c.nodes.some(Mt=>Mt.id===Fe.id):lt}),Re=Ae.every(Fe=>Fe.width&&Fe.height);if(Ae.length>0&&Re){const Fe=kt(Ae,H),{x:lt,y:it,zoom:Mt}=Dr(Fe,m,v,(_e=c.minZoom)!=null?_e:N,(we=c.maxZoom)!=null?we:A,(De=c.padding)!=null?De:.1),Gt=x.CR.translate(lt,it).scale(Mt);return typeof c.duration=="number"&&c.duration>0?l.transform(qn(w,c.duration),Gt):l.transform(w,Gt),!0}}return!1}function ai(r,c){return r.forEach(p=>{const m=c.get(p.id);m&&c.set(m.id,Vn(Nt({},m),{[Se]:m[Se],selected:p.selected}))}),new Map(c)}function Li(r,c){return c.map(p=>{const m=r.find(v=>v.id===p.id);return m&&(p.selected=m.selected),p})}function Yn({changedNodes:r,changedEdges:c,get:p,set:m}){const{nodeInternals:v,edges:N,onNodesChange:A,onEdgesChange:l,hasDefaultNodes:w,hasDefaultEdges:E}=p();r!=null&&r.length&&(w&&m({nodeInternals:ai(r,v)}),A==null||A(r)),c!=null&&c.length&&(E&&m({edges:Li(c,N)}),l==null||l(c))}const to=()=>{},Mn={zoomIn:to,zoomOut:to,zoomTo:to,getZoom:()=>1,setViewport:to,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:to,fitBounds:to,project:r=>r,screenToFlowPosition:r=>r,flowToScreenPosition:r=>r,viewportInitialized:!1},yo=r=>({d3Zoom:r.d3Zoom,d3Selection:r.d3Selection}),jo=()=>{const r=de(),{d3Zoom:c,d3Selection:p}=G(yo,T.X);return(0,i.useMemo)(()=>p&&c?{zoomIn:v=>c.scaleBy(qn(p,v==null?void 0:v.duration),1.2),zoomOut:v=>c.scaleBy(qn(p,v==null?void 0:v.duration),1/1.2),zoomTo:(v,N)=>c.scaleTo(qn(p,N==null?void 0:N.duration),v),getZoom:()=>r.getState().transform[2],setViewport:(v,N)=>{var L,H,ge;const[A,l,w]=r.getState().transform,E=x.CR.translate((L=v.x)!=null?L:A,(H=v.y)!=null?H:l).scale((ge=v.zoom)!=null?ge:w);c.transform(qn(p,N==null?void 0:N.duration),E)},getViewport:()=>{const[v,N,A]=r.getState().transform;return{x:v,y:N,zoom:A}},fitView:v=>Ri(r.getState,v),setCenter:(v,N,A)=>{const{width:l,height:w,maxZoom:E}=r.getState(),L=typeof(A==null?void 0:A.zoom)!="undefined"?A.zoom:E,H=l/2-v*L,ge=w/2-N*L,se=x.CR.translate(H,ge).scale(L);c.transform(qn(p,A==null?void 0:A.duration),se)},fitBounds:(v,N)=>{var _e;const{width:A,height:l,minZoom:w,maxZoom:E}=r.getState(),{x:L,y:H,zoom:ge}=Dr(v,A,l,w,E,(_e=N==null?void 0:N.padding)!=null?_e:.1),se=x.CR.translate(L,H).scale(ge);c.transform(qn(p,N==null?void 0:N.duration),se)},project:v=>{const{transform:N,snapToGrid:A,snapGrid:l}=r.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Lt(v,N,A,l)},screenToFlowPosition:v=>{const{transform:N,snapToGrid:A,snapGrid:l,domNode:w}=r.getState();if(!w)return v;const{x:E,y:L}=w.getBoundingClientRect(),H={x:v.x-E,y:v.y-L};return Lt(H,N,A,l)},flowToScreenPosition:v=>{const{transform:N,domNode:A}=r.getState();if(!A)return v;const{x:l,y:w}=A.getBoundingClientRect(),E=Ot(v,N);return{x:E.x+l,y:E.y+w}},viewportInitialized:!0}:Mn,[c,p])};function Mo(){const r=jo(),c=de(),p=(0,i.useCallback)(()=>c.getState().getNodes().map(we=>Nt({},we)),[]),m=(0,i.useCallback)(we=>c.getState().nodeInternals.get(we),[]),v=(0,i.useCallback)(()=>{const{edges:we=[]}=c.getState();return we.map(De=>Nt({},De))},[]),N=(0,i.useCallback)(we=>{const{edges:De=[]}=c.getState();return De.find(Ae=>Ae.id===we)},[]),A=(0,i.useCallback)(we=>{const{getNodes:De,setNodes:Ae,hasDefaultNodes:Re,onNodesChange:Fe}=c.getState(),lt=De(),it=typeof we=="function"?we(lt):we;if(Re)Ae(it);else if(Fe){const Mt=it.length===0?lt.map(Gt=>({type:"remove",id:Gt.id})):it.map(Gt=>({item:Gt,type:"reset"}));Fe(Mt)}},[]),l=(0,i.useCallback)(we=>{const{edges:De=[],setEdges:Ae,hasDefaultEdges:Re,onEdgesChange:Fe}=c.getState(),lt=typeof we=="function"?we(De):we;if(Re)Ae(lt);else if(Fe){const it=lt.length===0?De.map(Mt=>({type:"remove",id:Mt.id})):lt.map(Mt=>({item:Mt,type:"reset"}));Fe(it)}},[]),w=(0,i.useCallback)(we=>{const De=Array.isArray(we)?we:[we],{getNodes:Ae,setNodes:Re,hasDefaultNodes:Fe,onNodesChange:lt}=c.getState();if(Fe){const Mt=[...Ae(),...De];Re(Mt)}else if(lt){const it=De.map(Mt=>({item:Mt,type:"add"}));lt(it)}},[]),E=(0,i.useCallback)(we=>{const De=Array.isArray(we)?we:[we],{edges:Ae=[],setEdges:Re,hasDefaultEdges:Fe,onEdgesChange:lt}=c.getState();if(Fe)Re([...Ae,...De]);else if(lt){const it=De.map(Mt=>({item:Mt,type:"add"}));lt(it)}},[]),L=(0,i.useCallback)(()=>{const{getNodes:we,edges:De=[],transform:Ae}=c.getState(),[Re,Fe,lt]=Ae;return{nodes:we().map(it=>Nt({},it)),edges:De.map(it=>Nt({},it)),viewport:{x:Re,y:Fe,zoom:lt}}},[]),H=(0,i.useCallback)(({nodes:we,edges:De})=>{const{nodeInternals:Ae,getNodes:Re,edges:Fe,hasDefaultNodes:lt,hasDefaultEdges:it,onNodesDelete:Mt,onEdgesDelete:Gt,onNodesChange:Pt,onEdgesChange:at}=c.getState(),ft=(we||[]).map(ct=>ct.id),wt=(De||[]).map(ct=>ct.id),bt=Re().reduce((ct,It)=>{const Ht=It.parentNode||It.parentId,jt=!ft.includes(It.id)&&Ht&&ct.find(Ct=>Ct.id===Ht);return(typeof It.deletable=="boolean"?It.deletable:!0)&&(ft.includes(It.id)||jt)&&ct.push(It),ct},[]),ot=Fe.filter(ct=>typeof ct.deletable=="boolean"?ct.deletable:!0),je=ot.filter(ct=>wt.includes(ct.id));if(bt||je){const ct=Pn(bt,ot),It=[...je,...ct],Ht=It.reduce((jt,Ue)=>(jt.includes(Ue.id)||jt.push(Ue.id),jt),[]);if((it||lt)&&(it&&c.setState({edges:Fe.filter(jt=>!Ht.includes(jt.id))}),lt&&(bt.forEach(jt=>{Ae.delete(jt.id)}),c.setState({nodeInternals:new Map(Ae)}))),Ht.length>0&&(Gt==null||Gt(It),at&&at(Ht.map(jt=>({id:jt,type:"remove"})))),bt.length>0&&(Mt==null||Mt(bt),Pt)){const jt=bt.map(Ue=>({id:Ue.id,type:"remove"}));Pt(jt)}}},[]),ge=(0,i.useCallback)(we=>{const De=Z(we),Ae=De?null:c.getState().nodeInternals.get(we.id);return!De&&!Ae?[null,null,De]:[De?we:ke(Ae),Ae,De]},[]),se=(0,i.useCallback)((we,De=!0,Ae)=>{const[Re,Fe,lt]=ge(we);return Re?(Ae||c.getState().getNodes()).filter(it=>{if(!lt&&(it.id===Fe.id||!it.positionAbsolute))return!1;const Mt=ke(it),Gt=Ze(Mt,Re);return De&&Gt>0||Gt>=Re.width*Re.height}):[]},[]),_e=(0,i.useCallback)((we,De,Ae=!0)=>{const[Re]=ge(we);if(!Re)return!1;const Fe=Ze(Re,De);return Ae&&Fe>0||Fe>=Re.width*Re.height},[]);return(0,i.useMemo)(()=>Vn(Nt({},r),{getNodes:p,getNode:m,getEdges:v,getEdge:N,setNodes:A,setEdges:l,addNodes:w,addEdges:E,toObject:L,deleteElements:H,getIntersectingNodes:se,isNodeIntersecting:_e}),[r,p,m,v,N,A,l,w,E,L,H,se,_e])}const os={actInsideInputWithModifier:!1};var is=({deleteKeyCode:r,multiSelectionKeyCode:c})=>{const p=de(),{deleteElements:m}=Mo(),v=mo(r,os),N=mo(c);(0,i.useEffect)(()=>{if(v){const{edges:A,getNodes:l}=p.getState(),w=l().filter(L=>L.selected),E=A.filter(L=>L.selected);m({nodes:w,edges:E}),p.setState({nodesSelectionActive:!1})}},[v]),(0,i.useEffect)(()=>{p.setState({multiSelectionActive:N})},[N])};function Bi(r){const c=de();(0,i.useEffect)(()=>{let p;const m=()=>{var N,A;if(!r.current)return;const v=re(r.current);(v.height===0||v.width===0)&&((A=(N=c.getState()).onError)==null||A.call(N,"004",D.error004())),c.setState({width:v.width||500,height:v.height||500})};return m(),window.addEventListener("resize",m),r.current&&(p=new ResizeObserver(()=>m()),p.observe(r.current)),()=>{window.removeEventListener("resize",m),p&&r.current&&p.unobserve(r.current)}},[])}const ci={position:"absolute",width:"100%",height:"100%",top:0,left:0},li=(r,c)=>r.x!==c.x||r.y!==c.y||r.zoom!==c.k,bn=r=>({x:r.x,y:r.y,zoom:r.k}),br=(r,c)=>r.target.closest(`.${c}`),No=(r,c)=>c===2&&Array.isArray(r)&&r.includes(2),no=r=>{const c=r.ctrlKey&&ve()?10:1;return-r.deltaY*(r.deltaMode===1?.05:r.deltaMode?1:.002)*c},ui=r=>({d3Zoom:r.d3Zoom,d3Selection:r.d3Selection,d3ZoomHandler:r.d3ZoomHandler,userSelectionActive:r.userSelectionActive}),Zo=({onMove:r,onMoveStart:c,onMoveEnd:p,onPaneContextMenu:m,zoomOnScroll:v=!0,zoomOnPinch:N=!0,panOnScroll:A=!1,panOnScrollSpeed:l=.5,panOnScrollMode:w=Ie.Free,zoomOnDoubleClick:E=!0,elementsSelectable:L,panOnDrag:H=!0,defaultViewport:ge,translateExtent:se,minZoom:_e,maxZoom:we,zoomActivationKeyCode:De,preventScrolling:Ae=!0,children:Re,noWheelClassName:Fe,noPanClassName:lt})=>{const it=(0,i.useRef)(),Mt=de(),Gt=(0,i.useRef)(!1),Pt=(0,i.useRef)(!1),at=(0,i.useRef)(null),ft=(0,i.useRef)({x:0,y:0,zoom:0}),{d3Zoom:wt,d3Selection:bt,d3ZoomHandler:ot,userSelectionActive:je}=G(ui,T.X),ct=mo(De),It=(0,i.useRef)(0),Ht=(0,i.useRef)(!1),jt=(0,i.useRef)();return Bi(at),(0,i.useEffect)(()=>{if(at.current){const Ue=at.current.getBoundingClientRect(),Ct=(0,x.sP)().scaleExtent([_e,we]).translateExtent(se),_t=(0,b.Z)(at.current).call(Ct),pt=x.CR.translate(ge.x,ge.y).scale($(ge.zoom,_e,we)),Yt=[[0,0],[Ue.width,Ue.height]],an=Ct.constrain()(pt,Yt,se);Ct.transform(_t,an),Ct.wheelDelta(no),Mt.setState({d3Zoom:Ct,d3Selection:_t,d3ZoomHandler:_t.on("wheel.zoom"),transform:[an.x,an.y,an.k],domNode:at.current.closest(".react-flow")})}},[]),(0,i.useEffect)(()=>{bt&&wt&&(A&&!ct&&!je?bt.on("wheel.zoom",Ue=>{if(br(Ue,Fe))return!1;Ue.preventDefault(),Ue.stopImmediatePropagation();const Ct=bt.property("__zoom").k||1;if(Ue.ctrlKey&&N){const cr=(0,u.Z)(Ue),lr=no(Ue),Qn=Ct*Math.pow(2,lr);wt.scaleTo(bt,Qn,cr,Ue);return}const _t=Ue.deltaMode===1?20:1;let pt=w===Ie.Vertical?0:Ue.deltaX*_t,Yt=w===Ie.Horizontal?0:Ue.deltaY*_t;!ve()&&Ue.shiftKey&&w!==Ie.Vertical&&(pt=Ue.deltaY*_t,Yt=0),wt.translateBy(bt,-(pt/Ct)*l,-(Yt/Ct)*l,{internal:!0});const an=bn(bt.property("__zoom")),{onViewportChangeStart:Cn,onViewportChange:Nn,onViewportChangeEnd:jn}=Mt.getState();clearTimeout(jt.current),Ht.current||(Ht.current=!0,c==null||c(Ue,an),Cn==null||Cn(an)),Ht.current&&(r==null||r(Ue,an),Nn==null||Nn(an),jt.current=setTimeout(()=>{p==null||p(Ue,an),jn==null||jn(an),Ht.current=!1},150))},{passive:!1}):typeof ot!="undefined"&&bt.on("wheel.zoom",function(Ue,Ct){if(!Ae&&Ue.type==="wheel"&&!Ue.ctrlKey||br(Ue,Fe))return null;Ue.preventDefault(),ot.call(this,Ue,Ct)},{passive:!1}))},[je,A,w,bt,wt,ot,ct,N,Ae,Fe,c,r,p]),(0,i.useEffect)(()=>{wt&&wt.on("start",Ue=>{var pt,Yt;if(!Ue.sourceEvent||Ue.sourceEvent.internal)return null;It.current=(pt=Ue.sourceEvent)==null?void 0:pt.button;const{onViewportChangeStart:Ct}=Mt.getState(),_t=bn(Ue.transform);Gt.current=!0,ft.current=_t,((Yt=Ue.sourceEvent)==null?void 0:Yt.type)==="mousedown"&&Mt.setState({paneDragging:!0}),Ct==null||Ct(_t),c==null||c(Ue.sourceEvent,_t)})},[wt,c]),(0,i.useEffect)(()=>{wt&&(je&&!Gt.current?wt.on("zoom",null):je||wt.on("zoom",Ue=>{var _t,pt;const{onViewportChange:Ct}=Mt.getState();if(Mt.setState({transform:[Ue.transform.x,Ue.transform.y,Ue.transform.k]}),Pt.current=!!(m&&No(H,(_t=It.current)!=null?_t:0)),(r||Ct)&&!((pt=Ue.sourceEvent)!=null&&pt.internal)){const Yt=bn(Ue.transform);Ct==null||Ct(Yt),r==null||r(Ue.sourceEvent,Yt)}}))},[je,wt,r,H,m]),(0,i.useEffect)(()=>{wt&&wt.on("end",Ue=>{var _t;if(!Ue.sourceEvent||Ue.sourceEvent.internal)return null;const{onViewportChangeEnd:Ct}=Mt.getState();if(Gt.current=!1,Mt.setState({paneDragging:!1}),m&&No(H,(_t=It.current)!=null?_t:0)&&!Pt.current&&m(Ue.sourceEvent),Pt.current=!1,(p||Ct)&&li(ft.current,Ue.transform)){const pt=bn(Ue.transform);ft.current=pt,clearTimeout(it.current),it.current=setTimeout(()=>{Ct==null||Ct(pt),p==null||p(Ue.sourceEvent,pt)},A?150:0)}})},[wt,A,H,p,m]),(0,i.useEffect)(()=>{wt&&wt.filter(Ue=>{const Ct=ct||v,_t=N&&Ue.ctrlKey;if((H===!0||Array.isArray(H)&&H.includes(1))&&Ue.button===1&&Ue.type==="mousedown"&&(br(Ue,"react-flow__node")||br(Ue,"react-flow__edge")))return!0;if(!H&&!Ct&&!A&&!E&&!N||je||!E&&Ue.type==="dblclick"||br(Ue,Fe)&&Ue.type==="wheel"||br(Ue,lt)&&(Ue.type!=="wheel"||A&&Ue.type==="wheel"&&!ct)||!N&&Ue.ctrlKey&&Ue.type==="wheel"||!Ct&&!A&&!_t&&Ue.type==="wheel"||!H&&(Ue.type==="mousedown"||Ue.type==="touchstart")||Array.isArray(H)&&!H.includes(Ue.button)&&Ue.type==="mousedown")return!1;const pt=Array.isArray(H)&&H.includes(Ue.button)||!Ue.button||Ue.button<=1;return(!Ue.ctrlKey||Ue.type==="wheel")&&pt})},[je,wt,v,N,A,E,H,L,ct]),i.createElement("div",{className:"react-flow__renderer",ref:at,style:ci},Re)},ro=r=>({userSelectionActive:r.userSelectionActive,userSelectionRect:r.userSelectionRect});function Ui(){const{userSelectionActive:r,userSelectionRect:c}=G(ro,T.X);return r&&c?i.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:c.width,height:c.height,transform:`translate(${c.x}px, ${c.y}px)`}}):null}function Ho(r,c){var v,N;const p=c.parentNode||c.parentId,m=r.find(A=>A.id===p);if(m){const A=c.position.x+c.width-m.width,l=c.position.y+c.height-m.height;if(A>0||l>0||c.position.x<0||c.position.y<0){if(m.style=Nt({},m.style)||{},m.style.width=(v=m.style.width)!=null?v:m.width,m.style.height=(N=m.style.height)!=null?N:m.height,A>0&&(m.style.width+=A),l>0&&(m.style.height+=l),c.position.x<0){const w=Math.abs(c.position.x);m.position.x=m.position.x-w,m.style.width+=w,c.position.x=0}if(c.position.y<0){const w=Math.abs(c.position.y);m.position.y=m.position.y-w,m.style.height+=w,c.position.y=0}m.width=m.style.width,m.height=m.style.height}}}function zi(r,c){if(r.some(m=>m.type==="reset"))return r.filter(m=>m.type==="reset").map(m=>m.item);const p=r.filter(m=>m.type==="add").map(m=>m.item);return c.reduce((m,v)=>{const N=r.filter(l=>l.id===v.id);if(N.length===0)return m.push(v),m;const A=Nt({},v);for(const l of N)if(l)switch(l.type){case"select":{A.selected=l.selected;break}case"position":{typeof l.position!="undefined"&&(A.position=l.position),typeof l.positionAbsolute!="undefined"&&(A.positionAbsolute=l.positionAbsolute),typeof l.dragging!="undefined"&&(A.dragging=l.dragging),A.expandParent&&Ho(m,A);break}case"dimensions":{typeof l.dimensions!="undefined"&&(A.width=l.dimensions.width,A.height=l.dimensions.height),typeof l.updateStyle!="undefined"&&(A.style=Nt(Nt({},A.style||{}),l.dimensions)),typeof l.resizing=="boolean"&&(A.resizing=l.resizing),A.expandParent&&Ho(m,A);break}case"remove":return m}return m.push(A),m},p)}function Hr(r,c){return zi(r,c)}function or(r,c){return zi(r,c)}const hr=(r,c)=>({id:r,type:"select",selected:c});function oo(r,c){return r.reduce((p,m)=>{const v=c.includes(m.id);return!m.selected&&v?(m.selected=!0,p.push(hr(m.id,!0))):m.selected&&!v&&(m.selected=!1,p.push(hr(m.id,!1))),p},[])}const Do=(r,c)=>p=>{p.target===c.current&&(r==null||r(p))},Vi=r=>({userSelectionActive:r.userSelectionActive,elementsSelectable:r.elementsSelectable,dragging:r.paneDragging}),Fi=(0,i.memo)(({isSelecting:r,selectionMode:c=Me.Full,panOnDrag:p,onSelectionStart:m,onSelectionEnd:v,onPaneClick:N,onPaneContextMenu:A,onPaneScroll:l,onPaneMouseEnter:w,onPaneMouseMove:E,onPaneMouseLeave:L,children:H})=>{const ge=(0,i.useRef)(null),se=de(),_e=(0,i.useRef)(0),we=(0,i.useRef)(0),De=(0,i.useRef)(),{userSelectionActive:Ae,elementsSelectable:Re,dragging:Fe}=G(Vi,T.X),lt=()=>{se.setState({userSelectionActive:!1,userSelectionRect:null}),_e.current=0,we.current=0},it=ot=>{N==null||N(ot),se.getState().resetSelectedElements(),se.setState({nodesSelectionActive:!1})},Mt=ot=>{if(Array.isArray(p)&&(p!=null&&p.includes(2))){ot.preventDefault();return}A==null||A(ot)},Gt=l?ot=>l(ot):void 0,Pt=ot=>{const{resetSelectedElements:je,domNode:ct}=se.getState();if(De.current=ct==null?void 0:ct.getBoundingClientRect(),!Re||!r||ot.button!==0||ot.target!==ge.current||!De.current)return;const{x:It,y:Ht}=he(ot,De.current);je(),se.setState({userSelectionRect:{width:0,height:0,startX:It,startY:Ht,x:It,y:Ht}}),m==null||m(ot)},at=ot=>{var Qn,Mr;const{userSelectionRect:je,nodeInternals:ct,edges:It,transform:Ht,onNodesChange:jt,onEdgesChange:Ue,nodeOrigin:Ct,getNodes:_t}=se.getState();if(!r||!De.current||!je)return;se.setState({userSelectionActive:!0,nodesSelectionActive:!1});const pt=he(ot,De.current),Yt=(Qn=je.startX)!=null?Qn:0,an=(Mr=je.startY)!=null?Mr:0,Cn=Vn(Nt({},je),{x:pt.x<Yt?pt.x:Yt,y:pt.y<an?pt.y:an,width:Math.abs(pt.x-Yt),height:Math.abs(pt.y-an)}),Nn=_t(),jn=vr(ct,Cn,Ht,c===Me.Partial,!0,Ct),cr=Pn(jn,It).map($n=>$n.id),lr=jn.map($n=>$n.id);if(_e.current!==lr.length){_e.current=lr.length;const $n=oo(Nn,lr);$n.length&&(jt==null||jt($n))}if(we.current!==cr.length){we.current=cr.length;const $n=oo(It,cr);$n.length&&(Ue==null||Ue($n))}se.setState({userSelectionRect:Cn})},ft=ot=>{if(ot.button!==0)return;const{userSelectionRect:je}=se.getState();!Ae&&je&&ot.target===ge.current&&(it==null||it(ot)),se.setState({nodesSelectionActive:_e.current>0}),lt(),v==null||v(ot)},wt=ot=>{Ae&&(se.setState({nodesSelectionActive:_e.current>0}),v==null||v(ot)),lt()},bt=Re&&(r||Ae);return i.createElement("div",{className:(0,O.Z)(["react-flow__pane",{dragging:Fe,selection:r}]),onClick:bt?void 0:Do(it,ge),onContextMenu:Do(Mt,ge),onWheel:Do(Gt,ge),onMouseEnter:bt?void 0:w,onMouseDown:bt?Pt:void 0,onMouseMove:bt?at:E,onMouseUp:bt?ft:void 0,onMouseLeave:bt?wt:L,ref:ge,style:ci},H,i.createElement(Ui,null))});Fi.displayName="Pane";function $o(r,c){const p=r.parentNode||r.parentId;if(!p)return!1;const m=c.get(p);return m?m.selected?!0:$o(m,c):!1}function di(r,c,p){let m=r;do{if(m!=null&&m.matches(c))return!0;if(m===p.current)return!1;m=m.parentElement}while(m);return!1}function wo(r,c,p,m){return Array.from(r.values()).filter(v=>(v.selected||v.id===m)&&(!v.parentNode||v.parentId||!$o(v,r))&&(v.draggable||c&&typeof v.draggable=="undefined")).map(v=>{var N,A,l,w;return{id:v.id,position:v.position||{x:0,y:0},positionAbsolute:v.positionAbsolute||{x:0,y:0},distance:{x:p.x-((A=(N=v.positionAbsolute)==null?void 0:N.x)!=null?A:0),y:p.y-((w=(l=v.positionAbsolute)==null?void 0:l.y)!=null?w:0)},delta:{x:0,y:0},extent:v.extent,parentNode:v.parentNode||v.parentId,parentId:v.parentNode||v.parentId,width:v.width,height:v.height,expandParent:v.expandParent}})}function fi(r,c){return!c||c==="parent"?c:[c[0],[c[1][0]-(r.width||0),c[1][1]-(r.height||0)]]}function ji(r,c,p,m,v=[0,0],N){const A=fi(r,r.extent||m);let l=A;const w=r.parentNode||r.parentId;if(r.extent==="parent"&&!r.expandParent)if(w&&r.width&&r.height){const H=p.get(w),{x:ge,y:se}=st(H,v).positionAbsolute;l=H&&ie(ge)&&ie(se)&&ie(H.width)&&ie(H.height)?[[ge+r.width*v[0],se+r.height*v[1]],[ge+H.width-r.width+r.width*v[0],se+H.height-r.height+r.height*v[1]]]:l}else N==null||N("005",D.error005()),l=A;else if(r.extent&&w&&r.extent!=="parent"){const H=p.get(w),{x:ge,y:se}=st(H,v).positionAbsolute;l=[[r.extent[0][0]+ge,r.extent[0][1]+se],[r.extent[1][0]+ge,r.extent[1][1]+se]]}let E={x:0,y:0};if(w){const H=p.get(w);E=st(H,v).positionAbsolute}const L=l&&l!=="parent"?Q(c,l):c;return{position:{x:L.x-E.x,y:L.y-E.y},positionAbsolute:L}}function xr({nodeId:r,dragItems:c,nodeInternals:p}){const m=c.map(v=>{const N=p.get(v.id);return Vn(Nt({},N),{position:v.position,positionAbsolute:v.positionAbsolute})});return[r?m.find(v=>v.id===r):m[0],m]}const vo=(r,c,p,m)=>{const v=c.querySelectorAll(r);if(!v||!v.length)return null;const N=Array.from(v),A=c.getBoundingClientRect(),l={x:A.width*m[0],y:A.height*m[1]};return N.map(w=>{const E=w.getBoundingClientRect();return Nt({id:w.getAttribute("data-handleid"),position:w.getAttribute("data-handlepos"),x:(E.left-A.left-l.x)/p,y:(E.top-A.top-l.y)/p},re(w))})};function Tr(r,c,p){return p===void 0?p:m=>{const v=c().nodeInternals.get(r);v&&p(m,Nt({},v))}}function _r({id:r,store:c,unselect:p=!1,nodeRef:m}){const{addSelectedNodes:v,unselectNodesAndEdges:N,multiSelectionActive:A,nodeInternals:l,onError:w}=c.getState(),E=l.get(r);if(!E){w==null||w("012",D.error012(r));return}c.setState({nodesSelectionActive:!1}),E.selected?(p||E.selected&&A)&&(N({nodes:[E],edges:[]}),requestAnimationFrame(()=>{var L;return(L=m==null?void 0:m.current)==null?void 0:L.blur()})):v([r])}function hi(){const r=de();return(0,i.useCallback)(({sourceEvent:p})=>{const{transform:m,snapGrid:v,snapToGrid:N}=r.getState(),A=p.touches?p.touches[0].clientX:p.clientX,l=p.touches?p.touches[0].clientY:p.clientY,w={x:(A-m[0])/m[2],y:(l-m[1])/m[2]};return Nt({xSnapped:N?v[0]*Math.round(w.x/v[0]):w.x,ySnapped:N?v[1]*Math.round(w.y/v[1]):w.y},w)},[])}function Po(r){return(c,p,m)=>r==null?void 0:r(c,m)}function pi({nodeRef:r,disabled:c=!1,noDragClassName:p,handleSelector:m,nodeId:v,isSelectable:N,selectNodesOnDrag:A}){const l=de(),[w,E]=(0,i.useState)(!1),L=(0,i.useRef)([]),H=(0,i.useRef)({x:null,y:null}),ge=(0,i.useRef)(0),se=(0,i.useRef)(null),_e=(0,i.useRef)({x:0,y:0}),we=(0,i.useRef)(null),De=(0,i.useRef)(!1),Ae=(0,i.useRef)(!1),Re=(0,i.useRef)(!1),Fe=hi();return(0,i.useEffect)(()=>{if(r!=null&&r.current){const lt=(0,b.Z)(r.current),it=({x:Pt,y:at})=>{const{nodeInternals:ft,onNodeDrag:wt,onSelectionDrag:bt,updateNodePositions:ot,nodeExtent:je,snapGrid:ct,snapToGrid:It,nodeOrigin:Ht,onError:jt}=l.getState();H.current={x:Pt,y:at};let Ue=!1,Ct={x:0,y:0,x2:0,y2:0};if(L.current.length>1&&je){const pt=kt(L.current,Ht);Ct=R(pt)}if(L.current=L.current.map(pt=>{var Nn,jn;const Yt={x:Pt-pt.distance.x,y:at-pt.distance.y};It&&(Yt.x=ct[0]*Math.round(Yt.x/ct[0]),Yt.y=ct[1]*Math.round(Yt.y/ct[1]));const an=[[je[0][0],je[0][1]],[je[1][0],je[1][1]]];L.current.length>1&&je&&!pt.extent&&(an[0][0]=pt.positionAbsolute.x-Ct.x+je[0][0],an[1][0]=pt.positionAbsolute.x+((Nn=pt.width)!=null?Nn:0)-Ct.x2+je[1][0],an[0][1]=pt.positionAbsolute.y-Ct.y+je[0][1],an[1][1]=pt.positionAbsolute.y+((jn=pt.height)!=null?jn:0)-Ct.y2+je[1][1]);const Cn=ji(pt,Yt,ft,an,Ht,jt);return Ue=Ue||pt.position.x!==Cn.position.x||pt.position.y!==Cn.position.y,pt.position=Cn.position,pt.positionAbsolute=Cn.positionAbsolute,pt}),!Ue)return;ot(L.current,!0,!0),E(!0);const _t=v?wt:Po(bt);if(_t&&we.current){const[pt,Yt]=xr({nodeId:v,dragItems:L.current,nodeInternals:ft});_t(we.current,pt,Yt)}},Mt=()=>{var ft,wt;if(!se.current)return;const[Pt,at]=oe(_e.current,se.current);if(Pt!==0||at!==0){const{transform:bt,panBy:ot}=l.getState();H.current.x=((ft=H.current.x)!=null?ft:0)-Pt/bt[2],H.current.y=((wt=H.current.y)!=null?wt:0)-at/bt[2],ot({x:Pt,y:at})&&it(H.current)}ge.current=requestAnimationFrame(Mt)},Gt=Pt=>{var Ht;const{nodeInternals:at,multiSelectionActive:ft,nodesDraggable:wt,unselectNodesAndEdges:bt,onNodeDragStart:ot,onSelectionDragStart:je}=l.getState();Ae.current=!0;const ct=v?ot:Po(je);(!A||!N)&&!ft&&v&&((Ht=at.get(v))!=null&&Ht.selected||bt()),v&&N&&A&&_r({id:v,store:l,nodeRef:r});const It=Fe(Pt);if(H.current=It,L.current=wo(at,wt,It,v),ct&&L.current){const[jt,Ue]=xr({nodeId:v,dragItems:L.current,nodeInternals:at});ct(Pt.sourceEvent,jt,Ue)}};if(c)lt.on(".drag",null);else{const Pt=(0,y.Z)().on("start",at=>{const{domNode:ft,nodeDragThreshold:wt}=l.getState();wt===0&&Gt(at),Re.current=!1;const bt=Fe(at);H.current=bt,se.current=(ft==null?void 0:ft.getBoundingClientRect())||null,_e.current=he(at.sourceEvent,se.current)}).on("drag",at=>{var ot,je,ct,It;const ft=Fe(at),{autoPanOnNodeDrag:wt,nodeDragThreshold:bt}=l.getState();if(at.sourceEvent.type==="touchmove"&&at.sourceEvent.touches.length>1&&(Re.current=!0),!Re.current){if(!De.current&&Ae.current&&wt&&(De.current=!0,Mt()),!Ae.current){const Ht=ft.xSnapped-((je=(ot=H==null?void 0:H.current)==null?void 0:ot.x)!=null?je:0),jt=ft.ySnapped-((It=(ct=H==null?void 0:H.current)==null?void 0:ct.y)!=null?It:0);Math.sqrt(Ht*Ht+jt*jt)>bt&&Gt(at)}(H.current.x!==ft.xSnapped||H.current.y!==ft.ySnapped)&&L.current&&Ae.current&&(we.current=at.sourceEvent,_e.current=he(at.sourceEvent,se.current),it(ft))}}).on("end",at=>{if(!(!Ae.current||Re.current)&&(E(!1),De.current=!1,Ae.current=!1,cancelAnimationFrame(ge.current),L.current)){const{updateNodePositions:ft,nodeInternals:wt,onNodeDragStop:bt,onSelectionDragStop:ot}=l.getState(),je=v?bt:Po(ot);if(ft(L.current,!1,!1),je){const[ct,It]=xr({nodeId:v,dragItems:L.current,nodeInternals:wt});je(at.sourceEvent,ct,It)}}}).filter(at=>{const ft=at.target;return!at.button&&(!p||!di(ft,`.${p}`,r))&&(!m||di(ft,m,r))});return lt.call(Pt),()=>{lt.on(".drag",null)}}}},[r,c,p,m,N,l,v,A,Fe]),w}function Zi(){const r=de();return(0,i.useCallback)(p=>{const{nodeInternals:m,nodeExtent:v,updateNodePositions:N,getNodes:A,snapToGrid:l,snapGrid:w,onError:E,nodesDraggable:L}=r.getState(),H=A().filter(Re=>Re.selected&&(Re.draggable||L&&typeof Re.draggable=="undefined")),ge=l?w[0]:5,se=l?w[1]:5,_e=p.isShiftPressed?4:1,we=p.x*ge*_e,De=p.y*se*_e,Ae=H.map(Re=>{if(Re.positionAbsolute){const Fe={x:Re.positionAbsolute.x+we,y:Re.positionAbsolute.y+De};l&&(Fe.x=w[0]*Math.round(Fe.x/w[0]),Fe.y=w[1]*Math.round(Fe.y/w[1]));const{positionAbsolute:lt,position:it}=ji(Re,Fe,m,v,void 0,E);Re.position=it,Re.positionAbsolute=lt}return Re});N(Ae,!0,!1)},[])}const io={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var bo=r=>{const c=({id:p,type:m,data:v,xPos:N,yPos:A,xPosOrigin:l,yPosOrigin:w,selected:E,onClick:L,onMouseEnter:H,onMouseMove:ge,onMouseLeave:se,onContextMenu:_e,onDoubleClick:we,style:De,className:Ae,isDraggable:Re,isSelectable:Fe,isConnectable:lt,isFocusable:it,selectNodesOnDrag:Mt,sourcePosition:Gt,targetPosition:Pt,hidden:at,resizeObserver:ft,dragHandle:wt,zIndex:bt,isParent:ot,noDragClassName:je,noPanClassName:ct,initialized:It,disableKeyboardA11y:Ht,ariaLabel:jt,rfId:Ue,hasHandleBounds:Ct})=>{const _t=de(),pt=(0,i.useRef)(null),Yt=(0,i.useRef)(null),an=(0,i.useRef)(Gt),Cn=(0,i.useRef)(Pt),Nn=(0,i.useRef)(m),jn=Fe||Re||L||H||ge||se,cr=Zi(),lr=Tr(p,_t.getState,H),Qn=Tr(p,_t.getState,ge),Mr=Tr(p,_t.getState,se),$n=Tr(p,_t.getState,_e),ao=Tr(p,_t.getState,we),$r=_n=>{const{nodeDragThreshold:Xt}=_t.getState();if(Fe&&(!Mt||!Re||Xt>0)&&_r({id:p,store:_t,nodeRef:pt}),L){const kr=_t.getState().nodeInternals.get(p);kr&&L(_n,Nt({},kr))}},Wn=_n=>{if(!Tt(_n)&&!Ht)if(Ge.includes(_n.key)&&Fe){const Xt=_n.key==="Escape";_r({id:p,store:_t,unselect:Xt,nodeRef:pt})}else Re&&E&&Object.prototype.hasOwnProperty.call(io,_n.key)&&(_t.setState({ariaLiveMessage:`Moved selected node ${_n.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~N}, y: ${~~A}`}),cr({x:io[_n.key].x,y:io[_n.key].y,isShiftPressed:_n.shiftKey}))};(0,i.useEffect)(()=>()=>{Yt.current&&(ft==null||ft.unobserve(Yt.current),Yt.current=null)},[]),(0,i.useEffect)(()=>{if(pt.current&&!at){const _n=pt.current;(!It||!Ct||Yt.current!==_n)&&(Yt.current&&(ft==null||ft.unobserve(Yt.current)),ft==null||ft.observe(_n),Yt.current=_n)}},[at,It,Ct]),(0,i.useEffect)(()=>{const _n=Nn.current!==m,Xt=an.current!==Gt,kr=Cn.current!==Pt;pt.current&&(_n||Xt||kr)&&(_n&&(Nn.current=m),Xt&&(an.current=Gt),kr&&(Cn.current=Pt),_t.getState().updateNodeDimensions([{id:p,nodeElement:pt.current,forceUpdate:!0}]))},[p,m,Gt,Pt]);const zr=pi({nodeRef:pt,disabled:at||!Re,noDragClassName:je,handleSelector:wt,nodeId:p,isSelectable:Fe,selectNodesOnDrag:Mt});return at?null:i.createElement("div",{className:(0,O.Z)(["react-flow__node",`react-flow__node-${m}`,{[ct]:Re},Ae,{selected:E,selectable:Fe,parent:ot,dragging:zr}]),ref:pt,style:Nt({zIndex:bt,transform:`translate(${l}px,${w}px)`,pointerEvents:jn?"all":"none",visibility:It?"visible":"hidden"},De),"data-id":p,"data-testid":`rf__node-${p}`,onMouseEnter:lr,onMouseMove:Qn,onMouseLeave:Mr,onContextMenu:$n,onClick:$r,onDoubleClick:ao,onKeyDown:it?Wn:void 0,tabIndex:it?0:void 0,role:it?"button":void 0,"aria-describedby":Ht?void 0:`${ii}-${Ue}`,"aria-label":jt},i.createElement(ze,{value:p},i.createElement(r,{id:p,data:v,type:m,xPos:N,yPos:A,selected:E,isConnectable:lt,sourcePosition:Gt,targetPosition:Pt,dragging:zr,dragHandle:wt,zIndex:bt})))};return c.displayName="NodeWrapper",(0,i.memo)(c)};const xo=r=>{const c=r.getNodes().filter(p=>p.selected);return Vn(Nt({},kt(c,r.nodeOrigin)),{transformString:`translate(${r.transform[0]}px,${r.transform[1]}px) scale(${r.transform[2]})`,userSelectionActive:r.userSelectionActive})};function ss({onSelectionContextMenu:r,noPanClassName:c,disableKeyboardA11y:p}){const m=de(),{width:v,height:N,x:A,y:l,transformString:w,userSelectionActive:E}=G(xo,T.X),L=Zi(),H=(0,i.useRef)(null);if((0,i.useEffect)(()=>{var _e;p||(_e=H.current)==null||_e.focus({preventScroll:!0})},[p]),pi({nodeRef:H}),E||!v||!N)return null;const ge=r?_e=>{const we=m.getState().getNodes().filter(De=>De.selected);r(_e,we)}:void 0,se=_e=>{Object.prototype.hasOwnProperty.call(io,_e.key)&&L({x:io[_e.key].x,y:io[_e.key].y,isShiftPressed:_e.shiftKey})};return i.createElement("div",{className:(0,O.Z)(["react-flow__nodesselection","react-flow__container",c]),style:{transform:w}},i.createElement("div",{ref:H,className:"react-flow__nodesselection-rect",onContextMenu:ge,tabIndex:p?void 0:-1,onKeyDown:p?void 0:se,style:{width:v,height:N,top:l,left:A}}))}var Rr=(0,i.memo)(ss);const Ro=r=>r.nodesSelectionActive,gi=({children:r,onPaneClick:c,onPaneMouseEnter:p,onPaneMouseMove:m,onPaneMouseLeave:v,onPaneContextMenu:N,onPaneScroll:A,deleteKeyCode:l,onMove:w,onMoveStart:E,onMoveEnd:L,selectionKeyCode:H,selectionOnDrag:ge,selectionMode:se,onSelectionStart:_e,onSelectionEnd:we,multiSelectionKeyCode:De,panActivationKeyCode:Ae,zoomActivationKeyCode:Re,elementsSelectable:Fe,zoomOnScroll:lt,zoomOnPinch:it,panOnScroll:Mt,panOnScrollSpeed:Gt,panOnScrollMode:Pt,zoomOnDoubleClick:at,panOnDrag:ft,defaultViewport:wt,translateExtent:bt,minZoom:ot,maxZoom:je,preventScrolling:ct,onSelectionContextMenu:It,noWheelClassName:Ht,noPanClassName:jt,disableKeyboardA11y:Ue})=>{const Ct=G(Ro),_t=mo(H),pt=mo(Ae),Yt=pt||ft,an=pt||Mt,Cn=_t||ge&&Yt!==!0;return is({deleteKeyCode:l,multiSelectionKeyCode:De}),i.createElement(Zo,{onMove:w,onMoveStart:E,onMoveEnd:L,onPaneContextMenu:N,elementsSelectable:Fe,zoomOnScroll:lt,zoomOnPinch:it,panOnScroll:an,panOnScrollSpeed:Gt,panOnScrollMode:Pt,zoomOnDoubleClick:at,panOnDrag:!_t&&Yt,defaultViewport:wt,translateExtent:bt,minZoom:ot,maxZoom:je,zoomActivationKeyCode:Re,preventScrolling:ct,noWheelClassName:Ht,noPanClassName:jt},i.createElement(Fi,{onSelectionStart:_e,onSelectionEnd:we,onPaneClick:c,onPaneMouseEnter:p,onPaneMouseMove:m,onPaneMouseLeave:v,onPaneContextMenu:N,onPaneScroll:A,panOnDrag:Yt,isSelecting:!!Cn,selectionMode:se},r,Ct&&i.createElement(Rr,{onSelectionContextMenu:It,noPanClassName:jt,disableKeyboardA11y:Ue})))};gi.displayName="FlowRenderer";var so=(0,i.memo)(gi);function Lo(r){return G((0,i.useCallback)(p=>r?vr(p.nodeInternals,{x:0,y:0,width:p.width,height:p.height},p.transform,!0):p.getNodes(),[r]))}function as(r){const c={input:bo(r.input||Xn),default:bo(r.default||rn),output:bo(r.output||rr),group:bo(r.group||Hn)},p={},m=Object.keys(r).filter(v=>!["input","default","output","group"].includes(v)).reduce((v,N)=>(v[N]=bo(r[N]||rn),v),p);return Nt(Nt({},c),m)}const cs=({x:r,y:c,width:p,height:m,origin:v})=>!p||!m?{x:r,y:c}:v[0]<0||v[1]<0||v[0]>1||v[1]>1?{x:r,y:c}:{x:r-p*v[0],y:c-m*v[1]},Hi=r=>({nodesDraggable:r.nodesDraggable,nodesConnectable:r.nodesConnectable,nodesFocusable:r.nodesFocusable,elementsSelectable:r.elementsSelectable,updateNodeDimensions:r.updateNodeDimensions,onError:r.onError}),$i=r=>{const{nodesDraggable:c,nodesConnectable:p,nodesFocusable:m,elementsSelectable:v,updateNodeDimensions:N,onError:A}=G(Hi,T.X),l=Lo(r.onlyRenderVisibleElements),w=(0,i.useRef)(),E=(0,i.useMemo)(()=>{if(typeof ResizeObserver=="undefined")return null;const L=new ResizeObserver(H=>{const ge=H.map(se=>({id:se.target.getAttribute("data-id"),nodeElement:se.target,forceUpdate:!0}));N(ge)});return w.current=L,L},[]);return(0,i.useEffect)(()=>()=>{var L;(L=w==null?void 0:w.current)==null||L.disconnect()},[]),i.createElement("div",{className:"react-flow__nodes",style:ci},l.map(L=>{var it,Mt,Gt,Pt,at,ft,wt,bt;let H=L.type||"default";r.nodeTypes[H]||(A==null||A("003",D.error003(H)),H="default");const ge=r.nodeTypes[H]||r.nodeTypes.default,se=!!(L.draggable||c&&typeof L.draggable=="undefined"),_e=!!(L.selectable||v&&typeof L.selectable=="undefined"),we=!!(L.connectable||p&&typeof L.connectable=="undefined"),De=!!(L.focusable||m&&typeof L.focusable=="undefined"),Ae=r.nodeExtent?Q(L.positionAbsolute,r.nodeExtent):L.positionAbsolute,Re=(it=Ae==null?void 0:Ae.x)!=null?it:0,Fe=(Mt=Ae==null?void 0:Ae.y)!=null?Mt:0,lt=cs({x:Re,y:Fe,width:(Gt=L.width)!=null?Gt:0,height:(Pt=L.height)!=null?Pt:0,origin:r.nodeOrigin});return i.createElement(ge,{key:L.id,id:L.id,className:L.className,style:L.style,type:H,data:L.data,sourcePosition:L.sourcePosition||me.Bottom,targetPosition:L.targetPosition||me.Top,hidden:L.hidden,xPos:Re,yPos:Fe,xPosOrigin:lt.x,yPosOrigin:lt.y,selectNodesOnDrag:r.selectNodesOnDrag,onClick:r.onNodeClick,onMouseEnter:r.onNodeMouseEnter,onMouseMove:r.onNodeMouseMove,onMouseLeave:r.onNodeMouseLeave,onContextMenu:r.onNodeContextMenu,onDoubleClick:r.onNodeDoubleClick,selected:!!L.selected,isDraggable:se,isSelectable:_e,isConnectable:we,isFocusable:De,resizeObserver:E,dragHandle:L.dragHandle,zIndex:(ft=(at=L[Se])==null?void 0:at.z)!=null?ft:0,isParent:!!((wt=L[Se])!=null&&wt.isParent),noDragClassName:r.noDragClassName,noPanClassName:r.noPanClassName,initialized:!!L.width&&!!L.height,rfId:r.rfId,disableKeyboardA11y:r.disableKeyboardA11y,ariaLabel:L.ariaLabel,hasHandleBounds:!!((bt=L[Se])!=null&&bt.handleBounds)})}))};$i.displayName="NodeRenderer";var Dn=(0,i.memo)($i);const ls=(r,c,p)=>p===me.Left?r-c:p===me.Right?r+c:r,Wi=(r,c,p)=>p===me.Top?r-c:p===me.Bottom?r+c:r,a="react-flow__edgeupdater",g=({position:r,centerX:c,centerY:p,radius:m=10,onMouseDown:v,onMouseEnter:N,onMouseOut:A,type:l})=>i.createElement("circle",{onMouseDown:v,onMouseEnter:N,onMouseOut:A,className:(0,O.Z)([a,`${a}-${l}`]),cx:ls(c,m,r),cy:Wi(p,m,r),r:m,stroke:"transparent",fill:"transparent"}),k=()=>!0;var V=r=>{const c=({id:p,className:m,type:v,data:N,onClick:A,onEdgeDoubleClick:l,selected:w,animated:E,label:L,labelStyle:H,labelShowBg:ge,labelBgStyle:se,labelBgPadding:_e,labelBgBorderRadius:we,style:De,source:Ae,target:Re,sourceX:Fe,sourceY:lt,targetX:it,targetY:Mt,sourcePosition:Gt,targetPosition:Pt,elementsSelectable:at,hidden:ft,sourceHandleId:wt,targetHandleId:bt,onContextMenu:ot,onMouseEnter:je,onMouseMove:ct,onMouseLeave:It,reconnectRadius:Ht,onReconnect:jt,onReconnectStart:Ue,onReconnectEnd:Ct,markerEnd:_t,markerStart:pt,rfId:Yt,ariaLabel:an,isFocusable:Cn,isReconnectable:Nn,pathOptions:jn,interactionWidth:cr,disableKeyboardA11y:lr})=>{const Qn=(0,i.useRef)(null),[Mr,$n]=(0,i.useState)(!1),[ao,$r]=(0,i.useState)(!1),Wn=de(),zr=(0,i.useMemo)(()=>`url('#${qt(pt,Yt)}')`,[pt,Yt]),_n=(0,i.useMemo)(()=>`url('#${qt(_t,Yt)}')`,[_t,Yt]);if(ft)return null;const Xt=yr=>{var uo;const{edges:lo,addSelectedEdges:Bo,unselectNodesAndEdges:vi,multiSelectionActive:Jo}=Wn.getState(),Eo=lo.find(Ji=>Ji.id===p);Eo&&(at&&(Wn.setState({nodesSelectionActive:!1}),Eo.selected&&Jo?(vi({nodes:[],edges:[Eo]}),(uo=Qn.current)==null||uo.blur()):Bo([p])),A&&A(yr,Eo))},kr=ut(p,Wn.getState,l),Xo=ut(p,Wn.getState,ot),fs=ut(p,Wn.getState,je),Gi=ut(p,Wn.getState,ct),Xi=ut(p,Wn.getState,It),co=(yr,lo)=>{if(yr.button!==0)return;const{edges:Bo,isValidConnection:vi}=Wn.getState(),Jo=lo?Re:Ae,Eo=(lo?bt:wt)||null,uo=lo?"target":"source",Ji=vi||k,ta=lo,Qo=Bo.find(ei=>ei.id===p);$r(!0),Ue==null||Ue(yr,Qo,uo);const Uo=ei=>{$r(!1),Ct==null||Ct(ei,Qo,uo)};tt({event:yr,handleId:Eo,nodeId:Jo,onConnect:ei=>jt==null?void 0:jt(Qo,ei),isTarget:ta,getState:Wn.getState,setState:Wn.setState,isValidConnection:Ji,edgeUpdaterType:uo,onReconnectEnd:Uo})},mi=yr=>co(yr,!0),_o=yr=>co(yr,!1),yi=()=>$n(!0),wi=()=>$n(!1),Yo=!at&&!A,Yi=yr=>{var lo;if(!lr&&Ge.includes(yr.key)&&at){const{unselectNodesAndEdges:Bo,addSelectedEdges:vi,edges:Jo}=Wn.getState();yr.key==="Escape"?((lo=Qn.current)==null||lo.blur(),Bo({edges:[Jo.find(uo=>uo.id===p)]})):vi([p])}};return i.createElement("g",{className:(0,O.Z)(["react-flow__edge",`react-flow__edge-${v}`,m,{selected:w,animated:E,inactive:Yo,updating:Mr}]),onClick:Xt,onDoubleClick:kr,onContextMenu:Xo,onMouseEnter:fs,onMouseMove:Gi,onMouseLeave:Xi,onKeyDown:Cn?Yi:void 0,tabIndex:Cn?0:void 0,role:Cn?"button":"img","data-testid":`rf__edge-${p}`,"aria-label":an===null?void 0:an||`Edge from ${Ae} to ${Re}`,"aria-describedby":Cn?`${qr}-${Yt}`:void 0,ref:Qn},!ao&&i.createElement(r,{id:p,source:Ae,target:Re,selected:w,animated:E,label:L,labelStyle:H,labelShowBg:ge,labelBgStyle:se,labelBgPadding:_e,labelBgBorderRadius:we,data:N,style:De,sourceX:Fe,sourceY:lt,targetX:it,targetY:Mt,sourcePosition:Gt,targetPosition:Pt,sourceHandleId:wt,targetHandleId:bt,markerStart:zr,markerEnd:_n,pathOptions:jn,interactionWidth:cr}),Nn&&i.createElement(i.Fragment,null,(Nn==="source"||Nn===!0)&&i.createElement(g,{position:Gt,centerX:Fe,centerY:lt,radius:Ht,onMouseDown:mi,onMouseEnter:yi,onMouseOut:wi,type:"source"}),(Nn==="target"||Nn===!0)&&i.createElement(g,{position:Pt,centerX:it,centerY:Mt,radius:Ht,onMouseDown:_o,onMouseEnter:yi,onMouseOut:wi,type:"target"})))};return c.displayName="EdgeWrapper",(0,i.memo)(c)};function fe(r){const c={default:V(r.default||xt),straight:V(r.bezier||ye),step:V(r.step||M),smoothstep:V(r.step||cn),simplebezier:V(r.simplebezier||mn)},p={},m=Object.keys(r).filter(v=>!["default","bezier"].includes(v)).reduce((v,N)=>(v[N]=V(r[N]||xt),v),p);return Nt(Nt({},c),m)}function Ce(r,c,p=null){const m=((p==null?void 0:p.x)||0)+c.x,v=((p==null?void 0:p.y)||0)+c.y,N=(p==null?void 0:p.width)||c.width,A=(p==null?void 0:p.height)||c.height;switch(r){case me.Top:return{x:m+N/2,y:v};case me.Right:return{x:m+N,y:v+A/2};case me.Bottom:return{x:m+N/2,y:v+A};case me.Left:return{x:m,y:v+A/2}}}function le(r,c){return r?r.length===1||!c?r[0]:c&&r.find(p=>p.id===c)||null:null}const Be=(r,c,p,m,v,N)=>{const A=Ce(p,r,c),l=Ce(N,m,v);return{sourceX:A.x,sourceY:A.y,targetX:l.x,targetY:l.y}};function Ye({sourcePos:r,targetPos:c,sourceWidth:p,sourceHeight:m,targetWidth:v,targetHeight:N,width:A,height:l,transform:w}){const E={x:Math.min(r.x,c.x),y:Math.min(r.y,c.y),x2:Math.max(r.x+p,c.x+v),y2:Math.max(r.y+m,c.y+N)};E.x===E.x2&&(E.x2+=1),E.y===E.y2&&(E.y2+=1);const L=R({x:(0-w[0])/w[2],y:(0-w[1])/w[2],width:A/w[2],height:l/w[2]}),H=Math.max(0,Math.min(L.x2,E.x2)-Math.max(L.x,E.x)),ge=Math.max(0,Math.min(L.y2,E.y2)-Math.max(L.y,E.y));return Math.ceil(H*ge)>0}function Qe(r){var m,v,N,A,l;const c=((m=r==null?void 0:r[Se])==null?void 0:m.handleBounds)||null,p=c&&(r==null?void 0:r.width)&&(r==null?void 0:r.height)&&typeof((v=r==null?void 0:r.positionAbsolute)==null?void 0:v.x)!="undefined"&&typeof((N=r==null?void 0:r.positionAbsolute)==null?void 0:N.y)!="undefined";return[{x:((A=r==null?void 0:r.positionAbsolute)==null?void 0:A.x)||0,y:((l=r==null?void 0:r.positionAbsolute)==null?void 0:l.y)||0,width:(r==null?void 0:r.width)||0,height:(r==null?void 0:r.height)||0},c,!!p]}const qe=[{level:0,isMaxLevel:!0,edges:[]}];function Bt(r,c,p=!1){let m=-1;const v=r.reduce((A,l)=>{var L,H;const w=ie(l.zIndex);let E=w?l.zIndex:0;if(p){const ge=c.get(l.target),se=c.get(l.source),_e=l.selected||(ge==null?void 0:ge.selected)||(se==null?void 0:se.selected),we=Math.max(((L=se==null?void 0:se[Se])==null?void 0:L.z)||0,((H=ge==null?void 0:ge[Se])==null?void 0:H.z)||0,1e3);E=(w?l.zIndex:0)+(_e?we:0)}return A[E]?A[E].push(l):A[E]=[l],m=E>m?E:m,A},{}),N=Object.entries(v).map(([A,l])=>{const w=+A;return{edges:l,level:w,isMaxLevel:w===m}});return N.length===0?qe:N}function Ft(r,c,p){const m=G((0,i.useCallback)(v=>r?v.edges.filter(N=>{const A=c.get(N.source),l=c.get(N.target);return(A==null?void 0:A.width)&&(A==null?void 0:A.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&Ye({sourcePos:A.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:A.width,sourceHeight:A.height,targetWidth:l.width,targetHeight:l.height,width:v.width,height:v.height,transform:v.transform})}):v.edges,[r,c]));return Bt(m,c,p)}const en=({color:r="none",strokeWidth:c=1})=>i.createElement("polyline",{style:{stroke:r,strokeWidth:c},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),ir=({color:r="none",strokeWidth:c=1})=>i.createElement("polyline",{style:{stroke:r,fill:r,strokeWidth:c},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Bn={[$e.Arrow]:en,[$e.ArrowClosed]:ir};function ur(r){const c=de();return(0,i.useMemo)(()=>{var v,N;return Object.prototype.hasOwnProperty.call(Bn,r)?Bn[r]:((N=(v=c.getState()).onError)==null||N.call(v,"009",D.error009(r)),null)},[r])}const nn=({id:r,type:c,color:p,width:m=12.5,height:v=12.5,markerUnits:N="strokeWidth",strokeWidth:A,orient:l="auto-start-reverse"})=>{const w=ur(c);return w?i.createElement("marker",{className:"react-flow__arrowhead",id:r,markerWidth:`${m}`,markerHeight:`${v}`,viewBox:"-10 -10 20 20",markerUnits:N,orient:l,refX:"0",refY:"0"},i.createElement(w,{color:p,strokeWidth:A})):null},Lr=({defaultColor:r,rfId:c})=>p=>{const m=[];return p.edges.reduce((v,N)=>([N.markerStart,N.markerEnd].forEach(A=>{if(A&&typeof A=="object"){const l=qt(A,c);m.includes(l)||(v.push(Nt({id:l,color:A.color||r},A)),m.push(l))}}),v),[]).sort((v,N)=>v.id.localeCompare(N.id))},pr=({defaultColor:r,rfId:c})=>{const p=G((0,i.useCallback)(Lr({defaultColor:r,rfId:c}),[r,c]),(m,v)=>!(m.length!==v.length||m.some((N,A)=>N.id!==v[A].id)));return i.createElement("defs",null,p.map(m=>i.createElement(nn,{id:m.id,key:m.id,type:m.type,color:m.color,width:m.width,height:m.height,markerUnits:m.markerUnits,strokeWidth:m.strokeWidth,orient:m.orient})))};pr.displayName="MarkerDefinitions";var Ar=(0,i.memo)(pr);const Br=r=>({nodesConnectable:r.nodesConnectable,edgesFocusable:r.edgesFocusable,edgesUpdatable:r.edgesUpdatable,elementsSelectable:r.elementsSelectable,width:r.width,height:r.height,connectionMode:r.connectionMode,nodeInternals:r.nodeInternals,onError:r.onError}),gr=({defaultMarkerColor:r,onlyRenderVisibleElements:c,elevateEdgesOnSelect:p,rfId:m,edgeTypes:v,noPanClassName:N,onEdgeContextMenu:A,onEdgeMouseEnter:l,onEdgeMouseMove:w,onEdgeMouseLeave:E,onEdgeClick:L,onEdgeDoubleClick:H,onReconnect:ge,onReconnectStart:se,onReconnectEnd:_e,reconnectRadius:we,children:De,disableKeyboardA11y:Ae})=>{const{edgesFocusable:Re,edgesUpdatable:Fe,elementsSelectable:lt,width:it,height:Mt,connectionMode:Gt,nodeInternals:Pt,onError:at}=G(Br,T.X),ft=Ft(c,Pt,p);return it?i.createElement(i.Fragment,null,ft.map(({level:wt,edges:bt,isMaxLevel:ot})=>i.createElement("svg",{key:wt,style:{zIndex:wt},width:it,height:Mt,className:"react-flow__edges react-flow__container"},ot&&i.createElement(Ar,{defaultColor:r,rfId:m}),i.createElement("g",null,bt.map(je=>{var Wn,zr;const[ct,It,Ht]=Qe(Pt.get(je.source)),[jt,Ue,Ct]=Qe(Pt.get(je.target));if(!Ht||!Ct)return null;let _t=je.type||"default";v[_t]||(at==null||at("011",D.error011(_t)),_t="default");const pt=v[_t]||v.default,Yt=Gt===Jt.Strict?Ue.target:((Wn=Ue.target)!=null?Wn:[]).concat((zr=Ue.source)!=null?zr:[]),an=le(It.source,je.sourceHandle),Cn=le(Yt,je.targetHandle),Nn=(an==null?void 0:an.position)||me.Bottom,jn=(Cn==null?void 0:Cn.position)||me.Top,cr=!!(je.focusable||Re&&typeof je.focusable=="undefined"),lr=je.reconnectable||je.updatable,Qn=typeof ge!="undefined"&&(lr||Fe&&typeof lr=="undefined");if(!an||!Cn)return at==null||at("008",D.error008(an,je)),null;const{sourceX:Mr,sourceY:$n,targetX:ao,targetY:$r}=Be(ct,an,Nn,jt,Cn,jn);return i.createElement(pt,{key:je.id,id:je.id,className:(0,O.Z)([je.className,N]),type:_t,data:je.data,selected:!!je.selected,animated:!!je.animated,hidden:!!je.hidden,label:je.label,labelStyle:je.labelStyle,labelShowBg:je.labelShowBg,labelBgStyle:je.labelBgStyle,labelBgPadding:je.labelBgPadding,labelBgBorderRadius:je.labelBgBorderRadius,style:je.style,source:je.source,target:je.target,sourceHandleId:je.sourceHandle,targetHandleId:je.targetHandle,markerEnd:je.markerEnd,markerStart:je.markerStart,sourceX:Mr,sourceY:$n,targetX:ao,targetY:$r,sourcePosition:Nn,targetPosition:jn,elementsSelectable:lt,onContextMenu:A,onMouseEnter:l,onMouseMove:w,onMouseLeave:E,onClick:L,onEdgeDoubleClick:H,onReconnect:ge,onReconnectStart:se,onReconnectEnd:_e,reconnectRadius:we,rfId:m,ariaLabel:je.ariaLabel,isFocusable:cr,isReconnectable:Qn,pathOptions:"pathOptions"in je?je.pathOptions:void 0,interactionWidth:je.interactionWidth,disableKeyboardA11y:Ae})})))),De):null};gr.displayName="EdgeRenderer";var Wo=(0,i.memo)(gr);const ar=r=>`translate(${r.transform[0]}px,${r.transform[1]}px) scale(${r.transform[2]})`;function Er({children:r}){const c=G(ar);return i.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:c}},r)}function Ko(r){const c=Mo(),p=(0,i.useRef)(!1);(0,i.useEffect)(()=>{!p.current&&c.viewportInitialized&&r&&(setTimeout(()=>r(c),1),p.current=!0)},[r,c.viewportInitialized])}const Go={[me.Left]:me.Right,[me.Right]:me.Left,[me.Top]:me.Bottom,[me.Bottom]:me.Top},mr=({nodeId:r,handleType:c,style:p,type:m=We.Bezier,CustomComponent:v,connectionStatus:N})=>{var Mt,Gt,Pt,at,ft,wt,bt;const{fromNode:A,handleId:l,toX:w,toY:E,connectionMode:L}=G((0,i.useCallback)(ot=>({fromNode:ot.nodeInternals.get(r),handleId:ot.connectionHandleId,toX:(ot.connectionPosition.x-ot.transform[0])/ot.transform[2],toY:(ot.connectionPosition.y-ot.transform[1])/ot.transform[2],connectionMode:ot.connectionMode}),[r]),T.X),H=(Mt=A==null?void 0:A[Se])==null?void 0:Mt.handleBounds;let ge=H==null?void 0:H[c];if(L===Jt.Loose&&(ge=ge||(H==null?void 0:H[c==="source"?"target":"source"])),!A||!ge)return null;const se=l?ge.find(ot=>ot.id===l):ge[0],_e=se?se.x+se.width/2:((Gt=A.width)!=null?Gt:0)/2,we=se?se.y+se.height/2:(Pt=A.height)!=null?Pt:0,De=((ft=(at=A.positionAbsolute)==null?void 0:at.x)!=null?ft:0)+_e,Ae=((bt=(wt=A.positionAbsolute)==null?void 0:wt.y)!=null?bt:0)+we,Re=se==null?void 0:se.position,Fe=Re?Go[Re]:null;if(!Re||!Fe)return null;if(v)return i.createElement(v,{connectionLineType:m,connectionLineStyle:p,fromNode:A,fromHandle:se,fromX:De,fromY:Ae,toX:w,toY:E,fromPosition:Re,toPosition:Fe,connectionStatus:N});let lt="";const it={sourceX:De,sourceY:Ae,sourcePosition:Re,targetX:w,targetY:E,targetPosition:Fe};return m===We.Bezier?[lt]=yt(it):m===We.Step?[lt]=An(Vn(Nt({},it),{borderRadius:0})):m===We.SmoothStep?[lt]=An(it):m===We.SimpleBezier?[lt]=yn(it):lt=`M${De},${Ae} ${w},${E}`,i.createElement("path",{d:lt,fill:"none",className:"react-flow__connection-path",style:p})};mr.displayName="ConnectionLine";const Ki=r=>({nodeId:r.connectionNodeId,handleType:r.connectionHandleType,nodesConnectable:r.nodesConnectable,connectionStatus:r.connectionStatus,width:r.width,height:r.height});function Te({containerStyle:r,style:c,type:p,component:m}){const{nodeId:v,handleType:N,nodesConnectable:A,width:l,height:w,connectionStatus:E}=G(Ki,T.X);return!(v&&N&&l&&A)?null:i.createElement("svg",{style:r,width:l,height:w,className:"react-flow__edges react-flow__connectionline react-flow__container"},i.createElement("g",{className:(0,O.Z)(["react-flow__connection",E])},i.createElement(mr,{nodeId:v,handleType:N,style:c,type:p,CustomComponent:m,connectionStatus:E})))}function At(r,c){const p=(0,i.useRef)(null),m=de();return(0,i.useMemo)(()=>c(r),[r])}const et=({nodeTypes:r,edgeTypes:c,onMove:p,onMoveStart:m,onMoveEnd:v,onInit:N,onNodeClick:A,onEdgeClick:l,onNodeDoubleClick:w,onEdgeDoubleClick:E,onNodeMouseEnter:L,onNodeMouseMove:H,onNodeMouseLeave:ge,onNodeContextMenu:se,onSelectionContextMenu:_e,onSelectionStart:we,onSelectionEnd:De,connectionLineType:Ae,connectionLineStyle:Re,connectionLineComponent:Fe,connectionLineContainerStyle:lt,selectionKeyCode:it,selectionOnDrag:Mt,selectionMode:Gt,multiSelectionKeyCode:Pt,panActivationKeyCode:at,zoomActivationKeyCode:ft,deleteKeyCode:wt,onlyRenderVisibleElements:bt,elementsSelectable:ot,selectNodesOnDrag:je,defaultViewport:ct,translateExtent:It,minZoom:Ht,maxZoom:jt,preventScrolling:Ue,defaultMarkerColor:Ct,zoomOnScroll:_t,zoomOnPinch:pt,panOnScroll:Yt,panOnScrollSpeed:an,panOnScrollMode:Cn,zoomOnDoubleClick:Nn,panOnDrag:jn,onPaneClick:cr,onPaneMouseEnter:lr,onPaneMouseMove:Qn,onPaneMouseLeave:Mr,onPaneScroll:$n,onPaneContextMenu:ao,onEdgeContextMenu:$r,onEdgeMouseEnter:Wn,onEdgeMouseMove:zr,onEdgeMouseLeave:_n,onReconnect:Xt,onReconnectStart:kr,onReconnectEnd:Xo,reconnectRadius:fs,noDragClassName:Gi,noWheelClassName:Xi,noPanClassName:co,elevateEdgesOnSelect:mi,disableKeyboardA11y:_o,nodeOrigin:yi,nodeExtent:wi,rfId:Yo})=>{const Yi=At(r,as),yr=At(c,fe);return Ko(N),i.createElement(so,{onPaneClick:cr,onPaneMouseEnter:lr,onPaneMouseMove:Qn,onPaneMouseLeave:Mr,onPaneContextMenu:ao,onPaneScroll:$n,deleteKeyCode:wt,selectionKeyCode:it,selectionOnDrag:Mt,selectionMode:Gt,onSelectionStart:we,onSelectionEnd:De,multiSelectionKeyCode:Pt,panActivationKeyCode:at,zoomActivationKeyCode:ft,elementsSelectable:ot,onMove:p,onMoveStart:m,onMoveEnd:v,zoomOnScroll:_t,zoomOnPinch:pt,zoomOnDoubleClick:Nn,panOnScroll:Yt,panOnScrollSpeed:an,panOnScrollMode:Cn,panOnDrag:jn,defaultViewport:ct,translateExtent:It,minZoom:Ht,maxZoom:jt,onSelectionContextMenu:_e,preventScrolling:Ue,noDragClassName:Gi,noWheelClassName:Xi,noPanClassName:co,disableKeyboardA11y:_o},i.createElement(Er,null,i.createElement(Wo,{edgeTypes:yr,onEdgeClick:l,onEdgeDoubleClick:E,onlyRenderVisibleElements:bt,onEdgeContextMenu:$r,onEdgeMouseEnter:Wn,onEdgeMouseMove:zr,onEdgeMouseLeave:_n,onReconnect:Xt,onReconnectStart:kr,onReconnectEnd:Xo,reconnectRadius:fs,defaultMarkerColor:Ct,noPanClassName:co,elevateEdgesOnSelect:!!mi,disableKeyboardA11y:_o,rfId:Yo},i.createElement(Te,{style:Re,type:Ae,component:Fe,containerStyle:lt})),i.createElement("div",{className:"react-flow__edgelabel-renderer"}),i.createElement(Dn,{nodeTypes:Yi,onNodeClick:A,onNodeDoubleClick:w,onNodeMouseEnter:L,onNodeMouseMove:H,onNodeMouseLeave:ge,onNodeContextMenu:se,selectNodesOnDrag:je,onlyRenderVisibleElements:bt,noPanClassName:co,noDragClassName:Gi,disableKeyboardA11y:_o,nodeOrigin:yi,nodeExtent:wi,rfId:Yo})))};et.displayName="GraphView";var Rt=(0,i.memo)(et);const on=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],sn={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:on,nodeExtent:on,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Jt.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Et,isValidConnection:void 0},hn=()=>(0,_.F)((r,c)=>Vn(Nt({},sn),{setNodes:p=>{const{nodeInternals:m,nodeOrigin:v,elevateNodesOnSelect:N}=c();r({nodeInternals:eo(p,m,v,N)})},getNodes:()=>Array.from(c().nodeInternals.values()),setEdges:p=>{const{defaultEdgeOptions:m={}}=c();r({edges:p.map(v=>Nt(Nt({},m),v))})},setDefaultNodesAndEdges:(p,m)=>{const v=typeof p!="undefined",N=typeof m!="undefined",A=v?eo(p,new Map,c().nodeOrigin,c().elevateNodesOnSelect):new Map;r({nodeInternals:A,edges:N?m:[],hasDefaultNodes:v,hasDefaultEdges:N})},updateNodeDimensions:p=>{const{onNodesChange:m,nodeInternals:v,fitViewOnInit:N,fitViewOnInitDone:A,fitViewOnInitOptions:l,domNode:w,nodeOrigin:E}=c(),L=w==null?void 0:w.querySelector(".react-flow__viewport");if(!L)return;const H=window.getComputedStyle(L),{m22:ge}=new window.DOMMatrixReadOnly(H.transform),se=p.reduce((we,De)=>{const Ae=v.get(De.id);if(Ae!=null&&Ae.hidden)v.set(Ae.id,Vn(Nt({},Ae),{[Se]:Vn(Nt({},Ae[Se]),{handleBounds:void 0})}));else if(Ae){const Re=re(De.nodeElement);!!(Re.width&&Re.height&&(Ae.width!==Re.width||Ae.height!==Re.height||De.forceUpdate))&&(v.set(Ae.id,Nt(Vn(Nt({},Ae),{[Se]:Vn(Nt({},Ae[Se]),{handleBounds:{source:vo(".source",De.nodeElement,ge,E),target:vo(".target",De.nodeElement,ge,E)}})}),Re)),we.push({id:Ae.id,type:"dimensions",dimensions:Re}))}return we},[]);fr(v,E);const _e=A||N&&!A&&Ri(c,Nt({initial:!0},l));r({nodeInternals:new Map(v),fitViewOnInitDone:_e}),(se==null?void 0:se.length)>0&&(m==null||m(se))},updateNodePositions:(p,m=!0,v=!1)=>{const{triggerNodeChanges:N}=c(),A=p.map(l=>{const w={id:l.id,type:"position",dragging:v};return m&&(w.positionAbsolute=l.positionAbsolute,w.position=l.position),w});N(A)},triggerNodeChanges:p=>{const{onNodesChange:m,nodeInternals:v,hasDefaultNodes:N,nodeOrigin:A,getNodes:l,elevateNodesOnSelect:w}=c();if(p!=null&&p.length){if(N){const E=Hr(p,l()),L=eo(E,v,A,w);r({nodeInternals:L})}m==null||m(p)}},addSelectedNodes:p=>{const{multiSelectionActive:m,edges:v,getNodes:N}=c();let A,l=null;m?A=p.map(w=>hr(w,!0)):(A=oo(N(),p),l=oo(v,[])),Yn({changedNodes:A,changedEdges:l,get:c,set:r})},addSelectedEdges:p=>{const{multiSelectionActive:m,edges:v,getNodes:N}=c();let A,l=null;m?A=p.map(w=>hr(w,!0)):(A=oo(v,p),l=oo(N(),[])),Yn({changedNodes:l,changedEdges:A,get:c,set:r})},unselectNodesAndEdges:({nodes:p,edges:m}={})=>{const{edges:v,getNodes:N}=c(),A=p||N(),l=m||v,w=A.map(L=>(L.selected=!1,hr(L.id,!1))),E=l.map(L=>hr(L.id,!1));Yn({changedNodes:w,changedEdges:E,get:c,set:r})},setMinZoom:p=>{const{d3Zoom:m,maxZoom:v}=c();m==null||m.scaleExtent([p,v]),r({minZoom:p})},setMaxZoom:p=>{const{d3Zoom:m,minZoom:v}=c();m==null||m.scaleExtent([v,p]),r({maxZoom:p})},setTranslateExtent:p=>{var m;(m=c().d3Zoom)==null||m.translateExtent(p),r({translateExtent:p})},resetSelectedElements:()=>{const{edges:p,getNodes:m}=c(),N=m().filter(l=>l.selected).map(l=>hr(l.id,!1)),A=p.filter(l=>l.selected).map(l=>hr(l.id,!1));Yn({changedNodes:N,changedEdges:A,get:c,set:r})},setNodeExtent:p=>{const{nodeInternals:m}=c();m.forEach(v=>{v.positionAbsolute=Q(v.position,p)}),r({nodeExtent:p,nodeInternals:new Map(m)})},panBy:p=>{const{transform:m,width:v,height:N,d3Zoom:A,d3Selection:l,translateExtent:w}=c();if(!A||!l||!p.x&&!p.y)return!1;const E=x.CR.translate(m[0]+p.x,m[1]+p.y).scale(m[2]),L=[[0,0],[v,N]],H=A==null?void 0:A.constrain()(E,L,w);return A.transform(l,H),m[0]!==H.x||m[1]!==H.y||m[2]!==H.k},cancelConnection:()=>r({connectionNodeId:sn.connectionNodeId,connectionHandleId:sn.connectionHandleId,connectionHandleType:sn.connectionHandleType,connectionStatus:sn.connectionStatus,connectionStartHandle:sn.connectionStartHandle,connectionEndHandle:sn.connectionEndHandle}),reset:()=>r(Nt({},sn))}),Object.is),Sn=({children:r})=>{const c=(0,i.useRef)(null);return c.current||(c.current=hn()),i.createElement(U,{value:c.current},r)};Sn.displayName="ReactFlowProvider";const Un=({children:r})=>(0,i.useContext)(I)?i.createElement(i.Fragment,null,r):i.createElement(Sn,null,r);Un.displayName="ReactFlowWrapper";const Sr={input:Xn,default:rn,output:rr,group:Hn},Zn={default:xt,straight:ye,step:M,smoothstep:cn,simplebezier:mn},Fn=[0,0],Or=[15,15],Cr={x:0,y:0,zoom:1},Ur={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Jn=(0,i.forwardRef)((Ya,Ia)=>{var Ta=Ya,{nodes:r,edges:c,defaultNodes:p,defaultEdges:m,className:v,nodeTypes:N=Sr,edgeTypes:A=Zn,onNodeClick:l,onEdgeClick:w,onInit:E,onMove:L,onMoveStart:H,onMoveEnd:ge,onConnect:se,onConnectStart:_e,onConnectEnd:we,onClickConnectStart:De,onClickConnectEnd:Ae,onNodeMouseEnter:Re,onNodeMouseMove:Fe,onNodeMouseLeave:lt,onNodeContextMenu:it,onNodeDoubleClick:Mt,onNodeDragStart:Gt,onNodeDrag:Pt,onNodeDragStop:at,onNodesDelete:ft,onEdgesDelete:wt,onSelectionChange:bt,onSelectionDragStart:ot,onSelectionDrag:je,onSelectionDragStop:ct,onSelectionContextMenu:It,onSelectionStart:Ht,onSelectionEnd:jt,connectionMode:Ue=Jt.Strict,connectionLineType:Ct=We.Bezier,connectionLineStyle:_t,connectionLineComponent:pt,connectionLineContainerStyle:Yt,deleteKeyCode:an="Backspace",selectionKeyCode:Cn="Shift",selectionOnDrag:Nn=!1,selectionMode:jn=Me.Full,panActivationKeyCode:cr="Space",multiSelectionKeyCode:lr=ve()?"Meta":"Control",zoomActivationKeyCode:Qn=ve()?"Meta":"Control",snapToGrid:Mr=!1,snapGrid:$n=Or,onlyRenderVisibleElements:ao=!1,selectNodesOnDrag:$r=!0,nodesDraggable:Wn,nodesConnectable:zr,nodesFocusable:_n,nodeOrigin:Xt=Fn,edgesFocusable:kr,edgesUpdatable:Xo,elementsSelectable:fs,defaultViewport:Gi=Cr,minZoom:Xi=.5,maxZoom:co=2,translateExtent:mi=on,preventScrolling:_o=!0,nodeExtent:yi,defaultMarkerColor:wi="#b1b1b7",zoomOnScroll:Yo=!0,zoomOnPinch:Yi=!0,panOnScroll:yr=!1,panOnScrollSpeed:lo=.5,panOnScrollMode:Bo=Ie.Free,zoomOnDoubleClick:vi=!0,panOnDrag:Jo=!0,onPaneClick:Eo,onPaneMouseEnter:uo,onPaneMouseMove:Ji,onPaneMouseLeave:ta,onPaneScroll:Qo,onPaneContextMenu:Uo,children:qo,onEdgeContextMenu:ei,onEdgeDoubleClick:bi,onEdgeMouseEnter:Ds,onEdgeMouseMove:xi,onEdgeMouseLeave:Qi,onEdgeUpdate:Ps,onEdgeUpdateStart:na,onEdgeUpdateEnd:fo,onReconnect:Wr,onReconnectStart:hs,onReconnectEnd:Rs,reconnectRadius:ps=10,edgeUpdaterRadius:ti=10,onNodesChange:gs,onEdgesChange:Kr,noDragClassName:ba="nodrag",noWheelClassName:Vr="nowheel",noPanClassName:ni="nopan",fitView:ri=!1,fitViewOptions:ms,connectOnClick:ho=!0,attributionPosition:xa,proOptions:Ls,defaultEdgeOptions:_a,elevateNodesOnSelect:Ea=!0,elevateEdgesOnSelect:Sa=!1,disableKeyboardA11y:Bs=!1,autoPanOnConnect:Ka=!0,autoPanOnNodeDrag:Us=!0,connectionRadius:Ga=20,isValidConnection:Ca,onError:ka,style:Xa,id:zs,nodeDragThreshold:ra}=Ta,Vs=Ai(Ta,["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","onSelectionStart","onSelectionEnd","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","selectionOnDrag","selectionMode","panActivationKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","nodesFocusable","nodeOrigin","edgesFocusable","edgesUpdatable","elementsSelectable","defaultViewport","minZoom","maxZoom","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneMouseEnter","onPaneMouseMove","onPaneMouseLeave","onPaneScroll","onPaneContextMenu","children","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdate","onEdgeUpdateStart","onEdgeUpdateEnd","onReconnect","onReconnectStart","onReconnectEnd","reconnectRadius","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateNodesOnSelect","elevateEdgesOnSelect","disableKeyboardA11y","autoPanOnConnect","autoPanOnNodeDrag","connectionRadius","isValidConnection","onError","style","id","nodeDragThreshold"]);const Fs=zs||"1";return i.createElement("div",Vn(Nt({},Vs),{style:Nt(Nt({},Xa),Ur),ref:Ia,className:(0,O.Z)(["react-flow",v]),"data-testid":"rf__wrapper",id:zs}),i.createElement(Un,null,i.createElement(Rt,{onInit:E,onMove:L,onMoveStart:H,onMoveEnd:ge,onNodeClick:l,onEdgeClick:w,onNodeMouseEnter:Re,onNodeMouseMove:Fe,onNodeMouseLeave:lt,onNodeContextMenu:it,onNodeDoubleClick:Mt,nodeTypes:N,edgeTypes:A,connectionLineType:Ct,connectionLineStyle:_t,connectionLineComponent:pt,connectionLineContainerStyle:Yt,selectionKeyCode:Cn,selectionOnDrag:Nn,selectionMode:jn,deleteKeyCode:an,multiSelectionKeyCode:lr,panActivationKeyCode:cr,zoomActivationKeyCode:Qn,onlyRenderVisibleElements:ao,selectNodesOnDrag:$r,defaultViewport:Gi,translateExtent:mi,minZoom:Xi,maxZoom:co,preventScrolling:_o,zoomOnScroll:Yo,zoomOnPinch:Yi,zoomOnDoubleClick:vi,panOnScroll:yr,panOnScrollSpeed:lo,panOnScrollMode:Bo,panOnDrag:Jo,onPaneClick:Eo,onPaneMouseEnter:uo,onPaneMouseMove:Ji,onPaneMouseLeave:ta,onPaneScroll:Qo,onPaneContextMenu:Uo,onSelectionContextMenu:It,onSelectionStart:Ht,onSelectionEnd:jt,onEdgeContextMenu:ei,onEdgeDoubleClick:bi,onEdgeMouseEnter:Ds,onEdgeMouseMove:xi,onEdgeMouseLeave:Qi,onReconnect:Wr!=null?Wr:Ps,onReconnectStart:hs!=null?hs:na,onReconnectEnd:Rs!=null?Rs:fo,reconnectRadius:ps!=null?ps:ti,defaultMarkerColor:wi,noDragClassName:ba,noWheelClassName:Vr,noPanClassName:ni,elevateEdgesOnSelect:Sa,rfId:Fs,disableKeyboardA11y:Bs,nodeOrigin:Xt,nodeExtent:yi}),i.createElement(Oi,{nodes:r,edges:c,defaultNodes:p,defaultEdges:m,onConnect:se,onConnectStart:_e,onConnectEnd:we,onClickConnectStart:De,onClickConnectEnd:Ae,nodesDraggable:Wn,nodesConnectable:zr,nodesFocusable:_n,edgesFocusable:kr,edgesUpdatable:Xo,elementsSelectable:fs,elevateNodesOnSelect:Ea,minZoom:Xi,maxZoom:co,nodeExtent:yi,onNodesChange:gs,onEdgesChange:Kr,snapToGrid:Mr,snapGrid:$n,connectionMode:Ue,translateExtent:mi,connectOnClick:ho,defaultEdgeOptions:_a,fitView:ri,fitViewOptions:ms,onNodesDelete:ft,onEdgesDelete:wt,onNodeDragStart:Gt,onNodeDrag:Pt,onNodeDragStop:at,onSelectionDrag:je,onSelectionDragStart:ot,onSelectionDragStop:ct,noPanClassName:ni,nodeOrigin:Xt,rfId:Fs,autoPanOnConnect:Ka,autoPanOnNodeDrag:Us,onError:ka,connectionRadius:Ga,isValidConnection:Ca,nodeDragThreshold:ra}),i.createElement(Fo,{onSelectionChange:bt}),qo,i.createElement(ue,{proOptions:Ls,position:xa}),i.createElement(Oo,{rfId:Fs,disableKeyboardA11y:Bs})))});Jn.displayName="ReactFlow";const us=r=>{var c;return(c=r.domNode)==null?void 0:c.querySelector(".react-flow__edgelabel-renderer")};function Cs({children:r}){const c=G(us);return c?(0,C.createPortal)(r,c):null}function ks(){const r=de();return(0,i.useCallback)(c=>{const{domNode:p,updateNodeDimensions:m}=r.getState(),N=(Array.isArray(c)?c:[c]).reduce((A,l)=>{const w=p==null?void 0:p.querySelector(`.react-flow__node[data-id="${l}"]`);return w&&A.push({id:l,nodeElement:w,forceUpdate:!0}),A},[]);requestAnimationFrame(()=>m(N))},[])}const Is=r=>r.getNodes();function Gs(){return G(Is,T.X)}const Ts=r=>r.edges;function Xs(){return G(Ts,T.X)}const ds=r=>({x:r.transform[0],y:r.transform[1],zoom:r.transform[2]});function As(){return G(ds,T.X)}function Os(r){return c=>{const[p,m]=(0,i.useState)(c),v=(0,i.useCallback)(N=>m(A=>r(N,A)),[]);return[p,m,v]}}const Ms=Os(Hr),Ns=Os(or);function Ys({onStart:r,onChange:c,onEnd:p}){const m=de();(0,i.useEffect)(()=>{m.setState({onViewportChangeStart:r})},[r]),(0,i.useEffect)(()=>{m.setState({onViewportChange:c})},[c]),(0,i.useEffect)(()=>{m.setState({onViewportChangeEnd:p})},[p])}function Js({onChange:r}){const c=de();(0,i.useEffect)(()=>{const p=[...c.getState().onSelectionChange,r];return c.setState({onSelectionChange:p}),()=>{const m=c.getState().onSelectionChange.filter(v=>v!==r);c.setState({onSelectionChange:m})}},[r])}const Qs=r=>c=>c.nodeInternals.size===0?!1:c.getNodes().filter(p=>r.includeHiddenNodes?!0:!p.hidden).every(p=>{var m;return((m=p[Se])==null?void 0:m.handleBounds)!==void 0}),qs={includeHiddenNodes:!1};function ea(r=qs){return G(Qs(r))}},6120:function(B,j,h){"use strict";h.d(j,{a:function(){return ne}});var i=h(75271),O=h(28680),_=h(30314),T=h(65278),x=h(41468),b=h(13802),u=h(45171);const y=({id:re,x:$,y:Q,width:ae,height:oe,style:Ee,color:Le,strokeColor:R,strokeWidth:J,className:ke,borderRadius:xe,shapeRendering:Ze,onClick:Z,selected:ie})=>{const{background:Se,backgroundColor:Ge}=Ee||{},Et=Le||Se||Ge;return i.createElement("rect",{className:(0,O.Z)(["react-flow__minimap-node",{selected:ie},ke]),x:$,y:Q,rx:xe,ry:xe,width:ae,height:oe,fill:Et,stroke:R,strokeWidth:J,shapeRendering:Ze,onClick:Z?Wt=>Z(Wt,re):void 0})};y.displayName="MiniMapNode";var C=(0,i.memo)(y);const I=re=>re.nodeOrigin,U=re=>re.getNodes().filter($=>!$.hidden&&$.width&&$.height),D=re=>re instanceof Function?re:()=>re;function Y({nodeStrokeColor:re="transparent",nodeColor:$="#e2e2e2",nodeClassName:Q="",nodeBorderRadius:ae=5,nodeStrokeWidth:oe=2,nodeComponent:Ee=C,onClick:Le}){const R=(0,u.oR)(U,_.X),J=(0,u.oR)(I),ke=D($),xe=D(re),Ze=D(Q),Z=typeof window=="undefined"||window.chrome?"crispEdges":"geometricPrecision";return i.createElement(i.Fragment,null,R.map(ie=>{const{x:Se,y:Ge}=(0,u.VP)(ie,J).positionAbsolute;return i.createElement(Ee,{key:ie.id,x:Se,y:Ge,width:ie.width,height:ie.height,style:ie.style,selected:ie.selected,className:Ze(ie),color:ke(ie),borderRadius:ae,strokeColor:xe(ie),strokeWidth:oe,shapeRendering:Z,onClick:Le,id:ie.id})}))}var G=(0,i.memo)(Y);const de=200,Ve=150,ce=re=>{const $=re.getNodes(),Q={x:-re.transform[0]/re.transform[2],y:-re.transform[1]/re.transform[2],width:re.width/re.transform[2],height:re.height/re.transform[2]};return{viewBB:Q,boundingRect:$.length>0?(0,u.oI)((0,u.RX)($,re.nodeOrigin),Q):Q,rfId:re.rfId}},ue="react-flow__minimap-desc";function K({style:re,className:$,nodeStrokeColor:Q="transparent",nodeColor:ae="#e2e2e2",nodeClassName:oe="",nodeBorderRadius:Ee=5,nodeStrokeWidth:Le=2,nodeComponent:R,maskColor:J="rgb(240, 240, 240, 0.6)",maskStrokeColor:ke="none",maskStrokeWidth:xe=1,position:Ze="bottom-right",onClick:Z,onNodeClick:ie,pannable:Se=!1,zoomable:Ge=!1,ariaLabel:Et="React Flow mini map",inversePan:Wt=!1,zoomStep:Tt=10,offsetScale:X=5}){var An,cn;const he=(0,u.AC)(),ve=(0,i.useRef)(null),{boundingRect:be,viewBB:Pe,rfId:ut}=(0,u.oR)(ce,_.X),mt=(An=re==null?void 0:re.width)!=null?An:de,$t=(cn=re==null?void 0:re.height)!=null?cn:Ve,Jt=be.width/mt,Ie=be.height/$t,Me=Math.max(Jt,Ie),We=Me*mt,$e=Me*$t,me=X*Me,Ut=be.x-(We-be.width)/2-me,yn=be.y-($e-be.height)/2-me,mn=We+me*2,kn=$e+me*2,Tn=`${ue}-${ut}`,vn=(0,i.useRef)(0);vn.current=Me,(0,i.useEffect)(()=>{if(ve.current){const M=(0,x.Z)(ve.current),W=Xe=>{const{transform:yt,d3Selection:xt,d3Zoom:ht}=he.getState();if(Xe.sourceEvent.type!=="wheel"||!xt||!ht)return;const ze=-Xe.sourceEvent.deltaY*(Xe.sourceEvent.deltaMode===1?.05:Xe.sourceEvent.deltaMode?1:.002)*Tt,Je=yt[2]*Math.pow(2,ze);ht.scaleTo(xt,Je)},ye=Xe=>{const{transform:yt,d3Selection:xt,d3Zoom:ht,translateExtent:ze,width:Je,height:zt}=he.getState();if(Xe.sourceEvent.type!=="mousemove"||!xt||!ht)return;const un=vn.current*Math.max(1,yt[2])*(Wt?-1:1),Vt={x:yt[0]-Xe.sourceEvent.movementX*un,y:yt[1]-Xe.sourceEvent.movementY*un},tn=[[0,0],[Je,zt]],Qt=T.CR.translate(Vt.x,Vt.y).scale(yt[2]),qt=ht.constrain()(Qt,tn,ze);ht.transform(xt,qt)},Ne=(0,T.sP)().on("zoom",Se?ye:null).on("zoom.wheel",Ge?W:null);return M.call(Ne),()=>{M.on("zoom",null)}}},[Se,Ge,Wt,Tt]);const On=Z?M=>{const W=(0,b.Z)(M);Z(M,{x:W[0],y:W[1]})}:void 0,Ln=ie?(M,W)=>{const ye=he.getState().nodeInternals.get(W);ie(M,ye)}:void 0;return i.createElement(u.s_,{position:Ze,style:re,className:(0,O.Z)(["react-flow__minimap",$]),"data-testid":"rf__minimap"},i.createElement("svg",{width:mt,height:$t,viewBox:`${Ut} ${yn} ${mn} ${kn}`,role:"img","aria-labelledby":Tn,ref:ve,onClick:On},Et&&i.createElement("title",{id:Tn},Et),i.createElement(G,{onClick:Ln,nodeColor:ae,nodeStrokeColor:Q,nodeBorderRadius:Ee,nodeClassName:oe,nodeStrokeWidth:Le,nodeComponent:R}),i.createElement("path",{className:"react-flow__minimap-mask",d:`M${Ut-me},${yn-me}h${mn+me*2}v${kn+me*2}h${-mn-me*2}z
        M${Pe.x},${Pe.y}h${Pe.width}v${Pe.height}h${-Pe.width}z`,fill:J,fillRule:"evenodd",stroke:ke,strokeWidth:xe,pointerEvents:"none"})))}K.displayName="MiniMap";var ne=(0,i.memo)(K)},70481:function(B,j){"use strict";var h={value:function(){}};function i(){for(var b=0,u=arguments.length,y={},C;b<u;++b){if(!(C=arguments[b]+"")||C in y||/[\s.]/.test(C))throw new Error("illegal type: "+C);y[C]=[]}return new O(y)}function O(b){this._=b}function _(b,u){return b.trim().split(/^|\s+/).map(function(y){var C="",I=y.indexOf(".");if(I>=0&&(C=y.slice(I+1),y=y.slice(0,I)),y&&!u.hasOwnProperty(y))throw new Error("unknown type: "+y);return{type:y,name:C}})}O.prototype=i.prototype={constructor:O,on:function(u,y){var C=this._,I=_(u+"",C),U,D=-1,Y=I.length;if(arguments.length<2){for(;++D<Y;)if((U=(u=I[D]).type)&&(U=T(C[U],u.name)))return U;return}if(y!=null&&typeof y!="function")throw new Error("invalid callback: "+y);for(;++D<Y;)if(U=(u=I[D]).type)C[U]=x(C[U],u.name,y);else if(y==null)for(U in C)C[U]=x(C[U],u.name,null);return this},copy:function(){var u={},y=this._;for(var C in y)u[C]=y[C].slice();return new O(u)},call:function(u,y){if((U=arguments.length-2)>0)for(var C=new Array(U),I=0,U,D;I<U;++I)C[I]=arguments[I+2];if(!this._.hasOwnProperty(u))throw new Error("unknown type: "+u);for(D=this._[u],I=0,U=D.length;I<U;++I)D[I].value.apply(y,C)},apply:function(u,y,C){if(!this._.hasOwnProperty(u))throw new Error("unknown type: "+u);for(var I=this._[u],U=0,D=I.length;U<D;++U)I[U].value.apply(y,C)}};function T(b,u){for(var y=0,C=b.length,I;y<C;++y)if((I=b[y]).name===u)return I.value}function x(b,u,y){for(var C=0,I=b.length;C<I;++C)if(b[C].name===u){b[C]=h,b=b.slice(0,C).concat(b.slice(C+1));break}return y!=null&&b.push({name:u,value:y}),b}j.Z=i},28680:function(B,j,h){"use strict";h.d(j,{Z:function(){return i}});function i(O){if(typeof O=="string"||typeof O=="number")return""+O;let _="";if(Array.isArray(O))for(let T=0,x;T<O.length;T++)(x=i(O[T]))!==""&&(_+=(_&&" ")+x);else for(let T in O)O[T]&&(_+=(_&&" ")+T);return _}},45452:function(B,j,h){"use strict";h.d(j,{Z:function(){return D}});var i=h(70481),O=h(41468),_=h(13802),T=h(49289),x=h(5873),b=Y=>()=>Y;function u(Y,{sourceEvent:G,subject:de,target:Ve,identifier:ce,active:ue,x:K,y:ne,dx:re,dy:$,dispatch:Q}){Object.defineProperties(this,{type:{value:Y,enumerable:!0,configurable:!0},sourceEvent:{value:G,enumerable:!0,configurable:!0},subject:{value:de,enumerable:!0,configurable:!0},target:{value:Ve,enumerable:!0,configurable:!0},identifier:{value:ce,enumerable:!0,configurable:!0},active:{value:ue,enumerable:!0,configurable:!0},x:{value:K,enumerable:!0,configurable:!0},y:{value:ne,enumerable:!0,configurable:!0},dx:{value:re,enumerable:!0,configurable:!0},dy:{value:$,enumerable:!0,configurable:!0},_:{value:Q}})}u.prototype.on=function(){var Y=this._.on.apply(this._,arguments);return Y===this._?this:Y};function y(Y){return!Y.ctrlKey&&!Y.button}function C(){return this.parentNode}function I(Y,G){return G==null?{x:Y.x,y:Y.y}:G}function U(){return navigator.maxTouchPoints||"ontouchstart"in this}function D(){var Y=y,G=C,de=I,Ve=U,ce={},ue=(0,i.Z)("start","drag","end"),K=0,ne,re,$,Q,ae=0;function oe(Z){Z.on("mousedown.drag",Ee).filter(Ve).on("touchstart.drag",J).on("touchmove.drag",ke,x.Q7).on("touchend.drag touchcancel.drag",xe).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function Ee(Z,ie){if(!(Q||!Y.call(this,Z,ie))){var Se=Ze(this,G.call(this,Z,ie),Z,ie,"mouse");Se&&((0,O.Z)(Z.view).on("mousemove.drag",Le,x.Dd).on("mouseup.drag",R,x.Dd),(0,T.Z)(Z.view),(0,x.rG)(Z),$=!1,ne=Z.clientX,re=Z.clientY,Se("start",Z))}}function Le(Z){if((0,x.ZP)(Z),!$){var ie=Z.clientX-ne,Se=Z.clientY-re;$=ie*ie+Se*Se>ae}ce.mouse("drag",Z)}function R(Z){(0,O.Z)(Z.view).on("mousemove.drag mouseup.drag",null),(0,T.D)(Z.view,$),(0,x.ZP)(Z),ce.mouse("end",Z)}function J(Z,ie){if(Y.call(this,Z,ie)){var Se=Z.changedTouches,Ge=G.call(this,Z,ie),Et=Se.length,Wt,Tt;for(Wt=0;Wt<Et;++Wt)(Tt=Ze(this,Ge,Z,ie,Se[Wt].identifier,Se[Wt]))&&((0,x.rG)(Z),Tt("start",Z,Se[Wt]))}}function ke(Z){var ie=Z.changedTouches,Se=ie.length,Ge,Et;for(Ge=0;Ge<Se;++Ge)(Et=ce[ie[Ge].identifier])&&((0,x.ZP)(Z),Et("drag",Z,ie[Ge]))}function xe(Z){var ie=Z.changedTouches,Se=ie.length,Ge,Et;for(Q&&clearTimeout(Q),Q=setTimeout(function(){Q=null},500),Ge=0;Ge<Se;++Ge)(Et=ce[ie[Ge].identifier])&&((0,x.rG)(Z),Et("end",Z,ie[Ge]))}function Ze(Z,ie,Se,Ge,Et,Wt){var Tt=ue.copy(),X=(0,_.Z)(Wt||Se,ie),he,ve,be;if((be=de.call(Z,new u("beforestart",{sourceEvent:Se,target:oe,identifier:Et,active:K,x:X[0],y:X[1],dx:0,dy:0,dispatch:Tt}),Ge))!=null)return he=be.x-X[0]||0,ve=be.y-X[1]||0,function Pe(ut,mt,$t){var Jt=X,Ie;switch(ut){case"start":ce[Et]=Pe,Ie=K++;break;case"end":delete ce[Et],--K;case"drag":X=(0,_.Z)($t||mt,ie),Ie=K;break}Tt.call(ut,Z,new u(ut,{sourceEvent:mt,subject:be,target:oe,identifier:Et,active:Ie,x:X[0]+he,y:X[1]+ve,dx:X[0]-Jt[0],dy:X[1]-Jt[1],dispatch:Tt}),Ge)}}return oe.filter=function(Z){return arguments.length?(Y=typeof Z=="function"?Z:b(!!Z),oe):Y},oe.container=function(Z){return arguments.length?(G=typeof Z=="function"?Z:b(Z),oe):G},oe.subject=function(Z){return arguments.length?(de=typeof Z=="function"?Z:b(Z),oe):de},oe.touchable=function(Z){return arguments.length?(Ve=typeof Z=="function"?Z:b(!!Z),oe):Ve},oe.on=function(){var Z=ue.on.apply(ue,arguments);return Z===ue?oe:Z},oe.clickDistance=function(Z){return arguments.length?(ae=(Z=+Z)*Z,oe):Math.sqrt(ae)},oe}},49289:function(B,j,h){"use strict";h.d(j,{D:function(){return T},Z:function(){return _}});var i=h(41468),O=h(5873);function _(x){var b=x.document.documentElement,u=(0,i.Z)(x).on("dragstart.drag",O.ZP,O.Dd);"onselectstart"in b?u.on("selectstart.drag",O.ZP,O.Dd):(b.__noselect=b.style.MozUserSelect,b.style.MozUserSelect="none")}function T(x,b){var u=x.document.documentElement,y=(0,i.Z)(x).on("dragstart.drag",null);b&&(y.on("click.drag",O.ZP,O.Dd),setTimeout(function(){y.on("click.drag",null)},0)),"onselectstart"in u?y.on("selectstart.drag",null):(u.style.MozUserSelect=u.__noselect,delete u.__noselect)}},5873:function(B,j,h){"use strict";h.d(j,{Dd:function(){return O},Q7:function(){return i},ZP:function(){return T},rG:function(){return _}});const i={passive:!1},O={capture:!0,passive:!1};function _(x){x.stopImmediatePropagation()}function T(x){x.preventDefault(),x.stopImmediatePropagation()}},73409:function(B,j,h){"use strict";h.d(j,{P:function(){return O},Z:function(){return i}});function i(_){return function(){return this.matches(_)}}function O(_){return function(T){return T.matches(_)}}},60021:function(B,j,h){"use strict";h.d(j,{Z:function(){return O}});var i=h(17110);function O(_){var T=_+="",x=T.indexOf(":");return x>=0&&(T=_.slice(0,x))!=="xmlns"&&(_=_.slice(x+1)),i.Z.hasOwnProperty(T)?{space:i.Z[T],local:_}:_}},17110:function(B,j,h){"use strict";h.d(j,{P:function(){return i}});var i="http://www.w3.org/1999/xhtml";j.Z={svg:"http://www.w3.org/2000/svg",xhtml:i,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},13802:function(B,j,h){"use strict";h.d(j,{Z:function(){return O}});function i(_){let T;for(;T=_.sourceEvent;)_=T;return _}function O(_,T){if(_=i(_),T===void 0&&(T=_.currentTarget),T){var x=T.ownerSVGElement||T;if(x.createSVGPoint){var b=x.createSVGPoint();return b.x=_.clientX,b.y=_.clientY,b=b.matrixTransform(T.getScreenCTM().inverse()),[b.x,b.y]}if(T.getBoundingClientRect){var u=T.getBoundingClientRect();return[_.clientX-u.left-T.clientLeft,_.clientY-u.top-T.clientTop]}}return[_.pageX,_.pageY]}},41468:function(B,j,h){"use strict";h.d(j,{Z:function(){return O}});var i=h(1776);function O(_){return typeof _=="string"?new i.Y1([[document.querySelector(_)]],[document.documentElement]):new i.Y1([[_]],i.Jz)}},1776:function(B,j,h){"use strict";h.d(j,{Y1:function(){return tr},ZP:function(){return Zr},Jz:function(){return Io}});var i=h(66456);function O(z){typeof z!="function"&&(z=(0,i.Z)(z));for(var pe=this._groups,tt=pe.length,rt=new Array(tt),Ke=0;Ke<tt;++Ke)for(var dt=pe[Ke],Dt=dt.length,St=rt[Ke]=new Array(Dt),Zt,rn,xn=0;xn<Dt;++xn)(Zt=dt[xn])&&(rn=z.call(Zt,Zt.__data__,xn,dt))&&("__data__"in Zt&&(rn.__data__=Zt.__data__),St[xn]=rn);return new tr(rt,this._parents)}function _(z){return z==null?[]:Array.isArray(z)?z:Array.from(z)}var T=h(16851);function x(z){return function(){return _(z.apply(this,arguments))}}function b(z){typeof z=="function"?z=x(z):z=(0,T.Z)(z);for(var pe=this._groups,tt=pe.length,rt=[],Ke=[],dt=0;dt<tt;++dt)for(var Dt=pe[dt],St=Dt.length,Zt,rn=0;rn<St;++rn)(Zt=Dt[rn])&&(rt.push(z.call(Zt,Zt.__data__,rn,Dt)),Ke.push(Zt));return new tr(rt,Ke)}var u=h(73409),y=Array.prototype.find;function C(z){return function(){return y.call(this.children,z)}}function I(){return this.firstElementChild}function U(z){return this.select(z==null?I:C(typeof z=="function"?z:(0,u.P)(z)))}var D=Array.prototype.filter;function Y(){return Array.from(this.children)}function G(z){return function(){return D.call(this.children,z)}}function de(z){return this.selectAll(z==null?Y:G(typeof z=="function"?z:(0,u.P)(z)))}function Ve(z){typeof z!="function"&&(z=(0,u.Z)(z));for(var pe=this._groups,tt=pe.length,rt=new Array(tt),Ke=0;Ke<tt;++Ke)for(var dt=pe[Ke],Dt=dt.length,St=rt[Ke]=[],Zt,rn=0;rn<Dt;++rn)(Zt=dt[rn])&&z.call(Zt,Zt.__data__,rn,dt)&&St.push(Zt);return new tr(rt,this._parents)}function ce(z){return new Array(z.length)}function ue(){return new tr(this._enter||this._groups.map(ce),this._parents)}function K(z,pe){this.ownerDocument=z.ownerDocument,this.namespaceURI=z.namespaceURI,this._next=null,this._parent=z,this.__data__=pe}K.prototype={constructor:K,appendChild:function(z){return this._parent.insertBefore(z,this._next)},insertBefore:function(z,pe){return this._parent.insertBefore(z,pe)},querySelector:function(z){return this._parent.querySelector(z)},querySelectorAll:function(z){return this._parent.querySelectorAll(z)}};function ne(z){return function(){return z}}function re(z,pe,tt,rt,Ke,dt){for(var Dt=0,St,Zt=pe.length,rn=dt.length;Dt<rn;++Dt)(St=pe[Dt])?(St.__data__=dt[Dt],rt[Dt]=St):tt[Dt]=new K(z,dt[Dt]);for(;Dt<Zt;++Dt)(St=pe[Dt])&&(Ke[Dt]=St)}function $(z,pe,tt,rt,Ke,dt,Dt){var St,Zt,rn=new Map,xn=pe.length,Xn=dt.length,dr=new Array(xn),rr;for(St=0;St<xn;++St)(Zt=pe[St])&&(dr[St]=rr=Dt.call(Zt,Zt.__data__,St,pe)+"",rn.has(rr)?Ke[St]=Zt:rn.set(rr,Zt));for(St=0;St<Xn;++St)rr=Dt.call(z,dt[St],St,dt)+"",(Zt=rn.get(rr))?(rt[St]=Zt,Zt.__data__=dt[St],rn.delete(rr)):tt[St]=new K(z,dt[St]);for(St=0;St<xn;++St)(Zt=pe[St])&&rn.get(dr[St])===Zt&&(Ke[St]=Zt)}function Q(z){return z.__data__}function ae(z,pe){if(!arguments.length)return Array.from(this,Q);var tt=pe?$:re,rt=this._parents,Ke=this._groups;typeof z!="function"&&(z=ne(z));for(var dt=Ke.length,Dt=new Array(dt),St=new Array(dt),Zt=new Array(dt),rn=0;rn<dt;++rn){var xn=rt[rn],Xn=Ke[rn],dr=Xn.length,rr=oe(z.call(xn,xn&&xn.__data__,rn,rt)),Hn=rr.length,go=St[rn]=new Array(Hn),Yr=Dt[rn]=new Array(Hn),oi=Zt[rn]=new Array(dr);tt(xn,Xn,go,Yr,oi,rr,pe);for(var Ir=0,Jr=0,Fo,To;Ir<Hn;++Ir)if(Fo=go[Ir]){for(Ir>=Jr&&(Jr=Ir+1);!(To=Yr[Jr])&&++Jr<Hn;);Fo._next=To||null}}return Dt=new tr(Dt,rt),Dt._enter=St,Dt._exit=Zt,Dt}function oe(z){return typeof z=="object"&&"length"in z?z:Array.from(z)}function Ee(){return new tr(this._exit||this._groups.map(ce),this._parents)}function Le(z,pe,tt){var rt=this.enter(),Ke=this,dt=this.exit();return typeof z=="function"?(rt=z(rt),rt&&(rt=rt.selection())):rt=rt.append(z+""),pe!=null&&(Ke=pe(Ke),Ke&&(Ke=Ke.selection())),tt==null?dt.remove():tt(dt),rt&&Ke?rt.merge(Ke).order():Ke}function R(z){for(var pe=z.selection?z.selection():z,tt=this._groups,rt=pe._groups,Ke=tt.length,dt=rt.length,Dt=Math.min(Ke,dt),St=new Array(Ke),Zt=0;Zt<Dt;++Zt)for(var rn=tt[Zt],xn=rt[Zt],Xn=rn.length,dr=St[Zt]=new Array(Xn),rr,Hn=0;Hn<Xn;++Hn)(rr=rn[Hn]||xn[Hn])&&(dr[Hn]=rr);for(;Zt<Ke;++Zt)St[Zt]=tt[Zt];return new tr(St,this._parents)}function J(){for(var z=this._groups,pe=-1,tt=z.length;++pe<tt;)for(var rt=z[pe],Ke=rt.length-1,dt=rt[Ke],Dt;--Ke>=0;)(Dt=rt[Ke])&&(dt&&Dt.compareDocumentPosition(dt)^4&&dt.parentNode.insertBefore(Dt,dt),dt=Dt);return this}function ke(z){z||(z=xe);function pe(Xn,dr){return Xn&&dr?z(Xn.__data__,dr.__data__):!Xn-!dr}for(var tt=this._groups,rt=tt.length,Ke=new Array(rt),dt=0;dt<rt;++dt){for(var Dt=tt[dt],St=Dt.length,Zt=Ke[dt]=new Array(St),rn,xn=0;xn<St;++xn)(rn=Dt[xn])&&(Zt[xn]=rn);Zt.sort(pe)}return new tr(Ke,this._parents).order()}function xe(z,pe){return z<pe?-1:z>pe?1:z>=pe?0:NaN}function Ze(){var z=arguments[0];return arguments[0]=this,z.apply(null,arguments),this}function Z(){return Array.from(this)}function ie(){for(var z=this._groups,pe=0,tt=z.length;pe<tt;++pe)for(var rt=z[pe],Ke=0,dt=rt.length;Ke<dt;++Ke){var Dt=rt[Ke];if(Dt)return Dt}return null}function Se(){let z=0;for(const pe of this)++z;return z}function Ge(){return!this.node()}function Et(z){for(var pe=this._groups,tt=0,rt=pe.length;tt<rt;++tt)for(var Ke=pe[tt],dt=0,Dt=Ke.length,St;dt<Dt;++dt)(St=Ke[dt])&&z.call(St,St.__data__,dt,Ke);return this}var Wt=h(60021);function Tt(z){return function(){this.removeAttribute(z)}}function X(z){return function(){this.removeAttributeNS(z.space,z.local)}}function he(z,pe){return function(){this.setAttribute(z,pe)}}function ve(z,pe){return function(){this.setAttributeNS(z.space,z.local,pe)}}function be(z,pe){return function(){var tt=pe.apply(this,arguments);tt==null?this.removeAttribute(z):this.setAttribute(z,tt)}}function Pe(z,pe){return function(){var tt=pe.apply(this,arguments);tt==null?this.removeAttributeNS(z.space,z.local):this.setAttributeNS(z.space,z.local,tt)}}function ut(z,pe){var tt=(0,Wt.Z)(z);if(arguments.length<2){var rt=this.node();return tt.local?rt.getAttributeNS(tt.space,tt.local):rt.getAttribute(tt)}return this.each((pe==null?tt.local?X:Tt:typeof pe=="function"?tt.local?Pe:be:tt.local?ve:he)(tt,pe))}var mt=h(77932);function $t(z){return function(){delete this[z]}}function Jt(z,pe){return function(){this[z]=pe}}function Ie(z,pe){return function(){var tt=pe.apply(this,arguments);tt==null?delete this[z]:this[z]=tt}}function Me(z,pe){return arguments.length>1?this.each((pe==null?$t:typeof pe=="function"?Ie:Jt)(z,pe)):this.node()[z]}function We(z){return z.trim().split(/^|\s+/)}function $e(z){return z.classList||new me(z)}function me(z){this._node=z,this._names=We(z.getAttribute("class")||"")}me.prototype={add:function(z){var pe=this._names.indexOf(z);pe<0&&(this._names.push(z),this._node.setAttribute("class",this._names.join(" ")))},remove:function(z){var pe=this._names.indexOf(z);pe>=0&&(this._names.splice(pe,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(z){return this._names.indexOf(z)>=0}};function Ut(z,pe){for(var tt=$e(z),rt=-1,Ke=pe.length;++rt<Ke;)tt.add(pe[rt])}function yn(z,pe){for(var tt=$e(z),rt=-1,Ke=pe.length;++rt<Ke;)tt.remove(pe[rt])}function mn(z){return function(){Ut(this,z)}}function kn(z){return function(){yn(this,z)}}function Tn(z,pe){return function(){(pe.apply(this,arguments)?Ut:yn)(this,z)}}function vn(z,pe){var tt=We(z+"");if(arguments.length<2){for(var rt=$e(this.node()),Ke=-1,dt=tt.length;++Ke<dt;)if(!rt.contains(tt[Ke]))return!1;return!0}return this.each((typeof pe=="function"?Tn:pe?mn:kn)(tt,pe))}function On(){this.textContent=""}function Ln(z){return function(){this.textContent=z}}function An(z){return function(){var pe=z.apply(this,arguments);this.textContent=pe==null?"":pe}}function cn(z){return arguments.length?this.each(z==null?On:(typeof z=="function"?An:Ln)(z)):this.node().textContent}function M(){this.innerHTML=""}function W(z){return function(){this.innerHTML=z}}function ye(z){return function(){var pe=z.apply(this,arguments);this.innerHTML=pe==null?"":pe}}function Ne(z){return arguments.length?this.each(z==null?M:(typeof z=="function"?ye:W)(z)):this.node().innerHTML}function Xe(){this.nextSibling&&this.parentNode.appendChild(this)}function yt(){return this.each(Xe)}function xt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ht(){return this.each(xt)}var ze=h(17110);function Je(z){return function(){var pe=this.ownerDocument,tt=this.namespaceURI;return tt===ze.P&&pe.documentElement.namespaceURI===ze.P?pe.createElement(z):pe.createElementNS(tt,z)}}function zt(z){return function(){return this.ownerDocument.createElementNS(z.space,z.local)}}function un(z){var pe=(0,Wt.Z)(z);return(pe.local?zt:Je)(pe)}function Vt(z){var pe=typeof z=="function"?z:un(z);return this.select(function(){return this.appendChild(pe.apply(this,arguments))})}function tn(){return null}function Qt(z,pe){var tt=typeof z=="function"?z:un(z),rt=pe==null?tn:typeof pe=="function"?pe:(0,i.Z)(pe);return this.select(function(){return this.insertBefore(tt.apply(this,arguments),rt.apply(this,arguments)||null)})}function qt(){var z=this.parentNode;z&&z.removeChild(this)}function wn(){return this.each(qt)}function pn(){var z=this.cloneNode(!1),pe=this.parentNode;return pe?pe.insertBefore(z,this.nextSibling):z}function gn(){var z=this.cloneNode(!0),pe=this.parentNode;return pe?pe.insertBefore(z,this.nextSibling):z}function vt(z){return this.select(z?gn:pn)}function Lt(z){return arguments.length?this.property("__data__",z):this.node().__data__}function Ot(z){return function(pe){z.call(this,pe,this.__data__)}}function st(z){return z.trim().split(/^|\s+/).map(function(pe){var tt="",rt=pe.indexOf(".");return rt>=0&&(tt=pe.slice(rt+1),pe=pe.slice(0,rt)),{type:pe,name:tt}})}function kt(z){return function(){var pe=this.__on;if(pe){for(var tt=0,rt=-1,Ke=pe.length,dt;tt<Ke;++tt)dt=pe[tt],(!z.type||dt.type===z.type)&&dt.name===z.name?this.removeEventListener(dt.type,dt.listener,dt.options):pe[++rt]=dt;++rt?pe.length=rt:delete this.__on}}}function Kt(z,pe,tt){return function(){var rt=this.__on,Ke,dt=Ot(pe);if(rt){for(var Dt=0,St=rt.length;Dt<St;++Dt)if((Ke=rt[Dt]).type===z.type&&Ke.name===z.name){this.removeEventListener(Ke.type,Ke.listener,Ke.options),this.addEventListener(Ke.type,Ke.listener=dt,Ke.options=tt),Ke.value=pe;return}}this.addEventListener(z.type,dt,tt),Ke={type:z.type,name:z.name,value:pe,listener:dt,options:tt},rt?rt.push(Ke):this.__on=[Ke]}}function vr(z,pe,tt){var rt=st(z+""),Ke,dt=rt.length,Dt;if(arguments.length<2){var St=this.node().__on;if(St){for(var Zt=0,rn=St.length,xn;Zt<rn;++Zt)for(Ke=0,xn=St[Zt];Ke<dt;++Ke)if((Dt=rt[Ke]).type===xn.type&&Dt.name===xn.name)return xn.value}return}for(St=pe?Kt:kt,Ke=0;Ke<dt;++Ke)this.each(St(rt[Ke],pe,tt));return this}var Pn=h(4010);function jr(z,pe,tt){var rt=(0,Pn.Z)(z),Ke=rt.CustomEvent;typeof Ke=="function"?Ke=new Ke(pe,tt):(Ke=rt.document.createEvent("Event"),tt?(Ke.initEvent(pe,tt.bubbles,tt.cancelable),Ke.detail=tt.detail):Ke.initEvent(pe,!1,!1)),z.dispatchEvent(Ke)}function Dr(z,pe){return function(){return jr(this,z,pe)}}function qn(z,pe){return function(){return jr(this,z,pe.apply(this,arguments))}}function er(z,pe){return this.each((typeof pe=="function"?qn:Dr)(z,pe))}function*Vo(){for(var z=this._groups,pe=0,tt=z.length;pe<tt;++pe)for(var rt=z[pe],Ke=0,dt=rt.length,Dt;Ke<dt;++Ke)(Dt=rt[Ke])&&(yield Dt)}var Io=[null];function tr(z,pe){this._groups=z,this._parents=pe}function nr(){return new tr([[document.documentElement]],Io)}function Pr(){return this}tr.prototype=nr.prototype={constructor:tr,select:O,selectAll:b,selectChild:U,selectChildren:de,filter:Ve,data:ae,enter:ue,exit:Ee,join:Le,merge:R,selection:Pr,order:J,sort:ke,call:Ze,nodes:Z,node:ie,size:Se,empty:Ge,each:Et,attr:ut,style:mt.Z,property:Me,classed:vn,text:cn,html:Ne,raise:yt,lower:ht,append:Vt,insert:Qt,remove:wn,clone:vt,datum:Lt,on:vr,dispatch:er,[Symbol.iterator]:Vo};var Zr=nr},77932:function(B,j,h){"use strict";h.d(j,{S:function(){return b},Z:function(){return x}});var i=h(4010);function O(u){return function(){this.style.removeProperty(u)}}function _(u,y,C){return function(){this.style.setProperty(u,y,C)}}function T(u,y,C){return function(){var I=y.apply(this,arguments);I==null?this.style.removeProperty(u):this.style.setProperty(u,I,C)}}function x(u,y,C){return arguments.length>1?this.each((y==null?O:typeof y=="function"?T:_)(u,y,C==null?"":C)):b(this.node(),u)}function b(u,y){return u.style.getPropertyValue(y)||(0,i.Z)(u).getComputedStyle(u,null).getPropertyValue(y)}},66456:function(B,j,h){"use strict";h.d(j,{Z:function(){return O}});function i(){}function O(_){return _==null?i:function(){return this.querySelector(_)}}},16851:function(B,j,h){"use strict";h.d(j,{Z:function(){return O}});function i(){return[]}function O(_){return _==null?i:function(){return this.querySelectorAll(_)}}},4010:function(B,j,h){"use strict";h.d(j,{Z:function(){return i}});function i(O){return O.ownerDocument&&O.ownerDocument.defaultView||O.document&&O||O.defaultView}},65278:function(B,j,h){"use strict";h.d(j,{sP:function(){return Wi},CR:function(){return Ro}});var i=h(70481),O=h(49289),_=1e-12;function T(a){return((a=Math.exp(a))+1/a)/2}function x(a){return((a=Math.exp(a))-1/a)/2}function b(a){return((a=Math.exp(2*a))-1)/(a+1)}var u=function a(g,k,V){function fe(Ce,le){var Be=Ce[0],Ye=Ce[1],Qe=Ce[2],qe=le[0],Bt=le[1],Ft=le[2],en=qe-Be,ir=Bt-Ye,Bn=en*en+ir*ir,ur,nn;if(Bn<_)nn=Math.log(Ft/Qe)/g,ur=function(ar){return[Be+ar*en,Ye+ar*ir,Qe*Math.exp(g*ar*nn)]};else{var Lr=Math.sqrt(Bn),pr=(Ft*Ft-Qe*Qe+V*Bn)/(2*Qe*k*Lr),Ar=(Ft*Ft-Qe*Qe-V*Bn)/(2*Ft*k*Lr),Br=Math.log(Math.sqrt(pr*pr+1)-pr),gr=Math.log(Math.sqrt(Ar*Ar+1)-Ar);nn=(gr-Br)/g,ur=function(ar){var Er=ar*nn,Ko=T(Br),Go=Qe/(k*Lr)*(Ko*b(g*Er+Br)-x(Br));return[Be+Go*en,Ye+Go*ir,Qe*Ko/T(g*Er+Br)]}}return ur.duration=nn*1e3*g/Math.SQRT2,ur}return fe.rho=function(Ce){var le=Math.max(.001,+Ce),Be=le*le,Ye=Be*Be;return a(le,Be,Ye)},fe}(Math.SQRT2,2,4),y=h(41468),C=h(13802),I=h(1776),U=0,D=0,Y=0,G=1e3,de,Ve,ce=0,ue=0,K=0,ne=typeof performance=="object"&&performance.now?performance:Date,re=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};function $(){return ue||(re(Q),ue=ne.now()+K)}function Q(){ue=0}function ae(){this._call=this._time=this._next=null}ae.prototype=oe.prototype={constructor:ae,restart:function(a,g,k){if(typeof a!="function")throw new TypeError("callback is not a function");k=(k==null?$():+k)+(g==null?0:+g),!this._next&&Ve!==this&&(Ve?Ve._next=this:de=this,Ve=this),this._call=a,this._time=k,ke()},stop:function(){this._call&&(this._call=null,this._time=1/0,ke())}};function oe(a,g,k){var V=new ae;return V.restart(a,g,k),V}function Ee(){$(),++U;for(var a=de,g;a;)(g=ue-a._time)>=0&&a._call.call(void 0,g),a=a._next;--U}function Le(){ue=(ce=ne.now())+K,U=D=0;try{Ee()}finally{U=0,J(),ue=0}}function R(){var a=ne.now(),g=a-ce;g>G&&(K-=g,ce=a)}function J(){for(var a,g=de,k,V=1/0;g;)g._call?(V>g._time&&(V=g._time),a=g,g=g._next):(k=g._next,g._next=null,g=a?a._next=k:de=k);Ve=a,ke(V)}function ke(a){if(!U){D&&(D=clearTimeout(D));var g=a-ue;g>24?(a<1/0&&(D=setTimeout(Le,a-ne.now()-K)),Y&&(Y=clearInterval(Y))):(Y||(ce=ne.now(),Y=setInterval(R,G)),U=1,re(Le))}}function xe(a,g,k){var V=new ae;return g=g==null?0:+g,V.restart(fe=>{V.stop(),a(fe+g)},g,k),V}var Ze=(0,i.Z)("start","end","cancel","interrupt"),Z=[],ie=0,Se=1,Ge=2,Et=3,Wt=4,Tt=5,X=6;function he(a,g,k,V,fe,Ce){var le=a.__transition;if(!le)a.__transition={};else if(k in le)return;ut(a,k,{name:g,index:V,group:fe,on:Ze,tween:Z,time:Ce.time,delay:Ce.delay,duration:Ce.duration,ease:Ce.ease,timer:null,state:ie})}function ve(a,g){var k=Pe(a,g);if(k.state>ie)throw new Error("too late; already scheduled");return k}function be(a,g){var k=Pe(a,g);if(k.state>Et)throw new Error("too late; already running");return k}function Pe(a,g){var k=a.__transition;if(!k||!(k=k[g]))throw new Error("transition not found");return k}function ut(a,g,k){var V=a.__transition,fe;V[g]=k,k.timer=oe(Ce,0,k.time);function Ce(Qe){k.state=Se,k.timer.restart(le,k.delay,k.time),k.delay<=Qe&&le(Qe-k.delay)}function le(Qe){var qe,Bt,Ft,en;if(k.state!==Se)return Ye();for(qe in V)if(en=V[qe],en.name===k.name){if(en.state===Et)return xe(le);en.state===Wt?(en.state=X,en.timer.stop(),en.on.call("interrupt",a,a.__data__,en.index,en.group),delete V[qe]):+qe<g&&(en.state=X,en.timer.stop(),en.on.call("cancel",a,a.__data__,en.index,en.group),delete V[qe])}if(xe(function(){k.state===Et&&(k.state=Wt,k.timer.restart(Be,k.delay,k.time),Be(Qe))}),k.state=Ge,k.on.call("start",a,a.__data__,k.index,k.group),k.state===Ge){for(k.state=Et,fe=new Array(Ft=k.tween.length),qe=0,Bt=-1;qe<Ft;++qe)(en=k.tween[qe].value.call(a,a.__data__,k.index,k.group))&&(fe[++Bt]=en);fe.length=Bt+1}}function Be(Qe){for(var qe=Qe<k.duration?k.ease.call(null,Qe/k.duration):(k.timer.restart(Ye),k.state=Tt,1),Bt=-1,Ft=fe.length;++Bt<Ft;)fe[Bt].call(a,qe);k.state===Tt&&(k.on.call("end",a,a.__data__,k.index,k.group),Ye())}function Ye(){k.state=X,k.timer.stop(),delete V[g];for(var Qe in V)return;delete a.__transition}}function mt(a,g){var k=a.__transition,V,fe,Ce=!0,le;if(k){g=g==null?null:g+"";for(le in k){if((V=k[le]).name!==g){Ce=!1;continue}fe=V.state>Ge&&V.state<Tt,V.state=X,V.timer.stop(),V.on.call(fe?"interrupt":"cancel",a,a.__data__,V.index,V.group),delete k[le]}Ce&&delete a.__transition}}function $t(a){return this.each(function(){mt(this,a)})}function Jt(a,g){return a=+a,g=+g,function(k){return a*(1-k)+g*k}}var Ie=180/Math.PI,Me={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function We(a,g,k,V,fe,Ce){var le,Be,Ye;return(le=Math.sqrt(a*a+g*g))&&(a/=le,g/=le),(Ye=a*k+g*V)&&(k-=a*Ye,V-=g*Ye),(Be=Math.sqrt(k*k+V*V))&&(k/=Be,V/=Be,Ye/=Be),a*V<g*k&&(a=-a,g=-g,Ye=-Ye,le=-le),{translateX:fe,translateY:Ce,rotate:Math.atan2(g,a)*Ie,skewX:Math.atan(Ye)*Ie,scaleX:le,scaleY:Be}}var $e;function me(a){var g=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(a+"");return g.isIdentity?Me:We(g.a,g.b,g.c,g.d,g.e,g.f)}function Ut(a){return a==null||($e||($e=document.createElementNS("http://www.w3.org/2000/svg","g")),$e.setAttribute("transform",a),!(a=$e.transform.baseVal.consolidate()))?Me:(a=a.matrix,We(a.a,a.b,a.c,a.d,a.e,a.f))}function yn(a,g,k,V){function fe(Qe){return Qe.length?Qe.pop()+" ":""}function Ce(Qe,qe,Bt,Ft,en,ir){if(Qe!==Bt||qe!==Ft){var Bn=en.push("translate(",null,g,null,k);ir.push({i:Bn-4,x:Jt(Qe,Bt)},{i:Bn-2,x:Jt(qe,Ft)})}else(Bt||Ft)&&en.push("translate("+Bt+g+Ft+k)}function le(Qe,qe,Bt,Ft){Qe!==qe?(Qe-qe>180?qe+=360:qe-Qe>180&&(Qe+=360),Ft.push({i:Bt.push(fe(Bt)+"rotate(",null,V)-2,x:Jt(Qe,qe)})):qe&&Bt.push(fe(Bt)+"rotate("+qe+V)}function Be(Qe,qe,Bt,Ft){Qe!==qe?Ft.push({i:Bt.push(fe(Bt)+"skewX(",null,V)-2,x:Jt(Qe,qe)}):qe&&Bt.push(fe(Bt)+"skewX("+qe+V)}function Ye(Qe,qe,Bt,Ft,en,ir){if(Qe!==Bt||qe!==Ft){var Bn=en.push(fe(en)+"scale(",null,",",null,")");ir.push({i:Bn-4,x:Jt(Qe,Bt)},{i:Bn-2,x:Jt(qe,Ft)})}else(Bt!==1||Ft!==1)&&en.push(fe(en)+"scale("+Bt+","+Ft+")")}return function(Qe,qe){var Bt=[],Ft=[];return Qe=a(Qe),qe=a(qe),Ce(Qe.translateX,Qe.translateY,qe.translateX,qe.translateY,Bt,Ft),le(Qe.rotate,qe.rotate,Bt,Ft),Be(Qe.skewX,qe.skewX,Bt,Ft),Ye(Qe.scaleX,Qe.scaleY,qe.scaleX,qe.scaleY,Bt,Ft),Qe=qe=null,function(en){for(var ir=-1,Bn=Ft.length,ur;++ir<Bn;)Bt[(ur=Ft[ir]).i]=ur.x(en);return Bt.join("")}}}var mn=yn(me,"px, ","px)","deg)"),kn=yn(Ut,", ",")",")"),Tn=h(60021);function vn(a,g){var k,V;return function(){var fe=be(this,a),Ce=fe.tween;if(Ce!==k){V=k=Ce;for(var le=0,Be=V.length;le<Be;++le)if(V[le].name===g){V=V.slice(),V.splice(le,1);break}}fe.tween=V}}function On(a,g,k){var V,fe;if(typeof k!="function")throw new Error;return function(){var Ce=be(this,a),le=Ce.tween;if(le!==V){fe=(V=le).slice();for(var Be={name:g,value:k},Ye=0,Qe=fe.length;Ye<Qe;++Ye)if(fe[Ye].name===g){fe[Ye]=Be;break}Ye===Qe&&fe.push(Be)}Ce.tween=fe}}function Ln(a,g){var k=this._id;if(a+="",arguments.length<2){for(var V=Pe(this.node(),k).tween,fe=0,Ce=V.length,le;fe<Ce;++fe)if((le=V[fe]).name===a)return le.value;return null}return this.each((g==null?vn:On)(k,a,g))}function An(a,g,k){var V=a._id;return a.each(function(){var fe=be(this,V);(fe.value||(fe.value={}))[g]=k.apply(this,arguments)}),function(fe){return Pe(fe,V).value[g]}}function cn(a,g,k){a.prototype=g.prototype=k,k.constructor=a}function M(a,g){var k=Object.create(a.prototype);for(var V in g)k[V]=g[V];return k}function W(){}var ye=.7,Ne=1/ye,Xe="\\s*([+-]?\\d+)\\s*",yt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ht=/^#([0-9a-f]{3,8})$/,ze=new RegExp("^rgb\\(".concat(Xe,",").concat(Xe,",").concat(Xe,"\\)$")),Je=new RegExp("^rgb\\(".concat(xt,",").concat(xt,",").concat(xt,"\\)$")),zt=new RegExp("^rgba\\(".concat(Xe,",").concat(Xe,",").concat(Xe,",").concat(yt,"\\)$")),un=new RegExp("^rgba\\(".concat(xt,",").concat(xt,",").concat(xt,",").concat(yt,"\\)$")),Vt=new RegExp("^hsl\\(".concat(yt,",").concat(xt,",").concat(xt,"\\)$")),tn=new RegExp("^hsla\\(".concat(yt,",").concat(xt,",").concat(xt,",").concat(yt,"\\)$")),Qt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cn(W,vt,{copy:function(g){return Object.assign(new this.constructor,this,g)},displayable:function(){return this.rgb().displayable()},hex:qt,formatHex:qt,formatHex8:wn,formatHsl:pn,formatRgb:gn,toString:gn});function qt(){return this.rgb().formatHex()}function wn(){return this.rgb().formatHex8()}function pn(){return Io(this).formatHsl()}function gn(){return this.rgb().formatRgb()}function vt(a){var g,k;return a=(a+"").trim().toLowerCase(),(g=ht.exec(a))?(k=g[1].length,g=parseInt(g[1],16),k===6?Lt(g):k===3?new Kt(g>>8&15|g>>4&240,g>>4&15|g&240,(g&15)<<4|g&15,1):k===8?Ot(g>>24&255,g>>16&255,g>>8&255,(g&255)/255):k===4?Ot(g>>12&15|g>>8&240,g>>8&15|g>>4&240,g>>4&15|g&240,((g&15)<<4|g&15)/255):null):(g=ze.exec(a))?new Kt(g[1],g[2],g[3],1):(g=Je.exec(a))?new Kt(g[1]*255/100,g[2]*255/100,g[3]*255/100,1):(g=zt.exec(a))?Ot(g[1],g[2],g[3],g[4]):(g=un.exec(a))?Ot(g[1]*255/100,g[2]*255/100,g[3]*255/100,g[4]):(g=Vt.exec(a))?Vo(g[1],g[2]/100,g[3]/100,1):(g=tn.exec(a))?Vo(g[1],g[2]/100,g[3]/100,g[4]):Qt.hasOwnProperty(a)?Lt(Qt[a]):a==="transparent"?new Kt(NaN,NaN,NaN,0):null}function Lt(a){return new Kt(a>>16&255,a>>8&255,a&255,1)}function Ot(a,g,k,V){return V<=0&&(a=g=k=NaN),new Kt(a,g,k,V)}function st(a){return a instanceof W||(a=vt(a)),a?(a=a.rgb(),new Kt(a.r,a.g,a.b,a.opacity)):new Kt}function kt(a,g,k,V){return arguments.length===1?st(a):new Kt(a,g,k,V==null?1:V)}function Kt(a,g,k,V){this.r=+a,this.g=+g,this.b=+k,this.opacity=+V}cn(Kt,kt,M(W,{brighter:function(g){return g=g==null?Ne:Math.pow(Ne,g),new Kt(this.r*g,this.g*g,this.b*g,this.opacity)},darker:function(g){return g=g==null?ye:Math.pow(ye,g),new Kt(this.r*g,this.g*g,this.b*g,this.opacity)},rgb:function(){return this},clamp:function(){return new Kt(qn(this.r),qn(this.g),qn(this.b),Dr(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vr,formatHex:vr,formatHex8:Pn,formatRgb:jr,toString:jr}));function vr(){return"#".concat(er(this.r)).concat(er(this.g)).concat(er(this.b))}function Pn(){return"#".concat(er(this.r)).concat(er(this.g)).concat(er(this.b)).concat(er((isNaN(this.opacity)?1:this.opacity)*255))}function jr(){var a=Dr(this.opacity);return"".concat(a===1?"rgb(":"rgba(").concat(qn(this.r),", ").concat(qn(this.g),", ").concat(qn(this.b)).concat(a===1?")":", ".concat(a,")"))}function Dr(a){return isNaN(a)?1:Math.max(0,Math.min(1,a))}function qn(a){return Math.max(0,Math.min(255,Math.round(a)||0))}function er(a){return a=qn(a),(a<16?"0":"")+a.toString(16)}function Vo(a,g,k,V){return V<=0?a=g=k=NaN:k<=0||k>=1?a=g=NaN:g<=0&&(a=NaN),new nr(a,g,k,V)}function Io(a){if(a instanceof nr)return new nr(a.h,a.s,a.l,a.opacity);if(a instanceof W||(a=vt(a)),!a)return new nr;if(a instanceof nr)return a;a=a.rgb();var g=a.r/255,k=a.g/255,V=a.b/255,fe=Math.min(g,k,V),Ce=Math.max(g,k,V),le=NaN,Be=Ce-fe,Ye=(Ce+fe)/2;return Be?(g===Ce?le=(k-V)/Be+(k<V)*6:k===Ce?le=(V-g)/Be+2:le=(g-k)/Be+4,Be/=Ye<.5?Ce+fe:2-Ce-fe,le*=60):Be=Ye>0&&Ye<1?0:le,new nr(le,Be,Ye,a.opacity)}function tr(a,g,k,V){return arguments.length===1?Io(a):new nr(a,g,k,V==null?1:V)}function nr(a,g,k,V){this.h=+a,this.s=+g,this.l=+k,this.opacity=+V}cn(nr,tr,M(W,{brighter:function(g){return g=g==null?Ne:Math.pow(Ne,g),new nr(this.h,this.s,this.l*g,this.opacity)},darker:function(g){return g=g==null?ye:Math.pow(ye,g),new nr(this.h,this.s,this.l*g,this.opacity)},rgb:function(){var g=this.h%360+(this.h<0)*360,k=isNaN(g)||isNaN(this.s)?0:this.s,V=this.l,fe=V+(V<.5?V:1-V)*k,Ce=2*V-fe;return new Kt(z(g>=240?g-240:g+120,Ce,fe),z(g,Ce,fe),z(g<120?g+240:g-120,Ce,fe),this.opacity)},clamp:function(){return new nr(Pr(this.h),Zr(this.s),Zr(this.l),Dr(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var g=Dr(this.opacity);return"".concat(g===1?"hsl(":"hsla(").concat(Pr(this.h),", ").concat(Zr(this.s)*100,"%, ").concat(Zr(this.l)*100,"%").concat(g===1?")":", ".concat(g,")"))}}));function Pr(a){return a=(a||0)%360,a<0?a+360:a}function Zr(a){return Math.max(0,Math.min(1,a||0))}function z(a,g,k){return(a<60?g+(k-g)*a/60:a<180?k:a<240?g+(k-g)*(240-a)/60:g)*255}function pe(a,g,k,V,fe){var Ce=a*a,le=Ce*a;return((1-3*a+3*Ce-le)*g+(4-6*Ce+3*le)*k+(1+3*a+3*Ce-3*le)*V+le*fe)/6}function tt(a){var g=a.length-1;return function(k){var V=k<=0?k=0:k>=1?(k=1,g-1):Math.floor(k*g),fe=a[V],Ce=a[V+1],le=V>0?a[V-1]:2*fe-Ce,Be=V<g-1?a[V+2]:2*Ce-fe;return pe((k-V/g)*g,le,fe,Ce,Be)}}function rt(a){var g=a.length;return function(k){var V=Math.floor(((k%=1)<0?++k:k)*g),fe=a[(V+g-1)%g],Ce=a[V%g],le=a[(V+1)%g],Be=a[(V+2)%g];return pe((k-V/g)*g,fe,Ce,le,Be)}}var Ke=function(a){return function(){return a}};function dt(a,g){return function(k){return a+k*g}}function Dt(a,g,k){return a=Math.pow(a,k),g=Math.pow(g,k)-a,k=1/k,function(V){return Math.pow(a+V*g,k)}}function St(a,g){var k=g-a;return k?dt(a,k>180||k<-180?k-360*Math.round(k/360):k):constant(isNaN(a)?g:a)}function Zt(a){return(a=+a)==1?rn:function(g,k){return k-g?Dt(g,k,a):Ke(isNaN(g)?k:g)}}function rn(a,g){var k=g-a;return k?dt(a,k):Ke(isNaN(a)?g:a)}var xn=function a(g){var k=Zt(g);function V(fe,Ce){var le=k((fe=kt(fe)).r,(Ce=kt(Ce)).r),Be=k(fe.g,Ce.g),Ye=k(fe.b,Ce.b),Qe=rn(fe.opacity,Ce.opacity);return function(qe){return fe.r=le(qe),fe.g=Be(qe),fe.b=Ye(qe),fe.opacity=Qe(qe),fe+""}}return V.gamma=a,V}(1);function Xn(a){return function(g){var k=g.length,V=new Array(k),fe=new Array(k),Ce=new Array(k),le,Be;for(le=0;le<k;++le)Be=kt(g[le]),V[le]=Be.r||0,fe[le]=Be.g||0,Ce[le]=Be.b||0;return V=a(V),fe=a(fe),Ce=a(Ce),Be.opacity=1,function(Ye){return Be.r=V(Ye),Be.g=fe(Ye),Be.b=Ce(Ye),Be+""}}}var dr=Xn(tt),rr=Xn(rt),Hn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,go=new RegExp(Hn.source,"g");function Yr(a){return function(){return a}}function oi(a){return function(g){return a(g)+""}}function Ir(a,g){var k=Hn.lastIndex=go.lastIndex=0,V,fe,Ce,le=-1,Be=[],Ye=[];for(a=a+"",g=g+"";(V=Hn.exec(a))&&(fe=go.exec(g));)(Ce=fe.index)>k&&(Ce=g.slice(k,Ce),Be[le]?Be[le]+=Ce:Be[++le]=Ce),(V=V[0])===(fe=fe[0])?Be[le]?Be[le]+=fe:Be[++le]=fe:(Be[++le]=null,Ye.push({i:le,x:Jt(V,fe)})),k=go.lastIndex;return k<g.length&&(Ce=g.slice(k),Be[le]?Be[le]+=Ce:Be[++le]=Ce),Be.length<2?Ye[0]?oi(Ye[0].x):Yr(g):(g=Ye.length,function(Qe){for(var qe=0,Bt;qe<g;++qe)Be[(Bt=Ye[qe]).i]=Bt.x(Qe);return Be.join("")})}function Jr(a,g){var k;return(typeof g=="number"?Jt:g instanceof vt?xn:(k=vt(g))?(g=k,xn):Ir)(a,g)}function Fo(a){return function(){this.removeAttribute(a)}}function To(a){return function(){this.removeAttributeNS(a.space,a.local)}}function Qr(a,g,k){var V,fe=k+"",Ce;return function(){var le=this.getAttribute(a);return le===fe?null:le===V?Ce:Ce=g(V=le,k)}}function dn(a,g,k){var V,fe=k+"",Ce;return function(){var le=this.getAttributeNS(a.space,a.local);return le===fe?null:le===V?Ce:Ce=g(V=le,k)}}function Oi(a,g,k){var V,fe,Ce;return function(){var le,Be=k(this),Ye;return Be==null?void this.removeAttribute(a):(le=this.getAttribute(a),Ye=Be+"",le===Ye?null:le===V&&Ye===fe?Ce:(fe=Ye,Ce=g(V=le,Be)))}}function Ao(a,g,k){var V,fe,Ce;return function(){var le,Be=k(this),Ye;return Be==null?void this.removeAttributeNS(a.space,a.local):(le=this.getAttributeNS(a.space,a.local),Ye=Be+"",le===Ye?null:le===V&&Ye===fe?Ce:(fe=Ye,Ce=g(V=le,Be)))}}function ns(a,g){var k=(0,Tn.Z)(a),V=k==="transform"?kn:Jr;return this.attrTween(a,typeof g=="function"?(k.local?Ao:Oi)(k,V,An(this,"attr."+a,g)):g==null?(k.local?To:Fo)(k):(k.local?dn:Qr)(k,V,g))}function ii(a,g){return function(k){this.setAttribute(a,g.call(this,k))}}function qr(a,g){return function(k){this.setAttributeNS(a.space,a.local,g.call(this,k))}}function rs(a,g){var k,V;function fe(){var Ce=g.apply(this,arguments);return Ce!==V&&(k=(V=Ce)&&qr(a,Ce)),k}return fe._value=g,fe}function Mi(a,g){var k,V;function fe(){var Ce=g.apply(this,arguments);return Ce!==V&&(k=(V=Ce)&&ii(a,Ce)),k}return fe._value=g,fe}function Ni(a,g){var k="attr."+a;if(arguments.length<2)return(k=this.tween(k))&&k._value;if(g==null)return this.tween(k,null);if(typeof g!="function")throw new Error;var V=(0,Tn.Z)(a);return this.tween(k,(V.local?rs:Mi)(V,g))}function Oo(a,g){return function(){ve(this,a).delay=+g.apply(this,arguments)}}function mo(a,g){return g=+g,function(){ve(this,a).delay=g}}function si(a){var g=this._id;return arguments.length?this.each((typeof a=="function"?Oo:mo)(g,a)):Pe(this.node(),g).delay}function Di(a,g){return function(){be(this,a).duration=+g.apply(this,arguments)}}function Pi(a,g){return g=+g,function(){be(this,a).duration=g}}function fr(a){var g=this._id;return arguments.length?this.each((typeof a=="function"?Di:Pi)(g,a)):Pe(this.node(),g).duration}function eo(a,g){if(typeof g!="function")throw new Error;return function(){be(this,a).ease=g}}function Ri(a){var g=this._id;return arguments.length?this.each(eo(g,a)):Pe(this.node(),g).ease}function ai(a,g){return function(){var k=g.apply(this,arguments);if(typeof k!="function")throw new Error;be(this,a).ease=k}}function Li(a){if(typeof a!="function")throw new Error;return this.each(ai(this._id,a))}var Yn=h(73409);function to(a){typeof a!="function"&&(a=(0,Yn.Z)(a));for(var g=this._groups,k=g.length,V=new Array(k),fe=0;fe<k;++fe)for(var Ce=g[fe],le=Ce.length,Be=V[fe]=[],Ye,Qe=0;Qe<le;++Qe)(Ye=Ce[Qe])&&a.call(Ye,Ye.__data__,Qe,Ce)&&Be.push(Ye);return new xr(V,this._parents,this._name,this._id)}function Mn(a){if(a._id!==this._id)throw new Error;for(var g=this._groups,k=a._groups,V=g.length,fe=k.length,Ce=Math.min(V,fe),le=new Array(V),Be=0;Be<Ce;++Be)for(var Ye=g[Be],Qe=k[Be],qe=Ye.length,Bt=le[Be]=new Array(qe),Ft,en=0;en<qe;++en)(Ft=Ye[en]||Qe[en])&&(Bt[en]=Ft);for(;Be<V;++Be)le[Be]=g[Be];return new xr(le,this._parents,this._name,this._id)}function yo(a){return(a+"").trim().split(/^|\s+/).every(function(g){var k=g.indexOf(".");return k>=0&&(g=g.slice(0,k)),!g||g==="start"})}function jo(a,g,k){var V,fe,Ce=yo(g)?ve:be;return function(){var le=Ce(this,a),Be=le.on;Be!==V&&(fe=(V=Be).copy()).on(g,k),le.on=fe}}function Mo(a,g){var k=this._id;return arguments.length<2?Pe(this.node(),k).on.on(a):this.each(jo(k,a,g))}function os(a){return function(){var g=this.parentNode;for(var k in this.__transition)if(+k!==a)return;g&&g.removeChild(this)}}function is(){return this.on("end.remove",os(this._id))}var Bi=h(66456);function ci(a){var g=this._name,k=this._id;typeof a!="function"&&(a=(0,Bi.Z)(a));for(var V=this._groups,fe=V.length,Ce=new Array(fe),le=0;le<fe;++le)for(var Be=V[le],Ye=Be.length,Qe=Ce[le]=new Array(Ye),qe,Bt,Ft=0;Ft<Ye;++Ft)(qe=Be[Ft])&&(Bt=a.call(qe,qe.__data__,Ft,Be))&&("__data__"in qe&&(Bt.__data__=qe.__data__),Qe[Ft]=Bt,he(Qe[Ft],g,k,Ft,Qe,Pe(qe,k)));return new xr(Ce,this._parents,g,k)}var li=h(16851);function bn(a){var g=this._name,k=this._id;typeof a!="function"&&(a=(0,li.Z)(a));for(var V=this._groups,fe=V.length,Ce=[],le=[],Be=0;Be<fe;++Be)for(var Ye=V[Be],Qe=Ye.length,qe,Bt=0;Bt<Qe;++Bt)if(qe=Ye[Bt]){for(var Ft=a.call(qe,qe.__data__,Bt,Ye),en,ir=Pe(qe,k),Bn=0,ur=Ft.length;Bn<ur;++Bn)(en=Ft[Bn])&&he(en,g,k,Bn,Ft,ir);Ce.push(Ft),le.push(qe)}return new xr(Ce,le,g,k)}var br=I.ZP.prototype.constructor;function No(){return new br(this._groups,this._parents)}var no=h(77932);function ui(a,g){var k,V,fe;return function(){var Ce=(0,no.S)(this,a),le=(this.style.removeProperty(a),(0,no.S)(this,a));return Ce===le?null:Ce===k&&le===V?fe:fe=g(k=Ce,V=le)}}function Zo(a){return function(){this.style.removeProperty(a)}}function ro(a,g,k){var V,fe=k+"",Ce;return function(){var le=(0,no.S)(this,a);return le===fe?null:le===V?Ce:Ce=g(V=le,k)}}function Ui(a,g,k){var V,fe,Ce;return function(){var le=(0,no.S)(this,a),Be=k(this),Ye=Be+"";return Be==null&&(Ye=Be=(this.style.removeProperty(a),(0,no.S)(this,a))),le===Ye?null:le===V&&Ye===fe?Ce:(fe=Ye,Ce=g(V=le,Be))}}function Ho(a,g){var k,V,fe,Ce="style."+g,le="end."+Ce,Be;return function(){var Ye=be(this,a),Qe=Ye.on,qe=Ye.value[Ce]==null?Be||(Be=Zo(g)):void 0;(Qe!==k||fe!==qe)&&(V=(k=Qe).copy()).on(le,fe=qe),Ye.on=V}}function zi(a,g,k){var V=(a+="")=="transform"?mn:Jr;return g==null?this.styleTween(a,ui(a,V)).on("end.style."+a,Zo(a)):typeof g=="function"?this.styleTween(a,Ui(a,V,An(this,"style."+a,g))).each(Ho(this._id,a)):this.styleTween(a,ro(a,V,g),k).on("end.style."+a,null)}function Hr(a,g,k){return function(V){this.style.setProperty(a,g.call(this,V),k)}}function or(a,g,k){var V,fe;function Ce(){var le=g.apply(this,arguments);return le!==fe&&(V=(fe=le)&&Hr(a,le,k)),V}return Ce._value=g,Ce}function hr(a,g,k){var V="style."+(a+="");if(arguments.length<2)return(V=this.tween(V))&&V._value;if(g==null)return this.tween(V,null);if(typeof g!="function")throw new Error;return this.tween(V,or(a,g,k==null?"":k))}function oo(a){return function(){this.textContent=a}}function Do(a){return function(){var g=a(this);this.textContent=g==null?"":g}}function Vi(a){return this.tween("text",typeof a=="function"?Do(An(this,"text",a)):oo(a==null?"":a+""))}function Fi(a){return function(g){this.textContent=a.call(this,g)}}function $o(a){var g,k;function V(){var fe=a.apply(this,arguments);return fe!==k&&(g=(k=fe)&&Fi(fe)),g}return V._value=a,V}function di(a){var g="text";if(arguments.length<1)return(g=this.tween(g))&&g._value;if(a==null)return this.tween(g,null);if(typeof a!="function")throw new Error;return this.tween(g,$o(a))}function wo(){for(var a=this._name,g=this._id,k=Tr(),V=this._groups,fe=V.length,Ce=0;Ce<fe;++Ce)for(var le=V[Ce],Be=le.length,Ye,Qe=0;Qe<Be;++Qe)if(Ye=le[Qe]){var qe=Pe(Ye,g);he(Ye,a,k,Qe,le,{time:qe.time+qe.delay+qe.duration,delay:0,duration:qe.duration,ease:qe.ease})}return new xr(V,this._parents,a,k)}function fi(){var a,g,k=this,V=k._id,fe=k.size();return new Promise(function(Ce,le){var Be={value:le},Ye={value:function(){--fe===0&&Ce()}};k.each(function(){var Qe=be(this,V),qe=Qe.on;qe!==a&&(g=(a=qe).copy(),g._.cancel.push(Be),g._.interrupt.push(Be),g._.end.push(Ye)),Qe.on=g}),fe===0&&Ce()})}var ji=0;function xr(a,g,k,V){this._groups=a,this._parents=g,this._name=k,this._id=V}function vo(a){return(0,I.ZP)().transition(a)}function Tr(){return++ji}var _r=I.ZP.prototype;xr.prototype=vo.prototype={constructor:xr,select:ci,selectAll:bn,selectChild:_r.selectChild,selectChildren:_r.selectChildren,filter:to,merge:Mn,selection:No,transition:wo,call:_r.call,nodes:_r.nodes,node:_r.node,size:_r.size,empty:_r.empty,each:_r.each,on:Mo,attr:ns,attrTween:Ni,style:zi,styleTween:hr,text:Vi,textTween:di,remove:is,tween:Ln,delay:si,duration:fr,ease:Ri,easeVarying:Li,end:fi,[Symbol.iterator]:_r[Symbol.iterator]};function hi(a){return a*a*a}function Po(a){return--a*a*a+1}function pi(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}var Zi={time:null,delay:0,duration:250,ease:pi};function io(a,g){for(var k;!(k=a.__transition)||!(k=k[g]);)if(!(a=a.parentNode))throw new Error(`transition ${g} not found`);return k}function bo(a){var g,k;a instanceof xr?(g=a._id,a=a._name):(g=Tr(),(k=Zi).time=$(),a=a==null?null:a+"");for(var V=this._groups,fe=V.length,Ce=0;Ce<fe;++Ce)for(var le=V[Ce],Be=le.length,Ye,Qe=0;Qe<Be;++Qe)(Ye=le[Qe])&&he(Ye,a,g,Qe,le,k||io(Ye,g));return new xr(V,this._parents,a,g)}I.ZP.prototype.interrupt=$t,I.ZP.prototype.transition=bo;var xo=a=>()=>a;function ss(a,{sourceEvent:g,target:k,transform:V,dispatch:fe}){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:g,enumerable:!0,configurable:!0},target:{value:k,enumerable:!0,configurable:!0},transform:{value:V,enumerable:!0,configurable:!0},_:{value:fe}})}function Rr(a,g,k){this.k=a,this.x=g,this.y=k}Rr.prototype={constructor:Rr,scale:function(a){return a===1?this:new Rr(this.k*a,this.x,this.y)},translate:function(a,g){return a===0&g===0?this:new Rr(this.k,this.x+this.k*a,this.y+this.k*g)},apply:function(a){return[a[0]*this.k+this.x,a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ro=new Rr(1,0,0);gi.prototype=Rr.prototype;function gi(a){for(;!a.__zoom;)if(!(a=a.parentNode))return Ro;return a.__zoom}function so(a){a.stopImmediatePropagation()}function Lo(a){a.preventDefault(),a.stopImmediatePropagation()}function as(a){return(!a.ctrlKey||a.type==="wheel")&&!a.button}function cs(){var a=this;return a instanceof SVGElement?(a=a.ownerSVGElement||a,a.hasAttribute("viewBox")?(a=a.viewBox.baseVal,[[a.x,a.y],[a.x+a.width,a.y+a.height]]):[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]):[[0,0],[a.clientWidth,a.clientHeight]]}function Hi(){return this.__zoom||Ro}function $i(a){return-a.deltaY*(a.deltaMode===1?.05:a.deltaMode?1:.002)*(a.ctrlKey?10:1)}function Dn(){return navigator.maxTouchPoints||"ontouchstart"in this}function ls(a,g,k){var V=a.invertX(g[0][0])-k[0][0],fe=a.invertX(g[1][0])-k[1][0],Ce=a.invertY(g[0][1])-k[0][1],le=a.invertY(g[1][1])-k[1][1];return a.translate(fe>V?(V+fe)/2:Math.min(0,V)||Math.max(0,fe),le>Ce?(Ce+le)/2:Math.min(0,Ce)||Math.max(0,le))}function Wi(){var a=as,g=cs,k=ls,V=$i,fe=Dn,Ce=[0,1/0],le=[[-1/0,-1/0],[1/0,1/0]],Be=250,Ye=u,Qe=(0,i.Z)("start","zoom","end"),qe,Bt,Ft,en=500,ir=150,Bn=0,ur=10;function nn(Te){Te.property("__zoom",Hi).on("wheel.zoom",ar,{passive:!1}).on("mousedown.zoom",Er).on("dblclick.zoom",Ko).filter(fe).on("touchstart.zoom",Go).on("touchmove.zoom",mr).on("touchend.zoom touchcancel.zoom",Ki).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}nn.transform=function(Te,At,et,Rt){var on=Te.selection?Te.selection():Te;on.property("__zoom",Hi),Te!==on?Br(Te,At,et,Rt):on.interrupt().each(function(){gr(this,arguments).event(Rt).start().zoom(null,typeof At=="function"?At.apply(this,arguments):At).end()})},nn.scaleBy=function(Te,At,et,Rt){nn.scaleTo(Te,function(){var on=this.__zoom.k,sn=typeof At=="function"?At.apply(this,arguments):At;return on*sn},et,Rt)},nn.scaleTo=function(Te,At,et,Rt){nn.transform(Te,function(){var on=g.apply(this,arguments),sn=this.__zoom,hn=et==null?Ar(on):typeof et=="function"?et.apply(this,arguments):et,Sn=sn.invert(hn),Un=typeof At=="function"?At.apply(this,arguments):At;return k(pr(Lr(sn,Un),hn,Sn),on,le)},et,Rt)},nn.translateBy=function(Te,At,et,Rt){nn.transform(Te,function(){return k(this.__zoom.translate(typeof At=="function"?At.apply(this,arguments):At,typeof et=="function"?et.apply(this,arguments):et),g.apply(this,arguments),le)},null,Rt)},nn.translateTo=function(Te,At,et,Rt,on){nn.transform(Te,function(){var sn=g.apply(this,arguments),hn=this.__zoom,Sn=Rt==null?Ar(sn):typeof Rt=="function"?Rt.apply(this,arguments):Rt;return k(Ro.translate(Sn[0],Sn[1]).scale(hn.k).translate(typeof At=="function"?-At.apply(this,arguments):-At,typeof et=="function"?-et.apply(this,arguments):-et),sn,le)},Rt,on)};function Lr(Te,At){return At=Math.max(Ce[0],Math.min(Ce[1],At)),At===Te.k?Te:new Rr(At,Te.x,Te.y)}function pr(Te,At,et){var Rt=At[0]-et[0]*Te.k,on=At[1]-et[1]*Te.k;return Rt===Te.x&&on===Te.y?Te:new Rr(Te.k,Rt,on)}function Ar(Te){return[(+Te[0][0]+ +Te[1][0])/2,(+Te[0][1]+ +Te[1][1])/2]}function Br(Te,At,et,Rt){Te.on("start.zoom",function(){gr(this,arguments).event(Rt).start()}).on("interrupt.zoom end.zoom",function(){gr(this,arguments).event(Rt).end()}).tween("zoom",function(){var on=this,sn=arguments,hn=gr(on,sn).event(Rt),Sn=g.apply(on,sn),Un=et==null?Ar(Sn):typeof et=="function"?et.apply(on,sn):et,Sr=Math.max(Sn[1][0]-Sn[0][0],Sn[1][1]-Sn[0][1]),Zn=on.__zoom,Fn=typeof At=="function"?At.apply(on,sn):At,Or=Ye(Zn.invert(Un).concat(Sr/Zn.k),Fn.invert(Un).concat(Sr/Fn.k));return function(Cr){if(Cr===1)Cr=Fn;else{var Ur=Or(Cr),Jn=Sr/Ur[2];Cr=new Rr(Jn,Un[0]-Ur[0]*Jn,Un[1]-Ur[1]*Jn)}hn.zoom(null,Cr)}})}function gr(Te,At,et){return!et&&Te.__zooming||new Wo(Te,At)}function Wo(Te,At){this.that=Te,this.args=At,this.active=0,this.sourceEvent=null,this.extent=g.apply(Te,At),this.taps=0}Wo.prototype={event:function(Te){return Te&&(this.sourceEvent=Te),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(Te,At){return this.mouse&&Te!=="mouse"&&(this.mouse[1]=At.invert(this.mouse[0])),this.touch0&&Te!=="touch"&&(this.touch0[1]=At.invert(this.touch0[0])),this.touch1&&Te!=="touch"&&(this.touch1[1]=At.invert(this.touch1[0])),this.that.__zoom=At,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(Te){var At=(0,y.Z)(this.that).datum();Qe.call(Te,this.that,new ss(Te,{sourceEvent:this.sourceEvent,target:nn,type:Te,transform:this.that.__zoom,dispatch:Qe}),At)}};function ar(Te,...At){if(!a.apply(this,arguments))return;var et=gr(this,At).event(Te),Rt=this.__zoom,on=Math.max(Ce[0],Math.min(Ce[1],Rt.k*Math.pow(2,V.apply(this,arguments)))),sn=(0,C.Z)(Te);if(et.wheel)(et.mouse[0][0]!==sn[0]||et.mouse[0][1]!==sn[1])&&(et.mouse[1]=Rt.invert(et.mouse[0]=sn)),clearTimeout(et.wheel);else{if(Rt.k===on)return;et.mouse=[sn,Rt.invert(sn)],mt(this),et.start()}Lo(Te),et.wheel=setTimeout(hn,ir),et.zoom("mouse",k(pr(Lr(Rt,on),et.mouse[0],et.mouse[1]),et.extent,le));function hn(){et.wheel=null,et.end()}}function Er(Te,...At){if(Ft||!a.apply(this,arguments))return;var et=Te.currentTarget,Rt=gr(this,At,!0).event(Te),on=(0,y.Z)(Te.view).on("mousemove.zoom",Un,!0).on("mouseup.zoom",Sr,!0),sn=(0,C.Z)(Te,et),hn=Te.clientX,Sn=Te.clientY;(0,O.Z)(Te.view),so(Te),Rt.mouse=[sn,this.__zoom.invert(sn)],mt(this),Rt.start();function Un(Zn){if(Lo(Zn),!Rt.moved){var Fn=Zn.clientX-hn,Or=Zn.clientY-Sn;Rt.moved=Fn*Fn+Or*Or>Bn}Rt.event(Zn).zoom("mouse",k(pr(Rt.that.__zoom,Rt.mouse[0]=(0,C.Z)(Zn,et),Rt.mouse[1]),Rt.extent,le))}function Sr(Zn){on.on("mousemove.zoom mouseup.zoom",null),(0,O.D)(Zn.view,Rt.moved),Lo(Zn),Rt.event(Zn).end()}}function Ko(Te,...At){if(a.apply(this,arguments)){var et=this.__zoom,Rt=(0,C.Z)(Te.changedTouches?Te.changedTouches[0]:Te,this),on=et.invert(Rt),sn=et.k*(Te.shiftKey?.5:2),hn=k(pr(Lr(et,sn),Rt,on),g.apply(this,At),le);Lo(Te),Be>0?(0,y.Z)(this).transition().duration(Be).call(Br,hn,Rt,Te):(0,y.Z)(this).call(nn.transform,hn,Rt,Te)}}function Go(Te,...At){if(a.apply(this,arguments)){var et=Te.touches,Rt=et.length,on=gr(this,At,Te.changedTouches.length===Rt).event(Te),sn,hn,Sn,Un;for(so(Te),hn=0;hn<Rt;++hn)Sn=et[hn],Un=(0,C.Z)(Sn,this),Un=[Un,this.__zoom.invert(Un),Sn.identifier],on.touch0?!on.touch1&&on.touch0[2]!==Un[2]&&(on.touch1=Un,on.taps=0):(on.touch0=Un,sn=!0,on.taps=1+!!qe);qe&&(qe=clearTimeout(qe)),sn&&(on.taps<2&&(Bt=Un[0],qe=setTimeout(function(){qe=null},en)),mt(this),on.start())}}function mr(Te,...At){if(this.__zooming){var et=gr(this,At).event(Te),Rt=Te.changedTouches,on=Rt.length,sn,hn,Sn,Un;for(Lo(Te),sn=0;sn<on;++sn)hn=Rt[sn],Sn=(0,C.Z)(hn,this),et.touch0&&et.touch0[2]===hn.identifier?et.touch0[0]=Sn:et.touch1&&et.touch1[2]===hn.identifier&&(et.touch1[0]=Sn);if(hn=et.that.__zoom,et.touch1){var Sr=et.touch0[0],Zn=et.touch0[1],Fn=et.touch1[0],Or=et.touch1[1],Cr=(Cr=Fn[0]-Sr[0])*Cr+(Cr=Fn[1]-Sr[1])*Cr,Ur=(Ur=Or[0]-Zn[0])*Ur+(Ur=Or[1]-Zn[1])*Ur;hn=Lr(hn,Math.sqrt(Cr/Ur)),Sn=[(Sr[0]+Fn[0])/2,(Sr[1]+Fn[1])/2],Un=[(Zn[0]+Or[0])/2,(Zn[1]+Or[1])/2]}else if(et.touch0)Sn=et.touch0[0],Un=et.touch0[1];else return;et.zoom("touch",k(pr(hn,Sn,Un),et.extent,le))}}function Ki(Te,...At){if(this.__zooming){var et=gr(this,At).event(Te),Rt=Te.changedTouches,on=Rt.length,sn,hn;for(so(Te),Ft&&clearTimeout(Ft),Ft=setTimeout(function(){Ft=null},en),sn=0;sn<on;++sn)hn=Rt[sn],et.touch0&&et.touch0[2]===hn.identifier?delete et.touch0:et.touch1&&et.touch1[2]===hn.identifier&&delete et.touch1;if(et.touch1&&!et.touch0&&(et.touch0=et.touch1,delete et.touch1),et.touch0)et.touch0[1]=this.__zoom.invert(et.touch0[0]);else if(et.end(),et.taps===2&&(hn=(0,C.Z)(hn,this),Math.hypot(Bt[0]-hn[0],Bt[1]-hn[1])<ur)){var Sn=(0,y.Z)(this).on("dblclick.zoom");Sn&&Sn.apply(this,arguments)}}}return nn.wheelDelta=function(Te){return arguments.length?(V=typeof Te=="function"?Te:xo(+Te),nn):V},nn.filter=function(Te){return arguments.length?(a=typeof Te=="function"?Te:xo(!!Te),nn):a},nn.touchable=function(Te){return arguments.length?(fe=typeof Te=="function"?Te:xo(!!Te),nn):fe},nn.extent=function(Te){return arguments.length?(g=typeof Te=="function"?Te:xo([[+Te[0][0],+Te[0][1]],[+Te[1][0],+Te[1][1]]]),nn):g},nn.scaleExtent=function(Te){return arguments.length?(Ce[0]=+Te[0],Ce[1]=+Te[1],nn):[Ce[0],Ce[1]]},nn.translateExtent=function(Te){return arguments.length?(le[0][0]=+Te[0][0],le[1][0]=+Te[1][0],le[0][1]=+Te[0][1],le[1][1]=+Te[1][1],nn):[[le[0][0],le[0][1]],[le[1][0],le[1][1]]]},nn.constrain=function(Te){return arguments.length?(k=Te,nn):k},nn.duration=function(Te){return arguments.length?(Be=+Te,nn):Be},nn.interpolate=function(Te){return arguments.length?(Ye=Te,nn):Ye},nn.on=function(){var Te=Qe.on.apply(Qe,arguments);return Te===Qe?nn:Te},nn.clickDistance=function(Te){return arguments.length?(Bn=(Te=+Te)*Te,nn):Math.sqrt(Bn)},nn.tapDistance=function(Te){return arguments.length?(ur=+Te,nn):ur},nn}},53874:function(B,j,h){"use strict";h.d(j,{Uy:function(){return yn}});var i=Symbol.for("immer-nothing"),O=Symbol.for("immer-draftable"),_=Symbol.for("immer-state"),T=[];function x(M,...W){throw new Error(`[Immer] minified error nr: ${M}. Full error at: https://bit.ly/3cXEKWf`)}var b=Object.getPrototypeOf;function u(M){return!!M&&!!M[_]}function y(M){var W;return M?I(M)||Array.isArray(M)||!!M[O]||!!((W=M.constructor)!=null&&W[O])||ue(M)||K(M):!1}var C=Object.prototype.constructor.toString();function I(M){if(!M||typeof M!="object")return!1;const W=b(M);if(W===null)return!0;const ye=Object.hasOwnProperty.call(W,"constructor")&&W.constructor;return ye===Object?!0:typeof ye=="function"&&Function.toString.call(ye)===C}function U(M){return u(M)||x(15,M),M[_].base_}function D(M,W){Y(M)===0?Reflect.ownKeys(M).forEach(ye=>{W(ye,M[ye],M)}):M.forEach((ye,Ne)=>W(Ne,ye,M))}function Y(M){const W=M[_];return W?W.type_:Array.isArray(M)?1:ue(M)?2:K(M)?3:0}function G(M,W){return Y(M)===2?M.has(W):Object.prototype.hasOwnProperty.call(M,W)}function de(M,W){return Y(M)===2?M.get(W):M[W]}function Ve(M,W,ye){const Ne=Y(M);Ne===2?M.set(W,ye):Ne===3?M.add(ye):M[W]=ye}function ce(M,W){return M===W?M!==0||1/M===1/W:M!==M&&W!==W}function ue(M){return M instanceof Map}function K(M){return M instanceof Set}function ne(M){return M.copy_||M.base_}function re(M,W){if(ue(M))return new Map(M);if(K(M))return new Set(M);if(Array.isArray(M))return Array.prototype.slice.call(M);const ye=I(M);if(W===!0||W==="class_only"&&!ye){const Ne=Object.getOwnPropertyDescriptors(M);delete Ne[_];let Xe=Reflect.ownKeys(Ne);for(let yt=0;yt<Xe.length;yt++){const xt=Xe[yt],ht=Ne[xt];ht.writable===!1&&(ht.writable=!0,ht.configurable=!0),(ht.get||ht.set)&&(Ne[xt]={configurable:!0,writable:!0,enumerable:ht.enumerable,value:M[xt]})}return Object.create(b(M),Ne)}else{const Ne=b(M);if(Ne!==null&&ye)return Nt({},M);const Xe=Object.create(Ne);return Object.assign(Xe,M)}}function $(M,W=!1){return ae(M)||u(M)||!y(M)||(Y(M)>1&&(M.set=M.add=M.clear=M.delete=Q),Object.freeze(M),W&&Object.entries(M).forEach(([ye,Ne])=>$(Ne,!0))),M}function Q(){x(2)}function ae(M){return Object.isFrozen(M)}var oe={};function Ee(M){const W=oe[M];return W||x(0,M),W}function Le(M,W){oe[M]||(oe[M]=W)}var R;function J(){return R}function ke(M,W){return{drafts_:[],parent_:M,immer_:W,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function xe(M,W){W&&(Ee("Patches"),M.patches_=[],M.inversePatches_=[],M.patchListener_=W)}function Ze(M){Z(M),M.drafts_.forEach(Se),M.drafts_=null}function Z(M){M===R&&(R=M.parent_)}function ie(M){return R=ke(R,M)}function Se(M){const W=M[_];W.type_===0||W.type_===1?W.revoke_():W.revoked_=!0}function Ge(M,W){W.unfinalizedDrafts_=W.drafts_.length;const ye=W.drafts_[0];return M!==void 0&&M!==ye?(ye[_].modified_&&(Ze(W),x(4)),y(M)&&(M=Et(W,M),W.parent_||Tt(W,M)),W.patches_&&Ee("Patches").generateReplacementPatches_(ye[_].base_,M,W.patches_,W.inversePatches_)):M=Et(W,ye,[]),Ze(W),W.patches_&&W.patchListener_(W.patches_,W.inversePatches_),M!==i?M:void 0}function Et(M,W,ye){if(ae(W))return W;const Ne=W[_];if(!Ne)return D(W,(Xe,yt)=>Wt(M,Ne,W,Xe,yt,ye)),W;if(Ne.scope_!==M)return W;if(!Ne.modified_)return Tt(M,Ne.base_,!0),Ne.base_;if(!Ne.finalized_){Ne.finalized_=!0,Ne.scope_.unfinalizedDrafts_--;const Xe=Ne.copy_;let yt=Xe,xt=!1;Ne.type_===3&&(yt=new Set(Xe),Xe.clear(),xt=!0),D(yt,(ht,ze)=>Wt(M,Ne,Xe,ht,ze,ye,xt)),Tt(M,Xe,!1),ye&&M.patches_&&Ee("Patches").generatePatches_(Ne,ye,M.patches_,M.inversePatches_)}return Ne.copy_}function Wt(M,W,ye,Ne,Xe,yt,xt){if(u(Xe)){const ht=yt&&W&&W.type_!==3&&!G(W.assigned_,Ne)?yt.concat(Ne):void 0,ze=Et(M,Xe,ht);if(Ve(ye,Ne,ze),u(ze))M.canAutoFreeze_=!1;else return}else xt&&ye.add(Xe);if(y(Xe)&&!ae(Xe)){if(!M.immer_.autoFreeze_&&M.unfinalizedDrafts_<1)return;Et(M,Xe),(!W||!W.scope_.parent_)&&typeof Ne!="symbol"&&Object.prototype.propertyIsEnumerable.call(ye,Ne)&&Tt(M,Xe)}}function Tt(M,W,ye=!1){!M.parent_&&M.immer_.autoFreeze_&&M.canAutoFreeze_&&$(W,ye)}function X(M,W){const ye=Array.isArray(M),Ne={type_:ye?1:0,scope_:W?W.scope_:J(),modified_:!1,finalized_:!1,assigned_:{},parent_:W,base_:M,draft_:null,copy_:null,revoke_:null,isManual_:!1};let Xe=Ne,yt=he;ye&&(Xe=[Ne],yt=ve);const{revoke:xt,proxy:ht}=Proxy.revocable(Xe,yt);return Ne.draft_=ht,Ne.revoke_=xt,ht}var he={get(M,W){if(W===_)return M;const ye=ne(M);if(!G(ye,W))return Pe(M,ye,W);const Ne=ye[W];return M.finalized_||!y(Ne)?Ne:Ne===be(M.base_,W)?($t(M),M.copy_[W]=Ie(Ne,M)):Ne},has(M,W){return W in ne(M)},ownKeys(M){return Reflect.ownKeys(ne(M))},set(M,W,ye){const Ne=ut(ne(M),W);if(Ne!=null&&Ne.set)return Ne.set.call(M.draft_,ye),!0;if(!M.modified_){const Xe=be(ne(M),W),yt=Xe==null?void 0:Xe[_];if(yt&&yt.base_===ye)return M.copy_[W]=ye,M.assigned_[W]=!1,!0;if(ce(ye,Xe)&&(ye!==void 0||G(M.base_,W)))return!0;$t(M),mt(M)}return M.copy_[W]===ye&&(ye!==void 0||W in M.copy_)||Number.isNaN(ye)&&Number.isNaN(M.copy_[W])||(M.copy_[W]=ye,M.assigned_[W]=!0),!0},deleteProperty(M,W){return be(M.base_,W)!==void 0||W in M.base_?(M.assigned_[W]=!1,$t(M),mt(M)):delete M.assigned_[W],M.copy_&&delete M.copy_[W],!0},getOwnPropertyDescriptor(M,W){const ye=ne(M),Ne=Reflect.getOwnPropertyDescriptor(ye,W);return Ne&&{writable:!0,configurable:M.type_!==1||W!=="length",enumerable:Ne.enumerable,value:ye[W]}},defineProperty(){x(11)},getPrototypeOf(M){return b(M.base_)},setPrototypeOf(){x(12)}},ve={};D(he,(M,W)=>{ve[M]=function(){return arguments[0]=arguments[0][0],W.apply(this,arguments)}}),ve.deleteProperty=function(M,W){return ve.set.call(this,M,W,void 0)},ve.set=function(M,W,ye){return he.set.call(this,M[0],W,ye,M[0])};function be(M,W){const ye=M[_];return(ye?ne(ye):M)[W]}function Pe(M,W,ye){var Xe;const Ne=ut(W,ye);return Ne?"value"in Ne?Ne.value:(Xe=Ne.get)==null?void 0:Xe.call(M.draft_):void 0}function ut(M,W){if(!(W in M))return;let ye=b(M);for(;ye;){const Ne=Object.getOwnPropertyDescriptor(ye,W);if(Ne)return Ne;ye=b(ye)}}function mt(M){M.modified_||(M.modified_=!0,M.parent_&&mt(M.parent_))}function $t(M){M.copy_||(M.copy_=re(M.base_,M.scope_.immer_.useStrictShallowCopy_))}var Jt=class{constructor(M){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(W,ye,Ne)=>{if(typeof W=="function"&&typeof ye!="function"){const yt=ye;ye=W;const xt=this;return function(ze=yt,...Je){return xt.produce(ze,zt=>ye.call(this,zt,...Je))}}typeof ye!="function"&&x(6),Ne!==void 0&&typeof Ne!="function"&&x(7);let Xe;if(y(W)){const yt=ie(this),xt=Ie(W,void 0);let ht=!0;try{Xe=ye(xt),ht=!1}finally{ht?Ze(yt):Z(yt)}return xe(yt,Ne),Ge(Xe,yt)}else if(!W||typeof W!="object"){if(Xe=ye(W),Xe===void 0&&(Xe=W),Xe===i&&(Xe=void 0),this.autoFreeze_&&$(Xe,!0),Ne){const yt=[],xt=[];Ee("Patches").generateReplacementPatches_(W,Xe,yt,xt),Ne(yt,xt)}return Xe}else x(1,W)},this.produceWithPatches=(W,ye)=>{if(typeof W=="function")return(xt,...ht)=>this.produceWithPatches(xt,ze=>W(ze,...ht));let Ne,Xe;return[this.produce(W,ye,(xt,ht)=>{Ne=xt,Xe=ht}),Ne,Xe]},typeof(M==null?void 0:M.autoFreeze)=="boolean"&&this.setAutoFreeze(M.autoFreeze),typeof(M==null?void 0:M.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(M.useStrictShallowCopy)}createDraft(M){y(M)||x(8),u(M)&&(M=Me(M));const W=ie(this),ye=Ie(M,void 0);return ye[_].isManual_=!0,Z(W),ye}finishDraft(M,W){const ye=M&&M[_];(!ye||!ye.isManual_)&&x(9);const{scope_:Ne}=ye;return xe(Ne,W),Ge(void 0,Ne)}setAutoFreeze(M){this.autoFreeze_=M}setUseStrictShallowCopy(M){this.useStrictShallowCopy_=M}applyPatches(M,W){let ye;for(ye=W.length-1;ye>=0;ye--){const Xe=W[ye];if(Xe.path.length===0&&Xe.op==="replace"){M=Xe.value;break}}ye>-1&&(W=W.slice(ye+1));const Ne=Ee("Patches").applyPatches_;return u(M)?Ne(M,W):this.produce(M,Xe=>Ne(Xe,W))}};function Ie(M,W){const ye=ue(M)?Ee("MapSet").proxyMap_(M,W):K(M)?Ee("MapSet").proxySet_(M,W):X(M,W);return(W?W.scope_:J()).drafts_.push(ye),ye}function Me(M){return u(M)||x(10,M),We(M)}function We(M){if(!y(M)||ae(M))return M;const W=M[_];let ye;if(W){if(!W.modified_)return W.base_;W.finalized_=!0,ye=re(M,W.scope_.immer_.useStrictShallowCopy_)}else ye=re(M,!0);return D(ye,(Ne,Xe)=>{Ve(ye,Ne,We(Xe))}),W&&(W.finalized_=!1),ye}function $e(){const W="replace",ye="add",Ne="remove";function Xe(Vt,tn,Qt,qt){switch(Vt.type_){case 0:case 2:return xt(Vt,tn,Qt,qt);case 1:return yt(Vt,tn,Qt,qt);case 3:return ht(Vt,tn,Qt,qt)}}function yt(Vt,tn,Qt,qt){let{base_:wn,assigned_:pn}=Vt,gn=Vt.copy_;gn.length<wn.length&&([wn,gn]=[gn,wn],[Qt,qt]=[qt,Qt]);for(let vt=0;vt<wn.length;vt++)if(pn[vt]&&gn[vt]!==wn[vt]){const Lt=tn.concat([vt]);Qt.push({op:W,path:Lt,value:un(gn[vt])}),qt.push({op:W,path:Lt,value:un(wn[vt])})}for(let vt=wn.length;vt<gn.length;vt++){const Lt=tn.concat([vt]);Qt.push({op:ye,path:Lt,value:un(gn[vt])})}for(let vt=gn.length-1;wn.length<=vt;--vt){const Lt=tn.concat([vt]);qt.push({op:Ne,path:Lt})}}function xt(Vt,tn,Qt,qt){const{base_:wn,copy_:pn}=Vt;D(Vt.assigned_,(gn,vt)=>{const Lt=de(wn,gn),Ot=de(pn,gn),st=vt?G(wn,gn)?W:ye:Ne;if(Lt===Ot&&st===W)return;const kt=tn.concat(gn);Qt.push(st===Ne?{op:st,path:kt}:{op:st,path:kt,value:Ot}),qt.push(st===ye?{op:Ne,path:kt}:st===Ne?{op:ye,path:kt,value:un(Lt)}:{op:W,path:kt,value:un(Lt)})})}function ht(Vt,tn,Qt,qt){let{base_:wn,copy_:pn}=Vt,gn=0;wn.forEach(vt=>{if(!pn.has(vt)){const Lt=tn.concat([gn]);Qt.push({op:Ne,path:Lt,value:vt}),qt.unshift({op:ye,path:Lt,value:vt})}gn++}),gn=0,pn.forEach(vt=>{if(!wn.has(vt)){const Lt=tn.concat([gn]);Qt.push({op:ye,path:Lt,value:vt}),qt.unshift({op:Ne,path:Lt,value:vt})}gn++})}function ze(Vt,tn,Qt,qt){Qt.push({op:W,path:[],value:tn===i?void 0:tn}),qt.push({op:W,path:[],value:Vt})}function Je(Vt,tn){return tn.forEach(Qt=>{const{path:qt,op:wn}=Qt;let pn=Vt;for(let Ot=0;Ot<qt.length-1;Ot++){const st=Y(pn);let kt=qt[Ot];typeof kt!="string"&&typeof kt!="number"&&(kt=""+kt),(st===0||st===1)&&(kt==="__proto__"||kt==="constructor")&&x(19),typeof pn=="function"&&kt==="prototype"&&x(19),pn=de(pn,kt),typeof pn!="object"&&x(18,qt.join("/"))}const gn=Y(pn),vt=zt(Qt.value),Lt=qt[qt.length-1];switch(wn){case W:switch(gn){case 2:return pn.set(Lt,vt);case 3:x(16);default:return pn[Lt]=vt}case ye:switch(gn){case 1:return Lt==="-"?pn.push(vt):pn.splice(Lt,0,vt);case 2:return pn.set(Lt,vt);case 3:return pn.add(vt);default:return pn[Lt]=vt}case Ne:switch(gn){case 1:return pn.splice(Lt,1);case 2:return pn.delete(Lt);case 3:return pn.delete(Qt.value);default:return delete pn[Lt]}default:x(17,wn)}}),Vt}function zt(Vt){if(!y(Vt))return Vt;if(Array.isArray(Vt))return Vt.map(zt);if(ue(Vt))return new Map(Array.from(Vt.entries()).map(([Qt,qt])=>[Qt,zt(qt)]));if(K(Vt))return new Set(Array.from(Vt).map(zt));const tn=Object.create(b(Vt));for(const Qt in Vt)tn[Qt]=zt(Vt[Qt]);return G(Vt,O)&&(tn[O]=Vt[O]),tn}function un(Vt){return u(Vt)?zt(Vt):Vt}Le("Patches",{applyPatches_:Je,generatePatches_:Xe,generateReplacementPatches_:ze})}function me(){class M extends Map{constructor(ze,Je){super(),this[_]={type_:2,parent_:Je,scope_:Je?Je.scope_:J(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:ze,draft_:this,isManual_:!1,revoked_:!1}}get size(){return ne(this[_]).size}has(ze){return ne(this[_]).has(ze)}set(ze,Je){const zt=this[_];return xt(zt),(!ne(zt).has(ze)||ne(zt).get(ze)!==Je)&&(ye(zt),mt(zt),zt.assigned_.set(ze,!0),zt.copy_.set(ze,Je),zt.assigned_.set(ze,!0)),this}delete(ze){if(!this.has(ze))return!1;const Je=this[_];return xt(Je),ye(Je),mt(Je),Je.base_.has(ze)?Je.assigned_.set(ze,!1):Je.assigned_.delete(ze),Je.copy_.delete(ze),!0}clear(){const ze=this[_];xt(ze),ne(ze).size&&(ye(ze),mt(ze),ze.assigned_=new Map,D(ze.base_,Je=>{ze.assigned_.set(Je,!1)}),ze.copy_.clear())}forEach(ze,Je){const zt=this[_];ne(zt).forEach((un,Vt,tn)=>{ze.call(Je,this.get(Vt),Vt,this)})}get(ze){const Je=this[_];xt(Je);const zt=ne(Je).get(ze);if(Je.finalized_||!y(zt)||zt!==Je.base_.get(ze))return zt;const un=Ie(zt,Je);return ye(Je),Je.copy_.set(ze,un),un}keys(){return ne(this[_]).keys()}values(){const ze=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const Je=ze.next();return Je.done?Je:{done:!1,value:this.get(Je.value)}}}}entries(){const ze=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const Je=ze.next();if(Je.done)return Je;const zt=this.get(Je.value);return{done:!1,value:[Je.value,zt]}}}}[Symbol.iterator](){return this.entries()}}function W(ht,ze){return new M(ht,ze)}function ye(ht){ht.copy_||(ht.assigned_=new Map,ht.copy_=new Map(ht.base_))}class Ne extends Set{constructor(ze,Je){super(),this[_]={type_:3,parent_:Je,scope_:Je?Je.scope_:J(),modified_:!1,finalized_:!1,copy_:void 0,base_:ze,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return ne(this[_]).size}has(ze){const Je=this[_];return xt(Je),Je.copy_?!!(Je.copy_.has(ze)||Je.drafts_.has(ze)&&Je.copy_.has(Je.drafts_.get(ze))):Je.base_.has(ze)}add(ze){const Je=this[_];return xt(Je),this.has(ze)||(yt(Je),mt(Je),Je.copy_.add(ze)),this}delete(ze){if(!this.has(ze))return!1;const Je=this[_];return xt(Je),yt(Je),mt(Je),Je.copy_.delete(ze)||(Je.drafts_.has(ze)?Je.copy_.delete(Je.drafts_.get(ze)):!1)}clear(){const ze=this[_];xt(ze),ne(ze).size&&(yt(ze),mt(ze),ze.copy_.clear())}values(){const ze=this[_];return xt(ze),yt(ze),ze.copy_.values()}entries(){const ze=this[_];return xt(ze),yt(ze),ze.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(ze,Je){const zt=this.values();let un=zt.next();for(;!un.done;)ze.call(Je,un.value,un.value,this),un=zt.next()}}function Xe(ht,ze){return new Ne(ht,ze)}function yt(ht){ht.copy_||(ht.copy_=new Set,ht.base_.forEach(ze=>{if(y(ze)){const Je=Ie(ze,ht);ht.drafts_.set(ze,Je),ht.copy_.add(Je)}else ht.copy_.add(ze)}))}function xt(ht){ht.revoked_&&x(3,JSON.stringify(ne(ht)))}Le("MapSet",{proxyMap_:W,proxySet_:Xe})}var Ut=new Jt,yn=Ut.produce,mn=Ut.produceWithPatches.bind(Ut),kn=Ut.setAutoFreeze.bind(Ut),Tn=Ut.setUseStrictShallowCopy.bind(Ut),vn=Ut.applyPatches.bind(Ut),On=Ut.createDraft.bind(Ut),Ln=Ut.finishDraft.bind(Ut);function An(M){return M}function cn(M){return M}},13727:function(B,j,h){"use strict";h.d(j,{Z:function(){return ue}});var i=h(99615),O=i.Z.Symbol,_=O,T=Object.prototype,x=T.hasOwnProperty,b=T.toString,u=_?_.toStringTag:void 0;function y(K){var ne=x.call(K,u),re=K[u];try{K[u]=void 0;var $=!0}catch(ae){}var Q=b.call(K);return $&&(ne?K[u]=re:delete K[u]),Q}var C=y,I=Object.prototype,U=I.toString;function D(K){return U.call(K)}var Y=D,G="[object Null]",de="[object Undefined]",Ve=_?_.toStringTag:void 0;function ce(K){return K==null?K===void 0?de:G:Ve&&Ve in Object(K)?C(K):Y(K)}var ue=ce},97889:function(B,j){"use strict";var h=typeof global=="object"&&global&&global.Object===Object&&global;j.Z=h},99615:function(B,j,h){"use strict";var i=h(97889),O=typeof self=="object"&&self&&self.Object===Object&&self,_=i.Z||O||Function("return this")();j.Z=_},16116:function(B,j,h){"use strict";h.d(j,{Z:function(){return Le}});var i=h(82433),O=h(99615),_=function(){return O.Z.Date.now()},T=_,x=/\s/;function b(R){for(var J=R.length;J--&&x.test(R.charAt(J)););return J}var u=b,y=/^\s+/;function C(R){return R&&R.slice(0,u(R)+1).replace(y,"")}var I=C,U=h(13727),D=h(13795),Y="[object Symbol]";function G(R){return typeof R=="symbol"||(0,D.Z)(R)&&(0,U.Z)(R)==Y}var de=G,Ve=NaN,ce=/^[-+]0x[0-9a-f]+$/i,ue=/^0b[01]+$/i,K=/^0o[0-7]+$/i,ne=parseInt;function re(R){if(typeof R=="number")return R;if(de(R))return Ve;if((0,i.Z)(R)){var J=typeof R.valueOf=="function"?R.valueOf():R;R=(0,i.Z)(J)?J+"":J}if(typeof R!="string")return R===0?R:+R;R=I(R);var ke=ue.test(R);return ke||K.test(R)?ne(R.slice(2),ke?2:8):ce.test(R)?Ve:+R}var $=re,Q="Expected a function",ae=Math.max,oe=Math.min;function Ee(R,J,ke){var xe,Ze,Z,ie,Se,Ge,Et=0,Wt=!1,Tt=!1,X=!0;if(typeof R!="function")throw new TypeError(Q);J=$(J)||0,(0,i.Z)(ke)&&(Wt=!!ke.leading,Tt="maxWait"in ke,Z=Tt?ae($(ke.maxWait)||0,J):Z,X="trailing"in ke?!!ke.trailing:X);function he(Me){var We=xe,$e=Ze;return xe=Ze=void 0,Et=Me,ie=R.apply($e,We),ie}function ve(Me){return Et=Me,Se=setTimeout(ut,J),Wt?he(Me):ie}function be(Me){var We=Me-Ge,$e=Me-Et,me=J-We;return Tt?oe(me,Z-$e):me}function Pe(Me){var We=Me-Ge,$e=Me-Et;return Ge===void 0||We>=J||We<0||Tt&&$e>=Z}function ut(){var Me=T();if(Pe(Me))return mt(Me);Se=setTimeout(ut,be(Me))}function mt(Me){return Se=void 0,X&&xe?he(Me):(xe=Ze=void 0,ie)}function $t(){Se!==void 0&&clearTimeout(Se),Et=0,xe=Ge=Ze=Se=void 0}function Jt(){return Se===void 0?ie:mt(T())}function Ie(){var Me=T(),We=Pe(Me);if(xe=arguments,Ze=this,Ge=Me,We){if(Se===void 0)return ve(Ge);if(Tt)return clearTimeout(Se),Se=setTimeout(ut,J),he(Ge)}return Se===void 0&&(Se=setTimeout(ut,J)),ie}return Ie.cancel=$t,Ie.flush=Jt,Ie}var Le=Ee},97459:function(B,j){"use strict";function h(i){return i===null}j.Z=h},82433:function(B,j){"use strict";function h(i){var O=typeof i;return i!=null&&(O=="object"||O=="function")}j.Z=h},13795:function(B,j){"use strict";function h(i){return i!=null&&typeof i=="object"}j.Z=h},62071:function(B,j,h){"use strict";h.d(j,{Z:function(){return A}});function i(){this.__data__=[],this.size=0}var O=i;function _(l,w){return l===w||l!==l&&w!==w}var T=_;function x(l,w){for(var E=l.length;E--;)if(T(l[E][0],w))return E;return-1}var b=x,u=Array.prototype,y=u.splice;function C(l){var w=this.__data__,E=b(w,l);if(E<0)return!1;var L=w.length-1;return E==L?w.pop():y.call(w,E,1),--this.size,!0}var I=C;function U(l){var w=this.__data__,E=b(w,l);return E<0?void 0:w[E][1]}var D=U;function Y(l){return b(this.__data__,l)>-1}var G=Y;function de(l,w){var E=this.__data__,L=b(E,l);return L<0?(++this.size,E.push([l,w])):E[L][1]=w,this}var Ve=de;function ce(l){var w=-1,E=l==null?0:l.length;for(this.clear();++w<E;){var L=l[w];this.set(L[0],L[1])}}ce.prototype.clear=O,ce.prototype.delete=I,ce.prototype.get=D,ce.prototype.has=G,ce.prototype.set=Ve;var ue=ce;function K(){this.__data__=new ue,this.size=0}var ne=K;function re(l){var w=this.__data__,E=w.delete(l);return this.size=w.size,E}var $=re;function Q(l){return this.__data__.get(l)}var ae=Q;function oe(l){return this.__data__.has(l)}var Ee=oe,Le=h(13727),R=h(82433),J="[object AsyncFunction]",ke="[object Function]",xe="[object GeneratorFunction]",Ze="[object Proxy]";function Z(l){if(!(0,R.Z)(l))return!1;var w=(0,Le.Z)(l);return w==ke||w==xe||w==J||w==Ze}var ie=Z,Se=h(99615),Ge=Se.Z["__core-js_shared__"],Et=Ge,Wt=function(){var l=/[^.]+$/.exec(Et&&Et.keys&&Et.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}();function Tt(l){return!!Wt&&Wt in l}var X=Tt,he=Function.prototype,ve=he.toString;function be(l){if(l!=null){try{return ve.call(l)}catch(w){}try{return l+""}catch(w){}}return""}var Pe=be,ut=/[\\^$.*+?()[\]{}|]/g,mt=/^\[object .+?Constructor\]$/,$t=Function.prototype,Jt=Object.prototype,Ie=$t.toString,Me=Jt.hasOwnProperty,We=RegExp("^"+Ie.call(Me).replace(ut,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $e(l){if(!(0,R.Z)(l)||X(l))return!1;var w=ie(l)?We:mt;return w.test(Pe(l))}var me=$e;function Ut(l,w){return l==null?void 0:l[w]}var yn=Ut;function mn(l,w){var E=yn(l,w);return me(E)?E:void 0}var kn=mn,Tn=kn(Se.Z,"Map"),vn=Tn,On=kn(Object,"create"),Ln=On;function An(){this.__data__=Ln?Ln(null):{},this.size=0}var cn=An;function M(l){var w=this.has(l)&&delete this.__data__[l];return this.size-=w?1:0,w}var W=M,ye="__lodash_hash_undefined__",Ne=Object.prototype,Xe=Ne.hasOwnProperty;function yt(l){var w=this.__data__;if(Ln){var E=w[l];return E===ye?void 0:E}return Xe.call(w,l)?w[l]:void 0}var xt=yt,ht=Object.prototype,ze=ht.hasOwnProperty;function Je(l){var w=this.__data__;return Ln?w[l]!==void 0:ze.call(w,l)}var zt=Je,un="__lodash_hash_undefined__";function Vt(l,w){var E=this.__data__;return this.size+=this.has(l)?0:1,E[l]=Ln&&w===void 0?un:w,this}var tn=Vt;function Qt(l){var w=-1,E=l==null?0:l.length;for(this.clear();++w<E;){var L=l[w];this.set(L[0],L[1])}}Qt.prototype.clear=cn,Qt.prototype.delete=W,Qt.prototype.get=xt,Qt.prototype.has=zt,Qt.prototype.set=tn;var qt=Qt;function wn(){this.size=0,this.__data__={hash:new qt,map:new(vn||ue),string:new qt}}var pn=wn;function gn(l){var w=typeof l;return w=="string"||w=="number"||w=="symbol"||w=="boolean"?l!=="__proto__":l===null}var vt=gn;function Lt(l,w){var E=l.__data__;return vt(w)?E[typeof w=="string"?"string":"hash"]:E.map}var Ot=Lt;function st(l){var w=Ot(this,l).delete(l);return this.size-=w?1:0,w}var kt=st;function Kt(l){return Ot(this,l).get(l)}var vr=Kt;function Pn(l){return Ot(this,l).has(l)}var jr=Pn;function Dr(l,w){var E=Ot(this,l),L=E.size;return E.set(l,w),this.size+=E.size==L?0:1,this}var qn=Dr;function er(l){var w=-1,E=l==null?0:l.length;for(this.clear();++w<E;){var L=l[w];this.set(L[0],L[1])}}er.prototype.clear=pn,er.prototype.delete=kt,er.prototype.get=vr,er.prototype.has=jr,er.prototype.set=qn;var Vo=er,Io=200;function tr(l,w){var E=this.__data__;if(E instanceof ue){var L=E.__data__;if(!vn||L.length<Io-1)return L.push([l,w]),this.size=++E.size,this;E=this.__data__=new Vo(L)}return E.set(l,w),this.size=E.size,this}var nr=tr;function Pr(l){var w=this.__data__=new ue(l);this.size=w.size}Pr.prototype.clear=ne,Pr.prototype.delete=$,Pr.prototype.get=ae,Pr.prototype.has=Ee,Pr.prototype.set=nr;var Zr=Pr,z=function(){try{var l=kn(Object,"defineProperty");return l({},"",{}),l}catch(w){}}(),pe=z;function tt(l,w,E){w=="__proto__"&&pe?pe(l,w,{configurable:!0,enumerable:!0,value:E,writable:!0}):l[w]=E}var rt=tt;function Ke(l,w,E){(E!==void 0&&!T(l[w],E)||E===void 0&&!(w in l))&&rt(l,w,E)}var dt=Ke;function Dt(l){return function(w,E,L){for(var H=-1,ge=Object(w),se=L(w),_e=se.length;_e--;){var we=se[l?_e:++H];if(E(ge[we],we,ge)===!1)break}return w}}var St=Dt,Zt=St(),rn=Zt,xn=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Xn=xn&&typeof module=="object"&&module&&!module.nodeType&&module,dr=Xn&&Xn.exports===xn,rr=dr?Se.Z.Buffer:void 0,Hn=rr?rr.allocUnsafe:void 0;function go(l,w){if(w)return l.slice();var E=l.length,L=Hn?Hn(E):new l.constructor(E);return l.copy(L),L}var Yr=go,oi=Se.Z.Uint8Array,Ir=oi;function Jr(l){var w=new l.constructor(l.byteLength);return new Ir(w).set(new Ir(l)),w}var Fo=Jr;function To(l,w){var E=w?Fo(l.buffer):l.buffer;return new l.constructor(E,l.byteOffset,l.length)}var Qr=To;function dn(l,w){var E=-1,L=l.length;for(w||(w=Array(L));++E<L;)w[E]=l[E];return w}var Oi=dn,Ao=Object.create,ns=function(){function l(){}return function(w){if(!(0,R.Z)(w))return{};if(Ao)return Ao(w);l.prototype=w;var E=new l;return l.prototype=void 0,E}}(),ii=ns;function qr(l,w){return function(E){return l(w(E))}}var rs=qr,Mi=rs(Object.getPrototypeOf,Object),Ni=Mi,Oo=Object.prototype;function mo(l){var w=l&&l.constructor,E=typeof w=="function"&&w.prototype||Oo;return l===E}var si=mo;function Di(l){return typeof l.constructor=="function"&&!si(l)?ii(Ni(l)):{}}var Pi=Di,fr=h(13795),eo="[object Arguments]";function Ri(l){return(0,fr.Z)(l)&&(0,Le.Z)(l)==eo}var ai=Ri,Li=Object.prototype,Yn=Li.hasOwnProperty,to=Li.propertyIsEnumerable,Mn=ai(function(){return arguments}())?ai:function(l){return(0,fr.Z)(l)&&Yn.call(l,"callee")&&!to.call(l,"callee")},yo=Mn,jo=Array.isArray,Mo=jo,os=9007199254740991;function is(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=os}var Bi=is;function ci(l){return l!=null&&Bi(l.length)&&!ie(l)}var li=ci;function bn(l){return(0,fr.Z)(l)&&li(l)}var br=bn;function No(){return!1}var no=No,ui=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Zo=ui&&typeof module=="object"&&module&&!module.nodeType&&module,ro=Zo&&Zo.exports===ui,Ui=ro?Se.Z.Buffer:void 0,Ho=Ui?Ui.isBuffer:void 0,zi=Ho||no,Hr=zi,or="[object Object]",hr=Function.prototype,oo=Object.prototype,Do=hr.toString,Vi=oo.hasOwnProperty,Fi=Do.call(Object);function $o(l){if(!(0,fr.Z)(l)||(0,Le.Z)(l)!=or)return!1;var w=Ni(l);if(w===null)return!0;var E=Vi.call(w,"constructor")&&w.constructor;return typeof E=="function"&&E instanceof E&&Do.call(E)==Fi}var di=$o,wo="[object Arguments]",fi="[object Array]",ji="[object Boolean]",xr="[object Date]",vo="[object Error]",Tr="[object Function]",_r="[object Map]",hi="[object Number]",Po="[object Object]",pi="[object RegExp]",Zi="[object Set]",io="[object String]",bo="[object WeakMap]",xo="[object ArrayBuffer]",ss="[object DataView]",Rr="[object Float32Array]",Ro="[object Float64Array]",gi="[object Int8Array]",so="[object Int16Array]",Lo="[object Int32Array]",as="[object Uint8Array]",cs="[object Uint8ClampedArray]",Hi="[object Uint16Array]",$i="[object Uint32Array]",Dn={};Dn[Rr]=Dn[Ro]=Dn[gi]=Dn[so]=Dn[Lo]=Dn[as]=Dn[cs]=Dn[Hi]=Dn[$i]=!0,Dn[wo]=Dn[fi]=Dn[xo]=Dn[ji]=Dn[ss]=Dn[xr]=Dn[vo]=Dn[Tr]=Dn[_r]=Dn[hi]=Dn[Po]=Dn[pi]=Dn[Zi]=Dn[io]=Dn[bo]=!1;function ls(l){return(0,fr.Z)(l)&&Bi(l.length)&&!!Dn[(0,Le.Z)(l)]}var Wi=ls;function a(l){return function(w){return l(w)}}var g=a,k=h(97889),V=typeof exports=="object"&&exports&&!exports.nodeType&&exports,fe=V&&typeof module=="object"&&module&&!module.nodeType&&module,Ce=fe&&fe.exports===V,le=Ce&&k.Z.process,Be=function(){try{var l=fe&&fe.require&&fe.require("util").types;return l||le&&le.binding&&le.binding("util")}catch(w){}}(),Ye=Be,Qe=Ye&&Ye.isTypedArray,qe=Qe?g(Qe):Wi,Bt=qe;function Ft(l,w){if(!(w==="constructor"&&typeof l[w]=="function")&&w!="__proto__")return l[w]}var en=Ft,ir=Object.prototype,Bn=ir.hasOwnProperty;function ur(l,w,E){var L=l[w];(!(Bn.call(l,w)&&T(L,E))||E===void 0&&!(w in l))&&rt(l,w,E)}var nn=ur;function Lr(l,w,E,L){var H=!E;E||(E={});for(var ge=-1,se=w.length;++ge<se;){var _e=w[ge],we=L?L(E[_e],l[_e],_e,E,l):void 0;we===void 0&&(we=l[_e]),H?rt(E,_e,we):nn(E,_e,we)}return E}var pr=Lr;function Ar(l,w){for(var E=-1,L=Array(l);++E<l;)L[E]=w(E);return L}var Br=Ar,gr=9007199254740991,Wo=/^(?:0|[1-9]\d*)$/;function ar(l,w){var E=typeof l;return w=w==null?gr:w,!!w&&(E=="number"||E!="symbol"&&Wo.test(l))&&l>-1&&l%1==0&&l<w}var Er=ar,Ko=Object.prototype,Go=Ko.hasOwnProperty;function mr(l,w){var E=Mo(l),L=!E&&yo(l),H=!E&&!L&&Hr(l),ge=!E&&!L&&!H&&Bt(l),se=E||L||H||ge,_e=se?Br(l.length,String):[],we=_e.length;for(var De in l)(w||Go.call(l,De))&&!(se&&(De=="length"||H&&(De=="offset"||De=="parent")||ge&&(De=="buffer"||De=="byteLength"||De=="byteOffset")||Er(De,we)))&&_e.push(De);return _e}var Ki=mr;function Te(l){var w=[];if(l!=null)for(var E in Object(l))w.push(E);return w}var At=Te,et=Object.prototype,Rt=et.hasOwnProperty;function on(l){if(!(0,R.Z)(l))return At(l);var w=si(l),E=[];for(var L in l)L=="constructor"&&(w||!Rt.call(l,L))||E.push(L);return E}var sn=on;function hn(l){return li(l)?Ki(l,!0):sn(l)}var Sn=hn;function Un(l){return pr(l,Sn(l))}var Sr=Un;function Zn(l,w,E,L,H,ge,se){var _e=en(l,E),we=en(w,E),De=se.get(we);if(De){dt(l,E,De);return}var Ae=ge?ge(_e,we,E+"",l,w,se):void 0,Re=Ae===void 0;if(Re){var Fe=Mo(we),lt=!Fe&&Hr(we),it=!Fe&&!lt&&Bt(we);Ae=we,Fe||lt||it?Mo(_e)?Ae=_e:br(_e)?Ae=Oi(_e):lt?(Re=!1,Ae=Yr(we,!0)):it?(Re=!1,Ae=Qr(we,!0)):Ae=[]:di(we)||yo(we)?(Ae=_e,yo(_e)?Ae=Sr(_e):(!(0,R.Z)(_e)||ie(_e))&&(Ae=Pi(we))):Re=!1}Re&&(se.set(we,Ae),H(Ae,we,L,ge,se),se.delete(we)),dt(l,E,Ae)}var Fn=Zn;function Or(l,w,E,L,H){l!==w&&rn(w,function(ge,se){if(H||(H=new Zr),(0,R.Z)(ge))Fn(l,w,se,E,Or,L,H);else{var _e=L?L(en(l,se),ge,se+"",l,w,H):void 0;_e===void 0&&(_e=ge),dt(l,se,_e)}},Sn)}var Cr=Or;function Ur(l){return l}var Jn=Ur;function us(l,w,E){switch(E.length){case 0:return l.call(w);case 1:return l.call(w,E[0]);case 2:return l.call(w,E[0],E[1]);case 3:return l.call(w,E[0],E[1],E[2])}return l.apply(w,E)}var Cs=us,ks=Math.max;function Is(l,w,E){return w=ks(w===void 0?l.length-1:w,0),function(){for(var L=arguments,H=-1,ge=ks(L.length-w,0),se=Array(ge);++H<ge;)se[H]=L[w+H];H=-1;for(var _e=Array(w+1);++H<w;)_e[H]=L[H];return _e[w]=E(se),Cs(l,this,_e)}}var Gs=Is;function Ts(l){return function(){return l}}var Xs=Ts,ds=pe?function(l,w){return pe(l,"toString",{configurable:!0,enumerable:!1,value:Xs(w),writable:!0})}:Jn,As=ds,Os=800,Ms=16,Ns=Date.now;function Ys(l){var w=0,E=0;return function(){var L=Ns(),H=Ms-(L-E);if(E=L,H>0){if(++w>=Os)return arguments[0]}else w=0;return l.apply(void 0,arguments)}}var Js=Ys,Qs=Js(As),qs=Qs;function ea(l,w){return qs(Gs(l,w,Jn),l+"")}var r=ea;function c(l,w,E){if(!(0,R.Z)(E))return!1;var L=typeof w;return(L=="number"?li(E)&&Er(w,E.length):L=="string"&&w in E)?T(E[w],l):!1}var p=c;function m(l){return r(function(w,E){var L=-1,H=E.length,ge=H>1?E[H-1]:void 0,se=H>2?E[2]:void 0;for(ge=l.length>3&&typeof ge=="function"?(H--,ge):void 0,se&&p(E[0],E[1],se)&&(ge=H<3?void 0:ge,H=1),w=Object(w);++L<H;){var _e=E[L];_e&&l(w,_e,L,ge)}return w})}var v=m,N=v(function(l,w,E){Cr(l,w,E)}),A=N},67197:function(B,j,h){"use strict";h.d(j,{kP:function(){return _}});let i=x=>crypto.getRandomValues(new Uint8Array(x)),O=(x,b,u)=>{let y=(2<<Math.log(x.length-1)/Math.LN2)-1,C=-~(1.6*y*b/x.length);return(I=b)=>{let U="";for(;;){let D=u(C),Y=C;for(;Y--;)if(U+=x[D[Y]&y]||"",U.length===I)return U}}},_=(x,b=21)=>O(x,b,i),T=(x=21)=>crypto.getRandomValues(new Uint8Array(x)).reduce((b,u)=>(u&=63,u<36?b+=u.toString(36):u<62?b+=(u-26).toString(36).toUpperCase():u>62?b+="-":b+="_",b),"")},21384:function(B,j,h){"use strict";h.d(j,{QW:function(){return ti},H6:function(){return cl}});const i=()=>new Map,O=t=>{const e=i();return t.forEach((n,o)=>{e.set(o,n)}),e},_=(t,e,n)=>{let o=t.get(e);return o===void 0&&t.set(e,o=n()),o},T=(t,e)=>{const n=[];for(const[o,s]of t)n.push(e(s,o));return n},x=(t,e)=>{for(const[n,o]of t)if(e(o,n))return!0;return!1},b=(t,e)=>{for(const[n,o]of t)if(!e(o,n))return!1;return!0},u=()=>new Set,y=t=>Array.from(t),C=t=>{var e;return(e=t.values().next().value)!=null?e:void 0},I=t=>new Set(t),U=t=>t[t.length-1],D=()=>[],Y=t=>t.slice(),G=(t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},de=Array.from,Ve=(t,e)=>{for(let n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0},ce=(t,e)=>{for(let n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},ue=(t,e)=>t.length===e.length&&Ve(t,(n,o)=>n===e[o]),K=t=>re(t,[],(e,n)=>e.concat(n)),ne=(t,e)=>{const n=new Array(t);for(let o=0;o<t;o++)n[o]=e(o,n);return n},re=(t,e,n)=>t.reduce(n,e),$=Array.isArray,Q=t=>de(set.from(t)),ae=(t,e)=>{const n=set.create(),o=[];for(let s=0;s<t.length;s++){const d=t[s],S=e(d);n.has(S)||(n.add(S),o.push(d))}return o},oe=(t,e)=>{const n=Array(t.length);for(let o=0;o<t.length;o++)n[o]=e(t[o],o,t);return n};class Ee{constructor(){this._observers=i()}on(e,n){return _(this._observers,e,u).add(n),n}once(e,n){const o=(...s)=>{this.off(e,o),n(...s)};this.on(e,o)}off(e,n){const o=this._observers.get(e);o!==void 0&&(o.delete(n),o.size===0&&this._observers.delete(e))}emit(e,n){return de((this._observers.get(e)||i()).values()).forEach(o=>o(...n))}destroy(){this._observers=i()}}class Le{constructor(){this._observers=map.create()}on(e,n){map.setIfUndefined(this._observers,e,set.create).add(n)}once(e,n){const o=(...s)=>{this.off(e,o),n(...s)};this.on(e,o)}off(e,n){const o=this._observers.get(e);o!==void 0&&(o.delete(n),o.size===0&&this._observers.delete(e))}emit(e,n){return array.from((this._observers.get(e)||map.create()).values()).forEach(o=>o(...n))}destroy(){this._observers=map.create()}}const R=Math.floor,J=Math.ceil,ke=Math.abs,xe=Math.imul,Ze=Math.round,Z=Math.log10,ie=Math.log2,Se=Math.log,Ge=Math.sqrt,Et=(t,e)=>t+e,Wt=(t,e)=>t<e?t:e,Tt=(t,e)=>t>e?t:e,X=Number.isNaN,he=Math.pow,ve=t=>Math.pow(10,t),be=Math.sign,Pe=t=>t!==0?t<0:1/t<0,ut=1,mt=2,$t=4,Jt=8,Ie=16,Me=32,We=64,$e=128,me=256,Ut=512,yn=1024,mn=2048,kn=4096,Tn=8192,vn=16384,On=32768,Ln=65536,An=1<<17,cn=1<<18,M=1<<19,W=1<<20,ye=1<<21,Ne=1<<22,Xe=1<<23,yt=1<<24,xt=1<<25,ht=1<<26,ze=1<<27,Je=1<<28,zt=1<<29,un=1<<30,Vt=null,tn=0,Qt=1,qt=3,wn=7,pn=15,gn=31,vt=63,Lt=127,Ot=255,st=511,kt=1023,Kt=2047,vr=4095,Pn=8191,jr=16383,Dr=32767,qn=65535,er=An-1,Vo=cn-1,Io=M-1,tr=W-1,nr=ye-1,Pr=Ne-1,Zr=Xe-1,z=yt-1,pe=xt-1,tt=ht-1,rt=ze-1,Ke=Je-1,dt=zt-1,Dt=un-1,St=2147483647,Zt=4294967295,rn=Number.MAX_SAFE_INTEGER,xn=Number.MIN_SAFE_INTEGER,Xn=null,dr=St,rr=Zt,Hn=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&R(t)===t),go=Number.isNaN,Yr=Number.parseInt,oi=t=>{t&=binary.BITS32;let e=0;for(;t;)t&=t-1,e++;return e},Ir=String.fromCharCode,Jr=String.fromCodePoint,Fo=Ir(65535),To=t=>t.toLowerCase(),Qr=/^\s*/g,dn=t=>t.replace(Qr,""),Oi=/([A-Z])/g,Ao=(t,e)=>dn(t.replace(Oi,n=>`${e}${To(n)}`)),ns=t=>unescape(encodeURIComponent(t)).length,ii=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,o=new Uint8Array(n);for(let s=0;s<n;s++)o[s]=e.codePointAt(s);return o},qr=typeof TextEncoder!="undefined"?new TextEncoder:null,Mi=qr?t=>qr.encode(t):ii,Ni=t=>{let e=t.length,n="",o=0;for(;e>0;){const s=e<1e4?e:1e4,d=t.subarray(o,o+s);o+=s,n+=String.fromCodePoint.apply(null,d),e-=s}return decodeURIComponent(escape(n))};let Oo=typeof TextDecoder=="undefined"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Oo&&Oo.decode(new Uint8Array).length===1&&(Oo=null);const mo=t=>Oo.decode(t),si=null,Di=(t,e,n,o="")=>t.slice(0,e)+o+t.slice(e+n),Pi=(t,e)=>array.unfold(e,()=>t).join("");class fr{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const eo=()=>new fr,Ri=t=>{const e=eo();return t(e),Yn(e)},ai=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},Li=t=>t.cpos>0||t.bufs.length>0,Yn=t=>{const e=new Uint8Array(ai(t));let n=0;for(let o=0;o<t.bufs.length;o++){const s=t.bufs[o];e.set(s,n),n+=s.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},to=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(Tt(n,e)*2),t.cpos=0)},Mn=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},yo=(t,e,n)=>{let o=null;for(let s=0;s<t.bufs.length&&o===null;s++){const d=t.bufs[s];e<d.length?o=d:e-=d.length}o===null&&(o=t.cbuf),o[e]=n},jo=Mn,Mo=null,os=(t,e)=>{Mn(t,e&binary.BITS8),Mn(t,e>>>8&binary.BITS8)},is=(t,e,n)=>{yo(t,e,n&binary.BITS8),yo(t,e+1,n>>>8&binary.BITS8)},Bi=(t,e)=>{for(let n=0;n<4;n++)Mn(t,e&binary.BITS8),e>>>=8},ci=(t,e)=>{for(let n=3;n>=0;n--)Mn(t,e>>>8*n&binary.BITS8)},li=(t,e,n)=>{for(let o=0;o<4;o++)yo(t,e+o,n&binary.BITS8),n>>>=8},bn=(t,e)=>{for(;e>Lt;)Mn(t,$e|Lt&e),e=R(e/128);Mn(t,Lt&e)},br=(t,e)=>{const n=Pe(e);for(n&&(e=-e),Mn(t,(e>vt?$e:0)|(n?We:0)|vt&e),e=R(e/64);e>0;)Mn(t,(e>Lt?$e:0)|Lt&e),e=R(e/128)},No=new Uint8Array(3e4),no=No.length/3,ui=(t,e)=>{if(e.length<no){const n=qr.encodeInto(e,No).written||0;bn(t,n);for(let o=0;o<n;o++)Mn(t,No[o])}else or(t,Mi(e))},Zo=(t,e)=>{const n=unescape(encodeURIComponent(e)),o=n.length;bn(t,o);for(let s=0;s<o;s++)Mn(t,n.codePointAt(s))},ro=qr&&qr.encodeInto?ui:Zo,Ui=(t,e)=>Ho(t,string.encodeUtf8(e)),Ho=(t,e)=>{for(let n=0;n<e.length;n++){const o=e[n];(o===0||o===1)&&Mn(t,1),Mn(t,e[n])}Mn(t,0)},zi=(t,e)=>Hr(t,Yn(e)),Hr=(t,e)=>{const n=t.cbuf.length,o=t.cpos,s=Wt(n-o,e.length),d=e.length-s;t.cbuf.set(e.subarray(0,s),o),t.cpos+=s,d>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(Tt(n*2,d)),t.cbuf.set(e.subarray(s)),t.cpos=d)},or=(t,e)=>{bn(t,e.byteLength),Hr(t,e)},hr=(t,e)=>{to(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},oo=(t,e)=>hr(t,4).setFloat32(0,e,!1),Do=(t,e)=>hr(t,8).setFloat64(0,e,!1),Vi=(t,e)=>hr(t,8).setBigInt64(0,e,!1),Fi=(t,e)=>hr(t,8).setBigUint64(0,e,!1),$o=new DataView(new ArrayBuffer(4)),di=t=>($o.setFloat32(0,t),$o.getFloat32(0)===t),wo=(t,e)=>{switch(typeof e){case"string":Mn(t,119),ro(t,e);break;case"number":Hn(e)&&ke(e)<=St?(Mn(t,125),br(t,e)):di(e)?(Mn(t,124),oo(t,e)):(Mn(t,123),Do(t,e));break;case"bigint":Mn(t,122),Vi(t,e);break;case"object":if(e===null)Mn(t,126);else if($(e)){Mn(t,117),bn(t,e.length);for(let n=0;n<e.length;n++)wo(t,e[n])}else if(e instanceof Uint8Array)Mn(t,116),or(t,e);else{Mn(t,118);const n=Object.keys(e);bn(t,n.length);for(let o=0;o<n.length;o++){const s=n[o];ro(t,s),wo(t,e[s])}}break;case"boolean":Mn(t,e?120:121);break;default:Mn(t,127)}};class fi extends fr{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&bn(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}class ji extends null{constructor(e){super(),this.s=e}write(e){br(this,e-this.s),this.s=e}}class xr extends null{constructor(e){super(),this.s=e,this.count=0}write(e){this.s===e&&this.count>0?this.count++:(this.count>0&&bn(this,this.count-1),this.count=1,br(this,e-this.s),this.s=e)}}const vo=t=>{t.count>0&&(br(t.encoder,t.count===1?t.s:-t.s),t.count>1&&bn(t.encoder,t.count-2))};class Tr{constructor(){this.encoder=new fr,this.s=0,this.count=0}write(e){this.s===e?this.count++:(vo(this),this.count=1,this.s=e)}toUint8Array(){return vo(this),Yn(this.encoder)}}class _r{constructor(){this.encoder=new fr,this.s=0,this.count=0}write(e){this.s+this.count===e?this.count++:(vo(this),this.count=1,this.s=e)}toUint8Array(){return vo(this),Yn(this.encoder)}}const hi=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);br(t.encoder,e),t.count>1&&bn(t.encoder,t.count-2)}};class Po{constructor(){this.encoder=new fr,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(hi(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return hi(this),Yn(this.encoder)}}class pi{constructor(){this.sarr=[],this.s="",this.lensE=new Tr}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new fr;return this.sarr.push(this.s),this.s="",ro(e,this.sarr.join("")),Hr(e,this.lensE.toUint8Array()),Yn(e)}}const Zi=crypto.subtle,io=crypto.getRandomValues.bind(crypto),bo=Math.random,xo=()=>io(new Uint32Array(1))[0],ss=()=>{const t=getRandomValues(new Uint32Array(8));return(t[0]&binary.BITS21)*(binary.BITS32+1)+(t[1]>>>0)},Rr=t=>t[math.floor(bo()*t.length)],Ro="10000000-1000-4000-8000"+-1e11,gi=()=>Ro.replace(/[018]/g,t=>(t^xo()&15>>t/4).toString(16)),so=t=>new Promise(t),Lo=t=>new Promise(t),as=Promise.all.bind(Promise),cs=t=>Promise.reject(t),Hi=t=>Promise.resolve(t),$i=t=>Promise.resolve(t),Dn=(t,e,n=10)=>so((o,s)=>{const d=time.getUnixTime(),S=t>0,F=setInterval(()=>{e()?(clearInterval(F),o()):S&&time.getUnixTime()-d>t&&(clearInterval(F),s(new Error("Timeout")))},n)}),ls=(t,e=0,n=10)=>Jc(this,null,function*(){const o=time.getUnixTime(),s=e<=0;for(;s||time.getUnixTime()-o<=e;){if(yield t())return;yield Wi(n)}throw new Error("Timeout")}),Wi=t=>so((e,n)=>setTimeout(e,t)),a=t=>t instanceof Promise||t&&t.then&&t.catch&&t.finally,g=t=>new Error(t),k=()=>{throw g("Method unimplemented")},V=()=>{throw g("Unexpected case")},fe=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&fe(t,e,n+1)}},Ce=()=>{},le=t=>t(),Be=t=>t,Ye=(t,e)=>t===e,Qe=(t,e)=>t===e||t!=null&&e!=null&&t.constructor===e.constructor&&(array.isArray(t)&&array.equalFlat(t,e)||typeof t=="object"&&object.equalFlat(t,e)),qe=(t,e)=>{if(t==null||e==null)return Ye(t,e);if(t.constructor!==e.constructor)return!1;if(t===e)return!0;switch(t.constructor){case ArrayBuffer:t=new Uint8Array(t),e=new Uint8Array(e);case Uint8Array:{if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;break}case Set:{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;break}case Map:{if(t.size!==e.size)return!1;for(const n of t.keys())if(!e.has(n)||!qe(t.get(n),e.get(n)))return!1;break}case Object:if(object.length(t)!==object.length(e))return!1;for(const n in t)if(!object.hasProperty(t,n)||!qe(t[n],e[n]))return!1;break;case Array:if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!qe(t[n],e[n]))return!1;break;default:return!1}return!0},Bt=(t,e)=>e.includes(t),Ft=$,en=t=>t&&t.constructor===String,ir=t=>t!=null&&t.constructor===Number,Bn=(t,e)=>t&&t.constructor===e,ur=t=>e=>e&&e.constructor===t,nn=t=>t===void 0?null:t;class Lr{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let pr=new Lr,Ar=!0;try{typeof localStorage!="undefined"&&localStorage&&(pr=localStorage,Ar=!1)}catch(t){}const Br=pr,gr=t=>Ar||addEventListener("storage",t),Wo=t=>Ar||removeEventListener("storage",t);var ar=h(14224);const Er=typeof ar!="undefined"&&ar.release&&/node|io\.js/.test(ar.release.name)&&Object.prototype.toString.call(typeof ar!="undefined"?ar:0)==="[object process]",Ko=typeof window!="undefined"&&typeof document!="undefined"&&!Er,Go=typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1;let mr;const Ki=[],Te=()=>{if(mr===void 0)if(Er){mr=i();const t=ar.argv;let e=null;for(let n=0;n<t.length;n++){const o=t[n];o[0]==="-"?(e!==null&&mr.set(e,""),e=o):e!==null?(mr.set(e,o),e=null):Ki.push(o)}e!==null&&mr.set(e,"")}else typeof location=="object"?(mr=i(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");mr.set(`--${Ao(e,"-")}`,n),mr.set(`-${Ao(e,"-")}`,n)}})):mr=i();return mr},At=t=>Te().has(t),et=(t,e)=>Te().get(t)||e,Rt=t=>nn(Er?{NODE_ENV:"production",PUBLIC_PATH:"/"}[t.toUpperCase().replaceAll("-","_")]:Br.getItem(t)),on=t=>Te().get("--"+t)||Rt(t),sn=t=>{const e=on(t);if(e==null)throw new Error(`Expected configuration "${t.toUpperCase().replaceAll("-","_")}"`);return e},hn=t=>At("--"+t)||Rt(t)!==null,Sn=hn("production"),Sr=Er&&Bt({NODE_ENV:"production",PUBLIC_PATH:"/"}.FORCE_COLOR,["true","1","2"])||!At("--no-colors")&&!hn("no-color")&&(!Er||ar.stdout.isTTY)&&(!Er||At("--color")||Rt("COLORTERM")!==null||(Rt("TERM")||"").includes("color"));class Zn{constructor(e,n){this.left=e,this.right=n}}const Fn=(t,e)=>new Zn(t,e),Or=(t,e)=>new Zn(e,t),Cr=(t,e)=>t.forEach(n=>e(n.left,n.right)),Ur=(t,e)=>t.map(n=>e(n.left,n.right)),Jn=typeof document!="undefined"?document:{},us=t=>Jn.createElement(t),Cs=()=>Jn.createDocumentFragment(),ks=t=>Jn.createTextNode(t),Is=typeof DOMParser!="undefined"?new DOMParser:null,Gs=(t,e,n)=>t.dispatchEvent(new CustomEvent(e,n)),Ts=(t,e)=>(pair.forEach(e,(n,o)=>{o===!1?t.removeAttribute(n):o===!0?t.setAttribute(n,""):t.setAttribute(n,o)}),t),Xs=(t,e)=>(e.forEach((n,o)=>{t.setAttribute(o,n)}),t),ds=t=>{const e=Cs();for(let n=0;n<t.length;n++)H(e,t[n]);return e},As=(t,e)=>(H(t,ds(e)),t),Os=t=>t.remove(),Ms=(t,e,n)=>t.addEventListener(e,n),Ns=(t,e,n)=>t.removeEventListener(e,n),Ys=(t,e)=>(pair.forEach(e,(n,o)=>Ms(t,n,o)),t),Js=(t,e)=>(pair.forEach(e,(n,o)=>Ns(t,n,o)),t),Qs=(t,e=[],n=[])=>As(Ts(us(t),e),n),qs=(t,e)=>{const n=us("canvas");return n.height=e,n.width=t,n},ea=null,r=t=>`${t.left}:${t.right};`,c=t=>t.map(r).join(""),p=t=>T(t,(e,n)=>`${n}:${e};`).join(""),m=(t,e)=>t.querySelector(e),v=(t,e)=>t.querySelectorAll(e),N=t=>Jn.getElementById(t),A=t=>Is.parseFromString(`<html><body>${t}</body></html>`,"text/html").body,l=t=>ds(A(t).childNodes),w=t=>A(t).firstElementChild,E=(t,e)=>t.replaceWith(e),L=(t,e,n)=>t.insertBefore(e,n),H=(t,e)=>t.appendChild(e),ge=Jn.ELEMENT_NODE,se=Jn.TEXT_NODE,_e=Jn.CDATA_SECTION_NODE,we=Jn.COMMENT_NODE,De=Jn.DOCUMENT_NODE,Ae=Jn.DOCUMENT_TYPE_NODE,Re=Jn.DOCUMENT_FRAGMENT_NODE,Fe=(t,e)=>t.nodeType===e,lt=(t,e)=>{let n=e.parentNode;for(;n&&n!==t;)n=n.parentNode;return n===t},it=Symbol,Mt=t=>typeof t=="symbol",Gt=()=>new Date,Pt=Date.now,at=t=>{if(t<6e4){const d=metric.prefix(t,-1);return math.round(d.n*100)/100+d.prefix+"s"}t=math.floor(t/1e3);const e=t%60,n=math.floor(t/60)%60,o=math.floor(t/3600)%24,s=math.floor(t/86400);return s>0?s+"d"+(o>0||n>30?" "+(n>30?o+1:o)+"h":""):o>0?o+"h"+(n>0||e>30?" "+(e>30?n+1:n)+"min":""):n+"min"+(e>0?" "+e+"s":"")},ft=it(),wt=it(),bt=it(),ot=it(),je=it(),ct=it(),It=it(),Ht=it(),jt=it(),Ue=t=>{var s;t.length===1&&((s=t[0])==null?void 0:s.constructor)===Function&&(t=t[0]());const e=[],n=[];let o=0;for(;o<t.length;o++){const d=t[o];if(d===void 0)break;if(d.constructor===String||d.constructor===Number)e.push(d);else if(d.constructor===Object)break}for(o>0&&n.push(e.join(""));o<t.length;o++){const d=t[o];d instanceof Symbol||n.push(d)}return n},Ct=[je,It,Ht,bt];let _t=0,pt=Pt();const Yt=(t,e)=>{const n=Ct[_t],o=env.getVariable("log"),s=o!==null&&(o==="*"||o==="true"||new RegExp(o,"gi").test(e));return _t=(_t+1)%Ct.length,e+=": ",s?(...d)=>{var F;d.length===1&&((F=d[0])==null?void 0:F.constructor)===Function&&(d=d[0]());const S=time.getUnixTime(),P=S-pt;pt=S,t(n,e,jt,...d.map(ee=>{switch(ee!=null&&ee.constructor===Uint8Array&&(ee=Array.from(ee)),typeof ee){case"string":case"symbol":return ee;default:return json.stringify(ee)}}),n," +"+P+"ms")}:func.nop},an={[ft]:Fn("font-weight","bold"),[wt]:Fn("font-weight","normal"),[bt]:Fn("color","blue"),[je]:Fn("color","green"),[ot]:Fn("color","grey"),[ct]:Fn("color","red"),[It]:Fn("color","purple"),[Ht]:Fn("color","orange"),[jt]:Fn("color","black")},Nn=Sr?t=>{var S;t.length===1&&((S=t[0])==null?void 0:S.constructor)===Function&&(t=t[0]());const e=[],n=[],o=i();let s=[],d=0;for(;d<t.length;d++){const P=t[d],F=an[P];if(F!==void 0)o.set(F.left,F.right);else{if(P===void 0)break;if(P.constructor===String||P.constructor===Number){const ee=p(o);d>0||ee.length>0?(e.push("%c"+P),n.push(ee)):e.push(P)}else break}}for(d>0&&(s=n,s.unshift(e.join("")));d<t.length;d++){const P=t[d];P instanceof Symbol||s.push(P)}return s}:Ue,jn=(...t)=>{console.log(...Nn(t)),_n.forEach(e=>e.print(t))},cr=(...t)=>{console.warn(...Nn(t)),t.unshift(Ht),_n.forEach(e=>e.print(t))},lr=t=>{console.error(t),_n.forEach(e=>e.printError(t))},Qn=(t,e)=>{env.isBrowser&&console.log("%c                      ",`font-size: ${e}px; background-size: contain; background-repeat: no-repeat; background-image: url(${t})`),_n.forEach(n=>n.printImg(t,e))},Mr=(t,e)=>Qn(`data:image/gif;base64,${t}`,e),$n=(...t)=>{console.group(...Nn(t)),_n.forEach(e=>e.group(t))},ao=(...t)=>{console.groupCollapsed(...Nn(t)),_n.forEach(e=>e.groupCollapsed(t))},$r=()=>{console.groupEnd(),_n.forEach(t=>t.groupEnd())},Wn=t=>_n.forEach(e=>e.printDom(t())),zr=(t,e)=>Qn(t.toDataURL(),e),_n=u(),Xt=t=>{const e=[],n=new Map;let o=0;for(;o<t.length;o++){let s=t[o];const d=an[s];if(d!==void 0)n.set(d.left,d.right);else if(s===void 0&&(s="undefined "),s.constructor===String||s.constructor===Number){const S=dom.element("span",[pair.create("style",dom.mapToStyleString(n))],[dom.text(s.toString())]);S.innerHTML===""&&(S.innerHTML="&nbsp;"),e.push(S)}else break}for(;o<t.length;o++){let s=t[o];s instanceof Symbol||(s.constructor!==String&&s.constructor!==Number&&(s=" "+json.stringify(s)+" "),e.push(dom.element("span",[],[dom.text(s)])))}return e},kr="font-family:monospace;border-bottom:1px solid #e2e2e2;padding:2px;";class Xo{constructor(e){this.dom=e,this.ccontainer=this.dom,this.depth=0,_n.add(this)}group(e,n=!1){eventloop.enqueue(()=>{const o=dom.element("span",[pair.create("hidden",n),pair.create("style","color:grey;font-size:120%;")],[dom.text("\u25BC")]),s=dom.element("span",[pair.create("hidden",!n),pair.create("style","color:grey;font-size:125%;")],[dom.text("\u25B6")]),d=dom.element("div",[pair.create("style",`${kr};padding-left:${this.depth*10}px`)],[o,s,dom.text(" ")].concat(Xt(e))),S=dom.element("div",[pair.create("hidden",n)]),P=dom.element("div",[],[d,S]);dom.append(this.ccontainer,[P]),this.ccontainer=S,this.depth++,dom.addEventListener(d,"click",F=>{S.toggleAttribute("hidden"),o.toggleAttribute("hidden"),s.toggleAttribute("hidden")})})}groupCollapsed(e){this.group(e,!0)}groupEnd(){eventloop.enqueue(()=>{this.depth>0&&(this.depth--,this.ccontainer=this.ccontainer.parentElement.parentElement)})}print(e){eventloop.enqueue(()=>{dom.append(this.ccontainer,[dom.element("div",[pair.create("style",`${kr};padding-left:${this.depth*10}px`)],Xt(e))])})}printError(e){this.print([common.RED,common.BOLD,e.toString()])}printImg(e,n){eventloop.enqueue(()=>{dom.append(this.ccontainer,[dom.element("img",[pair.create("src",e),pair.create("height",`${math.round(n*1.5)}px`)])])})}printDom(e){eventloop.enqueue(()=>{dom.append(this.ccontainer,[e])})}destroy(){eventloop.enqueue(()=>{_n.delete(this)})}}const fs=t=>new Xo(t),Gi=t=>common.createModuleLogger(jn,t),Xi=(t,e)=>({[Symbol.iterator](){return this},next(){const n=t.next();return{value:n.done?void 0:e(n.value),done:n.done}}}),co=t=>({[Symbol.iterator](){return this},next:t}),mi=(t,e)=>co(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),_o=(t,e)=>co(()=>{const{done:n,value:o}=t.next();return{done:n,value:n?void 0:e(o)}}),yi=()=>Object.create(null),wi=Object.assign,Yo=Object.keys,Yi=(t,e)=>{for(const n in t)e(t[n],n)},yr=(t,e)=>{const n=[];for(const o in t)n.push(e(t[o],o));return n},lo=t=>Yo(t).length,Bo=t=>Yo(t).length,vi=(t,e)=>{for(const n in t)if(e(t[n],n))return!0;return!1},Jo=t=>{for(const e in t)return!1;return!0},Eo=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},uo=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),Ji=(t,e)=>t===e||Bo(t)===Bo(e)&&Eo(t,(n,o)=>(n!==void 0||uo(e,o))&&e[o]===n);class ta extends null{constructor(e,n){super(),this.doc=e,this.awareness=n}}class Qo{constructor(e,n){this.clock=e,this.len=n}}class Uo{constructor(){this.clients=new Map}}const qo=(t,e,n)=>e.clients.forEach((o,s)=>{const d=t.doc.store.clients.get(s);for(let S=0;S<o.length;S++){const P=o[S];lc(t,d,P.clock,P.len,n)}}),ei=(t,e)=>{let n=0,o=t.length-1;for(;n<=o;){const s=R((n+o)/2),d=t[s],S=d.clock;if(S<=e){if(e<S+d.len)return s;n=s+1}else o=s-1}return null},bi=(t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&ei(n,e.clock)!==null},Ds=t=>{t.clients.forEach(e=>{e.sort((s,d)=>s.clock-d.clock);let n,o;for(n=1,o=1;n<e.length;n++){const s=e[o-1],d=e[n];s.clock+s.len>=d.clock?s.len=Tt(s.len,d.clock+d.len-s.clock):(o<n&&(e[o]=d),o++)}e.length=o})},xi=t=>{const e=new Uo;for(let n=0;n<t.length;n++)t[n].clients.forEach((o,s)=>{if(!e.clients.has(s)){const d=o.slice();for(let S=n+1;S<t.length;S++)G(d,t[S].clients.get(s)||[]);e.clients.set(s,d)}});return Ds(e),e},Qi=(t,e,n,o)=>{_(t.clients,e,()=>[]).push(new Qo(n,o))},Ps=()=>new Uo,na=t=>{const e=Ps();return t.clients.forEach((n,o)=>{const s=[];for(let d=0;d<n.length;d++){const S=n[d];if(S.deleted){const P=S.id.clock;let F=S.length;if(d+1<n.length)for(let ee=n[d+1];d+1<n.length&&ee.deleted;ee=n[++d+1])F+=ee.length;s.push(new Qo(P,F))}}s.length>0&&e.clients.set(o,s)}),e},fo=(t,e)=>{bn(t.restEncoder,e.clients.size),de(e.clients.entries()).sort((n,o)=>o[0]-n[0]).forEach(([n,o])=>{t.resetDsCurVal(),bn(t.restEncoder,n);const s=o.length;bn(t.restEncoder,s);for(let d=0;d<s;d++){const S=o[d];t.writeDsClock(S.clock),t.writeDsLen(S.len)}})},Wr=t=>{const e=new Uo,n=decoding.readVarUint(t.restDecoder);for(let o=0;o<n;o++){t.resetDsCurVal();const s=decoding.readVarUint(t.restDecoder),d=decoding.readVarUint(t.restDecoder);if(d>0){const S=map.setIfUndefined(e.clients,s,()=>[]);for(let P=0;P<d;P++)S.push(new Qo(t.readDsClock(),t.readDsLen()))}}return e},hs=(t,e,n)=>{const o=new Uo,s=decoding.readVarUint(t.restDecoder);for(let d=0;d<s;d++){t.resetDsCurVal();const S=decoding.readVarUint(t.restDecoder),P=decoding.readVarUint(t.restDecoder),F=n.clients.get(S)||[],ee=Kn(n,S);for(let q=0;q<P;q++){const te=t.readDsClock(),Oe=te+t.readDsLen();if(te<ee){ee<Oe&&Qi(o,S,ee,Oe-ee);let nt=So(F,te),gt=F[nt];for(!gt.deleted&&gt.id.clock<te&&(F.splice(nt+1,0,ya(e,gt,te-gt.id.clock)),nt++);nt<F.length&&(gt=F[nt++],gt.id.clock<Oe);)gt.deleted||(Oe<gt.id.clock+gt.length&&F.splice(nt,0,ya(e,gt,Oe-gt.id.clock)),gt.delete(e))}else Qi(o,S,te,Oe-te)}}if(o.clients.size>0){const d=new ho;return encoding.writeVarUint(d.restEncoder,0),fo(d,o),d.toUint8Array()}return null},Rs=(t,e)=>{if(t.clients.size!==e.clients.size)return!1;for(const[n,o]of t.clients.entries()){const s=e.clients.get(n);if(s===void 0||o.length!==s.length)return!1;for(let d=0;d<o.length;d++){const S=o[d],P=s[d];if(S.clock!==P.clock||S.len!==P.len)return!1}}return!0},ps=xo;class ti extends Ee{constructor({guid:e=gi(),collectionid:n=null,gc:o=!0,gcFilter:s=()=>!0,meta:d=null,autoLoad:S=!1,shouldLoad:P=!0}={}){super(),this.gc=o,this.gcFilter=s,this.clientID=ps(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new sc,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=P,this.autoLoad=S,this.meta=d,this.isLoaded=!1,this.isSynced=!1,this.whenLoaded=so(ee=>{this.on("load",()=>{this.isLoaded=!0,ee(this)})});const F=()=>so(ee=>{const q=te=>{(te===void 0||te===!0)&&(this.off("sync",q),ee())};this.on("sync",q)});this.on("sync",ee=>{ee===!1&&this.isSynced&&(this.whenSynced=F()),this.isSynced=ee===void 0||ee===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=F()}load(){const e=this._item;e!==null&&!this.shouldLoad&&zn(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(de(this.subdocs).map(e=>e.guid))}transact(e,n=null){return zn(this,e,n)}get(e,n=wr){const o=_(this.share,e,()=>{const d=new n;return d._integrate(this,null),d}),s=o.constructor;if(n!==wr&&s!==n)if(s===wr){const d=new n;d._map=o._map,o._map.forEach(S=>{for(;S!==null;S=S.left)S.parent=d}),d._start=o._start;for(let S=d._start;S!==null;S=S.right)S.parent=d;return d._length=o._length,this.share.set(e,d),d._integrate(this,null),d}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return o}getArray(e=""){return this.get(e,Ci)}getText(e=""){return this.get(e,xs)}getMap(e=""){return this.get(e,qi)}getXmlElement(e=""){return this.get(e,ts)}getXmlFragment(e=""){return this.get(e,es)}toJSON(){const e={};return this.share.forEach((n,o)=>{e[o]=n.toJSON()}),e}destroy(){de(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new ti(Vn(Nt({guid:this.guid},n.opts),{shouldLoad:!1})),n.doc._item=e,zn(e.parent.doc,o=>{const s=n.doc;e.deleted||o.subdocsAdded.add(s),o.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class gs{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return decoding.readVarUint(this.restDecoder)}readDsLen(){return decoding.readVarUint(this.restDecoder)}}class Kr extends null{readLeftID(){return fn(decoding.readVarUint(this.restDecoder),decoding.readVarUint(this.restDecoder))}readRightID(){return fn(decoding.readVarUint(this.restDecoder),decoding.readVarUint(this.restDecoder))}readClient(){return decoding.readVarUint(this.restDecoder)}readInfo(){return decoding.readUint8(this.restDecoder)}readString(){return decoding.readVarString(this.restDecoder)}readParentInfo(){return decoding.readVarUint(this.restDecoder)===1}readTypeRef(){return decoding.readVarUint(this.restDecoder)}readLen(){return decoding.readVarUint(this.restDecoder)}readAny(){return decoding.readAny(this.restDecoder)}readBuf(){return buffer.copyUint8Array(decoding.readVarUint8Array(this.restDecoder))}readJSON(){return JSON.parse(decoding.readVarString(this.restDecoder))}readKey(){return decoding.readVarString(this.restDecoder)}}class ba{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=decoding.readVarUint(this.restDecoder),this.dsCurrVal}readDsLen(){const e=decoding.readVarUint(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class Vr extends null{constructor(e){super(e),this.keys=[],decoding.readVarUint(e),this.keyClockDecoder=new decoding.IntDiffOptRleDecoder(decoding.readVarUint8Array(e)),this.clientDecoder=new decoding.UintOptRleDecoder(decoding.readVarUint8Array(e)),this.leftClockDecoder=new decoding.IntDiffOptRleDecoder(decoding.readVarUint8Array(e)),this.rightClockDecoder=new decoding.IntDiffOptRleDecoder(decoding.readVarUint8Array(e)),this.infoDecoder=new decoding.RleDecoder(decoding.readVarUint8Array(e),decoding.readUint8),this.stringDecoder=new decoding.StringDecoder(decoding.readVarUint8Array(e)),this.parentInfoDecoder=new decoding.RleDecoder(decoding.readVarUint8Array(e),decoding.readUint8),this.typeRefDecoder=new decoding.UintOptRleDecoder(decoding.readVarUint8Array(e)),this.lenDecoder=new decoding.UintOptRleDecoder(decoding.readVarUint8Array(e))}readLeftID(){return new ys(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new ys(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return decoding.readAny(this.restDecoder)}readBuf(){return decoding.readVarUint8Array(this.restDecoder)}readJSON(){return decoding.readAny(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class ni{constructor(){this.restEncoder=eo()}toUint8Array(){return Yn(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){bn(this.restEncoder,e)}writeDsLen(e){bn(this.restEncoder,e)}}class ri extends ni{writeLeftID(e){bn(this.restEncoder,e.client),bn(this.restEncoder,e.clock)}writeRightID(e){bn(this.restEncoder,e.client),bn(this.restEncoder,e.clock)}writeClient(e){bn(this.restEncoder,e)}writeInfo(e){jo(this.restEncoder,e)}writeString(e){ro(this.restEncoder,e)}writeParentInfo(e){bn(this.restEncoder,e?1:0)}writeTypeRef(e){bn(this.restEncoder,e)}writeLen(e){bn(this.restEncoder,e)}writeAny(e){wo(this.restEncoder,e)}writeBuf(e){or(this.restEncoder,e)}writeJSON(e){ro(this.restEncoder,JSON.stringify(e))}writeKey(e){ro(this.restEncoder,e)}}class ms{constructor(){this.restEncoder=eo(),this.dsCurrVal=0}toUint8Array(){return Yn(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,bn(this.restEncoder,n)}writeDsLen(e){e===0&&V(),bn(this.restEncoder,e-1),this.dsCurrVal+=e}}class ho extends ms{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Po,this.clientEncoder=new Tr,this.leftClockEncoder=new Po,this.rightClockEncoder=new Po,this.infoEncoder=new fi(jo),this.stringEncoder=new pi,this.parentInfoEncoder=new fi(jo),this.typeRefEncoder=new Tr,this.lenEncoder=new Tr}toUint8Array(){const e=eo();return bn(e,0),or(e,this.keyClockEncoder.toUint8Array()),or(e,this.clientEncoder.toUint8Array()),or(e,this.leftClockEncoder.toUint8Array()),or(e,this.rightClockEncoder.toUint8Array()),or(e,Yn(this.infoEncoder)),or(e,this.stringEncoder.toUint8Array()),or(e,Yn(this.parentInfoEncoder)),or(e,this.typeRefEncoder.toUint8Array()),or(e,this.lenEncoder.toUint8Array()),Hr(e,Yn(this.restEncoder)),Yn(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){wo(this.restEncoder,e)}writeBuf(e){or(this.restEncoder,e)}writeJSON(e){wo(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const xa=(t,e,n,o)=>{o=Tt(o,e[0].id.clock);const s=So(e,o);bn(t.restEncoder,e.length-s),t.writeClient(n),bn(t.restEncoder,o);const d=e[s];d.write(t,o-d.id.clock);for(let S=s+1;S<e.length;S++)e[S].write(t,0)},Ls=(t,e,n)=>{const o=new Map;n.forEach((s,d)=>{Kn(e,d)>s&&o.set(d,s)}),js(e).forEach((s,d)=>{n.has(d)||o.set(d,0)}),bn(t.restEncoder,o.size),de(o.entries()).sort((s,d)=>d[0]-s[0]).forEach(([s,d])=>{xa(t,e.clients.get(s),s,d)})},_a=(t,e)=>{const n=map.create(),o=decoding.readVarUint(t.restDecoder);for(let s=0;s<o;s++){const d=decoding.readVarUint(t.restDecoder),S=new Array(d),P=t.readClient();let F=decoding.readVarUint(t.restDecoder);n.set(P,{i:0,refs:S});for(let ee=0;ee<d;ee++){const q=t.readInfo();switch(binary.BITS5&q){case 0:{const te=t.readLen();S[ee]=new Gr(fn(P,F),te),F+=te;break}case 10:{const te=decoding.readVarUint(t.restDecoder);S[ee]=new Fr(fn(P,F),te),F+=te;break}default:{const te=(q&(binary.BIT7|binary.BIT8))===0,Oe=new Rn(fn(P,F),null,(q&binary.BIT8)===binary.BIT8?t.readLeftID():null,null,(q&binary.BIT7)===binary.BIT7?t.readRightID():null,te?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,te&&(q&binary.BIT6)===binary.BIT6?t.readString():null,Zc(t,q));S[ee]=Oe,F+=Oe.length}}}}return n},Ea=(t,e,n)=>{const o=[];let s=array.from(n.keys()).sort((nt,gt)=>nt-gt);if(s.length===0)return null;const d=()=>{if(s.length===0)return null;let nt=n.get(s[s.length-1]);for(;nt.refs.length===nt.i;)if(s.pop(),s.length>0)nt=n.get(s[s.length-1]);else return null;return nt};let S=d();if(S===null)return null;const P=new sc,F=new Map,ee=(nt,gt)=>{const In=F.get(nt);(In==null||In>gt)&&F.set(nt,gt)};let q=S.refs[S.i++];const te=new Map,Oe=()=>{for(const nt of o){const gt=nt.id.client,In=n.get(gt);In?(In.i--,P.clients.set(gt,In.refs.slice(In.i)),n.delete(gt),In.i=0,In.refs=[]):P.clients.set(gt,[nt]),s=s.filter(ln=>ln!==gt)}o.length=0};for(;;){if(q.constructor!==Fr){const gt=map.setIfUndefined(te,q.id.client,()=>Kn(e,q.id.client))-q.id.clock;if(gt<0)o.push(q),ee(q.id.client,q.id.clock-1),Oe();else{const In=q.getMissing(t,e);if(In!==null){o.push(q);const ln=n.get(In)||{refs:[],i:0};if(ln.refs.length===ln.i)ee(In,Kn(e,In)),Oe();else{q=ln.refs[ln.i++];continue}}else(gt===0||gt<q.length)&&(q.integrate(t,gt),te.set(q.id.client,q.id.clock+q.length))}}if(o.length>0)q=o.pop();else if(S!==null&&S.i<S.refs.length)q=S.refs[S.i++];else{if(S=d(),S===null)break;q=S.refs[S.i++]}}if(P.clients.size>0){const nt=new ho;return Ls(nt,P,new Map),encoding.writeVarUint(nt.restEncoder,0),{missing:F,update:nt.toUint8Array()}}return null},Sa=(t,e)=>Ls(t,e.doc.store,e.beforeState),Bs=(t,e,n,o=new Vr(t))=>zn(e,s=>{s.local=!1;let d=!1;const S=s.doc,P=S.store,F=_a(o,S),ee=Ea(s,P,F),q=P.pendingStructs;if(q){for(const[Oe,nt]of q.missing)if(nt<Kn(P,Oe)){d=!0;break}if(ee){for(const[Oe,nt]of ee.missing){const gt=q.missing.get(Oe);(gt==null||gt>nt)&&q.missing.set(Oe,nt)}q.update=aa([q.update,ee.update])}}else P.pendingStructs=ee;const te=hs(o,s,P);if(P.pendingDs){const Oe=new Vr(decoding.createDecoder(P.pendingDs));decoding.readVarUint(Oe.restDecoder);const nt=hs(Oe,s,P);te&&nt?P.pendingDs=aa([te,nt]):P.pendingDs=te||nt}else P.pendingDs=te;if(d){const Oe=P.pendingStructs.update;P.pendingStructs=null,Us(s.doc,Oe)}},n,!1),Ka=(t,e,n)=>Bs(t,e,n,new Kr(t)),Us=(t,e,n,o=Vr)=>{const s=decoding.createDecoder(e);Bs(s,t,n,new o(s))},Ga=(t,e,n)=>Us(t,e,n,Kr),Ca=(t,e,n=new Map)=>{Ls(t,e.store,n),fo(t,na(e.store))},ka=(t,e=new Uint8Array([0]),n=new ho)=>{const o=ra(e);Ca(n,t,o);const s=[n.toUint8Array()];if(t.store.pendingDs&&s.push(t.store.pendingDs),t.store.pendingStructs&&s.push(yc(t.store.pendingStructs.update,e)),s.length>1){if(n.constructor===ri)return fl(s.map((d,S)=>S===0?d:ml(d)));if(n.constructor===ho)return aa(s)}return s[0]},Xa=(t,e)=>ka(t,e,new ri),zs=t=>{const e=new Map,n=decoding.readVarUint(t.restDecoder);for(let o=0;o<n;o++){const s=decoding.readVarUint(t.restDecoder),d=decoding.readVarUint(t.restDecoder);e.set(s,d)}return e},ra=t=>zs(new gs(decoding.createDecoder(t))),Vs=(t,e)=>(encoding.writeVarUint(t.restEncoder,e.size),array.from(e.entries()).sort((n,o)=>o[0]-n[0]).forEach(([n,o])=>{encoding.writeVarUint(t.restEncoder,n),encoding.writeVarUint(t.restEncoder,o)}),t),Ia=(t,e)=>Vs(t,js(e.store)),Ya=(t,e=new ms)=>(t instanceof Map?Vs(e,t):Ia(e,t),e.toUint8Array()),Ta=t=>Ya(t,new ni);class Fs{constructor(){this.l=[]}}const Ja=()=>new Fs,Qa=(t,e)=>t.l.push(e),qa=(t,e)=>{const n=t.l,o=n.length;t.l=n.filter(s=>e!==s),o===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},ec=(t,e,n)=>fe(t.l,[e,n]);class ys{constructor(e,n){this.client=e,this.clock=n}}const ws=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,fn=(t,e)=>new ys(t,e),tc=(t,e)=>{encoding.writeVarUint(t,e.client),encoding.writeVarUint(t,e.clock)},nc=t=>fn(decoding.readVarUint(t),decoding.readVarUint(t)),rc=t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw V()},oa=(t,e)=>{for(;e!==null;){if(e.parent===t)return!0;e=e.parent._item}return!1},au=t=>{const e=[];let n=t._start;for(;n;)e.push(n),n=n.right;console.log("Children: ",e),console.log("Children content: ",e.filter(o=>!o.deleted).map(o=>o.content))};class cu{constructor(e,n=e.getMap("users")){const o=new Map;this.yusers=n,this.doc=e,this.clients=new Map,this.dss=o;const s=(d,S)=>{const P=d.get("ds"),F=d.get("ids"),ee=q=>this.clients.set(q,S);P.observe(q=>{q.changes.added.forEach(te=>{te.content.getContent().forEach(Oe=>{Oe instanceof Uint8Array&&this.dss.set(S,xi([this.dss.get(S)||Ps(),Wr(new gs(decoding.createDecoder(Oe)))]))})})}),this.dss.set(S,xi(P.map(q=>Wr(new gs(decoding.createDecoder(q)))))),F.observe(q=>q.changes.added.forEach(te=>te.content.getContent().forEach(ee))),F.forEach(ee)};n.observe(d=>{d.keysChanged.forEach(S=>s(n.get(S),S))}),n.forEach(s)}setUserMapping(e,n,o,{filter:s=()=>!0}={}){const d=this.yusers;let S=d.get(o);S||(S=new qi,S.set("ids",new Ci),S.set("ds",new Ci),d.set(o,S)),S.get("ids").push([n]),d.observe(P=>{setTimeout(()=>{const F=d.get(o);if(F!==S){S=F,this.clients.forEach((te,Oe)=>{o===te&&S.get("ids").push([Oe])});const ee=new ni,q=this.dss.get(o);q&&(fo(ee,q),S.get("ds").push([ee.toUint8Array()]))}},0)}),e.on("afterTransaction",P=>{setTimeout(()=>{const F=S.get("ds"),ee=P.deleteSet;if(P.local&&ee.clients.size>0&&s(P,ee)){const q=new ni;fo(q,ee),F.push([q.toUint8Array()])}})})}getUserByClientId(e){return this.clients.get(e)||null}getUserByDeletedId(e){for(const[n,o]of this.dss.entries())if(bi(o,e))return n;return null}}class Aa{constructor(e,n,o,s=0){this.type=e,this.tname=n,this.item=o,this.assoc=s}}const lu=t=>{const e={};return t.type&&(e.type=t.type),t.tname&&(e.tname=t.tname),t.item&&(e.item=t.item),t.assoc!=null&&(e.assoc=t.assoc),e},uu=t=>{var e;return new Aa(t.type==null?null:fn(t.type.client,t.type.clock),(e=t.tname)!=null?e:null,t.item==null?null:fn(t.item.client,t.item.clock),t.assoc==null?0:t.assoc)};class Qc{constructor(e,n,o=0){this.type=e,this.index=n,this.assoc=o}}const qc=(t,e,n=0)=>new Qc(t,e,n),ia=(t,e,n)=>{let o=null,s=null;return t._item===null?s=rc(t):o=fn(t._item.id.client,t._item.id.clock),new Aa(o,s,e,n)},du=(t,e,n=0)=>{let o=t._start;if(n<0){if(e===0)return ia(t,null,n);e--}for(;o!==null;){if(!o.deleted&&o.countable){if(o.length>e)return ia(t,fn(o.id.client,o.id.clock+e),n);e-=o.length}if(o.right===null&&n<0)return ia(t,o.lastId,n);o=o.right}return ia(t,null,n)},el=(t,e)=>{const{type:n,tname:o,item:s,assoc:d}=e;if(s!==null)encoding.writeVarUint(t,0),tc(t,s);else if(o!==null)encoding.writeUint8(t,1),encoding.writeVarString(t,o);else if(n!==null)encoding.writeUint8(t,2),tc(t,n);else throw error.unexpectedCase();return encoding.writeVarInt(t,d),t},fu=t=>{const e=encoding.createEncoder();return el(e,t),encoding.toUint8Array(e)},tl=t=>{let e=null,n=null,o=null;switch(decoding.readVarUint(t)){case 0:o=nc(t);break;case 1:n=decoding.readVarString(t);break;case 2:e=nc(t)}const s=decoding.hasContent(t)?decoding.readVarInt(t):0;return new Aa(e,n,o,s)},hu=t=>tl(decoding.createDecoder(t)),pu=(t,e,n=!0)=>{const o=e.store,s=t.item,d=t.type,S=t.tname,P=t.assoc;let F=null,ee=0;if(s!==null){if(Kn(o,s.client)<=s.clock)return null;const q=n?Va(o,s):{item:vs(o,s),diff:0},te=q.item;if(!(te instanceof Rn))return null;if(F=te.parent,F._item===null||!F._item.deleted){ee=te.deleted||!te.countable?0:q.diff+(P>=0?0:1);let Oe=te.left;for(;Oe!==null;)!Oe.deleted&&Oe.countable&&(ee+=Oe.length),Oe=Oe.left}}else{if(S!==null)F=e.get(S);else if(d!==null){if(Kn(o,d.client)<=d.clock)return null;const{item:q}=n?Va(o,d):{item:vs(o,d)};if(q instanceof Rn&&q.content instanceof ko)F=q.content.type;else return null}else throw error.unexpectedCase();P>=0?ee=F._length:ee=0}return qc(F,ee,t.assoc)},gu=(t,e)=>t===e||t!==null&&e!==null&&t.tname===e.tname&&ws(t.item,e.item)&&ws(t.type,e.type)&&t.assoc===e.assoc;class oc{constructor(e,n){this.ds=e,this.sv=n}}const mu=(t,e)=>{const n=t.ds.clients,o=e.ds.clients,s=t.sv,d=e.sv;if(s.size!==d.size||n.size!==o.size)return!1;for(const[S,P]of s.entries())if(d.get(S)!==P)return!1;for(const[S,P]of n.entries()){const F=o.get(S)||[];if(P.length!==F.length)return!1;for(let ee=0;ee<P.length;ee++){const q=P[ee],te=F[ee];if(q.clock!==te.clock||q.len!==te.len)return!1}}return!0},nl=(t,e=new ms)=>(fo(e,t.ds),Vs(e,t.sv),e.toUint8Array()),yu=t=>nl(t,new ni),rl=(t,e=new ba(decoding.createDecoder(t)))=>new oc(Wr(e),zs(e)),wu=t=>rl(t,new gs(decoding.createDecoder(t))),ic=(t,e)=>new oc(t,e),vu=ic(Ps(),new Map),bu=t=>ic(na(t.store),js(t.store)),_i=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!bi(e.ds,t.id),Oa=(t,e)=>{const n=_(t.meta,Oa,u),o=t.doc.store;n.has(e)||(e.sv.forEach((s,d)=>{s<Kn(o,d)&&Nr(t,fn(d,s))}),qo(t,e.ds,s=>{}),n.add(e))},xu=(t,e,n=new ti)=>{if(t.gc)throw new Error("Garbage-collection must be disabled in `originDoc`!");const{sv:o,ds:s}=e,d=new ho;return t.transact(S=>{let P=0;o.forEach(F=>{F>0&&P++}),encoding.writeVarUint(d.restEncoder,P);for(const[F,ee]of o){if(ee===0)continue;ee<Kn(t.store,F)&&Nr(S,fn(F,ee));const q=t.store.clients.get(F)||[],te=So(q,ee-1);encoding.writeVarUint(d.restEncoder,te+1),d.writeClient(F),encoding.writeVarUint(d.restEncoder,0);for(let Oe=0;Oe<=te;Oe++)q[Oe].write(d,0)}fo(d,s)}),Us(n,d.toUint8Array(),"snapshot"),n},ol=(t,e,n=Vr)=>{const o=new n(decoding.createDecoder(e)),s=new Ei(o,!1);for(let S=s.curr;S!==null;S=s.next())if((t.sv.get(S.id.client)||0)<S.id.clock+S.length)return!1;const d=xi([t.ds,Wr(o)]);return Rs(t.ds,d)},_u=(t,e)=>ol(t,e,Kr);class sc{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const js=t=>{const e=new Map;return t.clients.forEach((n,o)=>{const s=n[n.length-1];e.set(o,s.id.clock+s.length)}),e},Kn=(t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const o=n[n.length-1];return o.id.clock+o.length},ac=(t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const o=n[n.length-1];if(o.id.clock+o.length!==e.id.clock)throw V()}n.push(e)},So=(t,e)=>{let n=0,o=t.length-1,s=t[o],d=s.id.clock;if(d===e)return o;let S=R(e/(d+s.length-1)*o);for(;n<=o;){if(s=t[S],d=s.id.clock,d<=e){if(e<d+s.length)return S;n=S+1}else o=S-1;S=R((n+o)/2)}throw V()},vs=(t,e)=>{const n=t.clients.get(e.client);return n[So(n,e.clock)]},Ma=(t,e,n)=>{const o=So(e,n),s=e[o];return s.id.clock<n&&s instanceof Rn?(e.splice(o+1,0,ya(t,s,n-s.id.clock)),o+1):o},Nr=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[Ma(t,n,e.clock)]},cc=(t,e,n)=>{const o=e.clients.get(n.client),s=So(o,n.clock),d=o[s];return n.clock!==d.id.clock+d.length-1&&d.constructor!==Gr&&o.splice(s+1,0,ya(t,d,n.clock-d.id.clock+1)),d},il=(t,e,n)=>{const o=t.clients.get(e.id.client);o[So(o,e.id.clock)]=n},lc=(t,e,n,o,s)=>{if(o===0)return;const d=n+o;let S=Ma(t,e,n),P;do P=e[S++],d<P.id.clock+P.length&&Ma(t,e,d),s(P);while(S<e.length&&e[S].id.clock<d)};class sl{constructor(e,n,o){this.doc=e,this.deleteSet=new Uo,this.beforeState=js(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=o,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const uc=(t,e)=>e.deleteSet.clients.size===0&&!x(e.afterState,(n,o)=>e.beforeState.get(o)!==n)?!1:(Ds(e.deleteSet),Sa(t,e),fo(t,e.deleteSet),!0),dc=(t,e,n)=>{const o=e._item;(o===null||o.id.clock<(t.beforeState.get(o.id.client)||0)&&!o.deleted)&&_(t.changed,e,u).add(n)},sa=(t,e)=>{let n=t[e],o=t[e-1],s=e;for(;s>0;n=o,o=t[--s-1]){if(o.deleted===n.deleted&&o.constructor===n.constructor&&o.mergeWith(n)){n instanceof Rn&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,o);continue}break}const d=e-s;return d&&t.splice(e+1-d,d),d},fc=(t,e,n)=>{for(const[o,s]of t.clients.entries()){const d=e.clients.get(o);for(let S=s.length-1;S>=0;S--){const P=s[S],F=P.clock+P.len;for(let ee=So(d,P.clock),q=d[ee];ee<d.length&&q.id.clock<F;q=d[++ee]){const te=d[ee];if(P.clock+P.len<=te.id.clock)break;te instanceof Rn&&te.deleted&&!te.keep&&n(te)&&te.gc(e,!1)}}}},hc=(t,e)=>{t.clients.forEach((n,o)=>{const s=e.clients.get(o);for(let d=n.length-1;d>=0;d--){const S=n[d],P=Wt(s.length-1,1+So(s,S.clock+S.len-1));for(let F=P,ee=s[F];F>0&&ee.id.clock>=S.clock;ee=s[F])F-=1+sa(s,F)}})},Su=(t,e,n)=>{fc(t,e,n),hc(t,e)},pc=(t,e)=>{if(e<t.length){const n=t[e],o=n.doc,s=o.store,d=n.deleteSet,S=n._mergeStructs;try{Ds(d),n.afterState=js(n.doc.store),o.emit("beforeObserverCalls",[n,o]);const P=[];n.changed.forEach((F,ee)=>P.push(()=>{(ee._item===null||!ee._item.deleted)&&ee._callObserver(n,F)})),P.push(()=>{n.changedParentTypes.forEach((F,ee)=>{ee._dEH.l.length>0&&(ee._item===null||!ee._item.deleted)&&(F=F.filter(q=>q.target._item===null||!q.target._item.deleted),F.forEach(q=>{q.currentTarget=ee,q._path=null}),F.sort((q,te)=>q.path.length-te.path.length),ec(ee._dEH,F,n))})}),P.push(()=>o.emit("afterTransaction",[n,o])),fe(P,[]),n._needFormattingCleanup&&Ol(n)}finally{o.gc&&fc(d,s,o.gcFilter),hc(d,s),n.afterState.forEach((q,te)=>{const Oe=n.beforeState.get(te)||0;if(Oe!==q){const nt=s.clients.get(te),gt=Tt(So(nt,Oe),1);for(let In=nt.length-1;In>=gt;)In-=1+sa(nt,In)}});for(let q=S.length-1;q>=0;q--){const{client:te,clock:Oe}=S[q].id,nt=s.clients.get(te),gt=So(nt,Oe);gt+1<nt.length&&sa(nt,gt+1)>1||gt>0&&sa(nt,gt)}if(!n.local&&n.afterState.get(o.clientID)!==n.beforeState.get(o.clientID)&&(jn(Ht,ft,"[yjs] ",wt,ct,"Changed the client-id because another client seems to be using it."),o.clientID=ps()),o.emit("afterTransactionCleanup",[n,o]),o._observers.has("update")){const q=new ri;uc(q,n)&&o.emit("update",[q.toUint8Array(),n.origin,o,n])}if(o._observers.has("updateV2")){const q=new ho;uc(q,n)&&o.emit("updateV2",[q.toUint8Array(),n.origin,o,n])}const{subdocsAdded:P,subdocsLoaded:F,subdocsRemoved:ee}=n;(P.size>0||ee.size>0||F.size>0)&&(P.forEach(q=>{q.clientID=o.clientID,q.collectionid==null&&(q.collectionid=o.collectionid),o.subdocs.add(q)}),ee.forEach(q=>o.subdocs.delete(q)),o.emit("subdocs",[{loaded:F,added:P,removed:ee},o,n]),ee.forEach(q=>q.destroy())),t.length<=e+1?(o._transactionCleanups=[],o.emit("afterAllTransactions",[o,t])):pc(t,e+1)}}},zn=(t,e,n=null,o=!0)=>{const s=t._transactionCleanups;let d=!1,S=null;t._transaction===null&&(d=!0,t._transaction=new sl(t,n,o),s.push(t._transaction),s.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{S=e(t._transaction)}finally{if(d){const P=t._transaction===s[0];t._transaction=null,P&&pc(s,0)}}return S};class al{constructor(e,n){this.insertions=n,this.deletions=e,this.meta=new Map}}const gc=(t,e,n)=>{qo(t,n.deletions,o=>{o instanceof Rn&&e.scope.some(s=>oa(s,o))&&Fa(o,!1)})},mc=(t,e,n)=>{let o=null;const s=t.doc,d=t.scope;zn(s,P=>{for(;e.length>0&&t.currStackItem===null;){const F=s.store,ee=e.pop(),q=new Set,te=[];let Oe=!1;qo(P,ee.insertions,nt=>{if(nt instanceof Rn){if(nt.redone!==null){let{item:gt,diff:In}=Va(F,nt.id);In>0&&(gt=Nr(P,fn(gt.id.client,gt.id.clock+In))),nt=gt}!nt.deleted&&d.some(gt=>oa(gt,nt))&&te.push(nt)}}),qo(P,ee.deletions,nt=>{nt instanceof Rn&&d.some(gt=>oa(gt,nt))&&!bi(ee.insertions,nt.id)&&q.add(nt)}),q.forEach(nt=>{Oe=jc(P,nt,q,ee.insertions,t.ignoreRemoteMapChanges,t)!==null||Oe});for(let nt=te.length-1;nt>=0;nt--){const gt=te[nt];t.deleteFilter(gt)&&(gt.delete(P),Oe=!0)}t.currStackItem=Oe?ee:null}P.changed.forEach((F,ee)=>{F.has(null)&&ee._searchMarker&&(ee._searchMarker.length=0)}),o=P},t);const S=t.currStackItem;if(S!=null){const P=o.changedParentTypes;t.emit("stack-item-popped",[{stackItem:S,type:n,changedParentTypes:P,origin:t},t]),t.currStackItem=null}return S};class cl extends Ee{constructor(e,{captureTimeout:n=500,captureTransaction:o=F=>!0,deleteFilter:s=()=>!0,trackedOrigins:d=new Set([null]),ignoreRemoteMapChanges:S=!1,doc:P=$(e)?e[0].doc:e.doc}={}){super(),this.scope=[],this.doc=P,this.addToScope(e),this.deleteFilter=s,d.add(this),this.trackedOrigins=d,this.captureTransaction=o,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=S,this.captureTimeout=n,this.afterTransactionHandler=F=>{if(!this.captureTransaction(F)||!this.scope.some(ln=>F.changedParentTypes.has(ln))||!this.trackedOrigins.has(F.origin)&&(!F.origin||!this.trackedOrigins.has(F.origin.constructor)))return;const ee=this.undoing,q=this.redoing,te=ee?this.redoStack:this.undoStack;ee?this.stopCapturing():q||this.clear(!1,!0);const Oe=new Uo;F.afterState.forEach((ln,En)=>{const Xr=F.beforeState.get(En)||0,Wc=ln-Xr;Wc>0&&Qi(Oe,En,Xr,Wc)});const nt=Pt();let gt=!1;if(this.lastChange>0&&nt-this.lastChange<this.captureTimeout&&te.length>0&&!ee&&!q){const ln=te[te.length-1];ln.deletions=xi([ln.deletions,F.deleteSet]),ln.insertions=xi([ln.insertions,Oe])}else te.push(new al(F.deleteSet,Oe)),gt=!0;!ee&&!q&&(this.lastChange=nt),qo(F,F.deleteSet,ln=>{ln instanceof Rn&&this.scope.some(En=>oa(En,ln))&&Fa(ln,!0)});const In=[{stackItem:te[te.length-1],origin:F.origin,type:ee?"redo":"undo",changedParentTypes:F.changedParentTypes},this];gt?this.emit("stack-item-added",In):this.emit("stack-item-updated",In)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){e=$(e)?e:[e],e.forEach(n=>{this.scope.every(o=>o!==n)&&(n.doc!==this.doc&&cr("[yjs#509] Not same Y.Doc"),this.scope.push(n))})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,n=!0){(e&&this.canUndo()||n&&this.canRedo())&&this.doc.transact(o=>{e&&(this.undoStack.forEach(s=>gc(o,this,s)),this.undoStack=[]),n&&(this.redoStack.forEach(s=>gc(o,this,s)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:n}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=mc(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=mc(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}function*ll(t){const e=decoding.readVarUint(t.restDecoder);for(let n=0;n<e;n++){const o=decoding.readVarUint(t.restDecoder),s=t.readClient();let d=decoding.readVarUint(t.restDecoder);for(let S=0;S<o;S++){const P=t.readInfo();if(P===10){const F=decoding.readVarUint(t.restDecoder);yield new Fr(fn(s,d),F),d+=F}else if(binary.BITS5&P){const F=(P&(binary.BIT7|binary.BIT8))===0,ee=new Rn(fn(s,d),null,(P&binary.BIT8)===binary.BIT8?t.readLeftID():null,null,(P&binary.BIT7)===binary.BIT7?t.readRightID():null,F?t.readParentInfo()?t.readString():t.readLeftID():null,F&&(P&binary.BIT6)===binary.BIT6?t.readString():null,Zc(t,P));yield ee,d+=ee.length}else{const F=t.readLen();yield new Gr(fn(s,d),F),d+=F}}}}class Ei{constructor(e,n){this.gen=ll(e),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===Fr);return this.curr}}const Cu=t=>ul(t,Kr),ul=(t,e=Vr)=>{const n=[],o=new e(decoding.createDecoder(t)),s=new Ei(o,!1);for(let S=s.curr;S!==null;S=s.next())n.push(S);logging.print("Structs: ",n);const d=Wr(o);logging.print("DeleteSet: ",d)},ku=t=>dl(t,Kr),dl=(t,e=Vr)=>{const n=[],o=new e(decoding.createDecoder(t)),s=new Ei(o,!1);for(let d=s.curr;d!==null;d=s.next())n.push(d);return{structs:n,ds:Wr(o)}};class Na{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const fl=t=>aa(t,Kr,ri),hl=(t,e=ms,n=Vr)=>{const o=new e,s=new Ei(new n(decoding.createDecoder(t)),!1);let d=s.curr;if(d!==null){let S=0,P=d.id.client,F=d.id.clock!==0,ee=F?0:d.id.clock+d.length;for(;d!==null;d=s.next())P!==d.id.client&&(ee!==0&&(S++,encoding.writeVarUint(o.restEncoder,P),encoding.writeVarUint(o.restEncoder,ee)),P=d.id.client,ee=0,F=d.id.clock!==0),d.constructor===Fr&&(F=!0),F||(ee=d.id.clock+d.length);ee!==0&&(S++,encoding.writeVarUint(o.restEncoder,P),encoding.writeVarUint(o.restEncoder,ee));const q=encoding.createEncoder();return encoding.writeVarUint(q,S),encoding.writeBinaryEncoder(q,o.restEncoder),o.restEncoder=q,o.toUint8Array()}else return encoding.writeVarUint(o.restEncoder,0),o.toUint8Array()},Iu=t=>hl(t,ni,Kr),pl=(t,e=Vr)=>{const n=new Map,o=new Map,s=new Ei(new e(decoding.createDecoder(t)),!1);let d=s.curr;if(d!==null){let S=d.id.client,P=d.id.clock;for(n.set(S,P);d!==null;d=s.next())S!==d.id.client&&(o.set(S,P),n.set(d.id.client,d.id.clock),S=d.id.client),P=d.id.clock+d.length;o.set(S,P)}return{from:n,to:o}},Tu=t=>pl(t,Kr),gl=(t,e)=>{if(t.constructor===Gr){const{client:n,clock:o}=t.id;return new Gr(fn(n,o+e),t.length-e)}else if(t.constructor===Fr){const{client:n,clock:o}=t.id;return new Fr(fn(n,o+e),t.length-e)}else{const n=t,{client:o,clock:s}=n.id;return new Rn(fn(o,s+e),null,fn(o,s+e-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(e))}},aa=(t,e=Vr,n=ho)=>{if(t.length===1)return t[0];const o=t.map(q=>new e(decoding.createDecoder(q)));let s=o.map(q=>new Ei(q,!0)),d=null;const S=new n,P=new Na(S);for(;s=s.filter(Oe=>Oe.curr!==null),s.sort((Oe,nt)=>{if(Oe.curr.id.client===nt.curr.id.client){const gt=Oe.curr.id.clock-nt.curr.id.clock;return gt===0?Oe.curr.constructor===nt.curr.constructor?0:Oe.curr.constructor===Fr?1:-1:gt}else return nt.curr.id.client-Oe.curr.id.client}),s.length!==0;){const q=s[0],te=q.curr.id.client;if(d!==null){let Oe=q.curr,nt=!1;for(;Oe!==null&&Oe.id.clock+Oe.length<=d.struct.id.clock+d.struct.length&&Oe.id.client>=d.struct.id.client;)Oe=q.next(),nt=!0;if(Oe===null||Oe.id.client!==te||nt&&Oe.id.clock>d.struct.id.clock+d.struct.length)continue;if(te!==d.struct.id.client)Si(P,d.struct,d.offset),d={struct:Oe,offset:0},q.next();else if(d.struct.id.clock+d.struct.length<Oe.id.clock)if(d.struct.constructor===Fr)d.struct.length=Oe.id.clock+Oe.length-d.struct.id.clock;else{Si(P,d.struct,d.offset);const gt=Oe.id.clock-d.struct.id.clock-d.struct.length;d={struct:new Fr(fn(te,d.struct.id.clock+d.struct.length),gt),offset:0}}else{const gt=d.struct.id.clock+d.struct.length-Oe.id.clock;gt>0&&(d.struct.constructor===Fr?d.struct.length-=gt:Oe=gl(Oe,gt)),d.struct.mergeWith(Oe)||(Si(P,d.struct,d.offset),d={struct:Oe,offset:0},q.next())}}else d={struct:q.curr,offset:0},q.next();for(let Oe=q.curr;Oe!==null&&Oe.id.client===te&&Oe.id.clock===d.struct.id.clock+d.struct.length&&Oe.constructor!==Fr;Oe=q.next())Si(P,d.struct,d.offset),d={struct:Oe,offset:0}}d!==null&&(Si(P,d.struct,d.offset),d=null),Da(P);const F=o.map(q=>Wr(q)),ee=xi(F);return fo(S,ee),S.toUint8Array()},yc=(t,e,n=Vr,o=ho)=>{const s=ra(e),d=new o,S=new Na(d),P=new n(decoding.createDecoder(t)),F=new Ei(P,!1);for(;F.curr;){const q=F.curr,te=q.id.client,Oe=s.get(te)||0;if(F.curr.constructor===Fr){F.next();continue}if(q.id.clock+q.length>Oe)for(Si(S,q,math.max(Oe-q.id.clock,0)),F.next();F.curr&&F.curr.id.client===te;)Si(S,F.curr,0),F.next();else for(;F.curr&&F.curr.id.client===te&&F.curr.id.clock+F.curr.length<=Oe;)F.next()}Da(S);const ee=Wr(P);return fo(d,ee),d.toUint8Array()},Au=(t,e)=>yc(t,e,Kr,ri),wc=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:encoding.toUint8Array(t.encoder.restEncoder)}),t.encoder.restEncoder=encoding.createEncoder(),t.written=0)},Si=(t,e,n)=>{t.written>0&&t.currClient!==e.id.client&&wc(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),encoding.writeVarUint(t.encoder.restEncoder,e.id.clock+n)),e.write(t.encoder,n),t.written++},Da=t=>{wc(t);const e=t.encoder.restEncoder;encoding.writeVarUint(e,t.clientStructs.length);for(let n=0;n<t.clientStructs.length;n++){const o=t.clientStructs[n];encoding.writeVarUint(e,o.written),encoding.writeUint8Array(e,o.restEncoder)}},ca=(t,e,n,o)=>{const s=new n(decoding.createDecoder(t)),d=new Ei(s,!1),S=new o,P=new Na(S);for(let ee=d.curr;ee!==null;ee=d.next())Si(P,e(ee),0);Da(P);const F=Wr(s);return fo(S,F),S.toUint8Array()},vc=({formatting:t=!0,subdocs:e=!0,yxml:n=!0}={})=>{let o=0;const s=map.create(),d=map.create(),S=map.create(),P=map.create();return P.set(null,null),F=>{switch(F.constructor){case Gr:case Fr:return F;case Rn:{const ee=F,q=ee.content;switch(q.constructor){case Es:break;case ko:{if(n){const te=q.type;te instanceof ts&&(te.nodeName=map.setIfUndefined(d,te.nodeName,()=>"node-"+o)),te instanceof $s&&(te.hookName=map.setIfUndefined(d,te.hookName,()=>"hook-"+o))}break}case Ti:{const te=q;te.arr=te.arr.map(()=>o);break}case _s:{const te=q;te.content=new Uint8Array([o]);break}case Ss:{const te=q;e&&(te.opts={},te.doc.guid=o+"");break}case Ii:{const te=q;te.embed={};break}case sr:{const te=q;t&&(te.key=map.setIfUndefined(S,te.key,()=>o+""),te.value=map.setIfUndefined(P,te.value,()=>({i:o})));break}case Ws:{const te=q;te.arr=te.arr.map(()=>o);break}case Co:{const te=q;te.str=string.repeat(o%10+"",te.str.length);break}default:error.unexpectedCase()}return ee.parentSub&&(ee.parentSub=map.setIfUndefined(s,ee.parentSub,()=>o+"")),o++,F}default:error.unexpectedCase()}}},Ou=(t,e)=>ca(t,vc(e),Kr,ri),Mu=(t,e)=>ca(t,vc(e),Vr,ho),Nu=t=>ca(t,f.id,Kr,ho),ml=t=>ca(t,f.id,Vr,ri),bc="You must not compute changes after the event-handler fired.";class la{constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=yl(this.currentTarget,this.target))}deletes(e){return bi(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw g(bc);const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(s=>{if(s!==null){const d=n._map.get(s);let S,P;if(this.adds(d)){let F=d.left;for(;F!==null&&this.adds(F);)F=F.left;if(this.deletes(d))if(F!==null&&this.deletes(F))S="delete",P=U(F.content.getContent());else return;else F!==null&&this.deletes(F)?(S="update",P=U(F.content.getContent())):(S="add",P=void 0)}else if(this.deletes(d))S="delete",P=U(d.content.getContent());else return;e.set(s,{action:S,oldValue:P})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw g(bc);const n=this.target,o=u(),s=u(),d=[];if(e={added:o,deleted:s,delta:d,keys:this.keys},this.transaction.changed.get(n).has(null)){let P=null;const F=()=>{P&&d.push(P)};for(let ee=n._start;ee!==null;ee=ee.right)ee.deleted?this.deletes(ee)&&!this.adds(ee)&&((P===null||P.delete===void 0)&&(F(),P={delete:0}),P.delete+=ee.length,s.add(ee)):this.adds(ee)?((P===null||P.insert===void 0)&&(F(),P={insert:[]}),P.insert=P.insert.concat(ee.content.getContent()),o.add(ee)):((P===null||P.retain===void 0)&&(F(),P={retain:0}),P.retain+=ee.length);P!==null&&P.retain===void 0&&F()}this._changes=e}return e}}const yl=(t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let o=0,s=e._item.parent._start;for(;s!==e._item&&s!==null;)!s.deleted&&s.countable&&(o+=s.length),s=s.right;n.unshift(o)}e=e._item.parent}return n},xc=80;let Pa=0;class wl{constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=Pa++}}const vl=t=>{t.timestamp=Pa++},_c=(t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=Pa++},bl=(t,e,n)=>{if(t.length>=xc){const o=t.reduce((s,d)=>s.timestamp<d.timestamp?s:d);return _c(o,e,n),o}else{const o=new wl(e,n);return t.push(o),o}},ua=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((d,S)=>ke(e-d.index)<ke(e-S.index)?d:S);let o=t._start,s=0;for(n!==null&&(o=n.p,s=n.index,vl(n));o.right!==null&&s<e;){if(!o.deleted&&o.countable){if(e<s+o.length)break;s+=o.length}o=o.right}for(;o.left!==null&&s>e;)o=o.left,!o.deleted&&o.countable&&(s-=o.length);for(;o.left!==null&&o.left.id.client===o.id.client&&o.left.id.clock+o.left.length===o.id.clock;)o=o.left,!o.deleted&&o.countable&&(s-=o.length);return n!==null&&ke(n.index-s)<o.parent.length/xc?(_c(n,o,s),n):bl(t._searchMarker,o,s)},Zs=(t,e,n)=>{for(let o=t.length-1;o>=0;o--){const s=t[o];if(n>0){let d=s.p;for(d.marker=!1;d&&(d.deleted||!d.countable);)d=d.left,d&&!d.deleted&&d.countable&&(s.index-=d.length);if(d===null||d.marker===!0){t.splice(o,1);continue}s.p=d,d.marker=!0}(e<s.index||n>0&&e===s.index)&&(s.index=Tt(e,s.index+n))}},Du=t=>{let e=t._start;const n=[];for(;e;)n.push(e),e=e.right;return n},da=(t,e,n)=>{const o=t,s=e.changedParentTypes;for(;_(s,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;ec(o._eH,n,e)};class wr{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=Ja(),this._dEH=Ja(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw k()}clone(){throw k()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){Qa(this._eH,e)}observeDeep(e){Qa(this._dEH,e)}unobserve(e){qa(this._eH,e)}unobserveDeep(e){qa(this._dEH,e)}toJSON(){}}const Ec=(t,e,n)=>{e<0&&(e=t._length+e),n<0&&(n=t._length+n);let o=n-e;const s=[];let d=t._start;for(;d!==null&&o>0;){if(d.countable&&!d.deleted){const S=d.content.getContent();if(S.length<=e)e-=S.length;else{for(let P=e;P<S.length&&o>0;P++)s.push(S[P]),o--;e=0}}d=d.right}return s},Sc=t=>{const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const o=n.content.getContent();for(let s=0;s<o.length;s++)e.push(o[s])}n=n.right}return e},Pu=(t,e)=>{const n=[];let o=t._start;for(;o!==null;){if(o.countable&&_i(o,e)){const s=o.content.getContent();for(let d=0;d<s.length;d++)n.push(s[d])}o=o.right}return n},Hs=(t,e)=>{let n=0,o=t._start;for(;o!==null;){if(o.countable&&!o.deleted){const s=o.content.getContent();for(let d=0;d<s.length;d++)e(s[d],n++,t)}o=o.right}},Cc=(t,e)=>{const n=[];return Hs(t,(o,s)=>{n.push(e(o,s,t))}),n},xl=t=>{let e=t._start,n=null,o=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),o=0,e=e.right}const s=n[o++];return n.length<=o&&(n=null),{done:!1,value:s}}}},kc=(t,e)=>{const n=ua(t,e);let o=t._start;for(n!==null&&(o=n.p,e-=n.index);o!==null;o=o.right)if(!o.deleted&&o.countable){if(e<o.length)return o.content.getContent()[e];e-=o.length}},fa=(t,e,n,o)=>{let s=n;const d=t.doc,S=d.clientID,P=d.store,F=n===null?e._start:n.right;let ee=[];const q=()=>{ee.length>0&&(s=new Rn(fn(S,Kn(P,S)),s,s&&s.lastId,F,F&&F.id,e,null,new Ti(ee)),s.integrate(t,0),ee=[])};o.forEach(te=>{if(te===null)ee.push(te);else switch(te.constructor){case Number:case Object:case Boolean:case Array:case String:ee.push(te);break;default:switch(q(),te.constructor){case Uint8Array:case ArrayBuffer:s=new Rn(fn(S,Kn(P,S)),s,s&&s.lastId,F,F&&F.id,e,null,new _s(new Uint8Array(te))),s.integrate(t,0);break;case ti:s=new Rn(fn(S,Kn(P,S)),s,s&&s.lastId,F,F&&F.id,e,null,new Ss(te)),s.integrate(t,0);break;default:if(te instanceof wr)s=new Rn(fn(S,Kn(P,S)),s,s&&s.lastId,F,F&&F.id,e,null,new ko(te)),s.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),q()},Ic=()=>g("Length exceeded!"),Tc=(t,e,n,o)=>{if(n>e._length)throw Ic();if(n===0)return e._searchMarker&&Zs(e._searchMarker,n,o.length),fa(t,e,null,o);const s=n,d=ua(e,n);let S=e._start;for(d!==null&&(S=d.p,n-=d.index,n===0&&(S=S.prev,n+=S&&S.countable&&!S.deleted?S.length:0));S!==null;S=S.right)if(!S.deleted&&S.countable){if(n<=S.length){n<S.length&&Nr(t,fn(S.id.client,S.id.clock+n));break}n-=S.length}return e._searchMarker&&Zs(e._searchMarker,s,o.length),fa(t,e,S,o)},_l=(t,e,n)=>{let s=(e._searchMarker||[]).reduce((d,S)=>S.index>d.index?S:d,{index:0,p:e._start}).p;if(s)for(;s.right;)s=s.right;return fa(t,e,s,n)},Ac=(t,e,n,o)=>{if(o===0)return;const s=n,d=o,S=ua(e,n);let P=e._start;for(S!==null&&(P=S.p,n-=S.index);P!==null&&n>0;P=P.right)!P.deleted&&P.countable&&(n<P.length&&Nr(t,fn(P.id.client,P.id.clock+n)),n-=P.length);for(;o>0&&P!==null;)P.deleted||(o<P.length&&Nr(t,fn(P.id.client,P.id.clock+o)),P.delete(t),o-=P.length),P=P.right;if(o>0)throw Ic();e._searchMarker&&Zs(e._searchMarker,s,-d+o)},ha=(t,e,n)=>{const o=e._map.get(n);o!==void 0&&o.delete(t)},Ra=(t,e,n,o)=>{const s=e._map.get(n)||null,d=t.doc,S=d.clientID;let P;if(o==null)P=new Ti([o]);else switch(o.constructor){case Number:case Object:case Boolean:case Array:case String:P=new Ti([o]);break;case Uint8Array:P=new _s(o);break;case ti:P=new Ss(o);break;default:if(o instanceof wr)P=new ko(o);else throw new Error("Unexpected content type")}new Rn(fn(S,Kn(d.store,S)),s,s&&s.lastId,null,null,e,n,P).integrate(t,0)},La=(t,e)=>{const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},Oc=t=>{const e={};return t._map.forEach((n,o)=>{n.deleted||(e[o]=n.content.getContent()[n.length-1])}),e},Mc=(t,e)=>{const n=t._map.get(e);return n!==void 0&&!n.deleted},Ru=(t,e,n)=>{let o=t._map.get(e)||null;for(;o!==null&&(!n.sv.has(o.id.client)||o.id.clock>=(n.sv.get(o.id.client)||0));)o=o.left;return o!==null&&_i(o,n)?o.content.getContent()[o.length-1]:void 0},El=(t,e)=>{const n={};return t._map.forEach((o,s)=>{let d=o;for(;d!==null&&(!e.sv.has(d.id.client)||d.id.clock>=(e.sv.get(d.id.client)||0));)d=d.left;d!==null&&_i(d,e)&&(n[s]=d.content.getContent()[d.length-1])}),n},pa=t=>mi(t.entries(),e=>!e[1].deleted);class Sl extends la{}class Ci extends wr{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new Ci;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Ci}clone(){const e=new Ci;return e.insert(0,this.toArray().map(n=>n instanceof wr?n.clone():n)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}_callObserver(e,n){super._callObserver(e,n),da(this,e,new Sl(this,e))}insert(e,n){this.doc!==null?zn(this.doc,o=>{Tc(o,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?zn(this.doc,n=>{_l(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?zn(this.doc,o=>{Ac(o,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return kc(this,e)}toArray(){return Sc(this)}slice(e=0,n=this.length){return Ec(this,e,n)}toJSON(){return this.map(e=>e instanceof wr?e.toJSON():e)}map(e){return Cc(this,e)}forEach(e){Hs(this,e)}[Symbol.iterator](){return xl(this)}_write(e){e.writeTypeRef(Gl)}}const Cl=t=>new Ci;class kl extends la{constructor(e,n,o){super(e,n),this.keysChanged=o}}class qi extends wr{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((o,s)=>{this.set(s,o)}),this._prelimContent=null}_copy(){return new qi}clone(){const e=new qi;return this.forEach((n,o)=>{e.set(o,n instanceof wr?n.clone():n)}),e}_callObserver(e,n){da(this,e,new kl(this,e,n))}toJSON(){const e={};return this._map.forEach((n,o)=>{if(!n.deleted){const s=n.content.getContent()[n.length-1];e[o]=s instanceof wr?s.toJSON():s}}),e}get size(){return[...pa(this._map)].length}keys(){return _o(pa(this._map),e=>e[0])}values(){return _o(pa(this._map),e=>e[1].content.getContent()[e[1].length-1])}entries(){return _o(pa(this._map),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this._map.forEach((n,o)=>{n.deleted||e(n.content.getContent()[n.length-1],o,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?zn(this.doc,n=>{ha(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?zn(this.doc,o=>{Ra(o,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return La(this,e)}has(e){return Mc(this,e)}clear(){this.doc!==null?zn(this.doc,e=>{this.forEach(function(n,o,s){ha(e,s,o)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(Xl)}}const Il=t=>new qi,ki=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&Ji(t,e);class Ba{constructor(e,n,o,s){this.left=e,this.right=n,this.index=o,this.currentAttributes=s}forward(){switch(this.right===null&&V(),this.right.content.constructor){case sr:this.right.deleted||bs(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const Nc=(t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case sr:e.right.deleted||bs(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&Nr(t,fn(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},ga=(t,e,n,o)=>{const s=new Map,d=o?ua(e,n):null;if(d){const S=new Ba(d.p.left,d.p,d.index,s);return Nc(t,S,n-d.index)}else{const S=new Ba(null,e._start,0,s);return Nc(t,S,n)}},Dc=(t,e,n,o)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===sr&&ki(o.get(n.right.content.key),n.right.content.value));)n.right.deleted||o.delete(n.right.content.key),n.forward();const s=t.doc,d=s.clientID;o.forEach((S,P)=>{const F=n.left,ee=n.right,q=new Rn(fn(d,Kn(s.store,d)),F,F&&F.lastId,ee,ee&&ee.id,e,null,new sr(P,S));q.integrate(t,0),n.right=q,n.forward()})},bs=(t,e)=>{const{key:n,value:o}=e;o===null?t.delete(n):t.set(n,o)},Pc=(t,e)=>{var n;for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===sr&&ki((n=e[t.right.content.key])!=null?n:null,t.right.content.value)))break;t.forward()}},Rc=(t,e,n,o)=>{var P;const s=t.doc,d=s.clientID,S=new Map;for(const F in o){const ee=o[F],q=(P=n.currentAttributes.get(F))!=null?P:null;if(!ki(q,ee)){S.set(F,q);const{left:te,right:Oe}=n;n.right=new Rn(fn(d,Kn(s.store,d)),te,te&&te.lastId,Oe,Oe&&Oe.id,e,null,new sr(F,ee)),n.right.integrate(t,0),n.forward()}}return S},Ua=(t,e,n,o,s)=>{n.currentAttributes.forEach((Oe,nt)=>{s[nt]===void 0&&(s[nt]=null)});const d=t.doc,S=d.clientID;Pc(n,s);const P=Rc(t,e,n,s),F=o.constructor===String?new Co(o):o instanceof wr?new ko(o):new Ii(o);let{left:ee,right:q,index:te}=n;e._searchMarker&&Zs(e._searchMarker,n.index,F.getLength()),q=new Rn(fn(S,Kn(d.store,S)),ee,ee&&ee.lastId,q,q&&q.id,e,null,F),q.integrate(t,0),n.right=q,n.index=te,n.forward(),Dc(t,e,n,P)},Lc=(t,e,n,o,s)=>{const d=t.doc,S=d.clientID;Pc(n,s);const P=Rc(t,e,n,s);e:for(;n.right!==null&&(o>0||P.size>0&&(n.right.deleted||n.right.content.constructor===sr));){if(!n.right.deleted)switch(n.right.content.constructor){case sr:{const{key:F,value:ee}=n.right.content,q=s[F];if(q!==void 0){if(ki(q,ee))P.delete(F);else{if(o===0)break e;P.set(F,ee)}n.right.delete(t)}else n.currentAttributes.set(F,ee);break}default:o<n.right.length&&Nr(t,fn(n.right.id.client,n.right.id.clock+o)),o-=n.right.length;break}n.forward()}if(o>0){let F="";for(;o>0;o--)F+=`
`;n.right=new Rn(fn(S,Kn(d.store,S)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new Co(F)),n.right.integrate(t,0),n.forward()}Dc(t,e,n,P)},Bc=(t,e,n,o,s)=>{var ee,q;let d=e;const S=i();for(;d&&(!d.countable||d.deleted);){if(!d.deleted&&d.content.constructor===sr){const te=d.content;S.set(te.key,te)}d=d.right}let P=0,F=!1;for(;e!==d;){if(n===e&&(F=!0),!e.deleted){const te=e.content;switch(te.constructor){case sr:{const{key:Oe,value:nt}=te,gt=(ee=o.get(Oe))!=null?ee:null;(S.get(Oe)!==te||gt===nt)&&(e.delete(t),P++,!F&&((q=s.get(Oe))!=null?q:null)===nt&&gt!==nt&&(gt===null?s.delete(Oe):s.set(Oe,gt))),!F&&!e.deleted&&bs(s,te);break}}}e=e.right}return P},Tl=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===sr){const o=e.content.key;n.has(o)?e.delete(t):n.add(o)}e=e.left}},Al=t=>{let e=0;return zn(t.doc,n=>{let o=t._start,s=t._start,d=i();const S=O(d);for(;s;){if(s.deleted===!1)switch(s.content.constructor){case sr:bs(S,s.content);break;default:e+=Bc(n,o,s,d,S),d=O(S),o=s;break}s=s.right}}),e},Ol=t=>{const e=new Set,n=t.doc;for(const[o,s]of t.afterState.entries()){const d=t.beforeState.get(o)||0;s!==d&&lc(t,n.store.clients.get(o),d,s,S=>{!S.deleted&&S.content.constructor===sr&&S.constructor!==Gr&&e.add(S.parent)})}zn(n,o=>{qo(t,t.deleteSet,s=>{if(s instanceof Gr||!s.parent._hasFormatting||e.has(s.parent))return;const d=s.parent;s.content.constructor===sr?e.add(d):Tl(o,s)});for(const s of e)Al(s)})},Uc=(t,e,n)=>{const o=n,s=O(e.currentAttributes),d=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case ko:case Ii:case Co:n<e.right.length&&Nr(t,fn(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}d&&Bc(t,d,e.right,s,e.currentAttributes);const S=(e.left||e.right).parent;return S._searchMarker&&Zs(S._searchMarker,e.index,-o+n),e};class Ml extends la{constructor(e,n,o){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,o.forEach(s=>{s===null?this.childListChanged=!0:this.keysChanged.add(s)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];zn(e,o=>{var nt,gt,In;const s=new Map,d=new Map;let S=this.target._start,P=null;const F={};let ee="",q=0,te=0;const Oe=()=>{if(P!==null){let ln=null;switch(P){case"delete":te>0&&(ln={delete:te}),te=0;break;case"insert":(typeof ee=="object"||ee.length>0)&&(ln={insert:ee},s.size>0&&(ln.attributes={},s.forEach((En,Xr)=>{En!==null&&(ln.attributes[Xr]=En)}))),ee="";break;case"retain":q>0&&(ln={retain:q},Jo(F)||(ln.attributes=wi({},F))),q=0;break}ln&&n.push(ln),P=null}};for(;S!==null;){switch(S.content.constructor){case ko:case Ii:this.adds(S)?this.deletes(S)||(Oe(),P="insert",ee=S.content.getContent()[0],Oe()):this.deletes(S)?(P!=="delete"&&(Oe(),P="delete"),te+=1):S.deleted||(P!=="retain"&&(Oe(),P="retain"),q+=1);break;case Co:this.adds(S)?this.deletes(S)||(P!=="insert"&&(Oe(),P="insert"),ee+=S.content.str):this.deletes(S)?(P!=="delete"&&(Oe(),P="delete"),te+=S.length):S.deleted||(P!=="retain"&&(Oe(),P="retain"),q+=S.length);break;case sr:{const{key:ln,value:En}=S.content;if(this.adds(S)){if(!this.deletes(S)){const Xr=(nt=s.get(ln))!=null?nt:null;ki(Xr,En)?En!==null&&S.delete(o):(P==="retain"&&Oe(),ki(En,(gt=d.get(ln))!=null?gt:null)?delete F[ln]:F[ln]=En)}}else if(this.deletes(S)){d.set(ln,En);const Xr=(In=s.get(ln))!=null?In:null;ki(Xr,En)||(P==="retain"&&Oe(),F[ln]=Xr)}else if(!S.deleted){d.set(ln,En);const Xr=F[ln];Xr!==void 0&&(ki(Xr,En)?Xr!==null&&S.delete(o):(P==="retain"&&Oe(),En===null?delete F[ln]:F[ln]=En))}S.deleted||(P==="insert"&&Oe(),bs(s,S.content));break}}S=S.right}for(Oe();n.length>0;){const ln=n[n.length-1];if(ln.retain!==void 0&&ln.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class xs extends wr{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(o=>o())}catch(o){console.error(o)}this._pending=null}_copy(){return new xs}clone(){const e=new xs;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const o=new Ml(this,e,n);da(this,e,o),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===Co&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?zn(this.doc,o=>{const s=new Ba(null,this._start,0,new Map);for(let d=0;d<e.length;d++){const S=e[d];if(S.insert!==void 0){const P=!n&&typeof S.insert=="string"&&d===e.length-1&&s.right===null&&S.insert.slice(-1)===`
`?S.insert.slice(0,-1):S.insert;(typeof P!="string"||P.length>0)&&Ua(o,this,s,P,S.attributes||{})}else S.retain!==void 0?Lc(o,this,s,S.retain,S.attributes||{}):S.delete!==void 0&&Uc(o,s,S.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,o){const s=[],d=new Map,S=this.doc;let P="",F=this._start;function ee(){if(P.length>0){const te={};let Oe=!1;d.forEach((gt,In)=>{Oe=!0,te[In]=gt});const nt={insert:P};Oe&&(nt.attributes=te),s.push(nt),P=""}}const q=()=>{for(;F!==null;){if(_i(F,e)||n!==void 0&&_i(F,n))switch(F.content.constructor){case Co:{const te=d.get("ychange");e!==void 0&&!_i(F,e)?(te===void 0||te.user!==F.id.client||te.type!=="removed")&&(ee(),d.set("ychange",o?o("removed",F.id):{type:"removed"})):n!==void 0&&!_i(F,n)?(te===void 0||te.user!==F.id.client||te.type!=="added")&&(ee(),d.set("ychange",o?o("added",F.id):{type:"added"})):te!==void 0&&(ee(),d.delete("ychange")),P+=F.content.str;break}case ko:case Ii:{ee();const te={insert:F.content.getContent()[0]};if(d.size>0){const Oe={};te.attributes=Oe,d.forEach((nt,gt)=>{Oe[gt]=nt})}s.push(te);break}case sr:_i(F,e)&&(ee(),bs(d,F.content));break}F=F.right}ee()};return e||n?zn(S,te=>{e&&Oa(te,e),n&&Oa(te,n),q()},"cleanup"):q(),s}insert(e,n,o){if(n.length<=0)return;const s=this.doc;s!==null?zn(s,d=>{const S=ga(d,this,e,!o);o||(o={},S.currentAttributes.forEach((P,F)=>{o[F]=P})),Ua(d,this,S,n,o)}):this._pending.push(()=>this.insert(e,n,o))}insertEmbed(e,n,o){const s=this.doc;s!==null?zn(s,d=>{const S=ga(d,this,e,!o);Ua(d,this,S,n,o||{})}):this._pending.push(()=>this.insertEmbed(e,n,o||{}))}delete(e,n){if(n===0)return;const o=this.doc;o!==null?zn(o,s=>{Uc(s,ga(s,this,e,!0),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,o){if(n===0)return;const s=this.doc;s!==null?zn(s,d=>{const S=ga(d,this,e,!1);S.right!==null&&Lc(d,this,S,n,o)}):this._pending.push(()=>this.format(e,n,o))}removeAttribute(e){this.doc!==null?zn(this.doc,n=>{ha(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?zn(this.doc,o=>{Ra(o,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return La(this,e)}getAttributes(){return Oc(this)}_write(e){e.writeTypeRef(Yl)}}const Nl=t=>new xs;class za{constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===ts||n.constructor===es)&&n._start!==null)e=n._start;else for(;e!==null;)if(e.right!==null){e=e.right;break}else e.parent===this._root?e=null:e=e.parent._item;while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class es extends wr{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new es}clone(){const e=new es;return e.insert(0,this.toArray().map(n=>n instanceof wr?n.clone():n)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new za(this,e)}querySelector(e){e=e.toUpperCase();const o=new za(this,s=>s.nodeName&&s.nodeName.toUpperCase()===e).next();return o.done?null:o.value}querySelectorAll(e){return e=e.toUpperCase(),de(new za(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){da(this,e,new Rl(this,n,e))}toString(){return Cc(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},o){const s=e.createDocumentFragment();return o!==void 0&&o._createAssociation(s,this),Hs(this,d=>{s.insertBefore(d.toDOM(e,n,o),null)}),s}insert(e,n){this.doc!==null?zn(this.doc,o=>{Tc(o,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)zn(this.doc,o=>{const s=e&&e instanceof wr?e._item:e;fa(o,this,s,n)});else{const o=this._prelimContent,s=e===null?0:o.findIndex(d=>d===e)+1;if(s===0&&e!==null)throw g("Reference item not found");o.splice(s,0,...n)}}delete(e,n=1){this.doc!==null?zn(this.doc,o=>{Ac(o,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return Sc(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return kc(this,e)}slice(e=0,n=this.length){return Ec(this,e,n)}forEach(e){Hs(this,e)}_write(e){e.writeTypeRef(Ql)}}const Dl=t=>new es;class ts extends es{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((o,s)=>{this.setAttribute(s,o)}),this._prelimAttrs=null}_copy(){return new ts(this.nodeName)}clone(){const e=new ts(this.nodeName),n=this.getAttributes();return Yi(n,(o,s)=>{typeof o=="string"&&e.setAttribute(s,o)}),e.insert(0,this.toArray().map(o=>o instanceof wr?o.clone():o)),e}toString(){const e=this.getAttributes(),n=[],o=[];for(const P in e)o.push(P);o.sort();const s=o.length;for(let P=0;P<s;P++){const F=o[P];n.push(F+'="'+e[F]+'"')}const d=this.nodeName.toLocaleLowerCase(),S=n.length>0?" "+n.join(" "):"";return`<${d}${S}>${super.toString()}</${d}>`}removeAttribute(e){this.doc!==null?zn(this.doc,n=>{ha(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?zn(this.doc,o=>{Ra(o,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return La(this,e)}hasAttribute(e){return Mc(this,e)}getAttributes(e){return e?El(this,e):Oc(this)}toDOM(e=document,n={},o){const s=e.createElement(this.nodeName),d=this.getAttributes();for(const S in d){const P=d[S];typeof P=="string"&&s.setAttribute(S,P)}return Hs(this,S=>{s.appendChild(S.toDOM(e,n,o))}),o!==void 0&&o._createAssociation(s,this),s}_write(e){e.writeTypeRef(Jl),e.writeKey(this.nodeName)}}const Pl=t=>new ts(t.readKey());class Rl extends la{constructor(e,n,o){super(e,o),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(s=>{s===null?this.childListChanged=!0:this.attributesChanged.add(s)})}}class $s extends qi{constructor(e){super(),this.hookName=e}_copy(){return new $s(this.hookName)}clone(){const e=new $s(this.hookName);return this.forEach((n,o)=>{e.set(o,n)}),e}toDOM(e=document,n={},o){const s=n[this.hookName];let d;return s!==void 0?d=s.createDom(this):d=document.createElement(this.hookName),d.setAttribute("data-yjs-hook",this.hookName),o!==void 0&&o._createAssociation(d,this),d}_write(e){e.writeTypeRef(ql),e.writeKey(this.hookName)}}const Ll=t=>new $s(t.readKey());class ma extends xs{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new ma}clone(){const e=new ma;return e.applyDelta(this.toDelta()),e}toDOM(e=document,n,o){const s=e.createTextNode(this.toString());return o!==void 0&&o._createAssociation(s,this),s}toString(){return this.toDelta().map(e=>{const n=[];for(const s in e.attributes){const d=[];for(const S in e.attributes[s])d.push({key:S,value:e.attributes[s][S]});d.sort((S,P)=>S.key<P.key?-1:1),n.push({nodeName:s,attrs:d})}n.sort((s,d)=>s.nodeName<d.nodeName?-1:1);let o="";for(let s=0;s<n.length;s++){const d=n[s];o+=`<${d.nodeName}`;for(let S=0;S<d.attrs.length;S++){const P=d.attrs[S];o+=` ${P.key}="${P.value}"`}o+=">"}o+=e.insert;for(let s=n.length-1;s>=0;s--)o+=`</${n[s].nodeName}>`;return o}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(eu)}}const Bl=t=>new ma;class zc{constructor(e,n){this.id=e,this.length=n}get deleted(){throw k()}mergeWith(e){return!1}write(e,n,o){throw k()}integrate(e,n){throw k()}}const Ul=0;class Gr extends zc{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),ac(e.doc.store,this)}write(e,n){e.writeInfo(Ul),e.writeLen(this.length-n)}getMissing(e,n){return null}}class _s{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new _s(this.content)}splice(e){throw k()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}const zl=t=>new _s(t.readBuf());class Es{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Es(this.len)}splice(e){const n=new Es(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){Qi(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const Vl=t=>new Es(t.readLen()),Vc=(t,e)=>new ti(Vn(Nt({guid:t},e),{shouldLoad:e.shouldLoad||e.autoLoad||!1}));class Ss{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Ss(Vc(this.doc.guid,this.opts))}splice(e){throw k()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const Fl=t=>new Ss(Vc(t.readString(),t.readAny()));class Ii{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new Ii(this.embed)}splice(e){throw k()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}const jl=t=>new Ii(t.readJSON());class sr{constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new sr(this.key,this.value)}splice(e){throw k()}mergeWith(e){return!1}integrate(e,n){const o=n.parent;o._searchMarker=null,o._hasFormatting=!0}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const Zl=t=>new sr(t.readKey(),t.readJSON());class Ws{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Ws(this.arr)}splice(e){const n=new Ws(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const o=this.arr.length;e.writeLen(o-n);for(let s=n;s<o;s++){const d=this.arr[s];e.writeString(d===void 0?"undefined":JSON.stringify(d))}}getRef(){return 2}}const Hl=t=>{const e=t.readLen(),n=[];for(let o=0;o<e;o++){const s=t.readString();s==="undefined"?n.push(void 0):n.push(JSON.parse(s))}return new Ws(n)};class Ti{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Ti(this.arr)}splice(e){const n=new Ti(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const o=this.arr.length;e.writeLen(o-n);for(let s=n;s<o;s++){const d=this.arr[s];e.writeAny(d)}}getRef(){return 8}}const $l=t=>{const e=t.readLen(),n=[];for(let o=0;o<e;o++)n.push(t.readAny());return new Ti(n)};class Co{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Co(this.str)}splice(e){const n=new Co(this.str.slice(e));this.str=this.str.slice(0,e);const o=this.str.charCodeAt(e-1);return o>=55296&&o<=56319&&(this.str=this.str.slice(0,e-1)+"\uFFFD",n.str="\uFFFD"+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const Wl=t=>new Co(t.readString()),Kl=[Cl,Il,Nl,Pl,Dl,Ll,Bl],Gl=0,Xl=1,Yl=2,Jl=3,Ql=4,ql=5,eu=6;class ko{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new ko(this.type._copy())}splice(e){throw k()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(o=>{o.deleted?o.id.clock<(e.beforeState.get(o.id.client)||0)&&e._mergeStructs.push(o):o.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(o=>{for(;o!==null;)o.gc(e,!0),o=o.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const tu=t=>new ko(Kl[t.readTypeRef()](t)),Va=(t,e)=>{let n=e,o=0,s;do o>0&&(n=fn(n.client,n.clock+o)),s=vs(t,n),o=n.clock-s.id.clock,n=s.redone;while(n!==null&&s instanceof Rn);return{item:s,diff:o}},Fa=(t,e)=>{for(;t!==null&&t.keep!==e;)t.keep=e,t=t.parent._item},ya=(t,e,n)=>{const{client:o,clock:s}=e.id,d=new Rn(fn(o,s+n),e,fn(o,s+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&d.markDeleted(),e.keep&&(d.keep=!0),e.redone!==null&&(d.redone=fn(e.redone.client,e.redone.clock+n)),e.right=d,d.right!==null&&(d.right.left=d),t._mergeStructs.push(d),d.parentSub!==null&&d.right===null&&d.parent._map.set(d.parentSub,d),e.length=n,d},Fc=(t,e)=>ce(t,n=>bi(n.deletions,e)),jc=(t,e,n,o,s,d)=>{const S=t.doc,P=S.store,F=S.clientID,ee=e.redone;if(ee!==null)return Nr(t,ee);let q=e.parent._item,te=null,Oe;if(q!==null&&q.deleted===!0){if(q.redone===null&&(!n.has(q)||jc(t,q,n,o,s,d)===null))return null;for(;q.redone!==null;)q=Nr(t,q.redone)}const nt=q===null?e.parent:q.content.type;if(e.parentSub===null){for(te=e.left,Oe=e;te!==null;){let En=te;for(;En!==null&&En.parent._item!==q;)En=En.redone===null?null:Nr(t,En.redone);if(En!==null&&En.parent._item===q){te=En;break}te=te.left}for(;Oe!==null;){let En=Oe;for(;En!==null&&En.parent._item!==q;)En=En.redone===null?null:Nr(t,En.redone);if(En!==null&&En.parent._item===q){Oe=En;break}Oe=Oe.right}}else if(Oe=null,e.right&&!s){for(te=e;te!==null&&te.right!==null&&(te.right.redone||bi(o,te.right.id)||Fc(d.undoStack,te.right.id)||Fc(d.redoStack,te.right.id));)for(te=te.right;te.redone;)te=Nr(t,te.redone);if(te&&te.right!==null)return null}else te=nt._map.get(e.parentSub)||null;const gt=Kn(P,F),In=fn(F,gt),ln=new Rn(In,te,te&&te.lastId,Oe,Oe&&Oe.id,nt,e.parentSub,e.content.copy());return e.redone=In,Fa(ln,!0),ln.integrate(t,0),ln};class Rn extends zc{constructor(e,n,o,s,d,S,P,F){super(e,F.getLength()),this.origin=o,this.left=n,this.right=s,this.rightOrigin=d,this.parent=S,this.parentSub=P,this.redone=null,this.content=F,this.info=this.content.isCountable()?mt:0}set marker(e){(this.info&Jt)>0!==e&&(this.info^=Jt)}get marker(){return(this.info&Jt)>0}get keep(){return(this.info&ut)>0}set keep(e){this.keep!==e&&(this.info^=ut)}get countable(){return(this.info&mt)>0}get deleted(){return(this.info&$t)>0}set deleted(e){this.deleted!==e&&(this.info^=$t)}markDeleted(){this.info|=$t}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Kn(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Kn(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===ys&&this.id.client!==this.parent.client&&this.parent.clock>=Kn(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=cc(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Nr(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===Gr||this.right&&this.right.constructor===Gr)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===Rn&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===Rn&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===ys){const o=vs(n,this.parent);o.constructor===Gr?this.parent=null:this.parent=o.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=cc(e,e.doc.store,fn(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let o=this.left,s;if(o!==null)s=o.right;else if(this.parentSub!==null)for(s=this.parent._map.get(this.parentSub)||null;s!==null&&s.left!==null;)s=s.left;else s=this.parent._start;const d=new Set,S=new Set;for(;s!==null&&s!==this.right;){if(S.add(s),d.add(s),ws(this.origin,s.origin)){if(s.id.client<this.id.client)o=s,d.clear();else if(ws(this.rightOrigin,s.rightOrigin))break}else if(s.origin!==null&&S.has(vs(e.doc.store,s.origin)))d.has(vs(e.doc.store,s.origin))||(o=s,d.clear());else break;s=s.right}this.left=o}if(this.left!==null){const o=this.left.right;this.right=o,this.left.right=this}else{let o;if(this.parentSub!==null)for(o=this.parent._map.get(this.parentSub)||null;o!==null&&o.left!==null;)o=o.left;else o=this.parent._start,this.parent._start=this;this.right=o}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),ac(e.doc.store,this),this.content.integrate(e,this),dc(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new Gr(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:fn(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&ws(e.origin,this.lastId)&&this.right===e&&ws(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(o=>{o.p===e&&(o.p=this,!this.deleted&&this.countable&&(o.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),Qi(e.deleteSet,this.id.client,this.id.clock,this.length),dc(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw V();this.content.gc(e),n?il(e,this,new Gr(this.id,this.length)):this.content=new Es(this.length)}write(e,n){const o=n>0?fn(this.id.client,this.id.clock+n-1):this.origin,s=this.rightOrigin,d=this.parentSub,S=this.content.getRef()&gn|(o===null?0:$e)|(s===null?0:We)|(d===null?0:Me);if(e.writeInfo(S),o!==null&&e.writeLeftID(o),s!==null&&e.writeRightID(s),o===null&&s===null){const P=this.parent;if(P._item!==void 0){const F=P._item;if(F===null){const ee=rc(P);e.writeParentInfo(!0),e.writeString(ee)}else e.writeParentInfo(!1),e.writeLeftID(F.id)}else P.constructor===String?(e.writeParentInfo(!0),e.writeString(P)):P.constructor===ys?(e.writeParentInfo(!1),e.writeLeftID(P)):V();d!==null&&e.writeString(d)}this.content.write(e,n)}}const Zc=(t,e)=>nu[e&binary.BITS5](t),nu=[()=>{V()},Vl,Hl,zl,Wl,jl,Zl,tu,$l,Fl,()=>{V()}],ru=10;class Fr extends null{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){error.unexpectedCase()}write(e,n){e.writeInfo(ru),encoding.writeVarUint(e.restEncoder,this.length-n)}getMissing(e,n){return null}}const Hc=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:{},$c="__ $YJS$ __";Hc[$c]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438"),Hc[$c]=!0},99835:function(B,j,h){"use strict";h.d(j,{Ue:function(){return I}});var i=h(35333),O=h(75271),_=h(42598);const{useDebugValue:T}=O,{useSyncExternalStoreWithSelector:x}=_;let b=!1;const u=D=>D;function y(D,Y=u,G){G&&!b&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),b=!0);const de=x(D.subscribe,D.getState,D.getServerState||D.getInitialState,Y,G);return T(de),de}const C=D=>{typeof D!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const Y=typeof D=="function"?(0,i.M)(D):D,G=(de,Ve)=>y(Y,de,Ve);return Object.assign(G,Y),G},I=D=>D?C(D):C;var U=D=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),I(D))}}]);
}());