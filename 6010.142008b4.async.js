"use strict";(self.webpackChunk_ant_design_pro_flow=self.webpackChunk_ant_design_pro_flow||[]).push([[6010],{90870:function(ct,He,h){h.d(He,{Z:function(){return L}});var ke=h(5051),Re=h(11267),_=h(36161),xe=h(65414),Ze=h(47440),U=h(60627),B=h(54384),De=h(4329),N=h(30016),k=h(82187),re=h.n(k),c=h(11437),j=h(75271),be=h(91394),Ne=function(Z){for(var J=Z.prefixCls,r=Z.level,ne=Z.isStart,W=Z.isEnd,oe="".concat(J,"-indent-unit"),s=[],u=0;u<r;u+=1)s.push(j.createElement("span",{key:u,className:re()(oe,(0,N.Z)((0,N.Z)({},"".concat(oe,"-start"),ne[u]),"".concat(oe,"-end"),W[u]))}));return j.createElement("span",{"aria-hidden":"true",className:"".concat(J,"-indent")},s)},F=j.memo(Ne),Ce=h(25676),ue=h(28392),pe=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],ae="open",o="close",g="---",O=function(G){(0,B.Z)(J,G);var Z=(0,De.Z)(J);function J(){var r;(0,xe.Z)(this,J);for(var ne=arguments.length,W=new Array(ne),oe=0;oe<ne;oe++)W[oe]=arguments[oe];return r=Z.call.apply(Z,[this].concat(W)),(0,N.Z)((0,U.Z)(r),"state",{dragNodeHighlight:!1}),(0,N.Z)((0,U.Z)(r),"selectHandle",void 0),(0,N.Z)((0,U.Z)(r),"cacheIndent",void 0),(0,N.Z)((0,U.Z)(r),"onSelectorClick",function(s){var u=r.props.context.onNodeClick;u(s,(0,ue.F)(r.props)),r.isSelectable()?r.onSelect(s):r.onCheck(s)}),(0,N.Z)((0,U.Z)(r),"onSelectorDoubleClick",function(s){var u=r.props.context.onNodeDoubleClick;u(s,(0,ue.F)(r.props))}),(0,N.Z)((0,U.Z)(r),"onSelect",function(s){if(!r.isDisabled()){var u=r.props.context.onNodeSelect;u(s,(0,ue.F)(r.props))}}),(0,N.Z)((0,U.Z)(r),"onCheck",function(s){if(!r.isDisabled()){var u=r.props,I=u.disableCheckbox,$=u.checked,z=r.props.context.onNodeCheck;if(!(!r.isCheckable()||I)){var fe=!$;z(s,(0,ue.F)(r.props),fe)}}}),(0,N.Z)((0,U.Z)(r),"onMouseEnter",function(s){var u=r.props.context.onNodeMouseEnter;u(s,(0,ue.F)(r.props))}),(0,N.Z)((0,U.Z)(r),"onMouseLeave",function(s){var u=r.props.context.onNodeMouseLeave;u(s,(0,ue.F)(r.props))}),(0,N.Z)((0,U.Z)(r),"onContextMenu",function(s){var u=r.props.context.onNodeContextMenu;u(s,(0,ue.F)(r.props))}),(0,N.Z)((0,U.Z)(r),"onDragStart",function(s){var u=r.props.context.onNodeDragStart;s.stopPropagation(),r.setState({dragNodeHighlight:!0}),u(s,(0,U.Z)(r));try{s.dataTransfer.setData("text/plain","")}catch(I){}}),(0,N.Z)((0,U.Z)(r),"onDragEnter",function(s){var u=r.props.context.onNodeDragEnter;s.preventDefault(),s.stopPropagation(),u(s,(0,U.Z)(r))}),(0,N.Z)((0,U.Z)(r),"onDragOver",function(s){var u=r.props.context.onNodeDragOver;s.preventDefault(),s.stopPropagation(),u(s,(0,U.Z)(r))}),(0,N.Z)((0,U.Z)(r),"onDragLeave",function(s){var u=r.props.context.onNodeDragLeave;s.stopPropagation(),u(s,(0,U.Z)(r))}),(0,N.Z)((0,U.Z)(r),"onDragEnd",function(s){var u=r.props.context.onNodeDragEnd;s.stopPropagation(),r.setState({dragNodeHighlight:!1}),u(s,(0,U.Z)(r))}),(0,N.Z)((0,U.Z)(r),"onDrop",function(s){var u=r.props.context.onNodeDrop;s.preventDefault(),s.stopPropagation(),r.setState({dragNodeHighlight:!1}),u(s,(0,U.Z)(r))}),(0,N.Z)((0,U.Z)(r),"onExpand",function(s){var u=r.props,I=u.loading,$=u.context.onNodeExpand;I||$(s,(0,ue.F)(r.props))}),(0,N.Z)((0,U.Z)(r),"setSelectHandle",function(s){r.selectHandle=s}),(0,N.Z)((0,U.Z)(r),"getNodeState",function(){var s=r.props.expanded;return r.isLeaf()?null:s?ae:o}),(0,N.Z)((0,U.Z)(r),"hasChildren",function(){var s=r.props.eventKey,u=r.props.context.keyEntities,I=(0,Ce.Z)(u,s)||{},$=I.children;return!!($||[]).length}),(0,N.Z)((0,U.Z)(r),"isLeaf",function(){var s=r.props,u=s.isLeaf,I=s.loaded,$=r.props.context.loadData,z=r.hasChildren();return u===!1?!1:u||!$&&!z||$&&I&&!z}),(0,N.Z)((0,U.Z)(r),"isDisabled",function(){var s=r.props.disabled,u=r.props.context.disabled;return!!(u||s)}),(0,N.Z)((0,U.Z)(r),"isCheckable",function(){var s=r.props.checkable,u=r.props.context.checkable;return!u||s===!1?!1:u}),(0,N.Z)((0,U.Z)(r),"syncLoadData",function(s){var u=s.expanded,I=s.loading,$=s.loaded,z=r.props.context,fe=z.loadData,ge=z.onNodeLoad;I||fe&&u&&!r.isLeaf()&&!$&&ge((0,ue.F)(r.props))}),(0,N.Z)((0,U.Z)(r),"isDraggable",function(){var s=r.props,u=s.data,I=s.context.draggable;return!!(I&&(!I.nodeDraggable||I.nodeDraggable(u)))}),(0,N.Z)((0,U.Z)(r),"renderDragHandler",function(){var s=r.props.context,u=s.draggable,I=s.prefixCls;return u!=null&&u.icon?j.createElement("span",{className:"".concat(I,"-draggable-icon")},u.icon):null}),(0,N.Z)((0,U.Z)(r),"renderSwitcherIconDom",function(s){var u=r.props.switcherIcon,I=r.props.context.switcherIcon,$=u||I;return typeof $=="function"?$((0,_.Z)((0,_.Z)({},r.props),{},{isLeaf:s})):$}),(0,N.Z)((0,U.Z)(r),"renderSwitcher",function(){var s=r.props.expanded,u=r.props.context.prefixCls;if(r.isLeaf()){var I=r.renderSwitcherIconDom(!0);return I!==!1?j.createElement("span",{className:re()("".concat(u,"-switcher"),"".concat(u,"-switcher-noop"))},I):null}var $=re()("".concat(u,"-switcher"),"".concat(u,"-switcher_").concat(s?ae:o)),z=r.renderSwitcherIconDom(!1);return z!==!1?j.createElement("span",{onClick:r.onExpand,className:$},z):null}),(0,N.Z)((0,U.Z)(r),"renderCheckbox",function(){var s=r.props,u=s.checked,I=s.halfChecked,$=s.disableCheckbox,z=r.props.context.prefixCls,fe=r.isDisabled(),ge=r.isCheckable();if(!ge)return null;var Q=typeof ge!="boolean"?ge:null;return j.createElement("span",{className:re()("".concat(z,"-checkbox"),u&&"".concat(z,"-checkbox-checked"),!u&&I&&"".concat(z,"-checkbox-indeterminate"),(fe||$)&&"".concat(z,"-checkbox-disabled")),onClick:r.onCheck},Q)}),(0,N.Z)((0,U.Z)(r),"renderIcon",function(){var s=r.props.loading,u=r.props.context.prefixCls;return j.createElement("span",{className:re()("".concat(u,"-iconEle"),"".concat(u,"-icon__").concat(r.getNodeState()||"docu"),s&&"".concat(u,"-icon_loading"))})}),(0,N.Z)((0,U.Z)(r),"renderSelector",function(){var s=r.state.dragNodeHighlight,u=r.props,I=u.title,$=I===void 0?g:I,z=u.selected,fe=u.icon,ge=u.loading,Q=u.data,me=r.props.context,ye=me.prefixCls,Ue=me.showIcon,je=me.icon,Ge=me.loadData,q=me.titleRender,Pe=r.isDisabled(),$e="".concat(ye,"-node-content-wrapper"),f;if(Ue){var T=fe||je;f=T?j.createElement("span",{className:re()("".concat(ye,"-iconEle"),"".concat(ye,"-icon__customize"))},typeof T=="function"?T(r.props):T):r.renderIcon()}else Ge&&ge&&(f=r.renderIcon());var D;typeof $=="function"?D=$(Q):q?D=q(Q):D=$;var M=j.createElement("span",{className:"".concat(ye,"-title")},D);return j.createElement("span",{ref:r.setSelectHandle,title:typeof $=="string"?$:"",className:re()("".concat($e),"".concat($e,"-").concat(r.getNodeState()||"normal"),!Pe&&(z||s)&&"".concat(ye,"-node-selected")),onMouseEnter:r.onMouseEnter,onMouseLeave:r.onMouseLeave,onContextMenu:r.onContextMenu,onClick:r.onSelectorClick,onDoubleClick:r.onSelectorDoubleClick},f,M,r.renderDropIndicator())}),(0,N.Z)((0,U.Z)(r),"renderDropIndicator",function(){var s=r.props,u=s.disabled,I=s.eventKey,$=r.props.context,z=$.draggable,fe=$.dropLevelOffset,ge=$.dropPosition,Q=$.prefixCls,me=$.indent,ye=$.dropIndicatorRender,Ue=$.dragOverNodeKey,je=$.direction,Ge=!!z,q=!u&&Ge&&Ue===I,Pe=me!=null?me:r.cacheIndent;return r.cacheIndent=me,q?ye({dropPosition:ge,dropLevelOffset:fe,indent:Pe,prefixCls:Q,direction:je}):null}),r}return(0,Ze.Z)(J,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var ne=this.props.selectable,W=this.props.context.selectable;return typeof ne=="boolean"?ne:W}},{key:"render",value:function(){var ne,W=this.props,oe=W.eventKey,s=W.className,u=W.style,I=W.dragOver,$=W.dragOverGapTop,z=W.dragOverGapBottom,fe=W.isLeaf,ge=W.isStart,Q=W.isEnd,me=W.expanded,ye=W.selected,Ue=W.checked,je=W.halfChecked,Ge=W.loading,q=W.domRef,Pe=W.active,$e=W.data,f=W.onMouseMove,T=W.selectable,D=(0,Re.Z)(W,pe),M=this.props.context,i=M.prefixCls,p=M.filterTreeNode,K=M.keyEntities,e=M.dropContainerKey,v=M.dropTargetKey,C=M.draggingNodeKey,S=this.isDisabled(),t=(0,c.Z)(D,{aria:!0,data:!0}),a=(0,Ce.Z)(K,oe)||{},n=a.level,d=Q[Q.length-1],l=this.isDraggable(),y=!S&&l,x=C===oe,m=T!==void 0?{"aria-selected":!!T}:void 0;return j.createElement("div",(0,ke.Z)({ref:q,className:re()(s,"".concat(i,"-treenode"),(ne={},(0,N.Z)((0,N.Z)((0,N.Z)((0,N.Z)((0,N.Z)((0,N.Z)((0,N.Z)((0,N.Z)((0,N.Z)((0,N.Z)(ne,"".concat(i,"-treenode-disabled"),S),"".concat(i,"-treenode-switcher-").concat(me?"open":"close"),!fe),"".concat(i,"-treenode-checkbox-checked"),Ue),"".concat(i,"-treenode-checkbox-indeterminate"),je),"".concat(i,"-treenode-selected"),ye),"".concat(i,"-treenode-loading"),Ge),"".concat(i,"-treenode-active"),Pe),"".concat(i,"-treenode-leaf-last"),d),"".concat(i,"-treenode-draggable"),l),"dragging",x),(0,N.Z)((0,N.Z)((0,N.Z)((0,N.Z)((0,N.Z)((0,N.Z)(ne,"drop-target",v===oe),"drop-container",e===oe),"drag-over",!S&&I),"drag-over-gap-top",!S&&$),"drag-over-gap-bottom",!S&&z),"filter-node",p&&p((0,ue.F)(this.props))))),style:u,draggable:y,"aria-grabbed":x,onDragStart:y?this.onDragStart:void 0,onDragEnter:l?this.onDragEnter:void 0,onDragOver:l?this.onDragOver:void 0,onDragLeave:l?this.onDragLeave:void 0,onDrop:l?this.onDrop:void 0,onDragEnd:l?this.onDragEnd:void 0,onMouseMove:f},m,t),j.createElement(F,{prefixCls:i,level:n,isStart:ge,isEnd:Q}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),J}(j.Component),w=function(Z){return j.createElement(be.k.Consumer,null,function(J){return j.createElement(O,(0,ke.Z)({},Z,{context:J}))})};w.displayName="TreeNode",w.isTreeNode=1;var L=w},91394:function(ct,He,h){h.d(He,{k:function(){return Re}});var ke=h(75271),Re=ke.createContext(null)},46010:function(ct,He,h){h.d(He,{O:function(){return L.Z},Z:function(){return M}});var ke=h(5051),Re=h(50049),_=h(36161),xe=h(83290),Ze=h(65414),U=h(47440),B=h(60627),De=h(54384),N=h(4329),k=h(30016),re=h(82187),c=h.n(re),j=h(28909),be=h(11437),Ne=h(55766),F=h(75271),Ce=h(91394);function ue(i){var p=i.dropPosition,K=i.dropLevelOffset,e=i.indent,v={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(p){case-1:v.top=0,v.left=-K*e;break;case 1:v.bottom=0,v.left=-K*e;break;case 0:v.bottom=0,v.left=e;break}return F.createElement("div",{style:v})}function pe(i){if(i==null)throw new TypeError("Cannot destructure "+i)}var ae=h(35887),o=h(11267),g=h(2062),O=h(63765),w=h(12131),L=h(90870);function G(i,p){var K=F.useState(!1),e=(0,ae.Z)(K,2),v=e[0],C=e[1];(0,g.Z)(function(){if(v)return i(),function(){p()}},[v]),(0,g.Z)(function(){return C(!0),function(){C(!1)}},[])}var Z=h(28392),J=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],r=function(p,K){var e=p.className,v=p.style,C=p.motion,S=p.motionNodes,t=p.motionType,a=p.onMotionStart,n=p.onMotionEnd,d=p.active,l=p.treeNodeRequiredProps,y=(0,o.Z)(p,J),x=F.useState(!0),m=(0,ae.Z)(x,2),b=m[0],E=m[1],R=F.useContext(Ce.k),V=R.prefixCls,P=S&&t!=="hide";(0,g.Z)(function(){S&&P!==b&&E(P)},[S]);var A=function(){S&&a()},Y=F.useRef(!1),ee=function(){S&&!Y.current&&(Y.current=!0,n())};G(A,ee);var ve=function(se){P===se&&ee()};return S?F.createElement(w.ZP,(0,ke.Z)({ref:K,visible:b},C,{motionAppear:t==="show",onVisibleChanged:ve}),function(ie,se){var de=ie.className,Ee=ie.style;return F.createElement("div",{ref:se,className:c()("".concat(V,"-treenode-motion"),de),style:Ee},S.map(function(te){var Te=Object.assign({},(pe(te.data),te.data)),Me=te.title,Ke=te.key,Ye=te.isStart,le=te.isEnd;delete Te.children;var Ae=(0,Z.H8)(Ke,l);return F.createElement(L.Z,(0,ke.Z)({},Te,Ae,{title:Me,active:d,data:te.data,key:Ke,isStart:Ye,isEnd:le}))}))}):F.createElement(L.Z,(0,ke.Z)({domRef:K,className:e,style:v},y,{active:d}))};r.displayName="MotionTreeNode";var ne=F.forwardRef(r),W=ne;function oe(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],K=i.length,e=p.length;if(Math.abs(K-e)!==1)return{add:!1,key:null};function v(C,S){var t=new Map;C.forEach(function(n){t.set(n,!0)});var a=S.filter(function(n){return!t.has(n)});return a.length===1?a[0]:null}return K<e?{add:!0,key:v(i,p)}:{add:!1,key:v(p,i)}}function s(i,p,K){var e=i.findIndex(function(t){return t.key===K}),v=i[e+1],C=p.findIndex(function(t){return t.key===K});if(v){var S=p.findIndex(function(t){return t.key===v.key});return p.slice(C+1,S)}return p.slice(C+1)}var u=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],I={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},$=function(){},z="RC_TREE_MOTION_".concat(Math.random()),fe={key:z},ge={key:z,level:0,index:0,pos:"0",node:fe,nodes:[fe]},Q={parent:null,children:[],pos:ge.pos,data:fe,title:null,key:z,isStart:[],isEnd:[]};function me(i,p,K,e){return p===!1||!K?i:i.slice(0,Math.ceil(K/e)+1)}function ye(i){var p=i.key,K=i.pos;return(0,Z.km)(p,K)}function Ue(i){for(var p=String(i.data.key),K=i;K.parent;)K=K.parent,p="".concat(K.data.key," > ").concat(p);return p}var je=F.forwardRef(function(i,p){var K=i.prefixCls,e=i.data,v=i.selectable,C=i.checkable,S=i.expandedKeys,t=i.selectedKeys,a=i.checkedKeys,n=i.loadedKeys,d=i.loadingKeys,l=i.halfCheckedKeys,y=i.keyEntities,x=i.disabled,m=i.dragging,b=i.dragOverNodeKey,E=i.dropPosition,R=i.motion,V=i.height,P=i.itemHeight,A=i.virtual,Y=i.focusable,ee=i.activeItem,ve=i.focused,ie=i.tabIndex,se=i.onKeyDown,de=i.onFocus,Ee=i.onBlur,te=i.onActiveChange,Te=i.onListChangeStart,Me=i.onListChangeEnd,Ke=(0,o.Z)(i,u),Ye=F.useRef(null),le=F.useRef(null);F.useImperativeHandle(p,function(){return{scrollTo:function(Be){Ye.current.scrollTo(Be)},getIndentWidth:function(){return le.current.offsetWidth}}});var Ae=F.useState(S),Qe=(0,ae.Z)(Ae,2),qe=Qe[0],it=Qe[1],nt=F.useState(e),Oe=(0,ae.Z)(nt,2),Le=Oe[0],We=Oe[1],Ie=F.useState(e),he=(0,ae.Z)(Ie,2),Fe=he[0],_e=he[1],Xe=F.useState([]),st=(0,ae.Z)(Xe,2),gt=st[0],lt=st[1],yt=F.useState(null),ut=(0,ae.Z)(yt,2),et=ut[0],rt=ut[1],ft=F.useRef(e);ft.current=e;function vt(){var Se=ft.current;We(Se),_e(Se),lt([]),rt(null),Me()}(0,g.Z)(function(){it(S);var Se=oe(qe,S);if(Se.key!==null)if(Se.add){var Be=Le.findIndex(function(ze){var pt=ze.key;return pt===Se.key}),Ve=me(s(Le,e,Se.key),A,V,P),Je=Le.slice();Je.splice(Be+1,0,Q),_e(Je),lt(Ve),rt("show")}else{var tt=e.findIndex(function(ze){var pt=ze.key;return pt===Se.key}),ot=me(s(e,Le,Se.key),A,V,P),ht=e.slice();ht.splice(tt+1,0,Q),_e(ht),lt(ot),rt("hide")}else Le!==e&&(We(e),_e(e))},[S,e]),F.useEffect(function(){m||vt()},[m]);var at=R?Fe:e,Kt={expandedKeys:S,selectedKeys:t,loadedKeys:n,loadingKeys:d,checkedKeys:a,halfCheckedKeys:l,dragOverNodeKey:b,dropPosition:E,keyEntities:y};return F.createElement(F.Fragment,null,ve&&ee&&F.createElement("span",{style:I,"aria-live":"assertive"},Ue(ee)),F.createElement("div",null,F.createElement("input",{style:I,disabled:Y===!1||x,tabIndex:Y!==!1?ie:null,onKeyDown:se,onFocus:de,onBlur:Ee,value:"",onChange:$,"aria-label":"for screen reader"})),F.createElement("div",{className:"".concat(K,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},F.createElement("div",{className:"".concat(K,"-indent")},F.createElement("div",{ref:le,className:"".concat(K,"-indent-unit")}))),F.createElement(O.Z,(0,ke.Z)({},Ke,{data:at,itemKey:ye,height:V,fullHeight:!1,virtual:A,itemHeight:P,prefixCls:"".concat(K,"-list"),ref:Ye,onVisibleChange:function(Be,Ve){var Je=new Set(Be),tt=Ve.filter(function(ot){return!Je.has(ot)});tt.some(function(ot){return ye(ot)===z})&&vt()}}),function(Se){var Be=Se.pos,Ve=Object.assign({},(pe(Se.data),Se.data)),Je=Se.title,tt=Se.key,ot=Se.isStart,ht=Se.isEnd,ze=(0,Z.km)(tt,Be);delete Ve.key,delete Ve.children;var pt=(0,Z.H8)(ze,Kt);return F.createElement(W,(0,ke.Z)({},Ve,pt,{title:Je,active:!!ee&&tt===ee.key,pos:Be,data:Se.data,isStart:ot,isEnd:ht,motion:R,motionNodes:tt===z?gt:null,motionType:et,onMotionStart:Te,onMotionEnd:vt,treeNodeRequiredProps:Kt,onMouseMove:function(){te(null)}}))}))});je.displayName="NodeList";var Ge=je,q=h(81060),Pe=h(86978),$e=h(25676),f=10,T=function(i){(0,De.Z)(K,i);var p=(0,N.Z)(K);function K(){var e;(0,Ze.Z)(this,K);for(var v=arguments.length,C=new Array(v),S=0;S<v;S++)C[S]=arguments[S];return e=p.call.apply(p,[this].concat(C)),(0,k.Z)((0,B.Z)(e),"destroyed",!1),(0,k.Z)((0,B.Z)(e),"delayedDragEnterLogic",void 0),(0,k.Z)((0,B.Z)(e),"loadingRetryTimes",{}),(0,k.Z)((0,B.Z)(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:(0,Z.w$)()}),(0,k.Z)((0,B.Z)(e),"dragStartMousePosition",null),(0,k.Z)((0,B.Z)(e),"dragNode",void 0),(0,k.Z)((0,B.Z)(e),"currentMouseOverDroppableNodeKey",null),(0,k.Z)((0,B.Z)(e),"listRef",F.createRef()),(0,k.Z)((0,B.Z)(e),"onNodeDragStart",function(t,a){var n=e.state,d=n.expandedKeys,l=n.keyEntities,y=e.props.onDragStart,x=a.props.eventKey;e.dragNode=a,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var m=(0,q._5)(d,x);e.setState({draggingNodeKey:x,dragChildrenKeys:(0,q.wA)(x,l),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(m),window.addEventListener("dragend",e.onWindowDragEnd),y==null||y({event:t,node:(0,Z.F)(a.props)})}),(0,k.Z)((0,B.Z)(e),"onNodeDragEnter",function(t,a){var n=e.state,d=n.expandedKeys,l=n.keyEntities,y=n.dragChildrenKeys,x=n.flattenNodes,m=n.indent,b=e.props,E=b.onDragEnter,R=b.onExpand,V=b.allowDrop,P=b.direction,A=a.props,Y=A.pos,ee=A.eventKey,ve=(0,B.Z)(e),ie=ve.dragNode;if(e.currentMouseOverDroppableNodeKey!==ee&&(e.currentMouseOverDroppableNodeKey=ee),!ie){e.resetDragState();return}var se=(0,q.OM)(t,ie,a,m,e.dragStartMousePosition,V,x,l,d,P),de=se.dropPosition,Ee=se.dropLevelOffset,te=se.dropTargetKey,Te=se.dropContainerKey,Me=se.dropTargetPos,Ke=se.dropAllowed,Ye=se.dragOverNodeKey;if(y.indexOf(te)!==-1||!Ke){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(le){clearTimeout(e.delayedDragEnterLogic[le])}),ie.props.eventKey!==a.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[Y]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var le=(0,xe.Z)(d),Ae=(0,$e.Z)(l,a.props.eventKey);Ae&&(Ae.children||[]).length&&(le=(0,q.L0)(d,a.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(le),R==null||R(le,{node:(0,Z.F)(a.props),expanded:!0,nativeEvent:t.nativeEvent})}},800)),ie.props.eventKey===te&&Ee===0){e.resetDragState();return}e.setState({dragOverNodeKey:Ye,dropPosition:de,dropLevelOffset:Ee,dropTargetKey:te,dropContainerKey:Te,dropTargetPos:Me,dropAllowed:Ke}),E==null||E({event:t,node:(0,Z.F)(a.props),expandedKeys:d})}),(0,k.Z)((0,B.Z)(e),"onNodeDragOver",function(t,a){var n=e.state,d=n.dragChildrenKeys,l=n.flattenNodes,y=n.keyEntities,x=n.expandedKeys,m=n.indent,b=e.props,E=b.onDragOver,R=b.allowDrop,V=b.direction,P=(0,B.Z)(e),A=P.dragNode;if(A){var Y=(0,q.OM)(t,A,a,m,e.dragStartMousePosition,R,l,y,x,V),ee=Y.dropPosition,ve=Y.dropLevelOffset,ie=Y.dropTargetKey,se=Y.dropContainerKey,de=Y.dropAllowed,Ee=Y.dropTargetPos,te=Y.dragOverNodeKey;d.indexOf(ie)!==-1||!de||(A.props.eventKey===ie&&ve===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():ee===e.state.dropPosition&&ve===e.state.dropLevelOffset&&ie===e.state.dropTargetKey&&se===e.state.dropContainerKey&&Ee===e.state.dropTargetPos&&de===e.state.dropAllowed&&te===e.state.dragOverNodeKey||e.setState({dropPosition:ee,dropLevelOffset:ve,dropTargetKey:ie,dropContainerKey:se,dropTargetPos:Ee,dropAllowed:de,dragOverNodeKey:te}),E==null||E({event:t,node:(0,Z.F)(a.props)}))}}),(0,k.Z)((0,B.Z)(e),"onNodeDragLeave",function(t,a){e.currentMouseOverDroppableNodeKey===a.props.eventKey&&!t.currentTarget.contains(t.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var n=e.props.onDragLeave;n==null||n({event:t,node:(0,Z.F)(a.props)})}),(0,k.Z)((0,B.Z)(e),"onWindowDragEnd",function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),(0,k.Z)((0,B.Z)(e),"onNodeDragEnd",function(t,a){var n=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),n==null||n({event:t,node:(0,Z.F)(a.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),(0,k.Z)((0,B.Z)(e),"onNodeDrop",function(t,a){var n,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,l=e.state,y=l.dragChildrenKeys,x=l.dropPosition,m=l.dropTargetKey,b=l.dropTargetPos,E=l.dropAllowed;if(E){var R=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),m!==null){var V=(0,_.Z)((0,_.Z)({},(0,Z.H8)(m,e.getTreeNodeRequiredProps())),{},{active:((n=e.getActiveItem())===null||n===void 0?void 0:n.key)===m,data:(0,$e.Z)(e.state.keyEntities,m).node}),P=y.indexOf(m)!==-1;(0,Ne.ZP)(!P,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var A=(0,q.yx)(b),Y={event:t,node:(0,Z.F)(V),dragNode:e.dragNode?(0,Z.F)(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(y),dropToGap:x!==0,dropPosition:x+Number(A[A.length-1])};d||R==null||R(Y),e.dragNode=null}}}),(0,k.Z)((0,B.Z)(e),"cleanDragState",function(){var t=e.state.draggingNodeKey;t!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),(0,k.Z)((0,B.Z)(e),"triggerExpandActionExpand",function(t,a){var n=e.state,d=n.expandedKeys,l=n.flattenNodes,y=a.expanded,x=a.key,m=a.isLeaf;if(!(m||t.shiftKey||t.metaKey||t.ctrlKey)){var b=l.filter(function(R){return R.key===x})[0],E=(0,Z.F)((0,_.Z)((0,_.Z)({},(0,Z.H8)(x,e.getTreeNodeRequiredProps())),{},{data:b.data}));e.setExpandedKeys(y?(0,q._5)(d,x):(0,q.L0)(d,x)),e.onNodeExpand(t,E)}}),(0,k.Z)((0,B.Z)(e),"onNodeClick",function(t,a){var n=e.props,d=n.onClick,l=n.expandAction;l==="click"&&e.triggerExpandActionExpand(t,a),d==null||d(t,a)}),(0,k.Z)((0,B.Z)(e),"onNodeDoubleClick",function(t,a){var n=e.props,d=n.onDoubleClick,l=n.expandAction;l==="doubleClick"&&e.triggerExpandActionExpand(t,a),d==null||d(t,a)}),(0,k.Z)((0,B.Z)(e),"onNodeSelect",function(t,a){var n=e.state.selectedKeys,d=e.state,l=d.keyEntities,y=d.fieldNames,x=e.props,m=x.onSelect,b=x.multiple,E=a.selected,R=a[y.key],V=!E;V?b?n=(0,q.L0)(n,R):n=[R]:n=(0,q._5)(n,R);var P=n.map(function(A){var Y=(0,$e.Z)(l,A);return Y?Y.node:null}).filter(function(A){return A});e.setUncontrolledState({selectedKeys:n}),m==null||m(n,{event:"select",selected:V,node:a,selectedNodes:P,nativeEvent:t.nativeEvent})}),(0,k.Z)((0,B.Z)(e),"onNodeCheck",function(t,a,n){var d=e.state,l=d.keyEntities,y=d.checkedKeys,x=d.halfCheckedKeys,m=e.props,b=m.checkStrictly,E=m.onCheck,R=a.key,V,P={event:"check",node:a,checked:n,nativeEvent:t.nativeEvent};if(b){var A=n?(0,q.L0)(y,R):(0,q._5)(y,R),Y=(0,q._5)(x,R);V={checked:A,halfChecked:Y},P.checkedNodes=A.map(function(Ee){return(0,$e.Z)(l,Ee)}).filter(function(Ee){return Ee}).map(function(Ee){return Ee.node}),e.setUncontrolledState({checkedKeys:A})}else{var ee=(0,Pe.S)([].concat((0,xe.Z)(y),[R]),!0,l),ve=ee.checkedKeys,ie=ee.halfCheckedKeys;if(!n){var se=new Set(ve);se.delete(R);var de=(0,Pe.S)(Array.from(se),{checked:!1,halfCheckedKeys:ie},l);ve=de.checkedKeys,ie=de.halfCheckedKeys}V=ve,P.checkedNodes=[],P.checkedNodesPositions=[],P.halfCheckedKeys=ie,ve.forEach(function(Ee){var te=(0,$e.Z)(l,Ee);if(te){var Te=te.node,Me=te.pos;P.checkedNodes.push(Te),P.checkedNodesPositions.push({node:Te,pos:Me})}}),e.setUncontrolledState({checkedKeys:ve},!1,{halfCheckedKeys:ie})}E==null||E(V,P)}),(0,k.Z)((0,B.Z)(e),"onNodeLoad",function(t){var a,n=t.key,d=e.state.keyEntities,l=(0,$e.Z)(d,n);if(!(l!=null&&(a=l.children)!==null&&a!==void 0&&a.length)){var y=new Promise(function(x,m){e.setState(function(b){var E=b.loadedKeys,R=E===void 0?[]:E,V=b.loadingKeys,P=V===void 0?[]:V,A=e.props,Y=A.loadData,ee=A.onLoad;if(!Y||R.indexOf(n)!==-1||P.indexOf(n)!==-1)return null;var ve=Y(t);return ve.then(function(){var ie=e.state.loadedKeys,se=(0,q.L0)(ie,n);ee==null||ee(se,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:se}),e.setState(function(de){return{loadingKeys:(0,q._5)(de.loadingKeys,n)}}),x()}).catch(function(ie){if(e.setState(function(de){return{loadingKeys:(0,q._5)(de.loadingKeys,n)}}),e.loadingRetryTimes[n]=(e.loadingRetryTimes[n]||0)+1,e.loadingRetryTimes[n]>=f){var se=e.state.loadedKeys;(0,Ne.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:(0,q.L0)(se,n)}),x()}m(ie)}),{loadingKeys:(0,q.L0)(P,n)}})});return y.catch(function(){}),y}}),(0,k.Z)((0,B.Z)(e),"onNodeMouseEnter",function(t,a){var n=e.props.onMouseEnter;n==null||n({event:t,node:a})}),(0,k.Z)((0,B.Z)(e),"onNodeMouseLeave",function(t,a){var n=e.props.onMouseLeave;n==null||n({event:t,node:a})}),(0,k.Z)((0,B.Z)(e),"onNodeContextMenu",function(t,a){var n=e.props.onRightClick;n&&(t.preventDefault(),n({event:t,node:a}))}),(0,k.Z)((0,B.Z)(e),"onFocus",function(){var t=e.props.onFocus;e.setState({focused:!0});for(var a=arguments.length,n=new Array(a),d=0;d<a;d++)n[d]=arguments[d];t==null||t.apply(void 0,n)}),(0,k.Z)((0,B.Z)(e),"onBlur",function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var a=arguments.length,n=new Array(a),d=0;d<a;d++)n[d]=arguments[d];t==null||t.apply(void 0,n)}),(0,k.Z)((0,B.Z)(e),"getTreeNodeRequiredProps",function(){var t=e.state,a=t.expandedKeys,n=t.selectedKeys,d=t.loadedKeys,l=t.loadingKeys,y=t.checkedKeys,x=t.halfCheckedKeys,m=t.dragOverNodeKey,b=t.dropPosition,E=t.keyEntities;return{expandedKeys:a||[],selectedKeys:n||[],loadedKeys:d||[],loadingKeys:l||[],checkedKeys:y||[],halfCheckedKeys:x||[],dragOverNodeKey:m,dropPosition:b,keyEntities:E}}),(0,k.Z)((0,B.Z)(e),"setExpandedKeys",function(t){var a=e.state,n=a.treeData,d=a.fieldNames,l=(0,Z.oH)(n,t,d);e.setUncontrolledState({expandedKeys:t,flattenNodes:l},!0)}),(0,k.Z)((0,B.Z)(e),"onNodeExpand",function(t,a){var n=e.state.expandedKeys,d=e.state,l=d.listChanging,y=d.fieldNames,x=e.props,m=x.onExpand,b=x.loadData,E=a.expanded,R=a[y.key];if(!l){var V=n.indexOf(R),P=!E;if((0,Ne.ZP)(E&&V!==-1||!E&&V===-1,"Expand state not sync with index check"),P?n=(0,q.L0)(n,R):n=(0,q._5)(n,R),e.setExpandedKeys(n),m==null||m(n,{node:a,expanded:P,nativeEvent:t.nativeEvent}),P&&b){var A=e.onNodeLoad(a);A&&A.then(function(){var Y=(0,Z.oH)(e.state.treeData,n,y);e.setUncontrolledState({flattenNodes:Y})}).catch(function(){var Y=e.state.expandedKeys,ee=(0,q._5)(Y,R);e.setExpandedKeys(ee)})}}}),(0,k.Z)((0,B.Z)(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),(0,k.Z)((0,B.Z)(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),(0,k.Z)((0,B.Z)(e),"onActiveChange",function(t){var a=e.state.activeKey,n=e.props,d=n.onActiveChange,l=n.itemScrollOffset,y=l===void 0?0:l;a!==t&&(e.setState({activeKey:t}),t!==null&&e.scrollTo({key:t,offset:y}),d==null||d(t))}),(0,k.Z)((0,B.Z)(e),"getActiveItem",function(){var t=e.state,a=t.activeKey,n=t.flattenNodes;return a===null?null:n.find(function(d){var l=d.key;return l===a})||null}),(0,k.Z)((0,B.Z)(e),"offsetActiveKey",function(t){var a=e.state,n=a.flattenNodes,d=a.activeKey,l=n.findIndex(function(m){var b=m.key;return b===d});l===-1&&t<0&&(l=n.length),l=(l+t+n.length)%n.length;var y=n[l];if(y){var x=y.key;e.onActiveChange(x)}else e.onActiveChange(null)}),(0,k.Z)((0,B.Z)(e),"onKeyDown",function(t){var a=e.state,n=a.activeKey,d=a.expandedKeys,l=a.checkedKeys,y=a.fieldNames,x=e.props,m=x.onKeyDown,b=x.checkable,E=x.selectable;switch(t.which){case j.Z.UP:{e.offsetActiveKey(-1),t.preventDefault();break}case j.Z.DOWN:{e.offsetActiveKey(1),t.preventDefault();break}}var R=e.getActiveItem();if(R&&R.data){var V=e.getTreeNodeRequiredProps(),P=R.data.isLeaf===!1||!!(R.data[y.children]||[]).length,A=(0,Z.F)((0,_.Z)((0,_.Z)({},(0,Z.H8)(n,V)),{},{data:R.data,active:!0}));switch(t.which){case j.Z.LEFT:{P&&d.includes(n)?e.onNodeExpand({},A):R.parent&&e.onActiveChange(R.parent.key),t.preventDefault();break}case j.Z.RIGHT:{P&&!d.includes(n)?e.onNodeExpand({},A):R.children&&R.children.length&&e.onActiveChange(R.children[0].key),t.preventDefault();break}case j.Z.ENTER:case j.Z.SPACE:{b&&!A.disabled&&A.checkable!==!1&&!A.disableCheckbox?e.onNodeCheck({},A,!l.includes(n)):!b&&E&&!A.disabled&&A.selectable!==!1&&e.onNodeSelect({},A);break}}}m==null||m(t)}),(0,k.Z)((0,B.Z)(e),"setUncontrolledState",function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var d=!1,l=!0,y={};Object.keys(t).forEach(function(x){if(x in e.props){l=!1;return}d=!0,y[x]=t[x]}),d&&(!a||l)&&e.setState((0,_.Z)((0,_.Z)({},y),n))}}),(0,k.Z)((0,B.Z)(e),"scrollTo",function(t){e.listRef.current.scrollTo(t)}),e}return(0,U.Z)(K,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var v=this.props,C=v.activeKey,S=v.itemScrollOffset,t=S===void 0?0:S;C!==void 0&&C!==this.state.activeKey&&(this.setState({activeKey:C}),C!==null&&this.scrollTo({key:C,offset:t}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var v=this.state,C=v.focused,S=v.flattenNodes,t=v.keyEntities,a=v.draggingNodeKey,n=v.activeKey,d=v.dropLevelOffset,l=v.dropContainerKey,y=v.dropTargetKey,x=v.dropPosition,m=v.dragOverNodeKey,b=v.indent,E=this.props,R=E.prefixCls,V=E.className,P=E.style,A=E.showLine,Y=E.focusable,ee=E.tabIndex,ve=ee===void 0?0:ee,ie=E.selectable,se=E.showIcon,de=E.icon,Ee=E.switcherIcon,te=E.draggable,Te=E.checkable,Me=E.checkStrictly,Ke=E.disabled,Ye=E.motion,le=E.loadData,Ae=E.filterTreeNode,Qe=E.height,qe=E.itemHeight,it=E.virtual,nt=E.titleRender,Oe=E.dropIndicatorRender,Le=E.onContextMenu,We=E.onScroll,Ie=E.direction,he=E.rootClassName,Fe=E.rootStyle,_e=(0,be.Z)(this.props,{aria:!0,data:!0}),Xe;return te&&((0,Re.Z)(te)==="object"?Xe=te:typeof te=="function"?Xe={nodeDraggable:te}:Xe={}),F.createElement(Ce.k.Provider,{value:{prefixCls:R,selectable:ie,showIcon:se,icon:de,switcherIcon:Ee,draggable:Xe,draggingNodeKey:a,checkable:Te,checkStrictly:Me,disabled:Ke,keyEntities:t,dropLevelOffset:d,dropContainerKey:l,dropTargetKey:y,dropPosition:x,dragOverNodeKey:m,indent:b,direction:Ie,dropIndicatorRender:Oe,loadData:le,filterTreeNode:Ae,titleRender:nt,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},F.createElement("div",{role:"tree",className:c()(R,V,he,(0,k.Z)((0,k.Z)((0,k.Z)({},"".concat(R,"-show-line"),A),"".concat(R,"-focused"),C),"".concat(R,"-active-focused"),n!==null)),style:Fe},F.createElement(Ge,(0,ke.Z)({ref:this.listRef,prefixCls:R,style:P,data:S,disabled:Ke,selectable:ie,checkable:!!Te,motion:Ye,dragging:a!==null,height:Qe,itemHeight:qe,virtual:it,focusable:Y,focused:C,tabIndex:ve,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:Le,onScroll:We},this.getTreeNodeRequiredProps(),_e))))}}],[{key:"getDerivedStateFromProps",value:function(v,C){var S=C.prevProps,t={prevProps:v};function a(ee){return!S&&ee in v||S&&S[ee]!==v[ee]}var n,d=C.fieldNames;if(a("fieldNames")&&(d=(0,Z.w$)(v.fieldNames),t.fieldNames=d),a("treeData")?n=v.treeData:a("children")&&((0,Ne.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=(0,Z.zn)(v.children)),n){t.treeData=n;var l=(0,Z.I8)(n,{fieldNames:d});t.keyEntities=(0,_.Z)((0,k.Z)({},z,ge),l.keyEntities)}var y=t.keyEntities||C.keyEntities;if(a("expandedKeys")||S&&a("autoExpandParent"))t.expandedKeys=v.autoExpandParent||!S&&v.defaultExpandParent?(0,q.r7)(v.expandedKeys,y):v.expandedKeys;else if(!S&&v.defaultExpandAll){var x=(0,_.Z)({},y);delete x[z],t.expandedKeys=Object.keys(x).map(function(ee){return x[ee].key})}else!S&&v.defaultExpandedKeys&&(t.expandedKeys=v.autoExpandParent||v.defaultExpandParent?(0,q.r7)(v.defaultExpandedKeys,y):v.defaultExpandedKeys);if(t.expandedKeys||delete t.expandedKeys,n||t.expandedKeys){var m=(0,Z.oH)(n||C.treeData,t.expandedKeys||C.expandedKeys,d);t.flattenNodes=m}if(v.selectable&&(a("selectedKeys")?t.selectedKeys=(0,q.BT)(v.selectedKeys,v):!S&&v.defaultSelectedKeys&&(t.selectedKeys=(0,q.BT)(v.defaultSelectedKeys,v))),v.checkable){var b;if(a("checkedKeys")?b=(0,q.E6)(v.checkedKeys)||{}:!S&&v.defaultCheckedKeys?b=(0,q.E6)(v.defaultCheckedKeys)||{}:n&&(b=(0,q.E6)(v.checkedKeys)||{checkedKeys:C.checkedKeys,halfCheckedKeys:C.halfCheckedKeys}),b){var E=b,R=E.checkedKeys,V=R===void 0?[]:R,P=E.halfCheckedKeys,A=P===void 0?[]:P;if(!v.checkStrictly){var Y=(0,Pe.S)(V,!0,y);V=Y.checkedKeys,A=Y.halfCheckedKeys}t.checkedKeys=V,t.halfCheckedKeys=A}}return a("loadedKeys")&&(t.loadedKeys=v.loadedKeys),t}}]),K}(F.Component);(0,k.Z)(T,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:ue,allowDrop:function(){return!0},expandAction:!1}),(0,k.Z)(T,"TreeNode",L.Z);var D=T,M=D},81060:function(ct,He,h){h.d(He,{BT:function(){return F},E6:function(){return pe},L0:function(){return k},OM:function(){return Ne},_5:function(){return N},r7:function(){return ae},wA:function(){return c},yx:function(){return re}});var ke=h(83290),Re=h(50049),_=h(55766),xe=h(75271),Ze=h(90870),U=h(25676),B=h(28392),De=null;function N(o,g){if(!o)return[];var O=o.slice(),w=O.indexOf(g);return w>=0&&O.splice(w,1),O}function k(o,g){var O=(o||[]).slice();return O.indexOf(g)===-1&&O.push(g),O}function re(o){return o.split("-")}function c(o,g){var O=[],w=(0,U.Z)(g,o);function L(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];G.forEach(function(Z){var J=Z.key,r=Z.children;O.push(J),L(r)})}return L(w.children),O}function j(o){if(o.parent){var g=re(o.pos);return Number(g[g.length-1])===o.parent.children.length-1}return!1}function be(o){var g=re(o.pos);return Number(g[g.length-1])===0}function Ne(o,g,O,w,L,G,Z,J,r,ne){var W,oe=o.clientX,s=o.clientY,u=o.target.getBoundingClientRect(),I=u.top,$=u.height,z=(ne==="rtl"?-1:1)*(((L==null?void 0:L.x)||0)-oe),fe=(z-12)/w,ge=r.filter(function(i){var p;return(p=J[i])===null||p===void 0||(p=p.children)===null||p===void 0?void 0:p.length}),Q=(0,U.Z)(J,O.props.eventKey);if(s<I+$/2){var me=Z.findIndex(function(i){return i.key===Q.key}),ye=me<=0?0:me-1,Ue=Z[ye].key;Q=(0,U.Z)(J,Ue)}var je=Q.key,Ge=Q,q=Q.key,Pe=0,$e=0;if(!ge.includes(je))for(var f=0;f<fe&&j(Q);f+=1)Q=Q.parent,$e+=1;var T=g.props.data,D=Q.node,M=!0;return be(Q)&&Q.level===0&&s<I+$/2&&G({dragNode:T,dropNode:D,dropPosition:-1})&&Q.key===O.props.eventKey?Pe=-1:(Ge.children||[]).length&&ge.includes(q)?G({dragNode:T,dropNode:D,dropPosition:0})?Pe=0:M=!1:$e===0?fe>-1.5?G({dragNode:T,dropNode:D,dropPosition:1})?Pe=1:M=!1:G({dragNode:T,dropNode:D,dropPosition:0})?Pe=0:G({dragNode:T,dropNode:D,dropPosition:1})?Pe=1:M=!1:G({dragNode:T,dropNode:D,dropPosition:1})?Pe=1:M=!1,{dropPosition:Pe,dropLevelOffset:$e,dropTargetKey:Q.key,dropTargetPos:Q.pos,dragOverNodeKey:q,dropContainerKey:Pe===0?null:((W=Q.parent)===null||W===void 0?void 0:W.key)||null,dropAllowed:M}}function F(o,g){if(o){var O=g.multiple;return O?o.slice():o.length?[o[0]]:o}}var Ce=function(g){return g};function ue(o,g){if(!o)return[];var O=g||{},w=O.processProps,L=w===void 0?Ce:w,G=Array.isArray(o)?o:[o];return G.map(function(Z){var J=Z.children,r=_objectWithoutProperties(Z,De),ne=ue(J,g);return React.createElement(TreeNode,_extends({key:r.key},L(r)),ne)})}function pe(o){if(!o)return null;var g;if(Array.isArray(o))g={checkedKeys:o,halfCheckedKeys:void 0};else if((0,Re.Z)(o)==="object")g={checkedKeys:o.checked||void 0,halfCheckedKeys:o.halfChecked||void 0};else return(0,_.ZP)(!1,"`checkedKeys` is not an array or an object"),null;return g}function ae(o,g){var O=new Set;function w(L){if(!O.has(L)){var G=(0,U.Z)(g,L);if(G){O.add(L);var Z=G.parent,J=G.node;J.disabled||Z&&w(Z.key)}}}return(o||[]).forEach(function(L){w(L)}),(0,ke.Z)(O)}},86978:function(ct,He,h){h.d(He,{S:function(){return B}});var ke=h(55766),Re=h(25676);function _(De,N){var k=new Set;return De.forEach(function(re){N.has(re)||k.add(re)}),k}function xe(De){var N=De||{},k=N.disabled,re=N.disableCheckbox,c=N.checkable;return!!(k||re)||c===!1}function Ze(De,N,k,re){for(var c=new Set(De),j=new Set,be=0;be<=k;be+=1){var Ne=N.get(be)||new Set;Ne.forEach(function(pe){var ae=pe.key,o=pe.node,g=pe.children,O=g===void 0?[]:g;c.has(ae)&&!re(o)&&O.filter(function(w){return!re(w.node)}).forEach(function(w){c.add(w.key)})})}for(var F=new Set,Ce=k;Ce>=0;Ce-=1){var ue=N.get(Ce)||new Set;ue.forEach(function(pe){var ae=pe.parent,o=pe.node;if(!(re(o)||!pe.parent||F.has(pe.parent.key))){if(re(pe.parent.node)){F.add(ae.key);return}var g=!0,O=!1;(ae.children||[]).filter(function(w){return!re(w.node)}).forEach(function(w){var L=w.key,G=c.has(L);g&&!G&&(g=!1),!O&&(G||j.has(L))&&(O=!0)}),g&&c.add(ae.key),O&&j.add(ae.key),F.add(ae.key)}})}return{checkedKeys:Array.from(c),halfCheckedKeys:Array.from(_(j,c))}}function U(De,N,k,re,c){for(var j=new Set(De),be=new Set(N),Ne=0;Ne<=re;Ne+=1){var F=k.get(Ne)||new Set;F.forEach(function(ae){var o=ae.key,g=ae.node,O=ae.children,w=O===void 0?[]:O;!j.has(o)&&!be.has(o)&&!c(g)&&w.filter(function(L){return!c(L.node)}).forEach(function(L){j.delete(L.key)})})}be=new Set;for(var Ce=new Set,ue=re;ue>=0;ue-=1){var pe=k.get(ue)||new Set;pe.forEach(function(ae){var o=ae.parent,g=ae.node;if(!(c(g)||!ae.parent||Ce.has(ae.parent.key))){if(c(ae.parent.node)){Ce.add(o.key);return}var O=!0,w=!1;(o.children||[]).filter(function(L){return!c(L.node)}).forEach(function(L){var G=L.key,Z=j.has(G);O&&!Z&&(O=!1),!w&&(Z||be.has(G))&&(w=!0)}),O||j.delete(o.key),w&&be.add(o.key),Ce.add(o.key)}})}return{checkedKeys:Array.from(j),halfCheckedKeys:Array.from(_(be,j))}}function B(De,N,k,re){var c=[],j;re?j=re:j=xe;var be=new Set(De.filter(function(ue){var pe=!!(0,Re.Z)(k,ue);return pe||c.push(ue),pe})),Ne=new Map,F=0;Object.keys(k).forEach(function(ue){var pe=k[ue],ae=pe.level,o=Ne.get(ae);o||(o=new Set,Ne.set(ae,o)),o.add(pe),F=Math.max(F,ae)}),(0,ke.ZP)(!c.length,"Tree missing follow keys: ".concat(c.slice(0,100).map(function(ue){return"'".concat(ue,"'")}).join(", ")));var Ce;return N===!0?Ce=Ze(be,Ne,F,j):Ce=U(be,N.halfCheckedKeys,Ne,F,j),Ce}},25676:function(ct,He,h){h.d(He,{Z:function(){return ke}});function ke(Re,_){return Re[_]}},28392:function(ct,He,h){h.d(He,{F:function(){return ae},H8:function(){return pe},I8:function(){return ue},km:function(){return c},oH:function(){return F},w$:function(){return j},zn:function(){return Ne}});var ke=h(50049),Re=h(83290),_=h(36161),xe=h(11267),Ze=h(18089),U=h(64567),B=h(55766),De=h(25676),N=["children"];function k(o,g){return"".concat(o,"-").concat(g)}function re(o){return o&&o.type&&o.type.isTreeNode}function c(o,g){return o!=null?o:g}function j(o){var g=o||{},O=g.title,w=g._title,L=g.key,G=g.children,Z=O||"title";return{title:Z,_title:w||[Z],key:L||"key",children:G||"children"}}function be(o,g){var O=new Map;function w(L){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(L||[]).forEach(function(Z){var J=Z[g.key],r=Z[g.children];warning(J!=null,"Tree node must have a certain key: [".concat(G).concat(J,"]"));var ne=String(J);warning(!O.has(ne)||J===null||J===void 0,"Same 'key' exist in the Tree: ".concat(ne)),O.set(ne,!0),w(r,"".concat(G).concat(ne," > "))})}w(o)}function Ne(o){function g(O){var w=(0,Ze.Z)(O);return w.map(function(L){if(!re(L))return(0,B.ZP)(!L,"Tree/TreeNode can only accept TreeNode as children."),null;var G=L.key,Z=L.props,J=Z.children,r=(0,xe.Z)(Z,N),ne=(0,_.Z)({key:G},r),W=g(J);return W.length&&(ne.children=W),ne}).filter(function(L){return L})}return g(o)}function F(o,g,O){var w=j(O),L=w._title,G=w.key,Z=w.children,J=new Set(g===!0?[]:g),r=[];function ne(W){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return W.map(function(s,u){for(var I=k(oe?oe.pos:"0",u),$=c(s[G],I),z,fe=0;fe<L.length;fe+=1){var ge=L[fe];if(s[ge]!==void 0){z=s[ge];break}}var Q=(0,_.Z)((0,_.Z)({},(0,U.Z)(s,[].concat((0,Re.Z)(L),[G,Z]))),{},{title:z,key:$,parent:oe,pos:I,children:null,data:s,isStart:[].concat((0,Re.Z)(oe?oe.isStart:[]),[u===0]),isEnd:[].concat((0,Re.Z)(oe?oe.isEnd:[]),[u===W.length-1])});return r.push(Q),g===!0||J.has($)?Q.children=ne(s[Z]||[],Q):Q.children=[],Q})}return ne(o),r}function Ce(o,g,O){var w={};(0,ke.Z)(O)==="object"?w=O:w={externalGetKey:O},w=w||{};var L=w,G=L.childrenPropName,Z=L.externalGetKey,J=L.fieldNames,r=j(J),ne=r.key,W=r.children,oe=G||W,s;Z?typeof Z=="string"?s=function($){return $[Z]}:typeof Z=="function"&&(s=function($){return Z($)}):s=function($,z){return c($[ne],z)};function u(I,$,z,fe){var ge=I?I[oe]:o,Q=I?k(z.pos,$):"0",me=I?[].concat((0,Re.Z)(fe),[I]):[];if(I){var ye=s(I,Q),Ue={node:I,index:$,pos:Q,key:ye,parentPos:z.node?z.pos:null,level:z.level+1,nodes:me};g(Ue)}ge&&ge.forEach(function(je,Ge){u(je,Ge,{node:I,pos:Q,level:z?z.level+1:-1},me)})}u(null)}function ue(o){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=g.initWrapper,w=g.processEntity,L=g.onProcessFinished,G=g.externalGetKey,Z=g.childrenPropName,J=g.fieldNames,r=arguments.length>2?arguments[2]:void 0,ne=G||r,W={},oe={},s={posEntities:W,keyEntities:oe};return O&&(s=O(s)||s),Ce(o,function(u){var I=u.node,$=u.index,z=u.pos,fe=u.key,ge=u.parentPos,Q=u.level,me=u.nodes,ye={node:I,nodes:me,index:$,key:fe,pos:z,level:Q},Ue=c(fe,z);W[z]=ye,oe[Ue]=ye,ye.parent=W[ge],ye.parent&&(ye.parent.children=ye.parent.children||[],ye.parent.children.push(ye)),w&&w(ye,s)},{externalGetKey:ne,childrenPropName:Z,fieldNames:J}),L&&L(s),s}function pe(o,g){var O=g.expandedKeys,w=g.selectedKeys,L=g.loadedKeys,G=g.loadingKeys,Z=g.checkedKeys,J=g.halfCheckedKeys,r=g.dragOverNodeKey,ne=g.dropPosition,W=g.keyEntities,oe=(0,De.Z)(W,o),s={eventKey:o,expanded:O.indexOf(o)!==-1,selected:w.indexOf(o)!==-1,loaded:L.indexOf(o)!==-1,loading:G.indexOf(o)!==-1,checked:Z.indexOf(o)!==-1,halfChecked:J.indexOf(o)!==-1,pos:String(oe?oe.pos:""),dragOver:r===o&&ne===0,dragOverGapTop:r===o&&ne===-1,dragOverGapBottom:r===o&&ne===1};return s}function ae(o){var g=o.data,O=o.expanded,w=o.selected,L=o.checked,G=o.loaded,Z=o.loading,J=o.halfChecked,r=o.dragOver,ne=o.dragOverGapTop,W=o.dragOverGapBottom,oe=o.pos,s=o.active,u=o.eventKey,I=(0,_.Z)((0,_.Z)({},g),{},{expanded:O,selected:w,checked:L,loaded:G,loading:Z,halfChecked:J,dragOver:r,dragOverGapTop:ne,dragOverGapBottom:W,pos:oe,active:s,key:u});return"props"in I||Object.defineProperty(I,"props",{get:function(){return(0,B.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),o}}),I}},63765:function(ct,He,h){h.d(He,{Z:function(){return $e}});var ke=h(5051),Re=h(50049),_=h(36161),xe=h(30016),Ze=h(35887),U=h(11267),B=h(82187),De=h.n(B),N=h(28526),k=h(90267),re=h(2062),c=h(75271),j=h(30967),be=c.forwardRef(function(f,T){var D=f.height,M=f.offsetY,i=f.offsetX,p=f.children,K=f.prefixCls,e=f.onInnerResize,v=f.innerProps,C=f.rtl,S=f.extra,t={},a={display:"flex",flexDirection:"column"};return M!==void 0&&(t={height:D,position:"relative",overflow:"hidden"},a=(0,_.Z)((0,_.Z)({},a),{},(0,xe.Z)((0,xe.Z)((0,xe.Z)((0,xe.Z)((0,xe.Z)({transform:"translateY(".concat(M,"px)")},C?"marginRight":"marginLeft",-i),"position","absolute"),"left",0),"right",0),"top",0))),c.createElement("div",{style:t},c.createElement(N.Z,{onResize:function(d){var l=d.offsetHeight;l&&e&&e()}},c.createElement("div",(0,ke.Z)({style:a,className:De()((0,xe.Z)({},"".concat(K,"-holder-inner"),K)),ref:T},v),p,S)))});be.displayName="Filler";var Ne=be;function F(f){var T=f.children,D=f.setRef,M=c.useCallback(function(i){D(i)},[]);return c.cloneElement(T,{ref:M})}function Ce(f,T,D,M,i,p,K,e){var v=e.getKey;return f.slice(T,D+1).map(function(C,S){var t=T+S,a=K(C,t,{style:{width:M},offsetX:i}),n=v(C);return c.createElement(F,{key:n,setRef:function(l){return p(C,l)}},a)})}function ue(f,T,D,M){var i=D-f,p=T-D,K=Math.min(i,p)*2;if(M<=K){var e=Math.floor(M/2);return M%2?D+e+1:D-e}return i>p?D-(M-p):D+(M-i)}function pe(f,T,D){var M=f.length,i=T.length,p,K;if(M===0&&i===0)return null;M<i?(p=f,K=T):(p=T,K=f);var e={__EMPTY_ITEM__:!0};function v(d){return d!==void 0?D(d):e}for(var C=null,S=Math.abs(M-i)!==1,t=0;t<K.length;t+=1){var a=v(p[t]),n=v(K[t]);if(a!==n){C=t,S=S||a!==v(K[t+1]);break}}return C===null?null:{index:C,multiple:S}}function ae(f,T,D){var M=c.useState(f),i=(0,Ze.Z)(M,2),p=i[0],K=i[1],e=c.useState(null),v=(0,Ze.Z)(e,2),C=v[0],S=v[1];return c.useEffect(function(){var t=pe(p||[],f||[],T);(t==null?void 0:t.index)!==void 0&&(D==null||D(t.index),S(f[t.index])),K(f)},[f]),[C]}var o=h(69205),g=(typeof navigator=="undefined"?"undefined":(0,Re.Z)(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),O=g,w=function(f,T,D,M){var i=(0,c.useRef)(!1),p=(0,c.useRef)(null);function K(){clearTimeout(p.current),i.current=!0,p.current=setTimeout(function(){i.current=!1},50)}var e=(0,c.useRef)({top:f,bottom:T,left:D,right:M});return e.current.top=f,e.current.bottom=T,e.current.left=D,e.current.right=M,function(v,C){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=v?C<0&&e.current.left||C>0&&e.current.right:C<0&&e.current.top||C>0&&e.current.bottom;return S&&t?(clearTimeout(p.current),i.current=!1):(!t||i.current)&&K(),!i.current&&t}};function L(f,T,D,M,i,p,K){var e=(0,c.useRef)(0),v=(0,c.useRef)(null),C=(0,c.useRef)(null),S=(0,c.useRef)(!1),t=w(T,D,M,i);function a(m,b){o.Z.cancel(v.current),e.current+=b,C.current=b,!t(!1,b)&&(O||m.preventDefault(),v.current=(0,o.Z)(function(){var E=S.current?10:1;K(e.current*E),e.current=0}))}function n(m,b){K(b,!0),O||m.preventDefault()}var d=(0,c.useRef)(null),l=(0,c.useRef)(null);function y(m){if(f){o.Z.cancel(l.current),l.current=(0,o.Z)(function(){d.current=null},2);var b=m.deltaX,E=m.deltaY,R=m.shiftKey,V=b,P=E;(d.current==="sx"||!d.current&&R&&E&&!b)&&(V=E,P=0,d.current="sx");var A=Math.abs(V),Y=Math.abs(P);d.current===null&&(d.current=p&&A>Y?"x":"y"),d.current==="y"?a(m,P):n(m,V)}}function x(m){f&&(S.current=m.detail===C.current)}return[y,x]}function G(f,T,D,M){var i=c.useMemo(function(){return[new Map,[]]},[f,D.id,M]),p=(0,Ze.Z)(i,2),K=p[0],e=p[1],v=function(S){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S,a=K.get(S),n=K.get(t);if(a===void 0||n===void 0)for(var d=f.length,l=e.length;l<d;l+=1){var y,x=f[l],m=T(x);K.set(m,l);var b=(y=D.get(m))!==null&&y!==void 0?y:M;if(e[l]=(e[l-1]||0)+b,m===S&&(a=l),m===t&&(n=l),a!==void 0&&n!==void 0)break}return{top:e[a-1]||0,bottom:e[n]}};return v}var Z=h(98313),J=h(65414),r=h(47440),ne=function(){function f(){(0,J.Z)(this,f),(0,xe.Z)(this,"maps",void 0),(0,xe.Z)(this,"id",0),this.maps=Object.create(null)}return(0,r.Z)(f,[{key:"set",value:function(D,M){this.maps[D]=M,this.id+=1}},{key:"get",value:function(D){return this.maps[D]}}]),f}(),W=ne;function oe(f,T,D){var M=c.useState(0),i=(0,Ze.Z)(M,2),p=i[0],K=i[1],e=(0,c.useRef)(new Map),v=(0,c.useRef)(new W),C=(0,c.useRef)();function S(){o.Z.cancel(C.current)}function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;S();var d=function(){e.current.forEach(function(y,x){if(y&&y.offsetParent){var m=(0,Z.ZP)(y),b=m.offsetHeight;v.current.get(x)!==b&&v.current.set(x,m.offsetHeight)}}),K(function(y){return y+1})};n?d():C.current=(0,o.Z)(d)}function a(n,d){var l=f(n),y=e.current.get(l);d?(e.current.set(l,d),t()):e.current.delete(l),!y!=!d&&(d?T==null||T(n):D==null||D(n))}return(0,c.useEffect)(function(){return S},[]),[a,t,v.current,p]}var s=14/15;function u(f,T,D){var M=(0,c.useRef)(!1),i=(0,c.useRef)(0),p=(0,c.useRef)(0),K=(0,c.useRef)(null),e=(0,c.useRef)(null),v,C=function(n){if(M.current){var d=Math.ceil(n.touches[0].pageX),l=Math.ceil(n.touches[0].pageY),y=i.current-d,x=p.current-l,m=Math.abs(y)>Math.abs(x);m?i.current=d:p.current=l,D(m,m?y:x)&&n.preventDefault(),clearInterval(e.current),e.current=setInterval(function(){m?y*=s:x*=s;var b=Math.floor(m?y:x);(!D(m,b,!0)||Math.abs(b)<=.1)&&clearInterval(e.current)},16)}},S=function(){M.current=!1,v()},t=function(n){v(),n.touches.length===1&&!M.current&&(M.current=!0,i.current=Math.ceil(n.touches[0].pageX),p.current=Math.ceil(n.touches[0].pageY),K.current=n.target,K.current.addEventListener("touchmove",C),K.current.addEventListener("touchend",S))};v=function(){K.current&&(K.current.removeEventListener("touchmove",C),K.current.removeEventListener("touchend",S))},(0,re.Z)(function(){return f&&T.current.addEventListener("touchstart",t),function(){var a;(a=T.current)===null||a===void 0||a.removeEventListener("touchstart",t),v(),clearInterval(e.current)}},[f])}var I=10;function $(f,T,D,M,i,p,K,e){var v=c.useRef(),C=c.useState(null),S=(0,Ze.Z)(C,2),t=S[0],a=S[1];return(0,re.Z)(function(){if(t&&t.times<I){if(!f.current){a(function(Ke){return(0,_.Z)({},Ke)});return}p();var n=t.targetAlign,d=t.originAlign,l=t.index,y=t.offset,x=f.current.clientHeight,m=!1,b=n,E=null;if(x){for(var R=n||d,V=0,P=0,A=0,Y=Math.min(T.length-1,l),ee=0;ee<=Y;ee+=1){var ve=i(T[ee]);P=V;var ie=D.get(ve);A=P+(ie===void 0?M:ie),V=A}for(var se=R==="top"?y:x-y,de=Y;de>=0;de-=1){var Ee=i(T[de]),te=D.get(Ee);if(te===void 0){m=!0;break}if(se-=te,se<=0)break}switch(R){case"top":E=P-y;break;case"bottom":E=A-x+y;break;default:{var Te=f.current.scrollTop,Me=Te+x;P<Te?b="top":A>Me&&(b="bottom")}}E!==null&&K(E),E!==t.lastTop&&(m=!0)}m&&a((0,_.Z)((0,_.Z)({},t),{},{times:t.times+1,targetAlign:b,lastTop:E}))}},[t,f.current]),function(n){if(n==null){e();return}if(o.Z.cancel(v.current),typeof n=="number")K(n);else if(n&&(0,Re.Z)(n)==="object"){var d,l=n.align;"index"in n?d=n.index:d=T.findIndex(function(m){return i(m)===n.key});var y=n.offset,x=y===void 0?0:y;a({times:0,index:d,offset:x,originAlign:l})}}}function z(f,T){var D="touches"in f?f.touches[0]:f;return D[T?"pageX":"pageY"]}var fe=c.forwardRef(function(f,T){var D=f.prefixCls,M=f.rtl,i=f.scrollOffset,p=f.scrollRange,K=f.onStartMove,e=f.onStopMove,v=f.onScroll,C=f.horizontal,S=f.spinSize,t=f.containerSize,a=f.style,n=f.thumbStyle,d=c.useState(!1),l=(0,Ze.Z)(d,2),y=l[0],x=l[1],m=c.useState(null),b=(0,Ze.Z)(m,2),E=b[0],R=b[1],V=c.useState(null),P=(0,Ze.Z)(V,2),A=P[0],Y=P[1],ee=!M,ve=c.useRef(),ie=c.useRef(),se=c.useState(!1),de=(0,Ze.Z)(se,2),Ee=de[0],te=de[1],Te=c.useRef(),Me=function(){clearTimeout(Te.current),te(!0),Te.current=setTimeout(function(){te(!1)},3e3)},Ke=p-t||0,Ye=t-S||0,le=c.useMemo(function(){if(i===0||Ke===0)return 0;var Ie=i/Ke;return Ie*Ye},[i,Ke,Ye]),Ae=function(he){he.stopPropagation(),he.preventDefault()},Qe=c.useRef({top:le,dragging:y,pageY:E,startTop:A});Qe.current={top:le,dragging:y,pageY:E,startTop:A};var qe=function(he){x(!0),R(z(he,C)),Y(Qe.current.top),K(),he.stopPropagation(),he.preventDefault()};c.useEffect(function(){var Ie=function(Xe){Xe.preventDefault()},he=ve.current,Fe=ie.current;return he.addEventListener("touchstart",Ie),Fe.addEventListener("touchstart",qe),function(){he.removeEventListener("touchstart",Ie),Fe.removeEventListener("touchstart",qe)}},[]);var it=c.useRef();it.current=Ke;var nt=c.useRef();nt.current=Ye,c.useEffect(function(){if(y){var Ie,he=function(Xe){var st=Qe.current,gt=st.dragging,lt=st.pageY,yt=st.startTop;if(o.Z.cancel(Ie),gt){var ut=z(Xe,C)-lt,et=yt;!ee&&C?et-=ut:et+=ut;var rt=it.current,ft=nt.current,vt=ft?et/ft:0,at=Math.ceil(vt*rt);at=Math.max(at,0),at=Math.min(at,rt),Ie=(0,o.Z)(function(){v(at,C)})}},Fe=function(){x(!1),e()};return window.addEventListener("mousemove",he),window.addEventListener("touchmove",he),window.addEventListener("mouseup",Fe),window.addEventListener("touchend",Fe),function(){window.removeEventListener("mousemove",he),window.removeEventListener("touchmove",he),window.removeEventListener("mouseup",Fe),window.removeEventListener("touchend",Fe),o.Z.cancel(Ie)}}},[y]),c.useEffect(function(){Me()},[i]),c.useImperativeHandle(T,function(){return{delayHidden:Me}});var Oe="".concat(D,"-scrollbar"),Le={position:"absolute",visibility:Ee?null:"hidden"},We={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return C?(Le.height=8,Le.left=0,Le.right=0,Le.bottom=0,We.height="100%",We.width=S,ee?We.left=le:We.right=le):(Le.width=8,Le.top=0,Le.bottom=0,ee?Le.right=0:Le.left=0,We.width="100%",We.height=S,We.top=le),c.createElement("div",{ref:ve,className:De()(Oe,(0,xe.Z)((0,xe.Z)((0,xe.Z)({},"".concat(Oe,"-horizontal"),C),"".concat(Oe,"-vertical"),!C),"".concat(Oe,"-visible"),Ee)),style:(0,_.Z)((0,_.Z)({},Le),a),onMouseDown:Ae,onMouseMove:Me},c.createElement("div",{ref:ie,className:De()("".concat(Oe,"-thumb"),(0,xe.Z)({},"".concat(Oe,"-thumb-moving"),y)),style:(0,_.Z)((0,_.Z)({},We),n),onMouseDown:qe}))}),ge=fe,Q=20;function me(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=f/T*f;return isNaN(D)&&(D=0),D=Math.max(D,Q),Math.floor(D)}var ye=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],Ue=[],je={overflowY:"auto",overflowAnchor:"none"};function Ge(f,T){var D=f.prefixCls,M=D===void 0?"rc-virtual-list":D,i=f.className,p=f.height,K=f.itemHeight,e=f.fullHeight,v=e===void 0?!0:e,C=f.style,S=f.data,t=f.children,a=f.itemKey,n=f.virtual,d=f.direction,l=f.scrollWidth,y=f.component,x=y===void 0?"div":y,m=f.onScroll,b=f.onVirtualScroll,E=f.onVisibleChange,R=f.innerProps,V=f.extraRender,P=f.styles,A=(0,U.Z)(f,ye),Y=c.useCallback(function(X){return typeof a=="function"?a(X):X==null?void 0:X[a]},[a]),ee=oe(Y,null,null),ve=(0,Ze.Z)(ee,4),ie=ve[0],se=ve[1],de=ve[2],Ee=ve[3],te=!!(n!==!1&&p&&K),Te=c.useMemo(function(){return Object.values(de.maps).reduce(function(X,H){return X+H},0)},[de.id,de.maps]),Me=te&&S&&(Math.max(K*S.length,Te)>p||!!l),Ke=d==="rtl",Ye=De()(M,(0,xe.Z)({},"".concat(M,"-rtl"),Ke),i),le=S||Ue,Ae=(0,c.useRef)(),Qe=(0,c.useRef)(),qe=(0,c.useRef)(),it=(0,c.useState)(0),nt=(0,Ze.Z)(it,2),Oe=nt[0],Le=nt[1],We=(0,c.useState)(0),Ie=(0,Ze.Z)(We,2),he=Ie[0],Fe=Ie[1],_e=(0,c.useState)(!1),Xe=(0,Ze.Z)(_e,2),st=Xe[0],gt=Xe[1],lt=function(){gt(!0)},yt=function(){gt(!1)},ut={getKey:Y};function et(X){Le(function(H){var ce;typeof X=="function"?ce=X(H):ce=X;var we=jt(ce);return Ae.current.scrollTop=we,we})}var rt=(0,c.useRef)({start:0,end:le.length}),ft=(0,c.useRef)(),vt=ae(le,Y),at=(0,Ze.Z)(vt,1),Kt=at[0];ft.current=Kt;var Se=c.useMemo(function(){if(!te)return{scrollHeight:void 0,start:0,end:le.length-1,offset:void 0};if(!Me){var X;return{scrollHeight:((X=Qe.current)===null||X===void 0?void 0:X.offsetHeight)||0,start:0,end:le.length-1,offset:void 0}}for(var H=0,ce,we,dt,qt=le.length,Et=0;Et<qt;Et+=1){var en=le[Et],tn=Y(en),Wt=de.get(tn),bt=H+(Wt===void 0?K:Wt);bt>=Oe&&ce===void 0&&(ce=Et,we=H),bt>Oe+p&&dt===void 0&&(dt=Et),H=bt}return ce===void 0&&(ce=0,we=0,dt=Math.ceil(p/K)),dt===void 0&&(dt=le.length-1),dt=Math.min(dt+1,le.length-1),{scrollHeight:H,start:ce,end:dt,offset:we}},[Me,te,Oe,le,Ee,p]),Be=Se.scrollHeight,Ve=Se.start,Je=Se.end,tt=Se.offset;rt.current.start=Ve,rt.current.end=Je;var ot=c.useState({width:0,height:p}),ht=(0,Ze.Z)(ot,2),ze=ht[0],pt=ht[1],Mt=function(H){pt({width:H.width||H.offsetWidth,height:H.height||H.offsetHeight})},Rt=(0,c.useRef)(),Pt=(0,c.useRef)(),Bt=c.useMemo(function(){return me(ze.width,l)},[ze.width,l]),zt=c.useMemo(function(){return me(ze.height,Be)},[ze.height,Be]),Zt=Be-p,xt=(0,c.useRef)(Zt);xt.current=Zt;function jt(X){var H=X;return Number.isNaN(xt.current)||(H=Math.min(H,xt.current)),H=Math.max(H,0),H}var Tt=Oe<=0,Ot=Oe>=Zt,Lt=he<=0,It=he>=l,Yt=w(Tt,Ot,Lt,It),Nt=function(){return{x:Ke?-he:he,y:Oe}},Ct=(0,c.useRef)(Nt()),St=(0,k.zX)(function(X){if(b){var H=(0,_.Z)((0,_.Z)({},Nt()),X);(Ct.current.x!==H.x||Ct.current.y!==H.y)&&(b(H),Ct.current=H)}});function wt(X,H){var ce=X;H?((0,j.flushSync)(function(){Fe(ce)}),St()):et(ce)}function Gt(X){var H=X.currentTarget.scrollTop;H!==Oe&&et(H),m==null||m(X),St()}var kt=function(H){var ce=H,we=l?l-ze.width:0;return ce=Math.max(ce,0),ce=Math.min(ce,we),ce},Xt=(0,k.zX)(function(X,H){H?((0,j.flushSync)(function(){Fe(function(ce){var we=ce+(Ke?-X:X);return kt(we)})}),St()):et(function(ce){var we=ce+X;return we})}),Vt=L(te,Tt,Ot,Lt,It,!!l,Xt),$t=(0,Ze.Z)(Vt,2),Dt=$t[0],At=$t[1];u(te,Ae,function(X,H,ce){return Yt(X,H,ce)?!1:(Dt({preventDefault:function(){},deltaX:X?H:0,deltaY:X?0:H}),!0)}),(0,re.Z)(function(){function X(ce){te&&ce.preventDefault()}var H=Ae.current;return H.addEventListener("wheel",Dt),H.addEventListener("DOMMouseScroll",At),H.addEventListener("MozMousePixelScroll",X),function(){H.removeEventListener("wheel",Dt),H.removeEventListener("DOMMouseScroll",At),H.removeEventListener("MozMousePixelScroll",X)}},[te]),(0,re.Z)(function(){if(l){var X=kt(he);Fe(X),St({x:X})}},[ze.width,l]);var Ft=function(){var H,ce;(H=Rt.current)===null||H===void 0||H.delayHidden(),(ce=Pt.current)===null||ce===void 0||ce.delayHidden()},Ht=$(Ae,le,de,K,Y,function(){return se(!0)},et,Ft);c.useImperativeHandle(T,function(){return{nativeElement:qe.current,getScrollInfo:Nt,scrollTo:function(H){function ce(we){return we&&(0,Re.Z)(we)==="object"&&("left"in we||"top"in we)}ce(H)?(H.left!==void 0&&Fe(kt(H.left)),Ht(H.top)):Ht(H)}}}),(0,re.Z)(function(){if(E){var X=le.slice(Ve,Je+1);E(X,le)}},[Ve,Je,le]);var Jt=G(le,Y,de,K),Qt=V==null?void 0:V({start:Ve,end:Je,virtual:Me,offsetX:he,offsetY:tt,rtl:Ke,getSize:Jt}),_t=Ce(le,Ve,Je,l,he,ie,t,ut),mt=null;p&&(mt=(0,_.Z)((0,xe.Z)({},v?"height":"maxHeight",p),je),te&&(mt.overflowY="hidden",l&&(mt.overflowX="hidden"),st&&(mt.pointerEvents="none")));var Ut={};return Ke&&(Ut.dir="rtl"),c.createElement("div",(0,ke.Z)({ref:qe,style:(0,_.Z)((0,_.Z)({},C),{},{position:"relative"}),className:Ye},Ut,A),c.createElement(N.Z,{onResize:Mt},c.createElement(x,{className:"".concat(M,"-holder"),style:mt,ref:Ae,onScroll:Gt,onMouseEnter:Ft},c.createElement(Ne,{prefixCls:M,height:Be,offsetX:he,offsetY:tt,scrollWidth:l,onInnerResize:se,ref:Qe,innerProps:R,rtl:Ke,extra:Qt},_t))),Me&&Be>p&&c.createElement(ge,{ref:Rt,prefixCls:M,scrollOffset:Oe,scrollRange:Be,rtl:Ke,onScroll:wt,onStartMove:lt,onStopMove:yt,spinSize:zt,containerSize:ze.height,style:P==null?void 0:P.verticalScrollBar,thumbStyle:P==null?void 0:P.verticalScrollBarThumb}),Me&&l>ze.width&&c.createElement(ge,{ref:Pt,prefixCls:M,scrollOffset:he,scrollRange:l,rtl:Ke,onScroll:wt,onStartMove:lt,onStopMove:yt,spinSize:Bt,containerSize:ze.width,horizontal:!0,style:P==null?void 0:P.horizontalScrollBar,thumbStyle:P==null?void 0:P.horizontalScrollBarThumb}))}var q=c.forwardRef(Ge);q.displayName="List";var Pe=q,$e=Pe}}]);
