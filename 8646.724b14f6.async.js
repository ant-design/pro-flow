!(function(){var nu=Object.defineProperty,ru=Object.defineProperties;var ou=Object.getOwnPropertyDescriptors;var ga=Object.getOwnPropertySymbols;var Zc=Object.prototype.hasOwnProperty,Hc=Object.prototype.propertyIsEnumerable;var za=Math.pow,jc=(B,Z,l)=>Z in B?nu(B,Z,{enumerable:!0,configurable:!0,writable:!0,value:l}):B[Z]=l,Rt=(B,Z)=>{for(var l in Z||(Z={}))Zc.call(Z,l)&&jc(B,l,Z[l]);if(ga)for(var l of ga(Z))Hc.call(Z,l)&&jc(B,l,Z[l]);return B},Fn=(B,Z)=>ru(B,ou(Z));var Oi=(B,Z)=>{var l={};for(var i in B)Zc.call(B,i)&&Z.indexOf(i)<0&&(l[i]=B[i]);if(B!=null&&ga)for(var i of ga(B))Z.indexOf(i)<0&&Hc.call(B,i)&&(l[i]=B[i]);return l};var Va=(B,Z,l)=>{if(!Z.has(B))throw TypeError("Cannot "+l)};var Ze=(B,Z,l)=>(Va(B,Z,"read from private field"),l?l.call(B):Z.get(B)),$n=(B,Z,l)=>{if(Z.has(B))throw TypeError("Cannot add the same private member more than once");Z instanceof WeakSet?Z.add(B):Z.set(B,l)},ao=(B,Z,l,i)=>(Va(B,Z,"write to private field"),i?i.call(B,l):Z.set(B,l),l),js=(B,Z,l,i)=>({set _(O){ao(B,Z,O,l)},get _(){return Ze(B,Z,i)}}),Lo=(B,Z,l)=>(Va(B,Z,"access private method"),l);var $c=(B,Z,l)=>new Promise((i,O)=>{var _=b=>{try{x(l.next(b))}catch(p){O(p)}},T=b=>{try{x(l.throw(b))}catch(p){O(p)}},x=b=>b.done?i(b.value):Promise.resolve(b.value).then(_,T);x((l=l.apply(B,Z)).next())});(self.webpackChunk_ant_design_pro_flow=self.webpackChunk_ant_design_pro_flow||[]).push([[8646],{87075:function(B,Z,l){"use strict";l.d(Z,{Z:function(){return w}});var i=l(5051),O=l(75271),_={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},T=_,x=l(18769),b=function(I,U){return O.createElement(x.Z,(0,i.Z)({},I,{ref:U,icon:T}))},p=O.forwardRef(b),w=p},17288:function(B,Z,l){"use strict";l.d(Z,{Z:function(){return w}});var i=l(5051),O=l(75271),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M342 88H120c-17.7 0-32 14.3-32 32v224c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V168h174c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zm578 576h-48c-8.8 0-16 7.2-16 16v176H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h222c17.7 0 32-14.3 32-32V680c0-8.8-7.2-16-16-16zM342 856H168V680c0-8.8-7.2-16-16-16h-48c-8.8 0-16 7.2-16 16v224c0 17.7 14.3 32 32 32h222c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zM904 88H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h174v176c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V120c0-17.7-14.3-32-32-32z"}}]},name:"expand",theme:"outlined"},T=_,x=l(18769),b=function(I,U){return O.createElement(x.Z,(0,i.Z)({},I,{ref:U,icon:T}))},p=O.forwardRef(b),w=p},81774:function(B,Z,l){"use strict";l.d(Z,{Z:function(){return w}});var i=l(5051),O=l(75271),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},T=_,x=l(18769),b=function(I,U){return O.createElement(x.Z,(0,i.Z)({},I,{ref:U,icon:T}))},p=O.forwardRef(b),w=p},57868:function(B,Z,l){"use strict";l.d(Z,{Z:function(){return w}});var i=l(5051),O=l(75271),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},T=_,x=l(18769),b=function(I,U){return O.createElement(x.Z,(0,i.Z)({},I,{ref:U,icon:T}))},p=O.forwardRef(b),w=p},91400:function(B,Z,l){"use strict";l.d(Z,{Z:function(){return w}});var i=l(5051),O=l(75271),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},T=_,x=l(18769),b=function(I,U){return O.createElement(x.Z,(0,i.Z)({},I,{ref:U,icon:T}))},p=O.forwardRef(b),w=p},35952:function(B,Z,l){"use strict";l.d(Z,{Z:function(){return w}});var i=l(5051),O=l(75271),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},T=_,x=l(18769),b=function(I,U){return O.createElement(x.Z,(0,i.Z)({},I,{ref:U,icon:T}))},p=O.forwardRef(b),w=p},29114:function(B,Z,l){"use strict";l.d(Z,{Z:function(){return w}});var i=l(5051),O=l(75271),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},T=_,x=l(18769),b=function(I,U){return O.createElement(x.Z,(0,i.Z)({},I,{ref:U,icon:T}))},p=O.forwardRef(b),w=p},64368:function(B,Z,l){"use strict";l.d(Z,{Z:function(){return Ve}});var i=l(36161),O=l(11267),_=l(73116),T=l(15498),x=l(75360),b=l(91397),p=l(33515),w,E,I,U=(0,p.kc)(function(ce,ue){var X=ce.token,re=ce.css,oe=ce.cx,$=ce.prefixCls,Q=ue.size,ae=ue.className,ie="".concat($,"-").concat(X.editorPrefix,"-icon"),_e=typeof Q=="number"?re(w||(w=(0,b.Z)([`
          width: `,`px !important;
          height: `,`px !important;
        `])),Q,Q):"",Le=re(E||(E=(0,b.Z)([`
    display: flex;
    align-items: center;
    justify-content: center;

    &:hover {
      color: `,` !important;
    }

    &:active {
      scale: 0.8;
      color: `,`;
    }

    transition: color 600ms `,", scale 400ms ",`,
      background-color 100ms `,`;
  `])),X.colorText,X.colorText,X.motionEaseOut,X.motionEaseOut,X.motionEaseOut);return{container:oe(ie,Le,_e,ae),tooltip:re(I||(I=(0,b.Z)([`
      pointer-events: none;
    `])))}}),N=l(52676),K=["placement","title","icon","cursor","onClick","className","arrow","size","tooltipDelay"],G=function(ue){var X=ue.placement,re=ue.title,oe=ue.icon,$=ue.cursor,Q=ue.onClick,ae=ue.className,ie=ue.arrow,_e=ie===void 0?!1:ie,Le=ue.size,P=Le===void 0?"default":Le,J=ue.tooltipDelay,Ce=J===void 0?.5:J,xe=(0,O.Z)(ue,K),je=U({size:P}),H=je.styles,se=je.cx,Ee=(0,N.jsx)(_.ZP,(0,i.Z)((0,i.Z)({icon:oe,className:se(H.container,ae),type:"text",style:{cursor:$},size:typeof P=="number"||P==="default"?"middle":P},xe),{},{onClick:Q}));return(0,N.jsx)(N.Fragment,{children:re?(0,N.jsx)(T.Z,{arrow:_e,overlayClassName:H.tooltip,title:re,mouseEnterDelay:Ce,placement:X,children:Ee}):Ee})},he=function(ue){var X=ue||{},re=X.size,oe=U({size:re}),$=oe.theme;return(0,N.jsx)(x.iV,{componentToken:{Button:{colorText:$.colorTextTertiary,colorBgTextHover:$.colorFillSecondary,colorBgTextActive:$.colorFill}},children:(0,N.jsx)(G,(0,i.Z)({},ue))})},Ve=he},75360:function(B,Z,l){"use strict";l.d(Z,{iV:function(){return Le}});var i=l(36161),O=l(74389),_=l(51395),T=l(74259),x=l(85368),b=function(Ce,xe){var je=x.Z.darkAlgorithm(Ce,xe);return(0,i.Z)((0,i.Z)({},je),{},{colorBgLayout:"#20252b",colorBgContainer:"#282c34",colorBgElevated:"#32363e"})},p=function(Ce){var xe={algorithm:[x.Z.compactAlgorithm]};return Ce==="dark"&&xe.algorithm.push(b),xe},w=l(33515),E=function(){return{focusedOutlineColor:"#4c9ffe",colorTypeBoolean:"#D8C152",colorTypeNumber:"#5295C4",colorTypeString:"#149E6D",colorTypeBoolArray:"#D8C152",colorTypeNumberArray:"#239BEF",colorTypeStringArray:"#62AE8D"}},I=E({}),U=l(91397),N=l(77377),K,G,he,Ve,ce,ue,X,re,oe,$,Q,ae=function(Ce){var xe=Ce.token,je=Ce.css,H=je(K||(K=(0,U.Z)([`
    cursor: pointer;
    transition: 150ms background-color ease-in-out;
    &:hover {
      background: `,`;
    }
  `])),xe.colorFillQuaternary),se=je(G||(G=(0,U.Z)([`
    color: `,`;
    background-color: `,`;
    border-color: transparent;
  `])),xe.colorText,xe.colorFillTertiary),Ee=je(he||(he=(0,U.Z)([`
    color: `,` !important;
    background-color: `,` !important;
    border-color: `,` !important;
    box-shadow: none;
  `])),xe.colorText,xe.colorFillQuaternary,xe.colorPrimary),Ge=je(Ve||(Ve=(0,U.Z)([`
    color: `,`;
    background: `,`;
    border-color: transparent;
  `])),xe.colorTextSecondary,xe.colorFillQuaternary);return{defaultButton:je(ce||(ce=(0,U.Z)([`
      `,`;

      &:hover {
        color: `,` !important;
        background: `,` !important;
        border-color: transparent !important;
      }
      &:focus {
        `,`;
        border-color: `,` !important;
      }
    `])),Ge,xe.colorText,xe.colorFillSecondary,Ge,xe.colorPrimary),textInfo:je(ue||(ue=(0,U.Z)([`
      color: `,`;
      &:hover {
        color: `,`;
      }
    `])),xe.colorTextSecondary,xe.colorText),textDefault:je(X||(X=(0,U.Z)([`
      color: `,`;
    `])),xe.colorTextSecondary),containerBgHover:je(re||(re=(0,U.Z)([`
      cursor: pointer;
      transition: 150ms background-color ease-in-out;

      &:hover {
        background: `,`;
      }
    `])),xe.colorFillQuaternary),containerBgL2:je(oe||(oe=(0,U.Z)([`
      `,`;
      border-radius: 4px;
      background: `,`;

      &:hover {
        background: `,`;
      }
    `])),H,xe.colorFillQuaternary,xe.colorFillTertiary),controlContainerFocused:Ee,controlContainer:je($||($=(0,U.Z)([`
      &:hover {
        `,`
      }
      &:focus {
        `,`
      }
    `])),se,Ee),backgroundBlur:je(Q||(Q=(0,U.Z)([`
      background: `,`;
      backdrop-filter: blur(10px);
    `])),(0,N.DZ)(.4)(xe.colorBgElevated))}},ie=l(52676),_e=function(Ce){var xe=(0,_.S)(),je=p(Ce),H={colorBgContainer:xe==null?void 0:xe.colorFillQuaternary,colorBorder:"transparent",controlOutline:"transparent"};return je.components={Input:H,InputNumber:H,Select:H,Tree:{colorBgContainer:"transparent"},TreeSelect:H},je},Le=function(Ce){var xe=Ce.children,je=Ce.componentToken,H=(0,T.r)(),se=H.appearance,Ee=H.themeMode,Ge=_e(se);return Ge.components=(0,i.Z)((0,i.Z)({},Ge.components),je),(0,ie.jsx)(O.ZP,{theme:Ge,children:(0,ie.jsx)(w.f6,{appearance:se,themeMode:Ee,theme:p,customToken:E,customStylish:ae,children:xe})})},P=function(Ce){return function(xe){return _jsx(Le,{children:_jsx(Ce,_objectSpread({},xe))})}}},91991:function(B,Z,l){"use strict";l.d(Z,{Z:function(){return Ct}});var i=l(36161),O=l(35887),_=l(11267),T=l(37187),x=l(56320),b=l(96770),p=l(78014),w=l(75271),E=l(75360),I=l(30016),U=l(90142),N=l(52676),K=2.2,G="13px",he=function(){return(0,N.jsx)("svg",{fill:"none",height:G,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:K,viewBox:"0 0 24 24",width:G,xmlns:"http://www.w3.org/2000/svg",children:(0,N.jsx)("path",{d:"M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"})})},Ve=function(){return(0,N.jsx)("svg",{className:"lucide lucide-chevron-up",fill:"none",height:G,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:K,viewBox:"0 0 24 24",width:G,xmlns:"http://www.w3.org/2000/svg",children:(0,N.jsx)("polyline",{points:"18 15 12 9 6 15"})})},ce=function(){return(0,N.jsx)("svg",{className:"lucide lucide-chevron-up",fill:"none",height:G,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:K,viewBox:"0 0 24 24",width:G,xmlns:"http://www.w3.org/2000/svg",children:(0,N.jsx)("path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z"})})},ue=function(){return(0,N.jsxs)("svg",{className:"lucide lucide-chevron-up",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",height:G,strokeWidth:K,width:G,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,N.jsx)("path",{d:"M3 3h6l6 18h6"}),(0,N.jsx)("path",{d:"M14 3h7"})]})},X=function(ge){var ve=ge.className;return(0,N.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:G,width:G,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:K,strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-right ".concat(ve),children:(0,N.jsx)("polyline",{points:"9 18 15 12 9 6"})})},re=l(91397),oe=l(33515),$,Q,ae,ie,_e,Le=(0,oe.kc)(function(Y){var ge=Y.css,ve=Y.cx,be=Y.token,Re=Y.prefixCls,dt="".concat(Re,"-").concat(be.editorPrefix,"-context-menu"),gt=ge($||($=(0,re.Z)([`
    font-weight: bold;
    color: `,`;
    background: `,`;
    &:hover {
      color: `,`;
      background: `,`;
    }
  `])),be.colorPrimaryText,be.colorPrimaryBg,be.colorPrimaryTextHover,be.colorPrimaryBgHover);return{item:ve("".concat(dt,"-item"),ge(Q||(Q=(0,re.Z)([`
        all: unset;

        user-select: none;
        scroll-margin: 50px;

        display: flex;
        align-items: center;
        justify-content: space-between;

        box-sizing: inherit;
        width: 100%;
        padding: 12px 10px;

        font-family: `,`;
        font-weight: normal;
        line-height: 1;
        color: `,`;

        background: transparent;
        border-radius: 5px;
        &:hover {
          background: `,`;
        }
      `])),be.fontFamily,be.colorText,be.colorFillTertiary)),selected:ve("".concat(dt,"-item-selected"),gt),active:ve("".concat(dt,"-item-active"),ge(ae||(ae=(0,re.Z)([`
        background: `,`;
      `])),be.colorFillTertiary)),arrow:ge(ie||(ie=(0,re.Z)([`
      color: `,`;
    `])),be.colorTextTertiary),kbd:ge(_e||(_e=(0,re.Z)([`
      display: flex;
      align-items: center;
      justify-content: center;

      width: 18px;
      height: 20px;

      font-family: `,`;
      font-size: 14px;
      color: `,`;

      border-radius: 2px;
    `])),be.fontFamily,be.colorTextQuaternary)}}),P=["label","icon","disabled","nested","shortcut","active","selected"],J={meta:(0,N.jsx)(he,{}),control:(0,N.jsx)(Ve,{}),shift:(0,N.jsx)(ce,{}),alt:(0,N.jsx)(ue,{}),enter:"\u21B5"},Ce={meta:"meta",command:"meta",cmd:"meta",ctl:"control",control:"control",shift:"shift",alt:"alt"},xe=(0,w.forwardRef)(function(Y,ge){var ve=Y.label,be=Y.icon,Re=Y.disabled,dt=Y.nested,gt=Y.shortcut,Wt=Y.active,Qt=Y.selected,Ie=(0,_.Z)(Y,P),De=Le(),We=De.styles,He=De.cx;return(0,N.jsxs)("button",(0,i.Z)((0,i.Z)({type:"button"},Ie),{},{className:He(We.item,(0,I.Z)((0,I.Z)({},We.selected,Qt),We.active,Wt)),disabled:Re,ref:ge,role:"menuitem",children:[(0,N.jsxs)(U.D,{gap:8,horizontal:!0,children:[be&&(0,N.jsx)("span",{children:be}),ve]}),dt?(0,N.jsx)("span",{"aria-hidden":!0,children:(0,N.jsx)(X,{className:We.arrow})}):gt?(0,N.jsx)(U.D,{align:"center",horizontal:!0,children:gt.map(function(ye){var Ft=Ce[ye.toLowerCase()];return(0,N.jsx)("kbd",{className:We.kbd,children:Ft?J[Ft]:ye.toUpperCase()},ye)})}):null]}))}),je=xe,H,se,Ee=(0,oe.kc)(function(Y){var ge=Y.css,ve=Y.cx,be=Y.token,Re=Y.prefixCls,dt="".concat(Re,"-").concat(be.editorPrefix,"-context-menu");return{container:ve(dt,ge(H||(H=(0,re.Z)([`
        all: unset;
        user-select: none;
        scrollbar-width: none;

        overflow-y: auto;
        overscroll-behavior: contain;

        box-sizing: border-box;
        width: 200px;
        padding: 5px;

        font-size: `,`px;

        background: `,`;
        border: 1px solid `,`;
        border-radius: 8px;
        outline: 0;
        box-shadow: `,`;

        &::-webkit-scrollbar {
          display: none;
        }
      `])),be.fontSize,be.colorBgContainer,be.colorBorder,be.boxShadowSecondary)),button:ve("".concat(dt,"-button"),ge(se||(se=(0,re.Z)([`
        all: unset;

        cursor: default;
        user-select: none;

        padding: 12px 10px;

        font-size: `,`px;
        line-height: 1;
        color: `,`;

        background: `,`;
        border: 1px solid `,`;
        border-radius: `,`px;

        -webkit-tap-highlight-color: transparent;

        &:hover {
          background: `,`;
          border-color: transparent;
        }

        &:focus-visible {
          border-color: `,`;
          box-shadow: 0 0 0 2px `,`;
        }
      `])),be.fontSize,be.colorText,be.colorBgContainer,be.colorBorder,be.borderRadius,be.colorPrimaryBg,be.colorPrimary,be.colorPrimaryBg))}}),Ge=["items","label","container"],_t=(0,w.forwardRef)(function(Y,ge){var ve=Y.items,be=Y.label,Re=Y.container,dt=(0,_.Z)(Y,Ge),gt=Ee(),Wt=gt.styles,Qt=(0,w.useState)(!1),Ie=(0,O.Z)(Qt,2),De=Ie[0],We=Ie[1],He=(0,w.useState)(null),ye=(0,O.Z)(He,2),Ft=ye[0],yn=ye[1],gn=(0,w.useState)(!1),Sn=(0,O.Z)(gn,2),kn=Sn[0],bn=Sn[1],Tn=(0,w.useRef)([]),Bn=(0,w.useRef)(ve.map(function(yt){return yt.label})),In=(0,w.useRef)(!1),on=(0,T.ay)(),M=(0,T.jV)(),W=(0,T.Zm)(),we=W!==null,Pe=(0,T.YF)({nodeId:M,open:De,onOpenChange:We,placement:we?"right-start":"bottom-start",middleware:[(0,x.cv)({mainAxis:we?0:4,alignmentAxis:we?-4:0}),(0,x.RR)(),(0,x.uY)()],whileElementsMounted:b.Me}),Xe=Pe.refs,mt=Pe.context,bt=Pe.floatingStyles,ht=(0,T.XI)(mt,{enabled:we&&kn,delay:{open:75},handleClose:(0,T.xp)({blockPointerEvents:!0})}),ze=(0,T.eS)(mt,{event:"mousedown",toggle:!we||!kn,ignoreMouse:we}),Je=(0,T.qs)(mt,{role:"menu"}),jt=(0,T.bQ)(mt),cn=(0,T.c0)(mt,{listRef:Tn,activeIndex:Ft,nested:we,onNavigate:yn}),Zt=(0,T.ox)(mt,{enabled:De,listRef:Bn,onMatch:De?yn:void 0,activeIndex:Ft}),nn=(0,T.NI)([ht,ze,Je,jt,cn,Zt]),qt=nn.getReferenceProps,en=nn.getFloatingProps,wn=nn.getItemProps;(0,w.useEffect)(function(){if(!on)return;function yt(){We(!1)}function zt(Et){Et.nodeId!==M&&Et.parentId===W&&We(!1)}return on.events.on("click",yt),on.events.on("menuopen",zt),function(){on.events.off("click",yt),on.events.off("menuopen",zt)}},[on,M,W]),(0,w.useEffect)(function(){De&&on&&on.events.emit("menuopen",{parentId:W,nodeId:M})},[on,De,M,W]),(0,w.useEffect)(function(){function yt(Et){var st=Et.pointerType;st!=="touch"&&bn(!0)}function zt(){bn(!1)}return window.addEventListener("pointermove",yt,{once:!0,capture:!0}),window.addEventListener("keydown",zt,!0),function(){window.removeEventListener("pointermove",yt,{capture:!0}),window.removeEventListener("keydown",zt,!0)}},[kn]),(0,w.useEffect)(function(){var yt;function zt(st){st.preventDefault(),Xe.setPositionReference({getBoundingClientRect:function(){return{width:0,height:0,x:st.clientX,y:st.clientY,top:st.clientY,right:st.clientX,bottom:st.clientY,left:st.clientX}}}),We(!0),clearTimeout(yt),In.current=!1,yt=window.setTimeout(function(){In.current=!0},300)}function Et(){In.current&&We(!1)}return document.addEventListener("contextmenu",zt),document.addEventListener("mouseup",Et),function(){document.removeEventListener("contextmenu",zt),document.removeEventListener("mouseup",Et),clearTimeout(yt)}},[Xe,Re]);var hn=(0,w.useCallback)(function(yt,zt){if("type"in yt&&yt.type==="divider")return(0,N.jsx)(p.Z,{style:{margin:"4px 12px",minWidth:"auto",width:"auto"}});var Et=yt,st=(0,i.Z)({label:Et.label,key:Et.key,icon:Et.icon,shortcut:Et.shortcut,active:Ft===zt},wn({ref:function(Kt){Tn.current[zt]=Kt},onClick:function(){var Kt;(Kt=Et.onClick)===null||Kt===void 0||Kt.call(Et),We(!1)},onMouseUp:function(){var Kt;(Kt=Et.onClick)===null||Kt===void 0||Kt.call(Et),We(!1)}}));return"children"in yt?(0,N.jsx)(_t,(0,i.Z)((0,i.Z)({},st),{},{items:yt.children})):(0,N.jsx)(je,(0,i.Z)({},st))},[Ft]),mn=(0,T.qq)([Xe.setReference,ge]);return(0,N.jsxs)(T.mN,{id:M,children:[be?(0,N.jsx)(je,(0,i.Z)((0,i.Z)({label:be,nested:we,ref:mn,role:we?"menuitem":"menu"},dt),qt({onClick:function(zt){zt.stopPropagation()}}))):null,(0,N.jsx)(T.ll,{children:De&&(0,N.jsx)(T.wD,{context:mt,initialFocus:we?-1:0,modal:!1,returnFocus:!we,children:(0,N.jsx)("div",(0,i.Z)((0,i.Z)({className:Wt.container,ref:Xe.setFloating,style:bt},en()),{},{children:ve==null?void 0:ve.map(hn)}))})})]})}),Gt=(0,w.forwardRef)(function(Y,ge){return(0,N.jsx)(E.iV,{children:(0,N.jsx)(T.RB,{children:(0,N.jsx)(_t,(0,i.Z)((0,i.Z)({},Y),{},{ref:ge}))})})}),Ct=Gt},33515:function(B,Z,l){"use strict";l.d(Z,{f6:function(){return T},kc:function(){return _}});var i=l(71236),O=(0,i.F)({customToken:{editorPrefix:"editor"}}),_=O.createStyles,T=O.ThemeProvider},79511:function(B,Z,l){B.exports={graphlib:l(7378),layout:l(2008),debug:l(27710),util:{time:l(20965).time,notime:l(20965).notime},version:l(61360)}},78514:function(B,Z,l){"use strict";let i=l(28699),O=l(20965).uniqueId;B.exports={run:_,undo:x};function _(b){(b.graph().acyclicer==="greedy"?i(b,w(b)):T(b)).forEach(E=>{let I=b.edge(E);b.removeEdge(E),I.forwardName=E.name,I.reversed=!0,b.setEdge(E.w,E.v,I,O("rev"))});function w(E){return I=>E.edge(I).weight}}function T(b){let p=[],w={},E={};function I(U){E.hasOwnProperty(U)||(E[U]=!0,w[U]=!0,b.outEdges(U).forEach(N=>{w.hasOwnProperty(N.w)?p.push(N):I(N.w)}),delete w[U])}return b.nodes().forEach(I),p}function x(b){b.edges().forEach(p=>{let w=b.edge(p);if(w.reversed){b.removeEdge(p);let E=w.forwardName;delete w.reversed,delete w.forwardName,b.setEdge(p.w,p.v,w,E)}})}},59702:function(B,Z,l){let i=l(20965);B.exports=O;function O(T){function x(b){let p=T.children(b),w=T.node(b);if(p.length&&p.forEach(x),w.hasOwnProperty("minRank")){w.borderLeft=[],w.borderRight=[];for(let E=w.minRank,I=w.maxRank+1;E<I;++E)_(T,"borderLeft","_bl",b,w,E),_(T,"borderRight","_br",b,w,E)}}T.children().forEach(x)}function _(T,x,b,p,w,E){let I={width:0,height:0,rank:E,borderType:x},U=w[x][E-1],N=i.addDummyNode(T,"border",I,b);w[x][E]=N,T.setParent(N,p),U&&T.setEdge(U,N,{weight:1})}},43543:function(B){"use strict";B.exports={adjust:Z,undo:l};function Z(p){let w=p.graph().rankdir.toLowerCase();(w==="lr"||w==="rl")&&i(p)}function l(p){let w=p.graph().rankdir.toLowerCase();(w==="bt"||w==="rl")&&_(p),(w==="lr"||w==="rl")&&(x(p),i(p))}function i(p){p.nodes().forEach(w=>O(p.node(w))),p.edges().forEach(w=>O(p.edge(w)))}function O(p){let w=p.width;p.width=p.height,p.height=w}function _(p){p.nodes().forEach(w=>T(p.node(w))),p.edges().forEach(w=>{let E=p.edge(w);E.points.forEach(T),E.hasOwnProperty("y")&&T(E)})}function T(p){p.y=-p.y}function x(p){p.nodes().forEach(w=>b(p.node(w))),p.edges().forEach(w=>{let E=p.edge(w);E.points.forEach(b),E.hasOwnProperty("x")&&b(E)})}function b(p){let w=p.x;p.x=p.y,p.y=w}},20668:function(B){class Z{constructor(){let _={};_._next=_._prev=_,this._sentinel=_}dequeue(){let _=this._sentinel,T=_._prev;if(T!==_)return l(T),T}enqueue(_){let T=this._sentinel;_._prev&&_._next&&l(_),_._next=T._next,T._next._prev=_,T._next=_,_._prev=T}toString(){let _=[],T=this._sentinel,x=T._prev;for(;x!==T;)_.push(JSON.stringify(x,i)),x=x._prev;return"["+_.join(", ")+"]"}}function l(O){O._prev._next=O._next,O._next._prev=O._prev,delete O._next,delete O._prev}function i(O,_){if(O!=="_next"&&O!=="_prev")return _}B.exports=Z},27710:function(B,Z,l){let i=l(20965),O=l(7378).Graph;B.exports={debugOrdering:_};function _(T){let x=i.buildLayerMatrix(T),b=new O({compound:!0,multigraph:!0}).setGraph({});return T.nodes().forEach(p=>{b.setNode(p,{label:p}),b.setParent(p,"layer"+T.node(p).rank)}),T.edges().forEach(p=>b.setEdge(p.v,p.w,{},p.name)),x.forEach((p,w)=>{let E="layer"+w;b.setNode(E,{rank:"same"}),p.reduce((I,U)=>(b.setEdge(I,U,{style:"invis"}),U))}),b}},28699:function(B,Z,l){let i=l(7378).Graph,O=l(20668);B.exports=T;let _=()=>1;function T(I,U){if(I.nodeCount()<=1)return[];let N=p(I,U||_);return x(N.graph,N.buckets,N.zeroIdx).flatMap(G=>I.outEdges(G.v,G.w))}function x(I,U,N){let K=[],G=U[U.length-1],he=U[0],Ve;for(;I.nodeCount();){for(;Ve=he.dequeue();)b(I,U,N,Ve);for(;Ve=G.dequeue();)b(I,U,N,Ve);if(I.nodeCount()){for(let ce=U.length-2;ce>0;--ce)if(Ve=U[ce].dequeue(),Ve){K=K.concat(b(I,U,N,Ve,!0));break}}}return K}function b(I,U,N,K,G){let he=G?[]:void 0;return I.inEdges(K.v).forEach(Ve=>{let ce=I.edge(Ve),ue=I.node(Ve.v);G&&he.push({v:Ve.v,w:Ve.w}),ue.out-=ce,w(U,N,ue)}),I.outEdges(K.v).forEach(Ve=>{let ce=I.edge(Ve),ue=Ve.w,X=I.node(ue);X.in-=ce,w(U,N,X)}),I.removeNode(K.v),he}function p(I,U){let N=new i,K=0,G=0;I.nodes().forEach(ce=>{N.setNode(ce,{v:ce,in:0,out:0})}),I.edges().forEach(ce=>{let ue=N.edge(ce.v,ce.w)||0,X=U(ce),re=ue+X;N.setEdge(ce.v,ce.w,re),G=Math.max(G,N.node(ce.v).out+=X),K=Math.max(K,N.node(ce.w).in+=X)});let he=E(G+K+3).map(()=>new O),Ve=K+1;return N.nodes().forEach(ce=>{w(he,Ve,N.node(ce))}),{graph:N,buckets:he,zeroIdx:Ve}}function w(I,U,N){N.out?N.in?I[N.out-N.in+U].enqueue(N):I[I.length-1].enqueue(N):I[0].enqueue(N)}function E(I){const U=[];for(let N=0;N<I;N++)U.push(N);return U}},2008:function(B,Z,l){"use strict";let i=l(78514),O=l(88778),_=l(42311),T=l(20965).normalizeRanks,x=l(3409),b=l(20965).removeEmptyRanks,p=l(13122),w=l(59702),E=l(43543),I=l(59009),U=l(3862),N=l(20965),K=l(7378).Graph;B.exports=G;function G(Y,ge){let ve=ge&&ge.debugTiming?N.time:N.notime;ve("layout",()=>{let be=ve("  buildLayoutGraph",()=>ie(Y));ve("  runLayout",()=>he(be,ve)),ve("  updateInputGraph",()=>Ve(Y,be))})}function he(Y,ge){ge("    makeSpaceForEdgeLabels",()=>_e(Y)),ge("    removeSelfEdges",()=>Ee(Y)),ge("    acyclic",()=>i.run(Y)),ge("    nestingGraph.run",()=>p.run(Y)),ge("    rank",()=>_(N.asNonCompoundGraph(Y))),ge("    injectEdgeLabelProxies",()=>Le(Y)),ge("    removeEmptyRanks",()=>b(Y)),ge("    nestingGraph.cleanup",()=>p.cleanup(Y)),ge("    normalizeRanks",()=>T(Y)),ge("    assignRankMinMax",()=>P(Y)),ge("    removeEdgeLabelProxies",()=>J(Y)),ge("    normalize.run",()=>O.run(Y)),ge("    parentDummyChains",()=>x(Y)),ge("    addBorderSegments",()=>w(Y)),ge("    order",()=>I(Y)),ge("    insertSelfEdges",()=>Ge(Y)),ge("    adjustCoordinateSystem",()=>E.adjust(Y)),ge("    position",()=>U(Y)),ge("    positionSelfEdges",()=>_t(Y)),ge("    removeBorderNodes",()=>se(Y)),ge("    normalize.undo",()=>O.undo(Y)),ge("    fixupEdgeLabelCoords",()=>je(Y)),ge("    undoCoordinateSystem",()=>E.undo(Y)),ge("    translateGraph",()=>Ce(Y)),ge("    assignNodeIntersects",()=>xe(Y)),ge("    reversePoints",()=>H(Y)),ge("    acyclic.undo",()=>i.undo(Y))}function Ve(Y,ge){Y.nodes().forEach(ve=>{let be=Y.node(ve),Re=ge.node(ve);be&&(be.x=Re.x,be.y=Re.y,be.rank=Re.rank,ge.children(ve).length&&(be.width=Re.width,be.height=Re.height))}),Y.edges().forEach(ve=>{let be=Y.edge(ve),Re=ge.edge(ve);be.points=Re.points,Re.hasOwnProperty("x")&&(be.x=Re.x,be.y=Re.y)}),Y.graph().width=ge.graph().width,Y.graph().height=ge.graph().height}let ce=["nodesep","edgesep","ranksep","marginx","marginy"],ue={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},X=["acyclicer","ranker","rankdir","align"],re=["width","height"],oe={width:0,height:0},$=["minlen","weight","width","height","labeloffset"],Q={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},ae=["labelpos"];function ie(Y){let ge=new K({multigraph:!0,compound:!0}),ve=Ct(Y.graph());return ge.setGraph(Object.assign({},ue,Gt(ve,ce),N.pick(ve,X))),Y.nodes().forEach(be=>{let Re=Ct(Y.node(be));const dt=Gt(Re,re);Object.keys(oe).forEach(gt=>{dt[gt]===void 0&&(dt[gt]=oe[gt])}),ge.setNode(be,dt),ge.setParent(be,Y.parent(be))}),Y.edges().forEach(be=>{let Re=Ct(Y.edge(be));ge.setEdge(be,Object.assign({},Q,Gt(Re,$),N.pick(Re,ae)))}),ge}function _e(Y){let ge=Y.graph();ge.ranksep/=2,Y.edges().forEach(ve=>{let be=Y.edge(ve);be.minlen*=2,be.labelpos.toLowerCase()!=="c"&&(ge.rankdir==="TB"||ge.rankdir==="BT"?be.width+=be.labeloffset:be.height+=be.labeloffset)})}function Le(Y){Y.edges().forEach(ge=>{let ve=Y.edge(ge);if(ve.width&&ve.height){let be=Y.node(ge.v),dt={rank:(Y.node(ge.w).rank-be.rank)/2+be.rank,e:ge};N.addDummyNode(Y,"edge-proxy",dt,"_ep")}})}function P(Y){let ge=0;Y.nodes().forEach(ve=>{let be=Y.node(ve);be.borderTop&&(be.minRank=Y.node(be.borderTop).rank,be.maxRank=Y.node(be.borderBottom).rank,ge=Math.max(ge,be.maxRank))}),Y.graph().maxRank=ge}function J(Y){Y.nodes().forEach(ge=>{let ve=Y.node(ge);ve.dummy==="edge-proxy"&&(Y.edge(ve.e).labelRank=ve.rank,Y.removeNode(ge))})}function Ce(Y){let ge=Number.POSITIVE_INFINITY,ve=0,be=Number.POSITIVE_INFINITY,Re=0,dt=Y.graph(),gt=dt.marginx||0,Wt=dt.marginy||0;function Qt(Ie){let De=Ie.x,We=Ie.y,He=Ie.width,ye=Ie.height;ge=Math.min(ge,De-He/2),ve=Math.max(ve,De+He/2),be=Math.min(be,We-ye/2),Re=Math.max(Re,We+ye/2)}Y.nodes().forEach(Ie=>Qt(Y.node(Ie))),Y.edges().forEach(Ie=>{let De=Y.edge(Ie);De.hasOwnProperty("x")&&Qt(De)}),ge-=gt,be-=Wt,Y.nodes().forEach(Ie=>{let De=Y.node(Ie);De.x-=ge,De.y-=be}),Y.edges().forEach(Ie=>{let De=Y.edge(Ie);De.points.forEach(We=>{We.x-=ge,We.y-=be}),De.hasOwnProperty("x")&&(De.x-=ge),De.hasOwnProperty("y")&&(De.y-=be)}),dt.width=ve-ge+gt,dt.height=Re-be+Wt}function xe(Y){Y.edges().forEach(ge=>{let ve=Y.edge(ge),be=Y.node(ge.v),Re=Y.node(ge.w),dt,gt;ve.points?(dt=ve.points[0],gt=ve.points[ve.points.length-1]):(ve.points=[],dt=Re,gt=be),ve.points.unshift(N.intersectRect(be,dt)),ve.points.push(N.intersectRect(Re,gt))})}function je(Y){Y.edges().forEach(ge=>{let ve=Y.edge(ge);if(ve.hasOwnProperty("x"))switch((ve.labelpos==="l"||ve.labelpos==="r")&&(ve.width-=ve.labeloffset),ve.labelpos){case"l":ve.x-=ve.width/2+ve.labeloffset;break;case"r":ve.x+=ve.width/2+ve.labeloffset;break}})}function H(Y){Y.edges().forEach(ge=>{let ve=Y.edge(ge);ve.reversed&&ve.points.reverse()})}function se(Y){Y.nodes().forEach(ge=>{if(Y.children(ge).length){let ve=Y.node(ge),be=Y.node(ve.borderTop),Re=Y.node(ve.borderBottom),dt=Y.node(ve.borderLeft[ve.borderLeft.length-1]),gt=Y.node(ve.borderRight[ve.borderRight.length-1]);ve.width=Math.abs(gt.x-dt.x),ve.height=Math.abs(Re.y-be.y),ve.x=dt.x+ve.width/2,ve.y=be.y+ve.height/2}}),Y.nodes().forEach(ge=>{Y.node(ge).dummy==="border"&&Y.removeNode(ge)})}function Ee(Y){Y.edges().forEach(ge=>{if(ge.v===ge.w){var ve=Y.node(ge.v);ve.selfEdges||(ve.selfEdges=[]),ve.selfEdges.push({e:ge,label:Y.edge(ge)}),Y.removeEdge(ge)}})}function Ge(Y){var ge=N.buildLayerMatrix(Y);ge.forEach(ve=>{var be=0;ve.forEach((Re,dt)=>{var gt=Y.node(Re);gt.order=dt+be,(gt.selfEdges||[]).forEach(Wt=>{N.addDummyNode(Y,"selfedge",{width:Wt.label.width,height:Wt.label.height,rank:gt.rank,order:dt+ ++be,e:Wt.e,label:Wt.label},"_se")}),delete gt.selfEdges})})}function _t(Y){Y.nodes().forEach(ge=>{var ve=Y.node(ge);if(ve.dummy==="selfedge"){var be=Y.node(ve.e.v),Re=be.x+be.width/2,dt=be.y,gt=ve.x-Re,Wt=be.height/2;Y.setEdge(ve.e,ve.label),Y.removeNode(ge),ve.label.points=[{x:Re+2*gt/3,y:dt-Wt},{x:Re+5*gt/6,y:dt-Wt},{x:Re+gt,y:dt},{x:Re+5*gt/6,y:dt+Wt},{x:Re+2*gt/3,y:dt+Wt}],ve.label.x=ve.x,ve.label.y=ve.y}})}function Gt(Y,ge){return N.mapValues(N.pick(Y,ge),Number)}function Ct(Y){var ge={};return Y&&Object.entries(Y).forEach(([ve,be])=>{typeof ve=="string"&&(ve=ve.toLowerCase()),ge[ve]=be}),ge}},13122:function(B,Z,l){let i=l(20965);B.exports={run:O,cleanup:b};function O(p){let w=i.addDummyNode(p,"root",{},"_root"),E=T(p),I=Math.max(...Object.values(E))-1,U=2*I+1;p.graph().nestingRoot=w,p.edges().forEach(K=>p.edge(K).minlen*=U);let N=x(p)+1;p.children().forEach(K=>_(p,w,U,N,I,E,K)),p.graph().nodeRankFactor=U}function _(p,w,E,I,U,N,K){let G=p.children(K);if(!G.length){K!==w&&p.setEdge(w,K,{weight:0,minlen:E});return}let he=i.addBorderNode(p,"_bt"),Ve=i.addBorderNode(p,"_bb"),ce=p.node(K);p.setParent(he,K),ce.borderTop=he,p.setParent(Ve,K),ce.borderBottom=Ve,G.forEach(ue=>{_(p,w,E,I,U,N,ue);let X=p.node(ue),re=X.borderTop?X.borderTop:ue,oe=X.borderBottom?X.borderBottom:ue,$=X.borderTop?I:2*I,Q=re!==oe?1:U-N[K]+1;p.setEdge(he,re,{weight:$,minlen:Q,nestingEdge:!0}),p.setEdge(oe,Ve,{weight:$,minlen:Q,nestingEdge:!0})}),p.parent(K)||p.setEdge(w,he,{weight:0,minlen:U+N[K]})}function T(p){var w={};function E(I,U){var N=p.children(I);N&&N.length&&N.forEach(K=>E(K,U+1)),w[I]=U}return p.children().forEach(I=>E(I,1)),w}function x(p){return p.edges().reduce((w,E)=>w+p.edge(E).weight,0)}function b(p){var w=p.graph();p.removeNode(w.nestingRoot),delete w.nestingRoot,p.edges().forEach(E=>{var I=p.edge(E);I.nestingEdge&&p.removeEdge(E)})}},88778:function(B,Z,l){"use strict";let i=l(20965);B.exports={run:O,undo:T};function O(x){x.graph().dummyChains=[],x.edges().forEach(b=>_(x,b))}function _(x,b){let p=b.v,w=x.node(p).rank,E=b.w,I=x.node(E).rank,U=b.name,N=x.edge(b),K=N.labelRank;if(I===w+1)return;x.removeEdge(b);let G,he,Ve;for(Ve=0,++w;w<I;++Ve,++w)N.points=[],he={width:0,height:0,edgeLabel:N,edgeObj:b,rank:w},G=i.addDummyNode(x,"edge",he,"_d"),w===K&&(he.width=N.width,he.height=N.height,he.dummy="edge-label",he.labelpos=N.labelpos),x.setEdge(p,G,{weight:N.weight},U),Ve===0&&x.graph().dummyChains.push(G),p=G;x.setEdge(p,E,{weight:N.weight},U)}function T(x){x.graph().dummyChains.forEach(b=>{let p=x.node(b),w=p.edgeLabel,E;for(x.setEdge(p.edgeObj,w);p.dummy;)E=x.successors(b)[0],x.removeNode(b),w.points.push({x:p.x,y:p.y}),p.dummy==="edge-label"&&(w.x=p.x,w.y=p.y,w.width=p.width,w.height=p.height),b=E,p=x.node(b)})}},899:function(B){B.exports=Z;function Z(l,i,O){let _={},T;O.forEach(x=>{let b=l.parent(x),p,w;for(;b;){if(p=l.parent(b),p?(w=_[p],_[p]=b):(w=T,T=b),w&&w!==b){i.setEdge(w,b);return}b=p}})}},205:function(B){B.exports=Z;function Z(l,i=[]){return i.map(O=>{let _=l.inEdges(O);if(_.length){let T=_.reduce((x,b)=>{let p=l.edge(b),w=l.node(b.v);return{sum:x.sum+p.weight*w.order,weight:x.weight+p.weight}},{sum:0,weight:0});return{v:O,barycenter:T.sum/T.weight,weight:T.weight}}else return{v:O}})}},41707:function(B,Z,l){let i=l(7378).Graph,O=l(20965);B.exports=_;function _(x,b,p){let w=T(x),E=new i({compound:!0}).setGraph({root:w}).setDefaultNodeLabel(I=>x.node(I));return x.nodes().forEach(I=>{let U=x.node(I),N=x.parent(I);(U.rank===b||U.minRank<=b&&b<=U.maxRank)&&(E.setNode(I),E.setParent(I,N||w),x[p](I).forEach(K=>{let G=K.v===I?K.w:K.v,he=E.edge(G,I),Ve=he!==void 0?he.weight:0;E.setEdge(G,I,{weight:x.edge(K).weight+Ve})}),U.hasOwnProperty("minRank")&&E.setNode(I,{borderLeft:U.borderLeft[b],borderRight:U.borderRight[b]}))}),E}function T(x){for(var b;x.hasNode(b=O.uniqueId("_root")););return b}},94650:function(B,Z,l){"use strict";let i=l(20965).zipObject;B.exports=O;function O(T,x){let b=0;for(let p=1;p<x.length;++p)b+=_(T,x[p-1],x[p]);return b}function _(T,x,b){let p=i(b,b.map((K,G)=>G)),w=x.flatMap(K=>T.outEdges(K).map(G=>({pos:p[G.w],weight:T.edge(G).weight})).sort((G,he)=>G.pos-he.pos)),E=1;for(;E<b.length;)E<<=1;let I=2*E-1;E-=1;let U=new Array(I).fill(0),N=0;return w.forEach(K=>{let G=K.pos+E;U[G]+=K.weight;let he=0;for(;G>0;)G%2&&(he+=U[G+1]),G=G-1>>1,U[G]+=K.weight;N+=K.weight*he}),N}},59009:function(B,Z,l){"use strict";let i=l(37978),O=l(94650),_=l(85855),T=l(41707),x=l(899),b=l(7378).Graph,p=l(20965);B.exports=w;function w(N){let K=p.maxRank(N),G=E(N,p.range(1,K+1),"inEdges"),he=E(N,p.range(K-1,-1,-1),"outEdges"),Ve=i(N);U(N,Ve);let ce=Number.POSITIVE_INFINITY,ue;for(let X=0,re=0;re<4;++X,++re){I(X%2?G:he,X%4>=2),Ve=p.buildLayerMatrix(N);let oe=O(N,Ve);oe<ce&&(re=0,ue=Object.assign({},Ve),ce=oe)}U(N,ue)}function E(N,K,G){return K.map(function(he){return T(N,he,G)})}function I(N,K){let G=new b;N.forEach(function(he){let Ve=he.graph().root,ce=_(he,Ve,G,K);ce.vs.forEach((ue,X)=>he.node(ue).order=X),x(he,G,ce.vs)})}function U(N,K){Object.values(K).forEach(G=>G.forEach((he,Ve)=>N.node(he).order=Ve))}},37978:function(B,Z,l){"use strict";let i=l(20965);B.exports=O;function O(_){let T={},x=_.nodes().filter(I=>!_.children(I).length),b=Math.max(...x.map(I=>_.node(I).rank)),p=i.range(b+1).map(()=>[]);function w(I){if(T[I])return;T[I]=!0;let U=_.node(I);p[U.rank].push(I),_.successors(I).forEach(w)}return x.sort((I,U)=>_.node(I).rank-_.node(U).rank).forEach(w),p}},55139:function(B,Z,l){"use strict";let i=l(20965);B.exports=O;function O(x,b){let p={};x.forEach((E,I)=>{let U=p[E.v]={indegree:0,in:[],out:[],vs:[E.v],i:I};E.barycenter!==void 0&&(U.barycenter=E.barycenter,U.weight=E.weight)}),b.edges().forEach(E=>{let I=p[E.v],U=p[E.w];I!==void 0&&U!==void 0&&(U.indegree++,I.out.push(p[E.w]))});let w=Object.values(p).filter(E=>!E.indegree);return _(w)}function _(x){let b=[];function p(E){return I=>{I.merged||(I.barycenter===void 0||E.barycenter===void 0||I.barycenter>=E.barycenter)&&T(E,I)}}function w(E){return I=>{I.in.push(E),--I.indegree===0&&x.push(I)}}for(;x.length;){let E=x.pop();b.push(E),E.in.reverse().forEach(p(E)),E.out.forEach(w(E))}return b.filter(E=>!E.merged).map(E=>i.pick(E,["vs","i","barycenter","weight"]))}function T(x,b){let p=0,w=0;x.weight&&(p+=x.barycenter*x.weight,w+=x.weight),b.weight&&(p+=b.barycenter*b.weight,w+=b.weight),x.vs=b.vs.concat(x.vs),x.barycenter=p/w,x.weight=w,x.i=Math.min(b.i,x.i),b.merged=!0}},85855:function(B,Z,l){let i=l(205),O=l(55139),_=l(26063);B.exports=T;function T(p,w,E,I){let U=p.children(w),N=p.node(w),K=N?N.borderLeft:void 0,G=N?N.borderRight:void 0,he={};K&&(U=U.filter(X=>X!==K&&X!==G));let Ve=i(p,U);Ve.forEach(X=>{if(p.children(X.v).length){let re=T(p,X.v,E,I);he[X.v]=re,re.hasOwnProperty("barycenter")&&b(X,re)}});let ce=O(Ve,E);x(ce,he);let ue=_(ce,I);if(K&&(ue.vs=[K,ue.vs,G].flat(!0),p.predecessors(K).length)){let X=p.node(p.predecessors(K)[0]),re=p.node(p.predecessors(G)[0]);ue.hasOwnProperty("barycenter")||(ue.barycenter=0,ue.weight=0),ue.barycenter=(ue.barycenter*ue.weight+X.order+re.order)/(ue.weight+2),ue.weight+=2}return ue}function x(p,w){p.forEach(E=>{E.vs=E.vs.flatMap(I=>w[I]?w[I].vs:I)})}function b(p,w){p.barycenter!==void 0?(p.barycenter=(p.barycenter*p.weight+w.barycenter*w.weight)/(p.weight+w.weight),p.weight+=w.weight):(p.barycenter=w.barycenter,p.weight=w.weight)}},26063:function(B,Z,l){let i=l(20965);B.exports=O;function O(x,b){let p=i.partition(x,he=>he.hasOwnProperty("barycenter")),w=p.lhs,E=p.rhs.sort((he,Ve)=>Ve.i-he.i),I=[],U=0,N=0,K=0;w.sort(T(!!b)),K=_(I,E,K),w.forEach(he=>{K+=he.vs.length,I.push(he.vs),U+=he.barycenter*he.weight,N+=he.weight,K=_(I,E,K)});let G={vs:I.flat(!0)};return N&&(G.barycenter=U/N,G.weight=N),G}function _(x,b,p){let w;for(;b.length&&(w=b[b.length-1]).i<=p;)b.pop(),x.push(w.vs),p++;return p}function T(x){return(b,p)=>b.barycenter<p.barycenter?-1:b.barycenter>p.barycenter?1:x?p.i-b.i:b.i-p.i}},3409:function(B){B.exports=Z;function Z(O){let _=i(O);O.graph().dummyChains.forEach(T=>{let x=O.node(T),b=x.edgeObj,p=l(O,_,b.v,b.w),w=p.path,E=p.lca,I=0,U=w[I],N=!0;for(;T!==b.w;){if(x=O.node(T),N){for(;(U=w[I])!==E&&O.node(U).maxRank<x.rank;)I++;U===E&&(N=!1)}if(!N){for(;I<w.length-1&&O.node(U=w[I+1]).minRank<=x.rank;)I++;U=w[I]}O.setParent(T,U),T=O.successors(T)[0]}})}function l(O,_,T,x){let b=[],p=[],w=Math.min(_[T].low,_[x].low),E=Math.max(_[T].lim,_[x].lim),I,U;I=T;do I=O.parent(I),b.push(I);while(I&&(_[I].low>w||E>_[I].lim));for(U=I,I=x;(I=O.parent(I))!==U;)p.push(I);return{path:b.concat(p.reverse()),lca:U}}function i(O){let _={},T=0;function x(b){let p=T;O.children(b).forEach(x),_[b]={low:p,lim:T++}}return O.children().forEach(x),_}},48358:function(B,Z,l){"use strict";let i=l(7378).Graph,O=l(20965);B.exports={positionX:G,findType1Conflicts:_,findType2Conflicts:T,addConflict:b,hasConflict:p,verticalAlignment:w,horizontalCompaction:E,alignCoordinates:N,findSmallestWidthAlignment:U,balance:K};function _(ce,ue){let X={};function re(oe,$){let Q=0,ae=0,ie=oe.length,_e=$[$.length-1];return $.forEach((Le,P)=>{let J=x(ce,Le),Ce=J?ce.node(J).order:ie;(J||Le===_e)&&($.slice(ae,P+1).forEach(xe=>{ce.predecessors(xe).forEach(je=>{let H=ce.node(je),se=H.order;(se<Q||Ce<se)&&!(H.dummy&&ce.node(xe).dummy)&&b(X,je,xe)})}),ae=P+1,Q=Ce)}),$}return ue.reduce(re),X}function T(ce,ue){let X={};function re($,Q,ae,ie,_e){let Le;O.range(Q,ae).forEach(P=>{Le=$[P],ce.node(Le).dummy&&ce.predecessors(Le).forEach(J=>{let Ce=ce.node(J);Ce.dummy&&(Ce.order<ie||Ce.order>_e)&&b(X,J,Le)})})}function oe($,Q){let ae=-1,ie,_e=0;return Q.forEach((Le,P)=>{if(ce.node(Le).dummy==="border"){let J=ce.predecessors(Le);J.length&&(ie=ce.node(J[0]).order,re(Q,_e,P,ae,ie),_e=P,ae=ie)}re(Q,_e,Q.length,ie,$.length)}),Q}return ue.reduce(oe),X}function x(ce,ue){if(ce.node(ue).dummy)return ce.predecessors(ue).find(X=>ce.node(X).dummy)}function b(ce,ue,X){if(ue>X){let oe=ue;ue=X,X=oe}let re=ce[ue];re||(ce[ue]=re={}),re[X]=!0}function p(ce,ue,X){if(ue>X){let re=ue;ue=X,X=re}return!!ce[ue]&&ce[ue].hasOwnProperty(X)}function w(ce,ue,X,re){let oe={},$={},Q={};return ue.forEach(ae=>{ae.forEach((ie,_e)=>{oe[ie]=ie,$[ie]=ie,Q[ie]=_e})}),ue.forEach(ae=>{let ie=-1;ae.forEach(_e=>{let Le=re(_e);if(Le.length){Le=Le.sort((J,Ce)=>Q[J]-Q[Ce]);let P=(Le.length-1)/2;for(let J=Math.floor(P),Ce=Math.ceil(P);J<=Ce;++J){let xe=Le[J];$[_e]===_e&&ie<Q[xe]&&!p(X,_e,xe)&&($[xe]=_e,$[_e]=oe[_e]=oe[xe],ie=Q[xe])}}})}),{root:oe,align:$}}function E(ce,ue,X,re,oe){let $={},Q=I(ce,ue,X,oe),ae=oe?"borderLeft":"borderRight";function ie(P,J){let Ce=Q.nodes(),xe=Ce.pop(),je={};for(;xe;)je[xe]?P(xe):(je[xe]=!0,Ce.push(xe),Ce=Ce.concat(J(xe))),xe=Ce.pop()}function _e(P){$[P]=Q.inEdges(P).reduce((J,Ce)=>Math.max(J,$[Ce.v]+Q.edge(Ce)),0)}function Le(P){let J=Q.outEdges(P).reduce((xe,je)=>Math.min(xe,$[je.w]-Q.edge(je)),Number.POSITIVE_INFINITY),Ce=ce.node(P);J!==Number.POSITIVE_INFINITY&&Ce.borderType!==ae&&($[P]=Math.max($[P],J))}return ie(_e,Q.predecessors.bind(Q)),ie(Le,Q.successors.bind(Q)),Object.keys(re).forEach(P=>$[P]=$[X[P]]),$}function I(ce,ue,X,re){let oe=new i,$=ce.graph(),Q=he($.nodesep,$.edgesep,re);return ue.forEach(ae=>{let ie;ae.forEach(_e=>{let Le=X[_e];if(oe.setNode(Le),ie){var P=X[ie],J=oe.edge(P,Le);oe.setEdge(P,Le,Math.max(Q(ce,_e,ie),J||0))}ie=_e})}),oe}function U(ce,ue){return Object.values(ue).reduce((X,re)=>{let oe=Number.NEGATIVE_INFINITY,$=Number.POSITIVE_INFINITY;Object.entries(re).forEach(([ae,ie])=>{let _e=Ve(ce,ae)/2;oe=Math.max(ie+_e,oe),$=Math.min(ie-_e,$)});const Q=oe-$;return Q<X[0]&&(X=[Q,re]),X},[Number.POSITIVE_INFINITY,null])[1]}function N(ce,ue){let X=Object.values(ue),re=Math.min(...X),oe=Math.max(...X);["u","d"].forEach($=>{["l","r"].forEach(Q=>{let ae=$+Q,ie=ce[ae];if(ie===ue)return;let _e=Object.values(ie),Le=re-Math.min(..._e);Q!=="l"&&(Le=oe-Math.max(..._e)),Le&&(ce[ae]=O.mapValues(ie,P=>P+Le))})})}function K(ce,ue){return O.mapValues(ce.ul,(X,re)=>{if(ue)return ce[ue.toLowerCase()][re];{let oe=Object.values(ce).map($=>$[re]).sort(($,Q)=>$-Q);return(oe[1]+oe[2])/2}})}function G(ce){let ue=O.buildLayerMatrix(ce),X=Object.assign(_(ce,ue),T(ce,ue)),re={},oe;["u","d"].forEach(Q=>{oe=Q==="u"?ue:Object.values(ue).reverse(),["l","r"].forEach(ae=>{ae==="r"&&(oe=oe.map(P=>Object.values(P).reverse()));let ie=(Q==="u"?ce.predecessors:ce.successors).bind(ce),_e=w(ce,oe,X,ie),Le=E(ce,oe,_e.root,_e.align,ae==="r");ae==="r"&&(Le=O.mapValues(Le,P=>-P)),re[Q+ae]=Le})});let $=U(ce,re);return N(re,$),K(re,ce.graph().align)}function he(ce,ue,X){return(re,oe,$)=>{let Q=re.node(oe),ae=re.node($),ie=0,_e;if(ie+=Q.width/2,Q.hasOwnProperty("labelpos"))switch(Q.labelpos.toLowerCase()){case"l":_e=-Q.width/2;break;case"r":_e=Q.width/2;break}if(_e&&(ie+=X?_e:-_e),_e=0,ie+=(Q.dummy?ue:ce)/2,ie+=(ae.dummy?ue:ce)/2,ie+=ae.width/2,ae.hasOwnProperty("labelpos"))switch(ae.labelpos.toLowerCase()){case"l":_e=ae.width/2;break;case"r":_e=-ae.width/2;break}return _e&&(ie+=X?_e:-_e),_e=0,ie}}function Ve(ce,ue){return ce.node(ue).width}},3862:function(B,Z,l){"use strict";let i=l(20965),O=l(48358).positionX;B.exports=_;function _(x){x=i.asNonCompoundGraph(x),T(x),Object.entries(O(x)).forEach(([b,p])=>x.node(b).x=p)}function T(x){let b=i.buildLayerMatrix(x),p=x.graph().ranksep,w=0;b.forEach(E=>{const I=E.reduce((U,N)=>{const K=x.node(N).height;return U>K?U:K},0);E.forEach(U=>x.node(U).y=w+I/2),w+=I+p})}},18984:function(B,Z,l){"use strict";var i=l(7378).Graph,O=l(97133).slack;B.exports=_;function _(p){var w=new i({directed:!1}),E=p.nodes()[0],I=p.nodeCount();w.setNode(E,{});for(var U,N;T(w,p)<I;)U=x(w,p),N=w.hasNode(U.v)?O(p,U):-O(p,U),b(w,p,N);return w}function T(p,w){function E(I){w.nodeEdges(I).forEach(U=>{var N=U.v,K=I===N?U.w:N;!p.hasNode(K)&&!O(w,U)&&(p.setNode(K,{}),p.setEdge(I,K,{}),E(K))})}return p.nodes().forEach(E),p.nodeCount()}function x(p,w){return w.edges().reduce((I,U)=>{let N=Number.POSITIVE_INFINITY;return p.hasNode(U.v)!==p.hasNode(U.w)&&(N=O(w,U)),N<I[0]?[N,U]:I},[Number.POSITIVE_INFINITY,null])[1]}function b(p,w,E){p.nodes().forEach(I=>w.node(I).rank+=E)}},42311:function(B,Z,l){"use strict";var i=l(97133),O=i.longestPath,_=l(18984),T=l(10286);B.exports=x;function x(E){switch(E.graph().ranker){case"network-simplex":w(E);break;case"tight-tree":p(E);break;case"longest-path":b(E);break;default:w(E)}}var b=O;function p(E){O(E),_(E)}function w(E){T(E)}},10286:function(B,Z,l){"use strict";var i=l(18984),O=l(97133).slack,_=l(97133).longestPath,T=l(7378).alg.preorder,x=l(7378).alg.postorder,b=l(20965).simplify;B.exports=p,p.initLowLimValues=U,p.initCutValues=w,p.calcCutValue=I,p.leaveEdge=K,p.enterEdge=G,p.exchangeEdges=he;function p(X){X=b(X),_(X);var re=i(X);U(re),w(re,X);for(var oe,$;oe=K(re);)$=G(re,X,oe),he(re,X,oe,$)}function w(X,re){var oe=x(X,X.nodes());oe=oe.slice(0,oe.length-1),oe.forEach($=>E(X,re,$))}function E(X,re,oe){var $=X.node(oe),Q=$.parent;X.edge(oe,Q).cutvalue=I(X,re,oe)}function I(X,re,oe){var $=X.node(oe),Q=$.parent,ae=!0,ie=re.edge(oe,Q),_e=0;return ie||(ae=!1,ie=re.edge(Q,oe)),_e=ie.weight,re.nodeEdges(oe).forEach(Le=>{var P=Le.v===oe,J=P?Le.w:Le.v;if(J!==Q){var Ce=P===ae,xe=re.edge(Le).weight;if(_e+=Ce?xe:-xe,ce(X,oe,J)){var je=X.edge(oe,J).cutvalue;_e+=Ce?-je:je}}}),_e}function U(X,re){arguments.length<2&&(re=X.nodes()[0]),N(X,{},1,re)}function N(X,re,oe,$,Q){var ae=oe,ie=X.node($);return re[$]=!0,X.neighbors($).forEach(_e=>{re.hasOwnProperty(_e)||(oe=N(X,re,oe,_e,$))}),ie.low=ae,ie.lim=oe++,Q?ie.parent=Q:delete ie.parent,oe}function K(X){return X.edges().find(re=>X.edge(re).cutvalue<0)}function G(X,re,oe){var $=oe.v,Q=oe.w;re.hasEdge($,Q)||($=oe.w,Q=oe.v);var ae=X.node($),ie=X.node(Q),_e=ae,Le=!1;ae.lim>ie.lim&&(_e=ie,Le=!0);var P=re.edges().filter(J=>Le===ue(X,X.node(J.v),_e)&&Le!==ue(X,X.node(J.w),_e));return P.reduce((J,Ce)=>O(re,Ce)<O(re,J)?Ce:J)}function he(X,re,oe,$){var Q=oe.v,ae=oe.w;X.removeEdge(Q,ae),X.setEdge($.v,$.w,{}),U(X),w(X,re),Ve(X,re)}function Ve(X,re){var oe=X.nodes().find(Q=>!re.node(Q).parent),$=T(X,oe);$=$.slice(1),$.forEach(Q=>{var ae=X.node(Q).parent,ie=re.edge(Q,ae),_e=!1;ie||(ie=re.edge(ae,Q),_e=!0),re.node(Q).rank=re.node(ae).rank+(_e?ie.minlen:-ie.minlen)})}function ce(X,re,oe){return X.hasEdge(re,oe)}function ue(X,re,oe){return oe.low<=re.lim&&re.lim<=oe.lim}},97133:function(B){"use strict";B.exports={longestPath:Z,slack:l};function Z(i){var O={};function _(T){var x=i.node(T);if(O.hasOwnProperty(T))return x.rank;O[T]=!0;var b=Math.min(...i.outEdges(T).map(p=>p==null?Number.POSITIVE_INFINITY:_(p.w)-i.edge(p).minlen));return b===Number.POSITIVE_INFINITY&&(b=0),x.rank=b}i.sources().forEach(_)}function l(i,O){return i.node(O.w).rank-i.node(O.v).rank-i.edge(O).minlen}},20965:function(B,Z,l){"use strict";let i=l(7378).Graph;B.exports={addBorderNode:U,addDummyNode:O,asNonCompoundGraph:T,buildLayerMatrix:w,intersectRect:p,mapValues:re,maxRank:N,normalizeRanks:E,notime:he,partition:K,pick:X,predecessorWeights:b,range:ue,removeEmptyRanks:I,simplify:_,successorWeights:x,time:G,uniqueId:ce,zipObject:oe};function O($,Q,ae,ie){let _e;do _e=ce(ie);while($.hasNode(_e));return ae.dummy=Q,$.setNode(_e,ae),_e}function _($){let Q=new i().setGraph($.graph());return $.nodes().forEach(ae=>Q.setNode(ae,$.node(ae))),$.edges().forEach(ae=>{let ie=Q.edge(ae.v,ae.w)||{weight:0,minlen:1},_e=$.edge(ae);Q.setEdge(ae.v,ae.w,{weight:ie.weight+_e.weight,minlen:Math.max(ie.minlen,_e.minlen)})}),Q}function T($){let Q=new i({multigraph:$.isMultigraph()}).setGraph($.graph());return $.nodes().forEach(ae=>{$.children(ae).length||Q.setNode(ae,$.node(ae))}),$.edges().forEach(ae=>{Q.setEdge(ae,$.edge(ae))}),Q}function x($){let Q=$.nodes().map(ae=>{let ie={};return $.outEdges(ae).forEach(_e=>{ie[_e.w]=(ie[_e.w]||0)+$.edge(_e).weight}),ie});return oe($.nodes(),Q)}function b($){let Q=$.nodes().map(ae=>{let ie={};return $.inEdges(ae).forEach(_e=>{ie[_e.v]=(ie[_e.v]||0)+$.edge(_e).weight}),ie});return oe($.nodes(),Q)}function p($,Q){let ae=$.x,ie=$.y,_e=Q.x-ae,Le=Q.y-ie,P=$.width/2,J=$.height/2;if(!_e&&!Le)throw new Error("Not possible to find intersection inside of the rectangle");let Ce,xe;return Math.abs(Le)*P>Math.abs(_e)*J?(Le<0&&(J=-J),Ce=J*_e/Le,xe=J):(_e<0&&(P=-P),Ce=P,xe=P*Le/_e),{x:ae+Ce,y:ie+xe}}function w($){let Q=ue(N($)+1).map(()=>[]);return $.nodes().forEach(ae=>{let ie=$.node(ae),_e=ie.rank;_e!==void 0&&(Q[_e][ie.order]=ae)}),Q}function E($){let Q=Math.min(...$.nodes().map(ae=>{let ie=$.node(ae).rank;return ie===void 0?Number.MAX_VALUE:ie}));$.nodes().forEach(ae=>{let ie=$.node(ae);ie.hasOwnProperty("rank")&&(ie.rank-=Q)})}function I($){let Q=Math.min(...$.nodes().map(Le=>$.node(Le).rank)),ae=[];$.nodes().forEach(Le=>{let P=$.node(Le).rank-Q;ae[P]||(ae[P]=[]),ae[P].push(Le)});let ie=0,_e=$.graph().nodeRankFactor;Array.from(ae).forEach((Le,P)=>{Le===void 0&&P%_e!==0?--ie:Le!==void 0&&ie&&Le.forEach(J=>$.node(J).rank+=ie)})}function U($,Q,ae,ie){let _e={width:0,height:0};return arguments.length>=4&&(_e.rank=ae,_e.order=ie),O($,"border",_e,Q)}function N($){return Math.max(...$.nodes().map(Q=>{let ae=$.node(Q).rank;return ae===void 0?Number.MIN_VALUE:ae}))}function K($,Q){let ae={lhs:[],rhs:[]};return $.forEach(ie=>{Q(ie)?ae.lhs.push(ie):ae.rhs.push(ie)}),ae}function G($,Q){let ae=Date.now();try{return Q()}finally{console.log($+" time: "+(Date.now()-ae)+"ms")}}function he($,Q){return Q()}let Ve=0;function ce($){var Q=++Ve;return toString($)+Q}function ue($,Q,ae=1){Q==null&&(Q=$,$=0);let ie=Le=>Le<Q;ae<0&&(ie=Le=>Q<Le);const _e=[];for(let Le=$;ie(Le);Le+=ae)_e.push(Le);return _e}function X($,Q){const ae={};for(const ie of Q)$[ie]!==void 0&&(ae[ie]=$[ie]);return ae}function re($,Q){let ae=Q;return typeof Q=="string"&&(ae=ie=>ie[Q]),Object.entries($).reduce((ie,[_e,Le])=>(ie[_e]=ae(Le,_e),ie),{})}function oe($,Q){return $.reduce((ae,ie,_e)=>(ae[ie]=Q[_e],ae),{})}},61360:function(B){B.exports="1.0.4"},7378:function(B,Z,l){var i=l(84666);B.exports={Graph:i.Graph,json:l(98146),alg:l(83959),version:i.version}},32315:function(B){B.exports=Z;function Z(l){var i={},O=[],_;function T(x){i.hasOwnProperty(x)||(i[x]=!0,_.push(x),l.successors(x).forEach(T),l.predecessors(x).forEach(T))}return l.nodes().forEach(function(x){_=[],T(x),_.length&&O.push(_)}),O}},55572:function(B){B.exports=Z;function Z(_,T,x){Array.isArray(T)||(T=[T]);var b=_.isDirected()?I=>_.successors(I):I=>_.neighbors(I),p=x==="post"?l:i,w=[],E={};return T.forEach(I=>{if(!_.hasNode(I))throw new Error("Graph does not have node: "+I);p(I,b,E,w)}),w}function l(_,T,x,b){for(var p=[[_,!1]];p.length>0;){var w=p.pop();w[1]?b.push(w[0]):x.hasOwnProperty(w[0])||(x[w[0]]=!0,p.push([w[0],!0]),O(T(w[0]),E=>p.push([E,!1])))}}function i(_,T,x,b){for(var p=[_];p.length>0;){var w=p.pop();x.hasOwnProperty(w)||(x[w]=!0,b.push(w),O(T(w),E=>p.push(E)))}}function O(_,T){for(var x=_.length;x--;)T(_[x],x,_);return _}},1922:function(B,Z,l){var i=l(24561);B.exports=O;function O(_,T,x){return _.nodes().reduce(function(b,p){return b[p]=i(_,p,T,x),b},{})}},24561:function(B,Z,l){var i=l(81227);B.exports=_;var O=()=>1;function _(x,b,p,w){return T(x,String(b),p||O,w||function(E){return x.outEdges(E)})}function T(x,b,p,w){var E={},I=new i,U,N,K=function(G){var he=G.v!==U?G.v:G.w,Ve=E[he],ce=p(G),ue=N.distance+ce;if(ce<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+G+" Weight: "+ce);ue<Ve.distance&&(Ve.distance=ue,Ve.predecessor=U,I.decrease(he,ue))};for(x.nodes().forEach(function(G){var he=G===b?0:Number.POSITIVE_INFINITY;E[G]={distance:he},I.add(G,he)});I.size()>0&&(U=I.removeMin(),N=E[U],N.distance!==Number.POSITIVE_INFINITY);)w(U).forEach(K);return E}},36176:function(B,Z,l){var i=l(33011);B.exports=O;function O(_){return i(_).filter(function(T){return T.length>1||T.length===1&&_.hasEdge(T[0],T[0])})}},4408:function(B){B.exports=l;var Z=()=>1;function l(O,_,T){return i(O,_||Z,T||function(x){return O.outEdges(x)})}function i(O,_,T){var x={},b=O.nodes();return b.forEach(function(p){x[p]={},x[p][p]={distance:0},b.forEach(function(w){p!==w&&(x[p][w]={distance:Number.POSITIVE_INFINITY})}),T(p).forEach(function(w){var E=w.v===p?w.w:w.v,I=_(w);x[p][E]={distance:I,predecessor:p}})}),b.forEach(function(p){var w=x[p];b.forEach(function(E){var I=x[E];b.forEach(function(U){var N=I[p],K=w[U],G=I[U],he=N.distance+K.distance;he<G.distance&&(G.distance=he,G.predecessor=K.predecessor)})})}),x}},83959:function(B,Z,l){B.exports={components:l(32315),dijkstra:l(24561),dijkstraAll:l(1922),findCycles:l(36176),floydWarshall:l(4408),isAcyclic:l(39110),postorder:l(23773),preorder:l(35572),prim:l(77383),tarjan:l(33011),topsort:l(20626)}},39110:function(B,Z,l){var i=l(20626);B.exports=O;function O(_){try{i(_)}catch(T){if(T instanceof i.CycleException)return!1;throw T}return!0}},23773:function(B,Z,l){var i=l(55572);B.exports=O;function O(_,T){return i(_,T,"post")}},35572:function(B,Z,l){var i=l(55572);B.exports=O;function O(_,T){return i(_,T,"pre")}},77383:function(B,Z,l){var i=l(76962),O=l(81227);B.exports=_;function _(T,x){var b=new i,p={},w=new O,E;function I(N){var K=N.v===E?N.w:N.v,G=w.priority(K);if(G!==void 0){var he=x(N);he<G&&(p[K]=E,w.decrease(K,he))}}if(T.nodeCount()===0)return b;T.nodes().forEach(function(N){w.add(N,Number.POSITIVE_INFINITY),b.setNode(N)}),w.decrease(T.nodes()[0],0);for(var U=!1;w.size()>0;){if(E=w.removeMin(),p.hasOwnProperty(E))b.setEdge(E,p[E]);else{if(U)throw new Error("Input graph is not connected: "+T);U=!0}T.nodeEdges(E).forEach(I)}return b}},33011:function(B){B.exports=Z;function Z(l){var i=0,O=[],_={},T=[];function x(b){var p=_[b]={onStack:!0,lowlink:i,index:i++};if(O.push(b),l.successors(b).forEach(function(I){_.hasOwnProperty(I)?_[I].onStack&&(p.lowlink=Math.min(p.lowlink,_[I].index)):(x(I),p.lowlink=Math.min(p.lowlink,_[I].lowlink))}),p.lowlink===p.index){var w=[],E;do E=O.pop(),_[E].onStack=!1,w.push(E);while(b!==E);T.push(w)}}return l.nodes().forEach(function(b){_.hasOwnProperty(b)||x(b)}),T}},20626:function(B){function Z(i){var O={},_={},T=[];function x(b){if(_.hasOwnProperty(b))throw new l;O.hasOwnProperty(b)||(_[b]=!0,O[b]=!0,i.predecessors(b).forEach(x),delete _[b],T.push(b))}if(i.sinks().forEach(x),Object.keys(O).length!==i.nodeCount())throw new l;return T}class l extends Error{constructor(){super(...arguments)}}B.exports=Z,Z.CycleException=l},81227:function(B){var l,i,O,Fa,T,ja,b,ma;class Z{constructor(){$n(this,O);$n(this,T);$n(this,b);$n(this,l,[]);$n(this,i,{})}size(){return Ze(this,l).length}keys(){return Ze(this,l).map(function(E){return E.key})}has(E){return Ze(this,i).hasOwnProperty(E)}priority(E){var I=Ze(this,i)[E];if(I!==void 0)return Ze(this,l)[I].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return Ze(this,l)[0].key}add(E,I){var U=Ze(this,i);if(E=String(E),!U.hasOwnProperty(E)){var N=Ze(this,l),K=N.length;return U[E]=K,N.push({key:E,priority:I}),Lo(this,T,ja).call(this,K),!0}return!1}removeMin(){Lo(this,b,ma).call(this,0,Ze(this,l).length-1);var E=Ze(this,l).pop();return delete Ze(this,i)[E.key],Lo(this,O,Fa).call(this,0),E.key}decrease(E,I){var U=Ze(this,i)[E];if(I>Ze(this,l)[U].priority)throw new Error("New priority is greater than current priority. Key: "+E+" Old: "+Ze(this,l)[U].priority+" New: "+I);Ze(this,l)[U].priority=I,Lo(this,T,ja).call(this,U)}}l=new WeakMap,i=new WeakMap,O=new WeakSet,Fa=function(E){var I=Ze(this,l),U=2*E,N=U+1,K=E;U<I.length&&(K=I[U].priority<I[K].priority?U:K,N<I.length&&(K=I[N].priority<I[K].priority?N:K),K!==E&&(Lo(this,b,ma).call(this,E,K),Lo(this,O,Fa).call(this,K)))},T=new WeakSet,ja=function(E){for(var I=Ze(this,l),U=I[E].priority,N;E!==0&&(N=E>>1,!(I[N].priority<U));)Lo(this,b,ma).call(this,E,N),E=N},b=new WeakSet,ma=function(E,I){var U=Ze(this,l),N=Ze(this,i),K=U[E],G=U[I];U[E]=G,U[I]=K,N[G.key]=E,N[K.key]=I},B.exports=Z},76962:function(B){var w,E,I,U,N,K,G,he,Ve,ce,ue,X,re,oe,$,Q,ae,ie,Za;"use strict";var Z="\0",l="\0",i="";class O{constructor(P){$n(this,ie);$n(this,w,!0);$n(this,E,!1);$n(this,I,!1);$n(this,U,void 0);$n(this,N,()=>{});$n(this,K,()=>{});$n(this,G,{});$n(this,he,{});$n(this,Ve,{});$n(this,ce,{});$n(this,ue,{});$n(this,X,{});$n(this,re,{});$n(this,oe,0);$n(this,$,0);$n(this,Q,void 0);$n(this,ae,void 0);P&&(ao(this,w,P.hasOwnProperty("directed")?P.directed:!0),ao(this,E,P.hasOwnProperty("multigraph")?P.multigraph:!1),ao(this,I,P.hasOwnProperty("compound")?P.compound:!1)),Ze(this,I)&&(ao(this,Q,{}),ao(this,ae,{}),Ze(this,ae)[l]={})}isDirected(){return Ze(this,w)}isMultigraph(){return Ze(this,E)}isCompound(){return Ze(this,I)}setGraph(P){return ao(this,U,P),this}graph(){return Ze(this,U)}setDefaultNodeLabel(P){return ao(this,N,P),typeof P!="function"&&ao(this,N,()=>P),this}nodeCount(){return Ze(this,oe)}nodes(){return Object.keys(Ze(this,G))}sources(){var P=this;return this.nodes().filter(J=>Object.keys(Ze(P,he)[J]).length===0)}sinks(){var P=this;return this.nodes().filter(J=>Object.keys(Ze(P,ce)[J]).length===0)}setNodes(P,J){var Ce=arguments,xe=this;return P.forEach(function(je){Ce.length>1?xe.setNode(je,J):xe.setNode(je)}),this}setNode(P,J){return Ze(this,G).hasOwnProperty(P)?(arguments.length>1&&(Ze(this,G)[P]=J),this):(Ze(this,G)[P]=arguments.length>1?J:Ze(this,N).call(this,P),Ze(this,I)&&(Ze(this,Q)[P]=l,Ze(this,ae)[P]={},Ze(this,ae)[l][P]=!0),Ze(this,he)[P]={},Ze(this,Ve)[P]={},Ze(this,ce)[P]={},Ze(this,ue)[P]={},++js(this,oe)._,this)}node(P){return Ze(this,G)[P]}hasNode(P){return Ze(this,G).hasOwnProperty(P)}removeNode(P){var J=this;if(Ze(this,G).hasOwnProperty(P)){var Ce=xe=>J.removeEdge(Ze(J,X)[xe]);delete Ze(this,G)[P],Ze(this,I)&&(Lo(this,ie,Za).call(this,P),delete Ze(this,Q)[P],this.children(P).forEach(function(xe){J.setParent(xe)}),delete Ze(this,ae)[P]),Object.keys(Ze(this,he)[P]).forEach(Ce),delete Ze(this,he)[P],delete Ze(this,Ve)[P],Object.keys(Ze(this,ce)[P]).forEach(Ce),delete Ze(this,ce)[P],delete Ze(this,ue)[P],--js(this,oe)._}return this}setParent(P,J){if(!Ze(this,I))throw new Error("Cannot set parent in a non-compound graph");if(J===void 0)J=l;else{J+="";for(var Ce=J;Ce!==void 0;Ce=this.parent(Ce))if(Ce===P)throw new Error("Setting "+J+" as parent of "+P+" would create a cycle");this.setNode(J)}return this.setNode(P),Lo(this,ie,Za).call(this,P),Ze(this,Q)[P]=J,Ze(this,ae)[J][P]=!0,this}parent(P){if(Ze(this,I)){var J=Ze(this,Q)[P];if(J!==l)return J}}children(P=l){if(Ze(this,I)){var J=Ze(this,ae)[P];if(J)return Object.keys(J)}else{if(P===l)return this.nodes();if(this.hasNode(P))return[]}}predecessors(P){var J=Ze(this,Ve)[P];if(J)return Object.keys(J)}successors(P){var J=Ze(this,ue)[P];if(J)return Object.keys(J)}neighbors(P){var J=this.predecessors(P);if(J){const xe=new Set(J);for(var Ce of this.successors(P))xe.add(Ce);return Array.from(xe.values())}}isLeaf(P){var J;return this.isDirected()?J=this.successors(P):J=this.neighbors(P),J.length===0}filterNodes(P){var J=new this.constructor({directed:Ze(this,w),multigraph:Ze(this,E),compound:Ze(this,I)});J.setGraph(this.graph());var Ce=this;Object.entries(Ze(this,G)).forEach(function([H,se]){P(H)&&J.setNode(H,se)}),Object.values(Ze(this,X)).forEach(function(H){J.hasNode(H.v)&&J.hasNode(H.w)&&J.setEdge(H,Ce.edge(H))});var xe={};function je(H){var se=Ce.parent(H);return se===void 0||J.hasNode(se)?(xe[H]=se,se):se in xe?xe[se]:je(se)}return Ze(this,I)&&J.nodes().forEach(H=>J.setParent(H,je(H))),J}setDefaultEdgeLabel(P){return ao(this,K,P),typeof P!="function"&&ao(this,K,()=>P),this}edgeCount(){return Ze(this,$)}edges(){return Object.values(Ze(this,X))}setPath(P,J){var Ce=this,xe=arguments;return P.reduce(function(je,H){return xe.length>1?Ce.setEdge(je,H,J):Ce.setEdge(je,H),H}),this}setEdge(){var P,J,Ce,xe,je=!1,H=arguments[0];typeof H=="object"&&H!==null&&"v"in H?(P=H.v,J=H.w,Ce=H.name,arguments.length===2&&(xe=arguments[1],je=!0)):(P=H,J=arguments[1],Ce=arguments[3],arguments.length>2&&(xe=arguments[2],je=!0)),P=""+P,J=""+J,Ce!==void 0&&(Ce=""+Ce);var se=x(Ze(this,w),P,J,Ce);if(Ze(this,re).hasOwnProperty(se))return je&&(Ze(this,re)[se]=xe),this;if(Ce!==void 0&&!Ze(this,E))throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(P),this.setNode(J),Ze(this,re)[se]=je?xe:Ze(this,K).call(this,P,J,Ce);var Ee=b(Ze(this,w),P,J,Ce);return P=Ee.v,J=Ee.w,Object.freeze(Ee),Ze(this,X)[se]=Ee,_(Ze(this,Ve)[J],P),_(Ze(this,ue)[P],J),Ze(this,he)[J][se]=Ee,Ze(this,ce)[P][se]=Ee,js(this,$)._++,this}edge(P,J,Ce){var xe=arguments.length===1?p(Ze(this,w),arguments[0]):x(Ze(this,w),P,J,Ce);return Ze(this,re)[xe]}edgeAsObj(){const P=this.edge(...arguments);return typeof P!="object"?{label:P}:P}hasEdge(P,J,Ce){var xe=arguments.length===1?p(Ze(this,w),arguments[0]):x(Ze(this,w),P,J,Ce);return Ze(this,re).hasOwnProperty(xe)}removeEdge(P,J,Ce){var xe=arguments.length===1?p(Ze(this,w),arguments[0]):x(Ze(this,w),P,J,Ce),je=Ze(this,X)[xe];return je&&(P=je.v,J=je.w,delete Ze(this,re)[xe],delete Ze(this,X)[xe],T(Ze(this,Ve)[J],P),T(Ze(this,ue)[P],J),delete Ze(this,he)[J][xe],delete Ze(this,ce)[P][xe],js(this,$)._--),this}inEdges(P,J){var Ce=Ze(this,he)[P];if(Ce){var xe=Object.values(Ce);return J?xe.filter(je=>je.v===J):xe}}outEdges(P,J){var Ce=Ze(this,ce)[P];if(Ce){var xe=Object.values(Ce);return J?xe.filter(je=>je.w===J):xe}}nodeEdges(P,J){var Ce=this.inEdges(P,J);if(Ce)return Ce.concat(this.outEdges(P,J))}}w=new WeakMap,E=new WeakMap,I=new WeakMap,U=new WeakMap,N=new WeakMap,K=new WeakMap,G=new WeakMap,he=new WeakMap,Ve=new WeakMap,ce=new WeakMap,ue=new WeakMap,X=new WeakMap,re=new WeakMap,oe=new WeakMap,$=new WeakMap,Q=new WeakMap,ae=new WeakMap,ie=new WeakSet,Za=function(P){delete Ze(this,ae)[Ze(this,Q)[P]][P]};function _(Le,P){Le[P]?Le[P]++:Le[P]=1}function T(Le,P){--Le[P]||delete Le[P]}function x(Le,P,J,Ce){var xe=""+P,je=""+J;if(!Le&&xe>je){var H=xe;xe=je,je=H}return xe+i+je+i+(Ce===void 0?Z:Ce)}function b(Le,P,J,Ce){var xe=""+P,je=""+J;if(!Le&&xe>je){var H=xe;xe=je,je=H}var se={v:xe,w:je};return Ce&&(se.name=Ce),se}function p(Le,P){return x(Le,P.v,P.w,P.name)}B.exports=O},84666:function(B,Z,l){B.exports={Graph:l(76962),version:l(95128)}},98146:function(B,Z,l){var i=l(76962);B.exports={write:O,read:x};function O(b){var p={options:{directed:b.isDirected(),multigraph:b.isMultigraph(),compound:b.isCompound()},nodes:_(b),edges:T(b)};return b.graph()!==void 0&&(p.value=structuredClone(b.graph())),p}function _(b){return b.nodes().map(function(p){var w=b.node(p),E=b.parent(p),I={v:p};return w!==void 0&&(I.value=w),E!==void 0&&(I.parent=E),I})}function T(b){return b.edges().map(function(p){var w=b.edge(p),E={v:p.v,w:p.w};return p.name!==void 0&&(E.name=p.name),w!==void 0&&(E.value=w),E})}function x(b){var p=new i(b.options).setGraph(b.value);return b.nodes.forEach(function(w){p.setNode(w.v,w.value),w.parent&&p.setParent(w.v,w.parent)}),b.edges.forEach(function(w){p.setEdge({v:w.v,w:w.w,name:w.name},w.value)}),p}},95128:function(B){B.exports="2.1.13"},44209:function(){"use strict"},62758:function(B,Z,l){"use strict";var i=l(75271),O=l(52297),_=l(93998);function T(x){_.Z&&((0,O.mf)(x)||console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof x)));var b=(0,i.useRef)(x);b.current=(0,i.useMemo)(function(){return x},[x]);var p=(0,i.useRef)();return p.current||(p.current=function(){for(var w=[],E=0;E<arguments.length;E++)w[E]=arguments[E];return b.current.apply(this,w)}),p.current}Z.Z=T},91707:function(B,Z,l){"use strict";l.d(Z,{Z:function(){return Qt}});var i=l(75271),O=l(82187),_=l.n(O),T=l(741),x=l(85635),b=l(24384),w=Ie=>{const{getPrefixCls:De,direction:We}=(0,i.useContext)(T.E_),{prefixCls:He,className:ye}=Ie,Ft=De("input-group",He),yn=De("input"),[gn,Sn]=(0,b.ZP)(yn),kn=_()(Ft,{[`${Ft}-lg`]:Ie.size==="large",[`${Ft}-sm`]:Ie.size==="small",[`${Ft}-compact`]:Ie.compact,[`${Ft}-rtl`]:We==="rtl"},Sn,ye),bn=(0,i.useContext)(x.aM),Tn=(0,i.useMemo)(()=>Object.assign(Object.assign({},bn),{isFormItemInput:!1}),[bn]);return gn(i.createElement("span",{className:kn,style:Ie.style,onMouseEnter:Ie.onMouseEnter,onMouseLeave:Ie.onMouseLeave,onFocus:Ie.onFocus,onBlur:Ie.onBlur},i.createElement(x.aM.Provider,{value:Tn},Ie.children)))},E=l(13218),I=l(83290),U=l(90267),N=l(11437),K=l(1076),G=l(96849),he=l(49631),Ve=l(7012),ce=l(27570),ue=l(12046);const X=Ie=>{const{componentCls:De,paddingXS:We}=Ie;return{[`${De}`]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:We,"&-rtl":{direction:"rtl"},[`${De}-input`]:{textAlign:"center",paddingInline:Ie.paddingXXS},[`&${De}-sm ${De}-input`]:{paddingInline:Ie.calc(Ie.paddingXXS).div(2).equal()},[`&${De}-lg ${De}-input`]:{paddingInline:Ie.paddingXS}}}};var re=(0,Ve.I$)(["Input","OTP"],Ie=>{const De=(0,ce.TS)(Ie,(0,ue.e)(Ie));return[X(De)]},ue.T),oe=l(69205),$=function(Ie,De){var We={};for(var He in Ie)Object.prototype.hasOwnProperty.call(Ie,He)&&De.indexOf(He)<0&&(We[He]=Ie[He]);if(Ie!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ye=0,He=Object.getOwnPropertySymbols(Ie);ye<He.length;ye++)De.indexOf(He[ye])<0&&Object.prototype.propertyIsEnumerable.call(Ie,He[ye])&&(We[He[ye]]=Ie[He[ye]]);return We},ae=i.forwardRef((Ie,De)=>{const{value:We,onChange:He,onActiveChange:ye,index:Ft,mask:yn}=Ie,gn=$(Ie,["value","onChange","onActiveChange","index","mask"]),Sn=We&&typeof yn=="string"?yn:We,kn=on=>{He(Ft,on.target.value)},bn=i.useRef(null);i.useImperativeHandle(De,()=>bn.current);const Tn=()=>{(0,oe.Z)(()=>{var on;const M=(on=bn.current)===null||on===void 0?void 0:on.input;document.activeElement===M&&M&&M.select()})},Bn=on=>{let{key:M}=on;M==="ArrowLeft"?ye(Ft-1):M==="ArrowRight"&&ye(Ft+1),Tn()},In=on=>{on.key==="Backspace"&&!We&&ye(Ft-1),Tn()};return i.createElement(E.Z,Object.assign({},gn,{ref:bn,value:Sn,onInput:kn,onFocus:Tn,onKeyDown:Bn,onKeyUp:In,onMouseDown:Tn,onMouseUp:Tn,type:yn===!0?"password":"text"}))}),ie=function(Ie,De){var We={};for(var He in Ie)Object.prototype.hasOwnProperty.call(Ie,He)&&De.indexOf(He)<0&&(We[He]=Ie[He]);if(Ie!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ye=0,He=Object.getOwnPropertySymbols(Ie);ye<He.length;ye++)De.indexOf(He[ye])<0&&Object.prototype.propertyIsEnumerable.call(Ie,He[ye])&&(We[He[ye]]=Ie[He[ye]]);return We};function _e(Ie){return(Ie||"").split("")}var P=i.forwardRef((Ie,De)=>{const{prefixCls:We,length:He=6,size:ye,defaultValue:Ft,value:yn,onChange:gn,formatter:Sn,variant:kn,disabled:bn,status:Tn,autoFocus:Bn,mask:In}=Ie,on=ie(Ie,["prefixCls","length","size","defaultValue","value","onChange","formatter","variant","disabled","status","autoFocus","mask"]),{getPrefixCls:M,direction:W}=i.useContext(T.E_),we=M("otp",We),Pe=(0,N.Z)(on,{aria:!0,data:!0,attr:!0}),Xe=(0,G.Z)(we),[mt,bt,ht]=re(we,Xe),ze=(0,he.Z)(st=>ye!=null?ye:st),Je=i.useContext(x.aM),jt=(0,K.F)(Je.status,Tn),cn=i.useMemo(()=>Object.assign(Object.assign({},Je),{status:jt,hasFeedback:!1,feedbackIcon:null}),[Je,jt]),Zt=i.useRef(null),nn=i.useRef({});i.useImperativeHandle(De,()=>({focus:()=>{var st;(st=nn.current[0])===null||st===void 0||st.focus()},blur:()=>{var st;for(let Lt=0;Lt<He;Lt+=1)(st=nn.current[Lt])===null||st===void 0||st.blur()},nativeElement:Zt.current}));const qt=st=>Sn?Sn(st):st,[en,wn]=i.useState(_e(qt(Ft||"")));i.useEffect(()=>{yn!==void 0&&wn(_e(yn))},[yn]);const hn=(0,U.zX)(st=>{wn(st),gn&&st.length===He&&st.every(Lt=>Lt)&&st.some((Lt,Kt)=>en[Kt]!==Lt)&&gn(st.join(""))}),mn=(0,U.zX)((st,Lt)=>{let Kt=(0,I.Z)(en);for(let Pn=0;Pn<st;Pn+=1)Kt[Pn]||(Kt[Pn]="");Lt.length<=1?Kt[st]=Lt:Kt=Kt.slice(0,st).concat(_e(Lt)),Kt=Kt.slice(0,He);for(let Pn=Kt.length-1;Pn>=0&&!Kt[Pn];Pn-=1)Kt.pop();const fr=qt(Kt.map(Pn=>Pn||" ").join(""));return Kt=_e(fr).map((Pn,yr)=>Pn===" "&&!Kt[yr]?Kt[yr]:Pn),Kt}),yt=(st,Lt)=>{var Kt;const fr=mn(st,Lt),Pn=Math.min(st+Lt.length,He-1);Pn!==st&&((Kt=nn.current[Pn])===null||Kt===void 0||Kt.focus()),hn(fr)},zt=st=>{var Lt;(Lt=nn.current[st])===null||Lt===void 0||Lt.focus()},Et={variant:kn,disabled:bn,status:jt,mask:In};return mt(i.createElement("div",Object.assign({},Pe,{ref:Zt,className:_()(we,{[`${we}-sm`]:ze==="small",[`${we}-lg`]:ze==="large",[`${we}-rtl`]:W==="rtl"},ht,bt)}),i.createElement(x.aM.Provider,{value:cn},Array.from({length:He}).map((st,Lt)=>{const Kt=`otp-${Lt}`,fr=en[Lt]||"";return i.createElement(ae,Object.assign({ref:Pn=>{nn.current[Lt]=Pn},key:Kt,index:Lt,size:ze,htmlSize:1,className:`${we}-input`,onChange:yt,value:fr,onActiveChange:zt,autoFocus:Lt===0&&Bn},Et))}))))}),J=l(81774),Ce=l(57868),xe=l(64567),je=l(9771),H=l(11311),se=function(Ie,De){var We={};for(var He in Ie)Object.prototype.hasOwnProperty.call(Ie,He)&&De.indexOf(He)<0&&(We[He]=Ie[He]);if(Ie!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ye=0,He=Object.getOwnPropertySymbols(Ie);ye<He.length;ye++)De.indexOf(He[ye])<0&&Object.prototype.propertyIsEnumerable.call(Ie,He[ye])&&(We[He[ye]]=Ie[He[ye]]);return We};const Ee=Ie=>Ie?i.createElement(Ce.Z,null):i.createElement(J.Z,null),Ge={click:"onClick",hover:"onMouseOver"};var Gt=i.forwardRef((Ie,De)=>{const{disabled:We,action:He="click",visibilityToggle:ye=!0,iconRender:Ft=Ee}=Ie,yn=typeof ye=="object"&&ye.visible!==void 0,[gn,Sn]=(0,i.useState)(()=>yn?ye.visible:!1),kn=(0,i.useRef)(null);i.useEffect(()=>{yn&&Sn(ye.visible)},[yn,ye]);const bn=(0,H.Z)(kn),Tn=()=>{We||(gn&&bn(),Sn(Je=>{var jt;const cn=!Je;return typeof ye=="object"&&((jt=ye.onVisibleChange)===null||jt===void 0||jt.call(ye,cn)),cn}))},Bn=Je=>{const jt=Ge[He]||"",cn=Ft(gn),Zt={[jt]:Tn,className:`${Je}-icon`,key:"passwordIcon",onMouseDown:nn=>{nn.preventDefault()},onMouseUp:nn=>{nn.preventDefault()}};return i.cloneElement(i.isValidElement(cn)?cn:i.createElement("span",null,cn),Zt)},{className:In,prefixCls:on,inputPrefixCls:M,size:W}=Ie,we=se(Ie,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:Pe}=i.useContext(T.E_),Xe=Pe("input",M),mt=Pe("input-password",on),bt=ye&&Bn(mt),ht=_()(mt,In,{[`${mt}-${W}`]:!!W}),ze=Object.assign(Object.assign({},(0,xe.Z)(we,["suffix","iconRender","visibilityToggle"])),{type:gn?"text":"password",className:ht,prefixCls:Xe,suffix:bt});return W&&(ze.size=W),i.createElement(E.Z,Object.assign({ref:(0,je.sQ)(De,kn)},ze))}),Ct=l(97222),Y=l(13128),ge=l(73116),ve=l(47581),be=function(Ie,De){var We={};for(var He in Ie)Object.prototype.hasOwnProperty.call(Ie,He)&&De.indexOf(He)<0&&(We[He]=Ie[He]);if(Ie!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ye=0,He=Object.getOwnPropertySymbols(Ie);ye<He.length;ye++)De.indexOf(He[ye])<0&&Object.prototype.propertyIsEnumerable.call(Ie,He[ye])&&(We[He[ye]]=Ie[He[ye]]);return We},dt=i.forwardRef((Ie,De)=>{const{prefixCls:We,inputPrefixCls:He,className:ye,size:Ft,suffix:yn,enterButton:gn=!1,addonAfter:Sn,loading:kn,disabled:bn,onSearch:Tn,onChange:Bn,onCompositionStart:In,onCompositionEnd:on}=Ie,M=be(Ie,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:W,direction:we}=i.useContext(T.E_),Pe=i.useRef(!1),Xe=W("input-search",We),mt=W("input",He),{compactSize:bt}=(0,ve.ri)(Xe,we),ht=(0,he.Z)(Et=>{var st;return(st=Ft!=null?Ft:bt)!==null&&st!==void 0?st:Et}),ze=i.useRef(null),Je=Et=>{Et&&Et.target&&Et.type==="click"&&Tn&&Tn(Et.target.value,Et,{source:"clear"}),Bn&&Bn(Et)},jt=Et=>{var st;document.activeElement===((st=ze.current)===null||st===void 0?void 0:st.input)&&Et.preventDefault()},cn=Et=>{var st,Lt;Tn&&Tn((Lt=(st=ze.current)===null||st===void 0?void 0:st.input)===null||Lt===void 0?void 0:Lt.value,Et,{source:"input"})},Zt=Et=>{Pe.current||kn||cn(Et)},nn=typeof gn=="boolean"?i.createElement(Ct.Z,null):null,qt=`${Xe}-button`;let en;const wn=gn||{},hn=wn.type&&wn.type.__ANT_BUTTON===!0;hn||wn.type==="button"?en=(0,Y.Tm)(wn,Object.assign({onMouseDown:jt,onClick:Et=>{var st,Lt;(Lt=(st=wn==null?void 0:wn.props)===null||st===void 0?void 0:st.onClick)===null||Lt===void 0||Lt.call(st,Et),cn(Et)},key:"enterButton"},hn?{className:qt,size:ht}:{})):en=i.createElement(ge.ZP,{className:qt,type:gn?"primary":void 0,size:ht,disabled:bn,key:"enterButton",onMouseDown:jt,onClick:cn,loading:kn,icon:nn},gn),Sn&&(en=[en,(0,Y.Tm)(Sn,{key:"addonAfter"})]);const mn=_()(Xe,{[`${Xe}-rtl`]:we==="rtl",[`${Xe}-${ht}`]:!!ht,[`${Xe}-with-button`]:!!gn},ye),yt=Et=>{Pe.current=!0,In==null||In(Et)},zt=Et=>{Pe.current=!1,on==null||on(Et)};return i.createElement(E.Z,Object.assign({ref:(0,je.sQ)(ze,De),onPressEnter:Zt},M,{size:ht,onCompositionStart:yt,onCompositionEnd:zt,prefixCls:mt,addonAfter:en,suffix:yn,onChange:Je,className:mn,disabled:bn}))}),gt=l(86497);const Wt=E.Z;Wt.Group=w,Wt.Search=dt,Wt.TextArea=gt.Z,Wt.Password=Gt,Wt.OTP=P;var Qt=Wt},6352:function(B,Z,l){"use strict";l.d(Z,{Z:function(){return b}});var i=l(75271);const O=p=>p.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_=(...p)=>p.filter((w,E,I)=>!!w&&I.indexOf(w)===E).join(" ");var T={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const x=(0,i.forwardRef)((Ve,he)=>{var ce=Ve,{color:p="currentColor",size:w=24,strokeWidth:E=2,absoluteStrokeWidth:I,className:U="",children:N,iconNode:K}=ce,G=Oi(ce,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return(0,i.createElement)("svg",Rt(Fn(Rt({ref:he},T),{width:w,height:w,stroke:p,strokeWidth:I?Number(E)*24/Number(w):E,className:_("lucide",U)}),G),[...K.map(([ue,X])=>(0,i.createElement)(ue,X)),...Array.isArray(N)?N:[N]])});const b=(p,w)=>{const E=(0,i.forwardRef)((K,N)=>{var G=K,{className:I}=G,U=Oi(G,["className"]);return(0,i.createElement)(x,Rt({ref:N,iconNode:w,className:_(`lucide-${O(p)}`,I)},U))});return E.displayName=`${p}`,E}},97411:function(B,Z,l){"use strict";l.d(Z,{Z:function(){return O}});var i=l(6352);const O=(0,i.Z)("BoxSelect",[["path",{d:"M5 3a2 2 0 0 0-2 2",key:"y57alp"}],["path",{d:"M19 3a2 2 0 0 1 2 2",key:"18rm91"}],["path",{d:"M21 19a2 2 0 0 1-2 2",key:"1j7049"}],["path",{d:"M5 21a2 2 0 0 1-2-2",key:"sbafld"}],["path",{d:"M9 3h1",key:"1yesri"}],["path",{d:"M9 21h1",key:"15o7lz"}],["path",{d:"M14 3h1",key:"1ec4yj"}],["path",{d:"M14 21h1",key:"v9vybs"}],["path",{d:"M3 9v1",key:"1r0deq"}],["path",{d:"M21 9v1",key:"mxsmne"}],["path",{d:"M3 14v1",key:"vnatye"}],["path",{d:"M21 14v1",key:"169vum"}]])},25729:function(B,Z,l){"use strict";l.d(Z,{Z:function(){return O}});var i=l(6352);const O=(0,i.Z)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]])},53038:function(B,Z,l){"use strict";l.d(Z,{NL:function(){return Le},y1:function(){return xe}});var i=l(75271),O=l(52676);function _(){return _=Object.assign?Object.assign.bind():function(H){for(var se=1;se<arguments.length;se++){var Ee=arguments[se];for(var Ge in Ee)Object.prototype.hasOwnProperty.call(Ee,Ge)&&(H[Ge]=Ee[Ge])}return H},_.apply(this,arguments)}var T=["shift","alt","meta","mod","ctrl"],x={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function b(H){return(x[H]||H).trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function p(H){return T.includes(H)}function w(H,se){return se===void 0&&(se=","),H.split(se)}function E(H,se,Ee){se===void 0&&(se="+");var Ge=H.toLocaleLowerCase().split(se).map(function(Ct){return b(Ct)}),_t={alt:Ge.includes("alt"),ctrl:Ge.includes("ctrl")||Ge.includes("control"),shift:Ge.includes("shift"),meta:Ge.includes("meta"),mod:Ge.includes("mod")},Gt=Ge.filter(function(Ct){return!T.includes(Ct)});return _({},_t,{keys:Gt,description:Ee})}(function(){typeof document!="undefined"&&(document.addEventListener("keydown",function(H){H.key!==void 0&&K([b(H.key),b(H.code)])}),document.addEventListener("keyup",function(H){H.key!==void 0&&G([b(H.key),b(H.code)])})),typeof window!="undefined"&&window.addEventListener("blur",function(){I.clear()})})();var I=new Set;function U(H){return Array.isArray(H)}function N(H,se){se===void 0&&(se=",");var Ee=U(H)?H:H.split(se);return Ee.every(function(Ge){return I.has(Ge.trim().toLowerCase())})}function K(H){var se=Array.isArray(H)?H:[H];I.has("meta")&&I.forEach(function(Ee){return!p(Ee)&&I.delete(Ee.toLowerCase())}),se.forEach(function(Ee){return I.add(Ee.toLowerCase())})}function G(H){var se=Array.isArray(H)?H:[H];H==="meta"?I.clear():se.forEach(function(Ee){return I.delete(Ee.toLowerCase())})}function he(H,se,Ee){(typeof Ee=="function"&&Ee(H,se)||Ee===!0)&&H.preventDefault()}function Ve(H,se,Ee){return typeof Ee=="function"?Ee(H,se):Ee===!0||Ee===void 0}function ce(H){return ue(H,["input","textarea","select"])}function ue(H,se){var Ee=H.target;se===void 0&&(se=!1);var Ge=Ee&&Ee.tagName;return U(se)?!!(Ge&&se&&se.some(function(_t){return _t.toLowerCase()===Ge.toLowerCase()})):!!(Ge&&se&&se===!0)}function X(H,se){return H.length===0&&se?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):se?H.some(function(Ee){return se.includes(Ee)})||H.includes("*"):!0}var re=function(se,Ee,Ge){Ge===void 0&&(Ge=!1);var _t=Ee.alt,Gt=Ee.meta,Ct=Ee.mod,Y=Ee.shift,ge=Ee.ctrl,ve=Ee.keys,be=se.key,Re=se.code,dt=se.ctrlKey,gt=se.metaKey,Wt=se.shiftKey,Qt=se.altKey,Ie=b(Re),De=be.toLowerCase();if(!(ve!=null&&ve.includes(Ie))&&!(ve!=null&&ve.includes(De))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(Ie))return!1;if(!Ge){if(_t===!Qt&&De!=="alt"||Y===!Wt&&De!=="shift")return!1;if(Ct){if(!gt&&!dt)return!1}else if(Gt===!gt&&De!=="meta"&&De!=="os"||ge===!dt&&De!=="ctrl"&&De!=="control")return!1}return ve&&ve.length===1&&(ve.includes(De)||ve.includes(Ie))?!0:ve?N(ve):!ve},oe=(0,i.createContext)(void 0),$=function(){return(0,i.useContext)(oe)};function Q(H){var se=H.addHotkey,Ee=H.removeHotkey,Ge=H.children;return(0,O.jsx)(oe.Provider,{value:{addHotkey:se,removeHotkey:Ee},children:Ge})}function ae(H,se){return H&&se&&typeof H=="object"&&typeof se=="object"?Object.keys(H).length===Object.keys(se).length&&Object.keys(H).reduce(function(Ee,Ge){return Ee&&ae(H[Ge],se[Ge])},!0):H===se}var ie=(0,i.createContext)({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),_e=function(){return(0,i.useContext)(ie)},Le=function(se){var Ee=se.initiallyActiveScopes,Ge=Ee===void 0?["*"]:Ee,_t=se.children,Gt=(0,i.useState)((Ge==null?void 0:Ge.length)>0?Ge:["*"]),Ct=Gt[0],Y=Gt[1],ge=(0,i.useState)([]),ve=ge[0],be=ge[1],Re=(0,i.useCallback)(function(Ie){Y(function(De){return De.includes("*")?[Ie]:Array.from(new Set([].concat(De,[Ie])))})},[]),dt=(0,i.useCallback)(function(Ie){Y(function(De){return De.filter(function(We){return We!==Ie}).length===0?["*"]:De.filter(function(We){return We!==Ie})})},[]),gt=(0,i.useCallback)(function(Ie){Y(function(De){return De.includes(Ie)?De.filter(function(We){return We!==Ie}).length===0?["*"]:De.filter(function(We){return We!==Ie}):De.includes("*")?[Ie]:Array.from(new Set([].concat(De,[Ie])))})},[]),Wt=(0,i.useCallback)(function(Ie){be(function(De){return[].concat(De,[Ie])})},[]),Qt=(0,i.useCallback)(function(Ie){be(function(De){return De.filter(function(We){return!ae(We,Ie)})})},[]);return(0,O.jsx)(ie.Provider,{value:{enabledScopes:Ct,hotkeys:ve,enableScope:Re,disableScope:dt,toggleScope:gt},children:(0,O.jsx)(Q,{addHotkey:Wt,removeHotkey:Qt,children:_t})})};function P(H){var se=(0,i.useRef)(void 0);return ae(se.current,H)||(se.current=H),se.current}var J=function(se){se.stopPropagation(),se.preventDefault(),se.stopImmediatePropagation()},Ce=typeof window!="undefined"?i.useLayoutEffect:i.useEffect;function xe(H,se,Ee,Ge){var _t=(0,i.useRef)(null),Gt=(0,i.useRef)(!1),Ct=Ee instanceof Array?Ge instanceof Array?void 0:Ge:Ee,Y=U(H)?H.join(Ct==null?void 0:Ct.splitKey):H,ge=Ee instanceof Array?Ee:Ge instanceof Array?Ge:void 0,ve=(0,i.useCallback)(se,ge!=null?ge:[]),be=(0,i.useRef)(ve);ge?be.current=ve:be.current=se;var Re=P(Ct),dt=_e(),gt=dt.enabledScopes,Wt=$();return Ce(function(){if(!((Re==null?void 0:Re.enabled)===!1||!X(gt,Re==null?void 0:Re.scopes))){var Qt=function(ye,Ft){var yn;if(Ft===void 0&&(Ft=!1),!(ce(ye)&&!ue(ye,Re==null?void 0:Re.enableOnFormTags))){if(_t.current!==null){var gn=_t.current.getRootNode();if((gn instanceof Document||gn instanceof ShadowRoot)&&gn.activeElement!==_t.current&&!_t.current.contains(gn.activeElement)){J(ye);return}}(yn=ye.target)!=null&&yn.isContentEditable&&!(Re!=null&&Re.enableOnContentEditable)||w(Y,Re==null?void 0:Re.splitKey).forEach(function(Sn){var kn,bn=E(Sn,Re==null?void 0:Re.combinationKey);if(re(ye,bn,Re==null?void 0:Re.ignoreModifiers)||(kn=bn.keys)!=null&&kn.includes("*")){if(Re!=null&&Re.ignoreEventWhen!=null&&Re.ignoreEventWhen(ye)||Ft&&Gt.current)return;if(he(ye,bn,Re==null?void 0:Re.preventDefault),!Ve(ye,bn,Re==null?void 0:Re.enabled)){J(ye);return}be.current(ye,bn),Ft||(Gt.current=!0)}})}},Ie=function(ye){ye.key!==void 0&&(K(b(ye.code)),((Re==null?void 0:Re.keydown)===void 0&&(Re==null?void 0:Re.keyup)!==!0||Re!=null&&Re.keydown)&&Qt(ye))},De=function(ye){ye.key!==void 0&&(G(b(ye.code)),Gt.current=!1,Re!=null&&Re.keyup&&Qt(ye,!0))},We=_t.current||(Ct==null?void 0:Ct.document)||document;return We.addEventListener("keyup",De),We.addEventListener("keydown",Ie),Wt&&w(Y,Re==null?void 0:Re.splitKey).forEach(function(He){return Wt.addHotkey(E(He,Re==null?void 0:Re.combinationKey,Re==null?void 0:Re.description))}),function(){We.removeEventListener("keyup",De),We.removeEventListener("keydown",Ie),Wt&&w(Y,Re==null?void 0:Re.splitKey).forEach(function(He){return Wt.removeHotkey(E(He,Re==null?void 0:Re.combinationKey,Re==null?void 0:Re.description))})}}},[Y,Re,gt]),_t}function je(){var H=useState(new Set),se=H[0],Ee=H[1],Ge=useState(!1),_t=Ge[0],Gt=Ge[1],Ct=useCallback(function(be){be.key!==void 0&&(be.preventDefault(),be.stopPropagation(),Ee(function(Re){var dt=new Set(Re);return dt.add(b(be.code)),dt}))},[]),Y=useCallback(function(){typeof document!="undefined"&&(document.removeEventListener("keydown",Ct),Gt(!1))},[Ct]),ge=useCallback(function(){Ee(new Set),typeof document!="undefined"&&(Y(),document.addEventListener("keydown",Ct),Gt(!0))},[Ct,Y]),ve=useCallback(function(){Ee(new Set)},[]);return[se,{start:ge,stop:Y,resetKeys:ve,isRecording:_t}]}},40072:function(B,Z,l){"use strict";l.d(Z,{N:function(){return x}});var i=l(30016),O=l(3341),_=l.n(O),T=l(75271),x=function(p){return function(w,E){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[E],U=arguments.length>3?arguments[3]:void 0,N=U!=null?U:p.setState;(0,T.useEffect)(function(){if(typeof E!="undefined"){var K,G=(K=p.getState)===null||K===void 0?void 0:K.call(p);if(_()(G==null?void 0:G[w],E))return;N((0,i.Z)({},w,E),!1,{type:"\u{1F4AD} useStoreUpdater / ".concat(w),payload:E})}},I)}}},79734:function(B,Z,l){"use strict";l.d(Z,{v:function(){return O}});var i=l(13318),O=function(T){return T?i.mW:function(x){return x}}},38498:function(B,Z,l){var i=l(78770);function O(_){if(Array.isArray(_))return i(_)}B.exports=O,B.exports.__esModule=!0,B.exports.default=B.exports},62657:function(B){function Z(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}B.exports=Z,B.exports.__esModule=!0,B.exports.default=B.exports},335:function(B,Z,l){var i=l(31479);function O(_,T){var x=typeof Symbol!="undefined"&&_[Symbol.iterator]||_["@@iterator"];if(!x){if(Array.isArray(_)||(x=i(_))||T&&_&&typeof _.length=="number"){x&&(_=x);var b=0,p=function(){};return{s:p,n:function(){return b>=_.length?{done:!0}:{done:!1,value:_[b++]}},e:function(N){throw N},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var w=!0,E=!1,I;return{s:function(){x=x.call(_)},n:function(){var N=x.next();return w=N.done,N},e:function(N){E=!0,I=N},f:function(){try{!w&&x.return!=null&&x.return()}finally{if(E)throw I}}}}B.exports=O,B.exports.__esModule=!0,B.exports.default=B.exports},83136:function(B,Z,l){var i=l(38836),O=l(68919),_=l(75254);function T(x){var b=O();return function(){var w=i(x),E;if(b){var I=i(this).constructor;E=Reflect.construct(w,arguments,I)}else E=w.apply(this,arguments);return _(this,E)}}B.exports=T,B.exports.__esModule=!0,B.exports.default=B.exports},38836:function(B){function Z(l){return B.exports=Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},B.exports.__esModule=!0,B.exports.default=B.exports,Z(l)}B.exports=Z,B.exports.__esModule=!0,B.exports.default=B.exports},21742:function(B,Z,l){var i=l(80038);function O(_,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(T&&T.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),T&&i(_,T)}B.exports=O,B.exports.__esModule=!0,B.exports.default=B.exports},68919:function(B){function Z(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(l){return!1}}B.exports=Z,B.exports.__esModule=!0,B.exports.default=B.exports},20698:function(B){function Z(l){if(typeof Symbol!="undefined"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}B.exports=Z,B.exports.__esModule=!0,B.exports.default=B.exports},91162:function(B){function Z(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}B.exports=Z,B.exports.__esModule=!0,B.exports.default=B.exports},67825:function(B,Z,l){var i=l(64382);function O(_,T){if(_==null)return{};var x=i(_,T),b,p;if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(_);for(p=0;p<w.length;p++)b=w[p],!(T.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(_,b)&&(x[b]=_[b])}return x}B.exports=O,B.exports.__esModule=!0,B.exports.default=B.exports},64382:function(B){function Z(l,i){if(l==null)return{};var O={},_=Object.keys(l),T,x;for(x=0;x<_.length;x++)T=_[x],!(i.indexOf(T)>=0)&&(O[T]=l[T]);return O}B.exports=Z,B.exports.__esModule=!0,B.exports.default=B.exports},75254:function(B,Z,l){var i=l(31759).default,O=l(62657);function _(T,x){if(x&&(i(x)==="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O(T)}B.exports=_,B.exports.__esModule=!0,B.exports.default=B.exports},80038:function(B){function Z(l,i){return B.exports=Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,T){return _.__proto__=T,_},B.exports.__esModule=!0,B.exports.default=B.exports,Z(l,i)}B.exports=Z,B.exports.__esModule=!0,B.exports.default=B.exports},53649:function(B){function Z(l,i){return i||(i=l.slice(0)),Object.freeze(Object.defineProperties(l,{raw:{value:Object.freeze(i)}}))}B.exports=Z,B.exports.__esModule=!0,B.exports.default=B.exports},15558:function(B,Z,l){var i=l(38498),O=l(20698),_=l(31479),T=l(91162);function x(b){return i(b)||O(b)||_(b)||T()}B.exports=x,B.exports.__esModule=!0,B.exports.default=B.exports},42622:function(B,Z,l){"use strict";l.d(Z,{A:function(){return N},T:function(){return x}});var i=l(75271),O=l(28680),_=l(25436),T=l(89986),x;(function(K){K.Lines="lines",K.Dots="dots",K.Cross="cross"})(x||(x={}));function b({color:K,dimensions:G,lineWidth:he}){return i.createElement("path",{stroke:K,strokeWidth:he,d:`M${G[0]/2} 0 V${G[1]} M0 ${G[1]/2} H${G[0]}`})}function p({color:K,radius:G}){return i.createElement("circle",{cx:G,cy:G,r:G,fill:K})}const w={[x.Dots]:"#91919a",[x.Lines]:"#eee",[x.Cross]:"#e2e2e2"},E={[x.Dots]:1,[x.Lines]:1,[x.Cross]:6},I=K=>({transform:K.transform,patternId:`pattern-${K.rfId}`});function U({id:K,variant:G=x.Dots,gap:he=20,size:Ve,lineWidth:ce=1,offset:ue=2,color:X,style:re,className:oe}){const $=(0,i.useRef)(null),{transform:Q,patternId:ae}=(0,_.oR)(I,T.X),ie=X||w[G],_e=Ve||E[G],Le=G===x.Dots,P=G===x.Cross,J=Array.isArray(he)?he:[he,he],Ce=[J[0]*Q[2]||1,J[1]*Q[2]||1],xe=_e*Q[2],je=P?[xe,xe]:Ce,H=Le?[xe/ue,xe/ue]:[je[0]/ue,je[1]/ue];return i.createElement("svg",{className:(0,O.Z)(["react-flow__background",oe]),style:Fn(Rt({},re),{position:"absolute",width:"100%",height:"100%",top:0,left:0}),ref:$,"data-testid":"rf__background"},i.createElement("pattern",{id:ae+K,x:Q[0]%Ce[0],y:Q[1]%Ce[1],width:Ce[0],height:Ce[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${H[0]},-${H[1]})`},Le?i.createElement(p,{color:ie,radius:xe/ue}):i.createElement(b,{dimensions:je,color:ie,lineWidth:ce})),i.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${ae+K})`}))}U.displayName="Background";var N=(0,i.memo)(U)},25436:function(B,Z,l){"use strict";l.d(Z,{$i:function(){return yr},AC:function(){return he},AQ:function(){return Ws},B:function(){return Xs},Bn:function(){return ks},CV:function(){return Ms},Fb:function(){return li},GA:function(){return J},HH:function(){return kt},Hm:function(){return W},IY:function(){return Ie},Jd:function(){return bt},Kr:function(){return Tr},Ly:function(){return ye},Mi:function(){return As},OQ:function(){return mt},OW:function(){return In},QZ:function(){return He},RF:function(){return P},RX:function(){return st},Rr:function(){return $s},SM:function(){return Ts},Sj:function(){return ds},Su:function(){return on},UG:function(){return cn},VP:function(){return Et},Wx:function(){return Ho},XQ:function(){return us},YH:function(){return Lt},Z_:function(){return hn},_K:function(){return ho},bS:function(){return yn},cf:function(){return Re},f6:function(){return re},hR:function(){return Je},jD:function(){return Qt},ll:function(){return Os},lx:function(){return Pn},my:function(){return fr},oI:function(){return xe},oR:function(){return G},oW:function(){return De},r4:function(){return we},sN:function(){return mn},s_:function(){return ce},t8:function(){return We},tV:function(){return fn},u5:function(){return be},uZ:function(){return $},un:function(){return jt},vG:function(){return nn},wE:function(){return Mr},x$:function(){return Lr},xA:function(){return Zt},xB:function(){return Ee},xC:function(){return M},y7:function(){return gn},yn:function(){return eo}});var i=l(75271),O=l(28680),_=l(71730),T=l(89986),x=l(78132),b=l(41468),p=l(13802),w=l(45452),E=l(30967);const I=(0,i.createContext)(null),U=I.Provider,N={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:r=>`Node type "${r}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:r=>`The old edge with id=${r} does not exist.`,error009:r=>`Marker type "${r}" doesn't exist.`,error008:(r,c)=>`Couldn't create edge for ${r?"target":"source"} handle id: "${r?c.targetHandle:c.sourceHandle}", edge id: ${c.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:r=>`Edge type "${r}" not found. Using fallback type "default".`,error012:r=>`Node with id "${r}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},K=N.error001();function G(r,c){const d=(0,i.useContext)(I);if(d===null)throw new Error(K);return(0,_.s)(d,r,c)}const he=()=>{const r=(0,i.useContext)(I);if(r===null)throw new Error(K);return(0,i.useMemo)(()=>({getState:r.getState,setState:r.setState,subscribe:r.subscribe,destroy:r.destroy}),[r])},Ve=r=>r.userSelectionActive?"none":"all";function ce(D){var A=D,{position:r,children:c,className:d,style:m}=A,y=Oi(A,["position","children","className","style"]);const R=G(Ve),h=`${r}`.split("-");return i.createElement("div",Rt({className:(0,O.Z)(["react-flow__panel",d,...h]),style:Fn(Rt({},m),{pointerEvents:R})},y),c)}function ue({proOptions:r,position:c="bottom-right"}){return r!=null&&r.hideAttribution?null:i.createElement(ce,{position:c,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},i.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const X=z=>{var fe=z,{x:r,y:c,label:d,labelStyle:m={},labelShowBg:y=!0,labelBgStyle:D={},labelBgPadding:A=[2,4],labelBgBorderRadius:R=2,children:h,className:v}=fe,S=Oi(fe,["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"]);const ne=(0,i.useRef)(null),[Te,le]=(0,i.useState)({x:0,y:0,width:0,height:0}),Ae=(0,O.Z)(["react-flow__edge-textwrapper",v]);return(0,i.useEffect)(()=>{if(ne.current){const Ne=ne.current.getBBox();le({x:Ne.x,y:Ne.y,width:Ne.width,height:Ne.height})}},[d]),typeof d=="undefined"||!d?null:i.createElement("g",Rt({transform:`translate(${r-Te.width/2} ${c-Te.height/2})`,className:Ae,visibility:Te.width?"visible":"hidden"},S),y&&i.createElement("rect",{width:Te.width+2*A[0],x:-A[0],y:-A[1],height:Te.height+2*A[1],className:"react-flow__edge-textbg",style:D,rx:R,ry:R}),i.createElement("text",{className:"react-flow__edge-text",y:Te.height/2,dy:"0.3em",ref:ne,style:m},d),h)};var re=(0,i.memo)(X);const oe=r=>({width:r.offsetWidth,height:r.offsetHeight}),$=(r,c=0,d=1)=>Math.min(Math.max(r,c),d),Q=(r={x:0,y:0},c)=>({x:$(r.x,c[0][0],c[1][0]),y:$(r.y,c[0][1],c[1][1])}),ae=(r,c,d)=>r<c?$(Math.abs(r-c),1,50)/50:r>d?-$(Math.abs(r-d),1,50)/50:0,ie=(r,c)=>{const d=ae(r.x,35,c.width-35)*20,m=ae(r.y,35,c.height-35)*20;return[d,m]},_e=r=>{var c;return((c=r.getRootNode)==null?void 0:c.call(r))||(window==null?void 0:window.document)},Le=(r,c)=>({x:Math.min(r.x,c.x),y:Math.min(r.y,c.y),x2:Math.max(r.x2,c.x2),y2:Math.max(r.y2,c.y2)}),P=({x:r,y:c,width:d,height:m})=>({x:r,y:c,x2:r+d,y2:c+m}),J=({x:r,y:c,x2:d,y2:m})=>({x:r,y:c,width:d-r,height:m-c}),Ce=r=>Fn(Rt({},r.positionAbsolute||{x:0,y:0}),{width:r.width||0,height:r.height||0}),xe=(r,c)=>J(Le(P(r),P(c))),je=(r,c)=>{const d=Math.max(0,Math.min(r.x+r.width,c.x+c.width)-Math.max(r.x,c.x)),m=Math.max(0,Math.min(r.y+r.height,c.y+c.height)-Math.max(r.y,c.y));return Math.ceil(d*m)},H=r=>se(r.width)&&se(r.height)&&se(r.x)&&se(r.y),se=r=>!isNaN(r)&&isFinite(r),Ee=Symbol.for("internals"),Ge=["Enter"," ","Escape"],_t=(r,c)=>{},Gt=r=>"nativeEvent"in r;function Ct(r){var y,D;const c=Gt(r)?r.nativeEvent:r,d=((D=(y=c.composedPath)==null?void 0:y.call(c))==null?void 0:D[0])||r.target;return["INPUT","SELECT","TEXTAREA"].includes(d==null?void 0:d.nodeName)||(d==null?void 0:d.hasAttribute("contenteditable"))||!!(d!=null&&d.closest(".nokey"))}const Y=r=>"clientX"in r,ge=(r,c)=>{var D,A,R,h;const d=Y(r),m=d?r.clientX:(D=r.touches)==null?void 0:D[0].clientX,y=d?r.clientY:(A=r.touches)==null?void 0:A[0].clientY;return{x:m-((R=c==null?void 0:c.left)!=null?R:0),y:y-((h=c==null?void 0:c.top)!=null?h:0)}},ve=()=>{var r;return typeof navigator!="undefined"&&((r=navigator==null?void 0:navigator.userAgent)==null?void 0:r.indexOf("Mac"))>=0},be=({id:r,path:c,labelX:d,labelY:m,label:y,labelStyle:D,labelShowBg:A,labelBgStyle:R,labelBgPadding:h,labelBgBorderRadius:v,style:S,markerEnd:z,markerStart:fe,interactionWidth:ne=20})=>i.createElement(i.Fragment,null,i.createElement("path",{id:r,style:S,d:c,fill:"none",className:"react-flow__edge-path",markerEnd:z,markerStart:fe}),ne&&i.createElement("path",{d:c,fill:"none",strokeOpacity:0,strokeWidth:ne,className:"react-flow__edge-interaction"}),y&&se(d)&&se(m)?i.createElement(re,{x:d,y:m,label:y,labelStyle:D,labelShowBg:A,labelBgStyle:R,labelBgPadding:h,labelBgBorderRadius:v}):null);be.displayName="BaseEdge";const Re=(r,c)=>typeof c!="undefined"&&c?`url(#${c})`:typeof r!="undefined"?`url(#react-flow__${r})`:"none";function dt(r,c,d){return d===void 0?d:m=>{const y=c().edges.find(D=>D.id===r);y&&d(m,Rt({},y))}}function gt({sourceX:r,sourceY:c,targetX:d,targetY:m}){const y=Math.abs(d-r)/2,D=d<r?d+y:d-y,A=Math.abs(m-c)/2,R=m<c?m+A:m-A;return[D,R,y,A]}function Wt({sourceX:r,sourceY:c,targetX:d,targetY:m,sourceControlX:y,sourceControlY:D,targetControlX:A,targetControlY:R}){const h=r*.125+y*.375+A*.375+d*.125,v=c*.125+D*.375+R*.375+m*.125,S=Math.abs(h-r),z=Math.abs(v-c);return[h,v,S,z]}var Qt;(function(r){r.Strict="strict",r.Loose="loose"})(Qt||(Qt={}));var Ie;(function(r){r.Free="free",r.Vertical="vertical",r.Horizontal="horizontal"})(Ie||(Ie={}));var De;(function(r){r.Partial="partial",r.Full="full"})(De||(De={}));var We;(function(r){r.Bezier="default",r.Straight="straight",r.Step="step",r.SmoothStep="smoothstep",r.SimpleBezier="simplebezier"})(We||(We={}));var He;(function(r){r.Arrow="arrow",r.ArrowClosed="arrowclosed"})(He||(He={}));var ye;(function(r){r.Left="left",r.Top="top",r.Right="right",r.Bottom="bottom"})(ye||(ye={}));function Ft({pos:r,x1:c,y1:d,x2:m,y2:y}){return r===ye.Left||r===ye.Right?[.5*(c+m),d]:[c,.5*(d+y)]}function yn({sourceX:r,sourceY:c,sourcePosition:d=ye.Bottom,targetX:m,targetY:y,targetPosition:D=ye.Top}){const[A,R]=Ft({pos:d,x1:r,y1:c,x2:m,y2:y}),[h,v]=Ft({pos:D,x1:m,y1:y,x2:r,y2:c}),[S,z,fe,ne]=Wt({sourceX:r,sourceY:c,targetX:m,targetY:y,sourceControlX:A,sourceControlY:R,targetControlX:h,targetControlY:v});return[`M${r},${c} C${A},${R} ${h},${v} ${m},${y}`,S,z,fe,ne]}const gn=(0,i.memo)(({sourceX:r,sourceY:c,targetX:d,targetY:m,sourcePosition:y=ye.Bottom,targetPosition:D=ye.Top,label:A,labelStyle:R,labelShowBg:h,labelBgStyle:v,labelBgPadding:S,labelBgBorderRadius:z,style:fe,markerEnd:ne,markerStart:Te,interactionWidth:le})=>{const[Ae,Ne,Me]=yn({sourceX:r,sourceY:c,sourcePosition:y,targetX:d,targetY:m,targetPosition:D});return i.createElement(be,{path:Ae,labelX:Ne,labelY:Me,label:A,labelStyle:R,labelShowBg:h,labelBgStyle:v,labelBgPadding:S,labelBgBorderRadius:z,style:fe,markerEnd:ne,markerStart:Te,interactionWidth:le})});gn.displayName="SimpleBezierEdge";const Sn={[ye.Left]:{x:-1,y:0},[ye.Right]:{x:1,y:0},[ye.Top]:{x:0,y:-1},[ye.Bottom]:{x:0,y:1}},kn=({source:r,sourcePosition:c=ye.Bottom,target:d})=>c===ye.Left||c===ye.Right?r.x<d.x?{x:1,y:0}:{x:-1,y:0}:r.y<d.y?{x:0,y:1}:{x:0,y:-1},bn=(r,c)=>Math.sqrt(Math.pow(c.x-r.x,2)+Math.pow(c.y-r.y,2));function Tn({source:r,sourcePosition:c=ye.Bottom,target:d,targetPosition:m=ye.Top,center:y,offset:D}){var Dt,wt;const A=Sn[c],R=Sn[m],h={x:r.x+A.x*D,y:r.y+A.y*D},v={x:d.x+R.x*D,y:d.y+R.y*D},S=kn({source:h,sourcePosition:c,target:v}),z=S.x!==0?"x":"y",fe=S[z];let ne=[],Te,le;const Ae={x:0,y:0},Ne={x:0,y:0},[Me,Fe,ut,ft]=gt({sourceX:r.x,sourceY:r.y,targetX:d.x,targetY:d.y});if(A[z]*R[z]===-1){Te=(Dt=y.x)!=null?Dt:Me,le=(wt=y.y)!=null?wt:Fe;const at=[{x:Te,y:h.y},{x:Te,y:v.y}],It=[{x:h.x,y:le},{x:v.x,y:le}];A[z]===fe?ne=z==="x"?at:It:ne=z==="x"?It:at}else{const at=[{x:h.x,y:v.y}],It=[{x:v.x,y:h.y}];if(z==="x"?ne=A.x===fe?It:at:ne=A.y===fe?at:It,c===m){const ct=Math.abs(r[z]-d[z]);if(ct<=D){const Tt=Math.min(D-1,D-ct);A[z]===fe?Ae[z]=(h[z]>r[z]?-1:1)*Tt:Ne[z]=(v[z]>d[z]?-1:1)*Tt}}if(c!==m){const ct=z==="x"?"y":"x",Tt=A[z]===R[ct],Xt=h[ct]>v[ct],Ut=h[ct]<v[ct];(A[z]===1&&(!Tt&&Xt||Tt&&Ut)||A[z]!==1&&(!Tt&&Ut||Tt&&Xt))&&(ne=z==="x"?at:It)}const vt={x:h.x+Ae.x,y:h.y+Ae.y},xt={x:v.x+Ne.x,y:v.y+Ne.y},Qe=Math.max(Math.abs(vt.x-ne[0].x),Math.abs(xt.x-ne[0].x)),$e=Math.max(Math.abs(vt.y-ne[0].y),Math.abs(xt.y-ne[0].y));Qe>=$e?(Te=(vt.x+xt.x)/2,le=ne[0].y):(Te=ne[0].x,le=(vt.y+xt.y)/2)}return[[r,{x:h.x+Ae.x,y:h.y+Ae.y},...ne,{x:v.x+Ne.x,y:v.y+Ne.y},d],Te,le,ut,ft]}function Bn(r,c,d,m){const y=Math.min(bn(r,c)/2,bn(c,d)/2,m),{x:D,y:A}=c;if(r.x===D&&D===d.x||r.y===A&&A===d.y)return`L${D} ${A}`;if(r.y===A){const v=r.x<d.x?-1:1,S=r.y<d.y?1:-1;return`L ${D+y*v},${A}Q ${D},${A} ${D},${A+y*S}`}const R=r.x<d.x?1:-1,h=r.y<d.y?-1:1;return`L ${D},${A+y*h}Q ${D},${A} ${D+y*R},${A}`}function In({sourceX:r,sourceY:c,sourcePosition:d=ye.Bottom,targetX:m,targetY:y,targetPosition:D=ye.Top,borderRadius:A=5,centerX:R,centerY:h,offset:v=20}){const[S,z,fe,ne,Te]=Tn({source:{x:r,y:c},sourcePosition:d,target:{x:m,y},targetPosition:D,center:{x:R,y:h},offset:v});return[S.reduce((Ae,Ne,Me)=>{let Fe="";return Me>0&&Me<S.length-1?Fe=Bn(S[Me-1],Ne,S[Me+1],A):Fe=`${Me===0?"M":"L"}${Ne.x} ${Ne.y}`,Ae+=Fe,Ae},""),z,fe,ne,Te]}const on=(0,i.memo)(({sourceX:r,sourceY:c,targetX:d,targetY:m,label:y,labelStyle:D,labelShowBg:A,labelBgStyle:R,labelBgPadding:h,labelBgBorderRadius:v,style:S,sourcePosition:z=ye.Bottom,targetPosition:fe=ye.Top,markerEnd:ne,markerStart:Te,pathOptions:le,interactionWidth:Ae})=>{const[Ne,Me,Fe]=In({sourceX:r,sourceY:c,sourcePosition:z,targetX:d,targetY:m,targetPosition:fe,borderRadius:le==null?void 0:le.borderRadius,offset:le==null?void 0:le.offset});return i.createElement(be,{path:Ne,labelX:Me,labelY:Fe,label:y,labelStyle:D,labelShowBg:A,labelBgStyle:R,labelBgPadding:h,labelBgBorderRadius:v,style:S,markerEnd:ne,markerStart:Te,interactionWidth:Ae})});on.displayName="SmoothStepEdge";const M=(0,i.memo)(r=>{var c;return i.createElement(on,Fn(Rt({},r),{pathOptions:(0,i.useMemo)(()=>{var d;return{borderRadius:0,offset:(d=r.pathOptions)==null?void 0:d.offset}},[(c=r.pathOptions)==null?void 0:c.offset])}))});M.displayName="StepEdge";function W({sourceX:r,sourceY:c,targetX:d,targetY:m}){const[y,D,A,R]=gt({sourceX:r,sourceY:c,targetX:d,targetY:m});return[`M ${r},${c}L ${d},${m}`,y,D,A,R]}const we=(0,i.memo)(({sourceX:r,sourceY:c,targetX:d,targetY:m,label:y,labelStyle:D,labelShowBg:A,labelBgStyle:R,labelBgPadding:h,labelBgBorderRadius:v,style:S,markerEnd:z,markerStart:fe,interactionWidth:ne})=>{const[Te,le,Ae]=W({sourceX:r,sourceY:c,targetX:d,targetY:m});return i.createElement(be,{path:Te,labelX:le,labelY:Ae,label:y,labelStyle:D,labelShowBg:A,labelBgStyle:R,labelBgPadding:h,labelBgBorderRadius:v,style:S,markerEnd:z,markerStart:fe,interactionWidth:ne})});we.displayName="StraightEdge";function Pe(r,c){return r>=0?.5*r:c*25*Math.sqrt(-r)}function Xe({pos:r,x1:c,y1:d,x2:m,y2:y,c:D}){switch(r){case ye.Left:return[c-Pe(c-m,D),d];case ye.Right:return[c+Pe(m-c,D),d];case ye.Top:return[c,d-Pe(d-y,D)];case ye.Bottom:return[c,d+Pe(y-d,D)]}}function mt({sourceX:r,sourceY:c,sourcePosition:d=ye.Bottom,targetX:m,targetY:y,targetPosition:D=ye.Top,curvature:A=.25}){const[R,h]=Xe({pos:d,x1:r,y1:c,x2:m,y2:y,c:A}),[v,S]=Xe({pos:D,x1:m,y1:y,x2:r,y2:c,c:A}),[z,fe,ne,Te]=Wt({sourceX:r,sourceY:c,targetX:m,targetY:y,sourceControlX:R,sourceControlY:h,targetControlX:v,targetControlY:S});return[`M${r},${c} C${R},${h} ${v},${S} ${m},${y}`,z,fe,ne,Te]}const bt=(0,i.memo)(({sourceX:r,sourceY:c,targetX:d,targetY:m,sourcePosition:y=ye.Bottom,targetPosition:D=ye.Top,label:A,labelStyle:R,labelShowBg:h,labelBgStyle:v,labelBgPadding:S,labelBgBorderRadius:z,style:fe,markerEnd:ne,markerStart:Te,pathOptions:le,interactionWidth:Ae})=>{const[Ne,Me,Fe]=mt({sourceX:r,sourceY:c,sourcePosition:y,targetX:d,targetY:m,targetPosition:D,curvature:le==null?void 0:le.curvature});return i.createElement(be,{path:Ne,labelX:Me,labelY:Fe,label:A,labelStyle:R,labelShowBg:h,labelBgStyle:v,labelBgPadding:S,labelBgBorderRadius:z,style:fe,markerEnd:ne,markerStart:Te,interactionWidth:Ae})});bt.displayName="BezierEdge";const ht=(0,i.createContext)(null),ze=ht.Provider;ht.Consumer;const Je=()=>(0,i.useContext)(ht),jt=r=>"id"in r&&"source"in r&&"target"in r,cn=r=>"id"in r&&!("source"in r)&&!("target"in r),Zt=(r,c,d)=>{if(!cn(r))return[];const m=d.filter(y=>y.source===r.id).map(y=>y.target);return c.filter(y=>m.includes(y.id))},nn=(r,c,d)=>{if(!cn(r))return[];const m=d.filter(y=>y.target===r.id).map(y=>y.source);return c.filter(y=>m.includes(y.id))},qt=({source:r,sourceHandle:c,target:d,targetHandle:m})=>`reactflow__edge-${r}${c||""}-${d}${m||""}`,en=(r,c)=>typeof r=="undefined"?"":typeof r=="string"?r:`${c?`${c}__`:""}${Object.keys(r).sort().map(m=>`${m}=${r[m]}`).join("&")}`,wn=(r,c)=>c.some(d=>d.source===r.source&&d.target===r.target&&(d.sourceHandle===r.sourceHandle||!d.sourceHandle&&!r.sourceHandle)&&(d.targetHandle===r.targetHandle||!d.targetHandle&&!r.targetHandle)),hn=(r,c)=>{if(!r.source||!r.target)return _t("006",N.error006()),c;let d;return jt(r)?d=Rt({},r):d=Fn(Rt({},r),{id:qt(r)}),wn(d,c)?c:c.concat(d)},mn=(r,c,d,m={shouldReplaceId:!0})=>{const h=r,{id:y}=h,D=Oi(h,["id"]);if(!c.source||!c.target)return _t("006",N.error006()),d;if(!d.find(v=>v.id===y))return _t("007",N.error007(y)),d;const R=Fn(Rt({},D),{id:m.shouldReplaceId?qt(c):y,source:c.source,target:c.target,sourceHandle:c.sourceHandle,targetHandle:c.targetHandle});return d.filter(v=>v.id!==y).concat(R)},yt=({x:r,y:c},[d,m,y],D,[A,R])=>{const h={x:(r-d)/y,y:(c-m)/y};return D?{x:A*Math.round(h.x/A),y:R*Math.round(h.y/R)}:h},zt=({x:r,y:c},[d,m,y])=>({x:r*y+d,y:c*y+m}),Et=(r,c=[0,0])=>{var D,A;if(!r)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const d=((D=r.width)!=null?D:0)*c[0],m=((A=r.height)!=null?A:0)*c[1],y={x:r.position.x-d,y:r.position.y-m};return Fn(Rt({},y),{positionAbsolute:r.positionAbsolute?{x:r.positionAbsolute.x-d,y:r.positionAbsolute.y-m}:y})},st=(r,c=[0,0])=>{if(r.length===0)return{x:0,y:0,width:0,height:0};const d=r.reduce((m,y)=>{const{x:D,y:A}=Et(y,c).positionAbsolute;return Le(m,P({x:D,y:A,width:y.width||0,height:y.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return J(d)},Lt=(r,c=[0,0])=>(console.warn("[DEPRECATED] `getRectOfNodes` is deprecated. Instead use `getNodesBounds` https://reactflow.dev/api-reference/utils/get-nodes-bounds."),st(r,c)),Kt=(r,c,[d,m,y]=[0,0,1],D=!1,A=!1,R=[0,0])=>{const h={x:(c.x-d)/y,y:(c.y-m)/y,width:c.width/y,height:c.height/y},v=[];return r.forEach(S=>{const{width:z,height:fe,selectable:ne=!0,hidden:Te=!1}=S;if(A&&!ne||Te)return!1;const{positionAbsolute:le}=Et(S,R),Ae={x:le.x,y:le.y,width:z||0,height:fe||0},Ne=je(h,Ae),Me=typeof z=="undefined"||typeof fe=="undefined"||z===null||fe===null,Fe=D&&Ne>0,ut=(z||0)*(fe||0);(Me||Fe||Ne>=ut||S.dragging)&&v.push(S)}),v},fr=(r,c)=>{const d=r.map(m=>m.id);return c.filter(m=>d.includes(m.source)||d.includes(m.target))},Pn=(r,c,d,m,y,D=.1)=>{const{x:A,y:R,zoom:h}=yr(r,c,d,m,y,D);return console.warn("[DEPRECATED] `getTransformForBounds` is deprecated. Instead use `getViewportForBounds`. Beware that the return value is type Viewport (`{ x: number, y: number, zoom: number }`) instead of Transform (`[number, number, number]`). https://reactflow.dev/api-reference/utils/get-viewport-for-bounds"),[A,R,h]},yr=(r,c,d,m,y,D=.1)=>{const A=c/(r.width*(1+D)),R=d/(r.height*(1+D)),h=Math.min(A,R),v=$(h,m,y),S=r.x+r.width/2,z=r.y+r.height/2,fe=c/2-S*v,ne=d/2-z*v;return{x:fe,y:ne,zoom:v}},hr=(r,c=0)=>r.transition().duration(c);function kr(r,c,d,m){return(c[d]||[]).reduce((y,D)=>{var A,R,h,v;return`${r.id}-${D.id}-${d}`!==m&&y.push({id:D.id||null,type:d,nodeId:r.id,x:((R=(A=r.positionAbsolute)==null?void 0:A.x)!=null?R:0)+D.x+D.width/2,y:((v=(h=r.positionAbsolute)==null?void 0:h.y)!=null?v:0)+D.y+D.height/2}),y},[])}function or(r,c,d,m,y,D){const{x:A,y:R}=ge(r),v=c.elementsFromPoint(A,R).find(Te=>Te.classList.contains("react-flow__handle"));if(v){const Te=v.getAttribute("data-nodeid");if(Te){const le=wr(void 0,v),Ae=v.getAttribute("data-handleid"),Ne=D({nodeId:Te,id:Ae,type:le});if(Ne){const Me=y.find(Fe=>Fe.nodeId===Te&&Fe.type===le&&Fe.id===Ae);return{handle:{id:Ae,type:le,nodeId:Te,x:(Me==null?void 0:Me.x)||d.x,y:(Me==null?void 0:Me.y)||d.y},validHandleResult:Ne}}}}let S=[],z=1/0;if(y.forEach(Te=>{const le=Math.sqrt(za(Te.x-d.x,2)+za(Te.y-d.y,2));if(le<=m){const Ae=D(Te);le<=z&&(le<z?S=[{handle:Te,validHandleResult:Ae}]:le===z&&S.push({handle:Te,validHandleResult:Ae}),z=le)}}),!S.length)return{handle:null,validHandleResult:co()};if(S.length===1)return S[0];const fe=S.some(({validHandleResult:Te})=>Te.isValid),ne=S.some(({handle:Te})=>Te.type==="target");return S.find(({handle:Te,validHandleResult:le})=>ne?Te.type==="target":fe?le.isValid:!0)||S[0]}const Bo={source:null,target:null,sourceHandle:null,targetHandle:null},co=()=>({handleDomNode:null,isValid:!1,connection:Bo,endHandle:null});function er(r,c,d,m,y,D,A){const R=y==="target",h=A.querySelector(`.react-flow__handle[data-id="${r==null?void 0:r.nodeId}-${r==null?void 0:r.id}-${r==null?void 0:r.type}"]`),v=Fn(Rt({},co()),{handleDomNode:h});if(h){const S=wr(void 0,h),z=h.getAttribute("data-nodeid"),fe=h.getAttribute("data-handleid"),ne=h.classList.contains("connectable"),Te=h.classList.contains("connectableend"),le={source:R?z:d,sourceHandle:R?fe:m,target:R?d:z,targetHandle:R?m:fe};v.connection=le,ne&&Te&&(c===Qt.Strict?R&&S==="source"||!R&&S==="target":z!==d||fe!==m)&&(v.endHandle={nodeId:z,handleId:fe,type:S},v.isValid=D(le))}return v}function ir({nodes:r,nodeId:c,handleId:d,handleType:m}){return r.reduce((y,D)=>{if(D[Ee]){const{handleBounds:A}=D[Ee];let R=[],h=[];A&&(R=kr(D,A,"source",`${c}-${d}-${m}`),h=kr(D,A,"target",`${c}-${d}-${m}`)),y.push(...R,...h)}return y},[])}function wr(r,c){return r||(c!=null&&c.classList.contains("target")?"target":c!=null&&c.classList.contains("source")?"source":null)}function Wr(r){r==null||r.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function V(r,c){let d=null;return c?d="valid":r&&!c&&(d="invalid"),d}function me({event:r,handleId:c,nodeId:d,onConnect:m,isTarget:y,getState:D,setState:A,isValidConnection:R,edgeUpdaterType:h,onEdgeUpdateEnd:v}){const S=_e(r.target),{connectionMode:z,domNode:fe,autoPanOnConnect:ne,connectionRadius:Te,onConnectStart:le,panBy:Ae,getNodes:Ne,cancelConnection:Me}=D();let Fe=0,ut;const{x:ft,y:pt}=ge(r),Dt=S==null?void 0:S.elementFromPoint(ft,pt),wt=wr(h,Dt),at=fe==null?void 0:fe.getBoundingClientRect();if(!at||!wt)return;let It,vt=ge(r,at),xt=!1,Qe=null,$e=!1,ct=null;const Tt=ir({nodes:Ne(),nodeId:d,handleId:c,handleType:wt}),Xt=()=>{if(!ne)return;const[Pt,ot]=ie(vt,at);Ae({x:Pt,y:ot}),Fe=requestAnimationFrame(Xt)};A({connectionPosition:vt,connectionStatus:null,connectionNodeId:d,connectionHandleId:c,connectionHandleType:wt,connectionStartHandle:{nodeId:d,handleId:c,type:wt},connectionEndHandle:null}),le==null||le(r,{nodeId:d,handleId:c,handleType:wt});function Ut(Pt){const{transform:ot}=D();vt=ge(Pt,at);const{handle:Mt,validHandleResult:Yt}=or(Pt,S,yt(vt,ot,!1,[1,1]),Te,Tt,ln=>er(ln,z,d,c,y?"target":"source",R,S));if(ut=Mt,xt||(Xt(),xt=!0),ct=Yt.handleDomNode,Qe=Yt.connection,$e=Yt.isValid,A({connectionPosition:ut&&$e?zt({x:ut.x,y:ut.y},ot):vt,connectionStatus:V(!!ut,$e),connectionEndHandle:Yt.endHandle}),!ut&&!$e&&!ct)return Wr(It);Qe.source!==Qe.target&&ct&&(Wr(It),It=ct,ct.classList.add("connecting","react-flow__handle-connecting"),ct.classList.toggle("valid",$e),ct.classList.toggle("react-flow__handle-valid",$e))}function Ue(Pt){var ot,Mt;(ut||ct)&&Qe&&$e&&(m==null||m(Qe)),(Mt=(ot=D()).onConnectEnd)==null||Mt.call(ot,Pt),h&&(v==null||v(Pt)),Wr(It),Me(),cancelAnimationFrame(Fe),xt=!1,$e=!1,Qe=null,ct=null,S.removeEventListener("mousemove",Ut),S.removeEventListener("mouseup",Ue),S.removeEventListener("touchmove",Ut),S.removeEventListener("touchend",Ue)}S.addEventListener("mousemove",Ut),S.addEventListener("mouseup",Ue),S.addEventListener("touchmove",Ut),S.addEventListener("touchend",Ue)}const nt=()=>!0,rt=r=>({connectionStartHandle:r.connectionStartHandle,connectOnClick:r.connectOnClick,noPanClassName:r.noPanClassName}),Ke=(r,c,d)=>m=>{const{connectionStartHandle:y,connectionEndHandle:D,connectionClickStartHandle:A}=m;return{connecting:(y==null?void 0:y.nodeId)===r&&(y==null?void 0:y.handleId)===c&&(y==null?void 0:y.type)===d||(D==null?void 0:D.nodeId)===r&&(D==null?void 0:D.handleId)===c&&(D==null?void 0:D.type)===d,clickConnecting:(A==null?void 0:A.nodeId)===r&&(A==null?void 0:A.handleId)===c&&(A==null?void 0:A.type)===d}},lt=(0,i.forwardRef)((Te,ne)=>{var le=Te,{type:r="source",position:c=ye.Top,isValidConnection:d,isConnectable:m=!0,isConnectableStart:y=!0,isConnectableEnd:D=!0,id:A,onConnect:R,children:h,className:v,onMouseDown:S,onTouchStart:z}=le,fe=Oi(le,["type","position","isValidConnection","isConnectable","isConnectableStart","isConnectableEnd","id","onConnect","children","className","onMouseDown","onTouchStart"]);var vt,xt;const Ae=A||null,Ne=r==="target",Me=he(),Fe=Je(),{connectOnClick:ut,noPanClassName:ft}=G(rt,T.X),{connecting:pt,clickConnecting:Dt}=G(Ke(Fe,Ae,r),T.X);Fe||(xt=(vt=Me.getState()).onError)==null||xt.call(vt,"010",N.error010());const wt=Qe=>{const{defaultEdgeOptions:$e,onConnect:ct,hasDefaultEdges:Tt}=Me.getState(),Xt=Rt(Rt({},$e),Qe);if(Tt){const{edges:Ut,setEdges:Ue}=Me.getState();Ue(hn(Xt,Ut))}ct==null||ct(Xt),R==null||R(Xt)},at=Qe=>{if(!Fe)return;const $e=Y(Qe);y&&($e&&Qe.button===0||!$e)&&me({event:Qe,handleId:Ae,nodeId:Fe,onConnect:wt,isTarget:Ne,getState:Me.getState,setState:Me.setState,isValidConnection:d||Me.getState().isValidConnection||nt}),$e?S==null||S(Qe):z==null||z(Qe)},It=Qe=>{const{onClickConnectStart:$e,onClickConnectEnd:ct,connectionClickStartHandle:Tt,connectionMode:Xt,isValidConnection:Ut}=Me.getState();if(!Fe||!Tt&&!y)return;if(!Tt){$e==null||$e(Qe,{nodeId:Fe,handleId:Ae,handleType:r}),Me.setState({connectionClickStartHandle:{nodeId:Fe,type:r,handleId:Ae}});return}const Ue=_e(Qe.target),Pt=d||Ut||nt,{connection:ot,isValid:Mt}=er({nodeId:Fe,id:Ae,type:r},Xt,Tt.nodeId,Tt.handleId||null,Tt.type,Pt,Ue);Mt&&wt(ot),ct==null||ct(Qe),Me.setState({connectionClickStartHandle:null})};return i.createElement("div",Rt({"data-handleid":Ae,"data-nodeid":Fe,"data-handlepos":c,"data-id":`${Fe}-${Ae}-${r}`,className:(0,O.Z)(["react-flow__handle",`react-flow__handle-${c}`,"nodrag",ft,v,{source:!Ne,target:Ne,connectable:m,connectablestart:y,connectableend:D,connecting:Dt,connectionindicator:m&&(y&&!pt||D&&pt)}]),onMouseDown:at,onTouchStart:at,onClick:ut?It:void 0,ref:ne},fe),h)});lt.displayName="Handle";var kt=(0,i.memo)(lt);const At=({data:r,isConnectable:c,targetPosition:d=ye.Top,sourcePosition:m=ye.Bottom})=>i.createElement(i.Fragment,null,i.createElement(kt,{type:"target",position:d,isConnectable:c}),r==null?void 0:r.label,i.createElement(kt,{type:"source",position:m,isConnectable:c}));At.displayName="DefaultNode";var Ht=(0,i.memo)(At);const sn=({data:r,isConnectable:c,sourcePosition:d=ye.Bottom})=>i.createElement(i.Fragment,null,r==null?void 0:r.label,i.createElement(kt,{type:"source",position:d,isConnectable:c}));sn.displayName="InputNode";var xn=(0,i.memo)(sn);const Yn=({data:r,isConnectable:c,targetPosition:d=ye.Top})=>i.createElement(i.Fragment,null,i.createElement(kt,{type:"target",position:d,isConnectable:c}),r==null?void 0:r.label);Yn.displayName="OutputNode";var pr=(0,i.memo)(Yn);const Jn=()=>null;Jn.displayName="GroupNode";const Qn=r=>({selectedNodes:r.getNodes().filter(c=>c.selected),selectedEdges:r.edges.filter(c=>c.selected).map(c=>Rt({},c))}),Ur=r=>r.id;function Uo(r,c){return(0,T.X)(r.selectedNodes.map(Ur),c.selectedNodes.map(Ur))&&(0,T.X)(r.selectedEdges.map(Ur),c.selectedEdges.map(Ur))}const zo=(0,i.memo)(({onSelectionChange:r})=>{const c=he(),{selectedNodes:d,selectedEdges:m}=G(Qn,Uo);return(0,i.useEffect)(()=>{const y={nodes:d,edges:m};r==null||r(y),c.getState().onSelectionChange.forEach(D=>D(y))},[d,m,r]),null});zo.displayName="SelectionListener";const zr=r=>!!r.onSelectionChange;function Jr({onSelectionChange:r}){const c=G(zr);return r||c?i.createElement(zo,{onSelectionChange:r}):null}const Vo=r=>({setNodes:r.setNodes,setEdges:r.setEdges,setDefaultNodesAndEdges:r.setDefaultNodesAndEdges,setMinZoom:r.setMinZoom,setMaxZoom:r.setMaxZoom,setTranslateExtent:r.setTranslateExtent,setNodeExtent:r.setNodeExtent,reset:r.reset});function Ir(r,c){(0,i.useEffect)(()=>{typeof r!="undefined"&&c(r)},[r])}function un(r,c,d){(0,i.useEffect)(()=>{typeof c!="undefined"&&d({[r]:c})},[c])}const Mi=({nodes:r,edges:c,defaultNodes:d,defaultEdges:m,onConnect:y,onConnectStart:D,onConnectEnd:A,onClickConnectStart:R,onClickConnectEnd:h,nodesDraggable:v,nodesConnectable:S,nodesFocusable:z,edgesFocusable:fe,edgesUpdatable:ne,elevateNodesOnSelect:Te,minZoom:le,maxZoom:Ae,nodeExtent:Ne,onNodesChange:Me,onEdgesChange:Fe,elementsSelectable:ut,connectionMode:ft,snapGrid:pt,snapToGrid:Dt,translateExtent:wt,connectOnClick:at,defaultEdgeOptions:It,fitView:vt,fitViewOptions:xt,onNodesDelete:Qe,onEdgesDelete:$e,onNodeDrag:ct,onNodeDragStart:Tt,onNodeDragStop:Xt,onSelectionDrag:Ut,onSelectionDragStart:Ue,onSelectionDragStop:Pt,noPanClassName:ot,nodeOrigin:Mt,rfId:Yt,autoPanOnConnect:ln,autoPanOnNodeDrag:En,onError:Rn,connectionRadius:Hn,isValidConnection:nr,nodeDragThreshold:ar})=>{const{setNodes:cr,setEdges:gr,setDefaultNodesAndEdges:Kn,setMinZoom:no,setMaxZoom:jr,setTranslateExtent:Gn,setNodeExtent:xo,reset:Vn}=G(Vo,T.X),Bt=he();return(0,i.useEffect)(()=>{const Cr=m==null?void 0:m.map(No=>Rt(Rt({},No),It));return Kn(d,Cr),()=>{Vn()}},[]),un("defaultEdgeOptions",It,Bt.setState),un("connectionMode",ft,Bt.setState),un("onConnect",y,Bt.setState),un("onConnectStart",D,Bt.setState),un("onConnectEnd",A,Bt.setState),un("onClickConnectStart",R,Bt.setState),un("onClickConnectEnd",h,Bt.setState),un("nodesDraggable",v,Bt.setState),un("nodesConnectable",S,Bt.setState),un("nodesFocusable",z,Bt.setState),un("edgesFocusable",fe,Bt.setState),un("edgesUpdatable",ne,Bt.setState),un("elementsSelectable",ut,Bt.setState),un("elevateNodesOnSelect",Te,Bt.setState),un("snapToGrid",Dt,Bt.setState),un("snapGrid",pt,Bt.setState),un("onNodesChange",Me,Bt.setState),un("onEdgesChange",Fe,Bt.setState),un("connectOnClick",at,Bt.setState),un("fitViewOnInit",vt,Bt.setState),un("fitViewOnInitOptions",xt,Bt.setState),un("onNodesDelete",Qe,Bt.setState),un("onEdgesDelete",$e,Bt.setState),un("onNodeDrag",ct,Bt.setState),un("onNodeDragStart",Tt,Bt.setState),un("onNodeDragStop",Xt,Bt.setState),un("onSelectionDrag",Ut,Bt.setState),un("onSelectionDragStart",Ue,Bt.setState),un("onSelectionDragStop",Pt,Bt.setState),un("noPanClassName",ot,Bt.setState),un("nodeOrigin",Mt,Bt.setState),un("rfId",Yt,Bt.setState),un("autoPanOnConnect",ln,Bt.setState),un("autoPanOnNodeDrag",En,Bt.setState),un("onError",Rn,Bt.setState),un("connectionRadius",Hn,Bt.setState),un("isValidConnection",nr,Bt.setState),un("nodeDragThreshold",ar,Bt.setState),Ir(r,cr),Ir(c,gr),Ir(le,no),Ir(Ae,jr),Ir(wt,Gn),Ir(Ne,xo),null},ni={display:"none"},Fo={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Ni="react-flow__node-desc",ri="react-flow__edge-desc",lo="react-flow__aria-live",es=r=>r.ariaLiveMessage;function Di({rfId:r}){const c=G(es);return i.createElement("div",{id:`${lo}-${r}`,"aria-live":"assertive","aria-atomic":"true",style:Fo},c)}function Pi({rfId:r,disableKeyboardA11y:c}){return i.createElement(i.Fragment,null,i.createElement("div",{id:`${Ni}-${r}`,style:ni},"Press enter or space to select a node.",!c&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),i.createElement("div",{id:`${ri}-${r}`,style:ni},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!c&&i.createElement(Di,{rfId:r}))}var Tr=(r=null,c={actInsideInputWithModifier:!0})=>{const[d,m]=(0,i.useState)(!1),y=(0,i.useRef)(!1),D=(0,i.useRef)(new Set([])),[A,R]=(0,i.useMemo)(()=>{if(r!==null){const v=(Array.isArray(r)?r:[r]).filter(z=>typeof z=="string").map(z=>z.split("+")),S=v.reduce((z,fe)=>z.concat(...fe),[]);return[v,S]}return[[],[]]},[r]);return(0,i.useEffect)(()=>{const h=typeof document!="undefined"?document:null,v=(c==null?void 0:c.target)||h;if(r!==null){const S=ne=>{if(y.current=ne.ctrlKey||ne.metaKey||ne.shiftKey,(!y.current||y.current&&!c.actInsideInputWithModifier)&&Ct(ne))return!1;const le=oi(ne.code,R);D.current.add(ne[le]),Ri(A,D.current,!1)&&(ne.preventDefault(),m(!0))},z=ne=>{if((!y.current||y.current&&!c.actInsideInputWithModifier)&&Ct(ne))return!1;const le=oi(ne.code,R);Ri(A,D.current,!0)?(m(!1),D.current.clear()):D.current.delete(ne[le]),ne.key==="Meta"&&D.current.clear(),y.current=!1},fe=()=>{D.current.clear(),m(!1)};return v==null||v.addEventListener("keydown",S),v==null||v.addEventListener("keyup",z),window.addEventListener("blur",fe),()=>{v==null||v.removeEventListener("keydown",S),v==null||v.removeEventListener("keyup",z),window.removeEventListener("blur",fe)}}},[r,m]),d};function Ri(r,c,d){return r.filter(m=>d||m.length===c.size).some(m=>m.every(y=>c.has(y)))}function oi(r,c){return c.includes(r)?"code":"key"}function Li(r,c,d,m){var R,h,v,S,z,fe,ne,Te;const y=r.parentNode||r.parentId;if(!y)return d;const D=c.get(y),A=Et(D,m);return Li(D,c,{x:((R=d.x)!=null?R:0)+A.x,y:((h=d.y)!=null?h:0)+A.y,z:((S=(v=D[Ee])==null?void 0:v.z)!=null?S:0)>((z=d.z)!=null?z:0)?(ne=(fe=D[Ee])==null?void 0:fe.z)!=null?ne:0:(Te=d.z)!=null?Te:0},m)}function Bi(r,c,d){r.forEach(m=>{var D,A;const y=m.parentNode||m.parentId;if(y&&!r.has(y))throw new Error(`Parent node ${y} not found`);if(y||d!=null&&d[m.id]){const{x:R,y:h,z:v}=Li(m,r,Fn(Rt({},m.position),{z:(A=(D=m[Ee])==null?void 0:D.z)!=null?A:0}),c);m.positionAbsolute={x:R,y:h},m[Ee].z=v,d!=null&&d[m.id]&&(m[Ee].isParent=!0)}})}function lr(r,c,d,m){const y=new Map,D={},A=m?1e3:0;return r.forEach(R=>{var ne;const h=(se(R.zIndex)?R.zIndex:0)+(R.selected?A:0),v=c.get(R.id),S=Fn(Rt({},R),{positionAbsolute:{x:R.position.x,y:R.position.y}}),z=R.parentNode||R.parentId;z&&(D[z]=!0);const fe=(v==null?void 0:v.type)&&(v==null?void 0:v.type)!==R.type;Object.defineProperty(S,Ee,{enumerable:!1,value:{handleBounds:fe||(ne=v==null?void 0:v[Ee])==null?void 0:ne.handleBounds,z:h}}),y.set(R.id,S)}),Bi(y,d,D),y}function uo(r,c={}){var Te,le,Ae;const{getNodes:d,width:m,height:y,minZoom:D,maxZoom:A,d3Zoom:R,d3Selection:h,fitViewOnInitDone:v,fitViewOnInit:S,nodeOrigin:z}=r(),fe=c.initial&&!v&&S;if(R&&h&&(fe||!c.initial)){const Ne=d().filter(Fe=>{var ft;const ut=c.includeHiddenNodes?Fe.width&&Fe.height:!Fe.hidden;return(ft=c.nodes)!=null&&ft.length?ut&&c.nodes.some(pt=>pt.id===Fe.id):ut}),Me=Ne.every(Fe=>Fe.width&&Fe.height);if(Ne.length>0&&Me){const Fe=st(Ne,z),{x:ut,y:ft,zoom:pt}=yr(Fe,m,y,(Te=c.minZoom)!=null?Te:D,(le=c.maxZoom)!=null?le:A,(Ae=c.padding)!=null?Ae:.1),Dt=x.CR.translate(ut,ft).scale(pt);return typeof c.duration=="number"&&c.duration>0?R.transform(hr(h,c.duration),Dt):R.transform(h,Dt),!0}}return!1}function ts(r,c){return r.forEach(d=>{const m=c.get(d.id);m&&c.set(m.id,Fn(Rt({},m),{[Ee]:m[Ee],selected:d.selected}))}),new Map(c)}function ii(r,c){return c.map(d=>{const m=r.find(y=>y.id===d.id);return m&&(d.selected=m.selected),d})}function To({changedNodes:r,changedEdges:c,get:d,set:m}){const{nodeInternals:y,edges:D,onNodesChange:A,onEdgesChange:R,hasDefaultNodes:h,hasDefaultEdges:v}=d();r!=null&&r.length&&(h&&m({nodeInternals:ts(r,y)}),A==null||A(r)),c!=null&&c.length&&(v&&m({edges:ii(c,D)}),R==null||R(c))}const Wn=()=>{},Ui={zoomIn:Wn,zoomOut:Wn,zoomTo:Wn,getZoom:()=>1,setViewport:Wn,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Wn,fitBounds:Wn,project:r=>r,screenToFlowPosition:r=>r,flowToScreenPosition:r=>r,viewportInitialized:!1},An=r=>({d3Zoom:r.d3Zoom,d3Selection:r.d3Selection}),fo=()=>{const r=he(),{d3Zoom:c,d3Selection:d}=G(An,T.X);return(0,i.useMemo)(()=>d&&c?{zoomIn:y=>c.scaleBy(hr(d,y==null?void 0:y.duration),1.2),zoomOut:y=>c.scaleBy(hr(d,y==null?void 0:y.duration),1/1.2),zoomTo:(y,D)=>c.scaleTo(hr(d,D==null?void 0:D.duration),y),getZoom:()=>r.getState().transform[2],setViewport:(y,D)=>{var S,z,fe;const[A,R,h]=r.getState().transform,v=x.CR.translate((S=y.x)!=null?S:A,(z=y.y)!=null?z:R).scale((fe=y.zoom)!=null?fe:h);c.transform(hr(d,D==null?void 0:D.duration),v)},getViewport:()=>{const[y,D,A]=r.getState().transform;return{x:y,y:D,zoom:A}},fitView:y=>uo(r.getState,y),setCenter:(y,D,A)=>{const{width:R,height:h,maxZoom:v}=r.getState(),S=typeof(A==null?void 0:A.zoom)!="undefined"?A.zoom:v,z=R/2-y*S,fe=h/2-D*S,ne=x.CR.translate(z,fe).scale(S);c.transform(hr(d,A==null?void 0:A.duration),ne)},fitBounds:(y,D)=>{var Te;const{width:A,height:R,minZoom:h,maxZoom:v}=r.getState(),{x:S,y:z,zoom:fe}=yr(y,A,R,h,v,(Te=D==null?void 0:D.padding)!=null?Te:.1),ne=x.CR.translate(S,z).scale(fe);c.transform(hr(d,D==null?void 0:D.duration),ne)},project:y=>{const{transform:D,snapToGrid:A,snapGrid:R}=r.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),yt(y,D,A,R)},screenToFlowPosition:y=>{const{transform:D,snapToGrid:A,snapGrid:R,domNode:h}=r.getState();if(!h)return y;const{x:v,y:S}=h.getBoundingClientRect(),z={x:y.x-v,y:y.y-S};return yt(z,D,A,R)},flowToScreenPosition:y=>{const{transform:D,domNode:A}=r.getState();if(!A)return y;const{x:R,y:h}=A.getBoundingClientRect(),v=zt(y,D);return{x:v.x+R,y:v.y+h}},viewportInitialized:!0}:Ui,[c,d])};function ho(){const r=fo(),c=he(),d=(0,i.useCallback)(()=>c.getState().getNodes().map(le=>Rt({},le)),[]),m=(0,i.useCallback)(le=>c.getState().nodeInternals.get(le),[]),y=(0,i.useCallback)(()=>{const{edges:le=[]}=c.getState();return le.map(Ae=>Rt({},Ae))},[]),D=(0,i.useCallback)(le=>{const{edges:Ae=[]}=c.getState();return Ae.find(Ne=>Ne.id===le)},[]),A=(0,i.useCallback)(le=>{const{getNodes:Ae,setNodes:Ne,hasDefaultNodes:Me,onNodesChange:Fe}=c.getState(),ut=Ae(),ft=typeof le=="function"?le(ut):le;if(Me)Ne(ft);else if(Fe){const pt=ft.length===0?ut.map(Dt=>({type:"remove",id:Dt.id})):ft.map(Dt=>({item:Dt,type:"reset"}));Fe(pt)}},[]),R=(0,i.useCallback)(le=>{const{edges:Ae=[],setEdges:Ne,hasDefaultEdges:Me,onEdgesChange:Fe}=c.getState(),ut=typeof le=="function"?le(Ae):le;if(Me)Ne(ut);else if(Fe){const ft=ut.length===0?Ae.map(pt=>({type:"remove",id:pt.id})):ut.map(pt=>({item:pt,type:"reset"}));Fe(ft)}},[]),h=(0,i.useCallback)(le=>{const Ae=Array.isArray(le)?le:[le],{getNodes:Ne,setNodes:Me,hasDefaultNodes:Fe,onNodesChange:ut}=c.getState();if(Fe){const pt=[...Ne(),...Ae];Me(pt)}else if(ut){const ft=Ae.map(pt=>({item:pt,type:"add"}));ut(ft)}},[]),v=(0,i.useCallback)(le=>{const Ae=Array.isArray(le)?le:[le],{edges:Ne=[],setEdges:Me,hasDefaultEdges:Fe,onEdgesChange:ut}=c.getState();if(Fe)Me([...Ne,...Ae]);else if(ut){const ft=Ae.map(pt=>({item:pt,type:"add"}));ut(ft)}},[]),S=(0,i.useCallback)(()=>{const{getNodes:le,edges:Ae=[],transform:Ne}=c.getState(),[Me,Fe,ut]=Ne;return{nodes:le().map(ft=>Rt({},ft)),edges:Ae.map(ft=>Rt({},ft)),viewport:{x:Me,y:Fe,zoom:ut}}},[]),z=(0,i.useCallback)(({nodes:le,edges:Ae})=>{const{nodeInternals:Ne,getNodes:Me,edges:Fe,hasDefaultNodes:ut,hasDefaultEdges:ft,onNodesDelete:pt,onEdgesDelete:Dt,onNodesChange:wt,onEdgesChange:at}=c.getState(),It=(le||[]).map(ct=>ct.id),vt=(Ae||[]).map(ct=>ct.id),xt=Me().reduce((ct,Tt)=>{const Xt=Tt.parentNode||Tt.parentId,Ut=!It.includes(Tt.id)&&Xt&&ct.find(Pt=>Pt.id===Xt);return(typeof Tt.deletable=="boolean"?Tt.deletable:!0)&&(It.includes(Tt.id)||Ut)&&ct.push(Tt),ct},[]),Qe=Fe.filter(ct=>typeof ct.deletable=="boolean"?ct.deletable:!0),$e=Qe.filter(ct=>vt.includes(ct.id));if(xt||$e){const ct=fr(xt,Qe),Tt=[...$e,...ct],Xt=Tt.reduce((Ut,Ue)=>(Ut.includes(Ue.id)||Ut.push(Ue.id),Ut),[]);if((ft||ut)&&(ft&&c.setState({edges:Fe.filter(Ut=>!Xt.includes(Ut.id))}),ut&&(xt.forEach(Ut=>{Ne.delete(Ut.id)}),c.setState({nodeInternals:new Map(Ne)}))),Xt.length>0&&(Dt==null||Dt(Tt),at&&at(Xt.map(Ut=>({id:Ut,type:"remove"})))),xt.length>0&&(pt==null||pt(xt),wt)){const Ut=xt.map(Ue=>({id:Ue.id,type:"remove"}));wt(Ut)}}},[]),fe=(0,i.useCallback)(le=>{const Ae=H(le),Ne=Ae?null:c.getState().nodeInternals.get(le.id);return!Ae&&!Ne?[null,null,Ae]:[Ae?le:Ce(Ne),Ne,Ae]},[]),ne=(0,i.useCallback)((le,Ae=!0,Ne)=>{const[Me,Fe,ut]=fe(le);return Me?(Ne||c.getState().getNodes()).filter(ft=>{if(!ut&&(ft.id===Fe.id||!ft.positionAbsolute))return!1;const pt=Ce(ft),Dt=je(pt,Me);return Ae&&Dt>0||Dt>=Me.width*Me.height}):[]},[]),Te=(0,i.useCallback)((le,Ae,Ne=!0)=>{const[Me]=fe(le);if(!Me)return!1;const Fe=je(Me,Ae);return Ne&&Fe>0||Fe>=Me.width*Me.height},[]);return(0,i.useMemo)(()=>Fn(Rt({},r),{getNodes:d,getNode:m,getEdges:y,getEdge:D,setNodes:A,setEdges:R,addNodes:h,addEdges:v,toObject:S,deleteElements:z,getIntersectingNodes:ne,isNodeIntersecting:Te}),[r,d,m,y,D,A,R,h,v,S,z,ne,Te])}const si={actInsideInputWithModifier:!1};var ns=({deleteKeyCode:r,multiSelectionKeyCode:c})=>{const d=he(),{deleteElements:m}=ho(),y=Tr(r,si),D=Tr(c);(0,i.useEffect)(()=>{if(y){const{edges:A,getNodes:R}=d.getState(),h=R().filter(S=>S.selected),v=A.filter(S=>S.selected);m({nodes:h,edges:v}),d.setState({nodesSelectionActive:!1})}},[y]),(0,i.useEffect)(()=>{d.setState({multiSelectionActive:D})},[D])};function rs(r){const c=he();(0,i.useEffect)(()=>{let d;const m=()=>{var D,A;if(!r.current)return;const y=oe(r.current);(y.height===0||y.width===0)&&((A=(D=c.getState()).onError)==null||A.call(D,"004",N.error004())),c.setState({width:y.width||500,height:y.height||500})};return m(),window.addEventListener("resize",m),r.current&&(d=new ResizeObserver(()=>m()),d.observe(r.current)),()=>{window.removeEventListener("resize",m),d&&r.current&&d.unobserve(r.current)}},[])}const jo={position:"absolute",width:"100%",height:"100%",top:0,left:0},os=(r,c)=>r.x!==c.x||r.y!==c.y||r.zoom!==c.k,po=r=>({x:r.x,y:r.y,zoom:r.k}),vn=(r,c)=>r.target.closest(`.${c}`),Qr=(r,c)=>c===2&&Array.isArray(r)&&r.includes(2),Ao=r=>{const c=r.ctrlKey&&ve()?10:1;return-r.deltaY*(r.deltaMode===1?.05:r.deltaMode?1:.002)*c},go=r=>({d3Zoom:r.d3Zoom,d3Selection:r.d3Selection,d3ZoomHandler:r.d3ZoomHandler,userSelectionActive:r.userSelectionActive}),ai=({onMove:r,onMoveStart:c,onMoveEnd:d,onPaneContextMenu:m,zoomOnScroll:y=!0,zoomOnPinch:D=!0,panOnScroll:A=!1,panOnScrollSpeed:R=.5,panOnScrollMode:h=Ie.Free,zoomOnDoubleClick:v=!0,elementsSelectable:S,panOnDrag:z=!0,defaultViewport:fe,translateExtent:ne,minZoom:Te,maxZoom:le,zoomActivationKeyCode:Ae,preventScrolling:Ne=!0,children:Me,noWheelClassName:Fe,noPanClassName:ut})=>{const ft=(0,i.useRef)(),pt=he(),Dt=(0,i.useRef)(!1),wt=(0,i.useRef)(!1),at=(0,i.useRef)(null),It=(0,i.useRef)({x:0,y:0,zoom:0}),{d3Zoom:vt,d3Selection:xt,d3ZoomHandler:Qe,userSelectionActive:$e}=G(go,T.X),ct=Tr(Ae),Tt=(0,i.useRef)(0),Xt=(0,i.useRef)(!1),Ut=(0,i.useRef)();return rs(at),(0,i.useEffect)(()=>{if(at.current){const Ue=at.current.getBoundingClientRect(),Pt=(0,x.sP)().scaleExtent([Te,le]).translateExtent(ne),ot=(0,b.Z)(at.current).call(Pt),Mt=x.CR.translate(fe.x,fe.y).scale($(fe.zoom,Te,le)),Yt=[[0,0],[Ue.width,Ue.height]],ln=Pt.constrain()(Mt,Yt,ne);Pt.transform(ot,ln),Pt.wheelDelta(Ao),pt.setState({d3Zoom:Pt,d3Selection:ot,d3ZoomHandler:ot.on("wheel.zoom"),transform:[ln.x,ln.y,ln.k],domNode:at.current.closest(".react-flow")})}},[]),(0,i.useEffect)(()=>{xt&&vt&&(A&&!ct&&!$e?xt.on("wheel.zoom",Ue=>{if(vn(Ue,Fe))return!1;Ue.preventDefault(),Ue.stopImmediatePropagation();const Pt=xt.property("__zoom").k||1;if(Ue.ctrlKey&&D){const nr=(0,p.Z)(Ue),ar=Ao(Ue),cr=Pt*Math.pow(2,ar);vt.scaleTo(xt,cr,nr,Ue);return}const ot=Ue.deltaMode===1?20:1;let Mt=h===Ie.Vertical?0:Ue.deltaX*ot,Yt=h===Ie.Horizontal?0:Ue.deltaY*ot;!ve()&&Ue.shiftKey&&h!==Ie.Vertical&&(Mt=Ue.deltaY*ot,Yt=0),vt.translateBy(xt,-(Mt/Pt)*R,-(Yt/Pt)*R,{internal:!0});const ln=po(xt.property("__zoom")),{onViewportChangeStart:En,onViewportChange:Rn,onViewportChangeEnd:Hn}=pt.getState();clearTimeout(Ut.current),Xt.current||(Xt.current=!0,c==null||c(Ue,ln),En==null||En(ln)),Xt.current&&(r==null||r(Ue,ln),Rn==null||Rn(ln),Ut.current=setTimeout(()=>{d==null||d(Ue,ln),Hn==null||Hn(ln),Xt.current=!1},150))},{passive:!1}):typeof Qe!="undefined"&&xt.on("wheel.zoom",function(Ue,Pt){if(!Ne&&Ue.type==="wheel"&&!Ue.ctrlKey||vn(Ue,Fe))return null;Ue.preventDefault(),Qe.call(this,Ue,Pt)},{passive:!1}))},[$e,A,h,xt,vt,Qe,ct,D,Ne,Fe,c,r,d]),(0,i.useEffect)(()=>{vt&&vt.on("start",Ue=>{var Mt,Yt;if(!Ue.sourceEvent||Ue.sourceEvent.internal)return null;Tt.current=(Mt=Ue.sourceEvent)==null?void 0:Mt.button;const{onViewportChangeStart:Pt}=pt.getState(),ot=po(Ue.transform);Dt.current=!0,It.current=ot,((Yt=Ue.sourceEvent)==null?void 0:Yt.type)==="mousedown"&&pt.setState({paneDragging:!0}),Pt==null||Pt(ot),c==null||c(Ue.sourceEvent,ot)})},[vt,c]),(0,i.useEffect)(()=>{vt&&($e&&!Dt.current?vt.on("zoom",null):$e||vt.on("zoom",Ue=>{var ot,Mt;const{onViewportChange:Pt}=pt.getState();if(pt.setState({transform:[Ue.transform.x,Ue.transform.y,Ue.transform.k]}),wt.current=!!(m&&Qr(z,(ot=Tt.current)!=null?ot:0)),(r||Pt)&&!((Mt=Ue.sourceEvent)!=null&&Mt.internal)){const Yt=po(Ue.transform);Pt==null||Pt(Yt),r==null||r(Ue.sourceEvent,Yt)}}))},[$e,vt,r,z,m]),(0,i.useEffect)(()=>{vt&&vt.on("end",Ue=>{var ot;if(!Ue.sourceEvent||Ue.sourceEvent.internal)return null;const{onViewportChangeEnd:Pt}=pt.getState();if(Dt.current=!1,pt.setState({paneDragging:!1}),m&&Qr(z,(ot=Tt.current)!=null?ot:0)&&!wt.current&&m(Ue.sourceEvent),wt.current=!1,(d||Pt)&&os(It.current,Ue.transform)){const Mt=po(Ue.transform);It.current=Mt,clearTimeout(ft.current),ft.current=setTimeout(()=>{Pt==null||Pt(Mt),d==null||d(Ue.sourceEvent,Mt)},A?150:0)}})},[vt,A,z,d,m]),(0,i.useEffect)(()=>{vt&&vt.filter(Ue=>{const Pt=ct||y,ot=D&&Ue.ctrlKey;if((z===!0||Array.isArray(z)&&z.includes(1))&&Ue.button===1&&Ue.type==="mousedown"&&(vn(Ue,"react-flow__node")||vn(Ue,"react-flow__edge")))return!0;if(!z&&!Pt&&!A&&!v&&!D||$e||!v&&Ue.type==="dblclick"||vn(Ue,Fe)&&Ue.type==="wheel"||vn(Ue,ut)&&(Ue.type!=="wheel"||A&&Ue.type==="wheel"&&!ct)||!D&&Ue.ctrlKey&&Ue.type==="wheel"||!Pt&&!A&&!ot&&Ue.type==="wheel"||!z&&(Ue.type==="mousedown"||Ue.type==="touchstart")||Array.isArray(z)&&!z.includes(Ue.button)&&Ue.type==="mousedown")return!1;const Mt=Array.isArray(z)&&z.includes(Ue.button)||!Ue.button||Ue.button<=1;return(!Ue.ctrlKey||Ue.type==="wheel")&&Mt})},[$e,vt,y,D,A,v,z,S,ct]),i.createElement("div",{className:"react-flow__renderer",ref:at,style:jo},Me)},Zo=r=>({userSelectionActive:r.userSelectionActive,userSelectionRect:r.userSelectionRect});function qr(){const{userSelectionActive:r,userSelectionRect:c}=G(Zo,T.X);return r&&c?i.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:c.width,height:c.height,transform:`translate(${c.x}px, ${c.y}px)`}}):null}function Ho(r,c){var y,D;const d=c.parentNode||c.parentId,m=r.find(A=>A.id===d);if(m){const A=c.position.x+c.width-m.width,R=c.position.y+c.height-m.height;if(A>0||R>0||c.position.x<0||c.position.y<0){if(m.style=Rt({},m.style)||{},m.style.width=(y=m.style.width)!=null?y:m.width,m.style.height=(D=m.style.height)!=null?D:m.height,A>0&&(m.style.width+=A),R>0&&(m.style.height+=R),c.position.x<0){const h=Math.abs(c.position.x);m.position.x=m.position.x-h,m.style.width+=h,c.position.x=0}if(c.position.y<0){const h=Math.abs(c.position.y);m.position.y=m.position.y-h,m.style.height+=h,c.position.y=0}m.width=m.style.width,m.height=m.style.height}}}function ci(r,c){if(r.some(m=>m.type==="reset"))return r.filter(m=>m.type==="reset").map(m=>m.item);const d=r.filter(m=>m.type==="add").map(m=>m.item);return c.reduce((m,y)=>{const D=r.filter(R=>R.id===y.id);if(D.length===0)return m.push(y),m;const A=Rt({},y);for(const R of D)if(R)switch(R.type){case"select":{A.selected=R.selected;break}case"position":{typeof R.position!="undefined"&&(A.position=R.position),typeof R.positionAbsolute!="undefined"&&(A.positionAbsolute=R.positionAbsolute),typeof R.dragging!="undefined"&&(A.dragging=R.dragging),A.expandParent&&Ho(m,A);break}case"dimensions":{typeof R.dimensions!="undefined"&&(A.width=R.dimensions.width,A.height=R.dimensions.height),typeof R.updateStyle!="undefined"&&(A.style=Rt(Rt({},A.style||{}),R.dimensions)),typeof R.resizing=="boolean"&&(A.resizing=R.resizing),A.expandParent&&Ho(m,A);break}case"remove":return m}return m.push(A),m},d)}function li(r,c){return ci(r,c)}function eo(r,c){return ci(r,c)}const Un=(r,c)=>({id:r,type:"select",selected:c});function Ar(r,c){return r.reduce((d,m)=>{const y=c.includes(m.id);return!m.selected&&y?(m.selected=!0,d.push(Un(m.id,!0))):m.selected&&!y&&(m.selected=!1,d.push(Un(m.id,!1))),d},[])}const $o=(r,c)=>d=>{d.target===c.current&&(r==null||r(d))},ui=r=>({userSelectionActive:r.userSelectionActive,elementsSelectable:r.elementsSelectable,dragging:r.paneDragging}),di=(0,i.memo)(({isSelecting:r,selectionMode:c=De.Full,panOnDrag:d,onSelectionStart:m,onSelectionEnd:y,onPaneClick:D,onPaneContextMenu:A,onPaneScroll:R,onPaneMouseEnter:h,onPaneMouseMove:v,onPaneMouseLeave:S,children:z})=>{const fe=(0,i.useRef)(null),ne=he(),Te=(0,i.useRef)(0),le=(0,i.useRef)(0),Ae=(0,i.useRef)(),{userSelectionActive:Ne,elementsSelectable:Me,dragging:Fe}=G(ui,T.X),ut=()=>{ne.setState({userSelectionActive:!1,userSelectionRect:null}),Te.current=0,le.current=0},ft=Qe=>{D==null||D(Qe),ne.getState().resetSelectedElements(),ne.setState({nodesSelectionActive:!1})},pt=Qe=>{if(Array.isArray(d)&&(d!=null&&d.includes(2))){Qe.preventDefault();return}A==null||A(Qe)},Dt=R?Qe=>R(Qe):void 0,wt=Qe=>{const{resetSelectedElements:$e,domNode:ct}=ne.getState();if(Ae.current=ct==null?void 0:ct.getBoundingClientRect(),!Me||!r||Qe.button!==0||Qe.target!==fe.current||!Ae.current)return;const{x:Tt,y:Xt}=ge(Qe,Ae.current);$e(),ne.setState({userSelectionRect:{width:0,height:0,startX:Tt,startY:Xt,x:Tt,y:Xt}}),m==null||m(Qe)},at=Qe=>{var cr,gr;const{userSelectionRect:$e,nodeInternals:ct,edges:Tt,transform:Xt,onNodesChange:Ut,onEdgesChange:Ue,nodeOrigin:Pt,getNodes:ot}=ne.getState();if(!r||!Ae.current||!$e)return;ne.setState({userSelectionActive:!0,nodesSelectionActive:!1});const Mt=ge(Qe,Ae.current),Yt=(cr=$e.startX)!=null?cr:0,ln=(gr=$e.startY)!=null?gr:0,En=Fn(Rt({},$e),{x:Mt.x<Yt?Mt.x:Yt,y:Mt.y<ln?Mt.y:ln,width:Math.abs(Mt.x-Yt),height:Math.abs(Mt.y-ln)}),Rn=ot(),Hn=Kt(ct,En,Xt,c===De.Partial,!0,Pt),nr=fr(Hn,Tt).map(Kn=>Kn.id),ar=Hn.map(Kn=>Kn.id);if(Te.current!==ar.length){Te.current=ar.length;const Kn=Ar(Rn,ar);Kn.length&&(Ut==null||Ut(Kn))}if(le.current!==nr.length){le.current=nr.length;const Kn=Ar(Tt,nr);Kn.length&&(Ue==null||Ue(Kn))}ne.setState({userSelectionRect:En})},It=Qe=>{if(Qe.button!==0)return;const{userSelectionRect:$e}=ne.getState();!Ne&&$e&&Qe.target===fe.current&&(ft==null||ft(Qe)),ne.setState({nodesSelectionActive:Te.current>0}),ut(),y==null||y(Qe)},vt=Qe=>{Ne&&(ne.setState({nodesSelectionActive:Te.current>0}),y==null||y(Qe)),ut()},xt=Me&&(r||Ne);return i.createElement("div",{className:(0,O.Z)(["react-flow__pane",{dragging:Fe,selection:r}]),onClick:xt?void 0:$o(ft,fe),onContextMenu:$o(pt,fe),onWheel:$o(Dt,fe),onMouseEnter:xt?void 0:h,onMouseDown:xt?wt:void 0,onMouseMove:xt?at:v,onMouseUp:xt?It:void 0,onMouseLeave:xt?vt:S,ref:fe,style:jo},z,i.createElement(qr,null))});di.displayName="Pane";function zi(r,c){const d=r.parentNode||r.parentId;if(!d)return!1;const m=c.get(d);return m?m.selected?!0:zi(m,c):!1}function Wo(r,c,d){let m=r;do{if(m!=null&&m.matches(c))return!0;if(m===d.current)return!1;m=m.parentElement}while(m);return!1}function Vi(r,c,d,m){return Array.from(r.values()).filter(y=>(y.selected||y.id===m)&&(!y.parentNode||y.parentId||!zi(y,r))&&(y.draggable||c&&typeof y.draggable=="undefined")).map(y=>{var D,A,R,h;return{id:y.id,position:y.position||{x:0,y:0},positionAbsolute:y.positionAbsolute||{x:0,y:0},distance:{x:d.x-((A=(D=y.positionAbsolute)==null?void 0:D.x)!=null?A:0),y:d.y-((h=(R=y.positionAbsolute)==null?void 0:R.y)!=null?h:0)},delta:{x:0,y:0},extent:y.extent,parentNode:y.parentNode||y.parentId,parentId:y.parentNode||y.parentId,width:y.width,height:y.height,expandParent:y.expandParent}})}function mo(r,c){return!c||c==="parent"?c:[c[0],[c[1][0]-(r.width||0),c[1][1]-(r.height||0)]]}function Ko(r,c,d,m,y=[0,0],D){const A=mo(r,r.extent||m);let R=A;const h=r.parentNode||r.parentId;if(r.extent==="parent"&&!r.expandParent)if(h&&r.width&&r.height){const z=d.get(h),{x:fe,y:ne}=Et(z,y).positionAbsolute;R=z&&se(fe)&&se(ne)&&se(z.width)&&se(z.height)?[[fe+r.width*y[0],ne+r.height*y[1]],[fe+z.width-r.width+r.width*y[0],ne+z.height-r.height+r.height*y[1]]]:R}else D==null||D("005",N.error005()),R=A;else if(r.extent&&h&&r.extent!=="parent"){const z=d.get(h),{x:fe,y:ne}=Et(z,y).positionAbsolute;R=[[r.extent[0][0]+fe,r.extent[0][1]+ne],[r.extent[1][0]+fe,r.extent[1][1]+ne]]}let v={x:0,y:0};if(h){const z=d.get(h);v=Et(z,y).positionAbsolute}const S=R&&R!=="parent"?Q(c,R):c;return{position:{x:S.x-v.x,y:S.y-v.y},positionAbsolute:S}}function fi({nodeId:r,dragItems:c,nodeInternals:d}){const m=c.map(y=>{const D=d.get(y.id);return Fn(Rt({},D),{position:y.position,positionAbsolute:y.positionAbsolute})});return[r?m.find(y=>y.id===r):m[0],m]}const Or=(r,c,d,m)=>{const y=c.querySelectorAll(r);if(!y||!y.length)return null;const D=Array.from(y),A=c.getBoundingClientRect(),R={x:A.width*m[0],y:A.height*m[1]};return D.map(h=>{const v=h.getBoundingClientRect();return Rt({id:h.getAttribute("data-handleid"),position:h.getAttribute("data-handlepos"),x:(v.left-A.left-R.x)/d,y:(v.top-A.top-R.y)/d},oe(h))})};function Vr(r,c,d){return d===void 0?d:m=>{const y=c().nodeInternals.get(r);y&&d(m,Rt({},y))}}function Kr({id:r,store:c,unselect:d=!1,nodeRef:m}){const{addSelectedNodes:y,unselectNodesAndEdges:D,multiSelectionActive:A,nodeInternals:R,onError:h}=c.getState(),v=R.get(r);if(!v){h==null||h("012",N.error012(r));return}c.setState({nodesSelectionActive:!1}),v.selected?(d||v.selected&&A)&&(D({nodes:[v],edges:[]}),requestAnimationFrame(()=>{var S;return(S=m==null?void 0:m.current)==null?void 0:S.blur()})):y([r])}function Mr(){const r=he();return(0,i.useCallback)(({sourceEvent:d})=>{const{transform:m,snapGrid:y,snapToGrid:D}=r.getState(),A=d.touches?d.touches[0].clientX:d.clientX,R=d.touches?d.touches[0].clientY:d.clientY,h={x:(A-m[0])/m[2],y:(R-m[1])/m[2]};return Rt({xSnapped:D?y[0]*Math.round(h.x/y[0]):h.x,ySnapped:D?y[1]*Math.round(h.y/y[1]):h.y},h)},[])}function Go(r){return(c,d,m)=>r==null?void 0:r(c,m)}function Xo({nodeRef:r,disabled:c=!1,noDragClassName:d,handleSelector:m,nodeId:y,isSelectable:D,selectNodesOnDrag:A}){const R=he(),[h,v]=(0,i.useState)(!1),S=(0,i.useRef)([]),z=(0,i.useRef)({x:null,y:null}),fe=(0,i.useRef)(0),ne=(0,i.useRef)(null),Te=(0,i.useRef)({x:0,y:0}),le=(0,i.useRef)(null),Ae=(0,i.useRef)(!1),Ne=(0,i.useRef)(!1),Me=Mr();return(0,i.useEffect)(()=>{if(r!=null&&r.current){const Fe=(0,b.Z)(r.current),ut=({x:Dt,y:wt})=>{const{nodeInternals:at,onNodeDrag:It,onSelectionDrag:vt,updateNodePositions:xt,nodeExtent:Qe,snapGrid:$e,snapToGrid:ct,nodeOrigin:Tt,onError:Xt}=R.getState();z.current={x:Dt,y:wt};let Ut=!1,Ue={x:0,y:0,x2:0,y2:0};if(S.current.length>1&&Qe){const ot=st(S.current,Tt);Ue=P(ot)}if(S.current=S.current.map(ot=>{var En,Rn;const Mt={x:Dt-ot.distance.x,y:wt-ot.distance.y};ct&&(Mt.x=$e[0]*Math.round(Mt.x/$e[0]),Mt.y=$e[1]*Math.round(Mt.y/$e[1]));const Yt=[[Qe[0][0],Qe[0][1]],[Qe[1][0],Qe[1][1]]];S.current.length>1&&Qe&&!ot.extent&&(Yt[0][0]=ot.positionAbsolute.x-Ue.x+Qe[0][0],Yt[1][0]=ot.positionAbsolute.x+((En=ot.width)!=null?En:0)-Ue.x2+Qe[1][0],Yt[0][1]=ot.positionAbsolute.y-Ue.y+Qe[0][1],Yt[1][1]=ot.positionAbsolute.y+((Rn=ot.height)!=null?Rn:0)-Ue.y2+Qe[1][1]);const ln=Ko(ot,Mt,at,Yt,Tt,Xt);return Ut=Ut||ot.position.x!==ln.position.x||ot.position.y!==ln.position.y,ot.position=ln.position,ot.positionAbsolute=ln.positionAbsolute,ot}),!Ut)return;xt(S.current,!0,!0),v(!0);const Pt=y?It:Go(vt);if(Pt&&le.current){const[ot,Mt]=fi({nodeId:y,dragItems:S.current,nodeInternals:at});Pt(le.current,ot,Mt)}},ft=()=>{var at,It;if(!ne.current)return;const[Dt,wt]=ie(Te.current,ne.current);if(Dt!==0||wt!==0){const{transform:vt,panBy:xt}=R.getState();z.current.x=((at=z.current.x)!=null?at:0)-Dt/vt[2],z.current.y=((It=z.current.y)!=null?It:0)-wt/vt[2],xt({x:Dt,y:wt})&&ut(z.current)}fe.current=requestAnimationFrame(ft)},pt=Dt=>{var Tt;const{nodeInternals:wt,multiSelectionActive:at,nodesDraggable:It,unselectNodesAndEdges:vt,onNodeDragStart:xt,onSelectionDragStart:Qe}=R.getState();Ne.current=!0;const $e=y?xt:Go(Qe);(!A||!D)&&!at&&y&&((Tt=wt.get(y))!=null&&Tt.selected||vt()),y&&D&&A&&Kr({id:y,store:R,nodeRef:r});const ct=Me(Dt);if(z.current=ct,S.current=Vi(wt,It,ct,y),$e&&S.current){const[Xt,Ut]=fi({nodeId:y,dragItems:S.current,nodeInternals:wt});$e(Dt.sourceEvent,Xt,Ut)}};if(c)Fe.on(".drag",null);else{const Dt=(0,w.Z)().on("start",wt=>{const{domNode:at,nodeDragThreshold:It}=R.getState();It===0&&pt(wt);const vt=Me(wt);z.current=vt,ne.current=(at==null?void 0:at.getBoundingClientRect())||null,Te.current=ge(wt.sourceEvent,ne.current)}).on("drag",wt=>{var xt,Qe,$e,ct;const at=Me(wt),{autoPanOnNodeDrag:It,nodeDragThreshold:vt}=R.getState();if(!Ae.current&&Ne.current&&It&&(Ae.current=!0,ft()),!Ne.current){const Tt=at.xSnapped-((Qe=(xt=z==null?void 0:z.current)==null?void 0:xt.x)!=null?Qe:0),Xt=at.ySnapped-((ct=($e=z==null?void 0:z.current)==null?void 0:$e.y)!=null?ct:0);Math.sqrt(Tt*Tt+Xt*Xt)>vt&&pt(wt)}(z.current.x!==at.xSnapped||z.current.y!==at.ySnapped)&&S.current&&Ne.current&&(le.current=wt.sourceEvent,Te.current=ge(wt.sourceEvent,ne.current),ut(at))}).on("end",wt=>{if(Ne.current&&(v(!1),Ae.current=!1,Ne.current=!1,cancelAnimationFrame(fe.current),S.current)){const{updateNodePositions:at,nodeInternals:It,onNodeDragStop:vt,onSelectionDragStop:xt}=R.getState(),Qe=y?vt:Go(xt);if(at(S.current,!1,!1),Qe){const[$e,ct]=fi({nodeId:y,dragItems:S.current,nodeInternals:It});Qe(wt.sourceEvent,$e,ct)}}}).filter(wt=>{const at=wt.target;return!wt.button&&(!d||!Wo(at,`.${d}`,r))&&(!m||Wo(at,m,r))});return Fe.call(Dt),()=>{Fe.on(".drag",null)}}}},[r,c,d,m,D,R,y,A,Me]),h}function hi(){const r=he();return(0,i.useCallback)(d=>{const{nodeInternals:m,nodeExtent:y,updateNodePositions:D,getNodes:A,snapToGrid:R,snapGrid:h,onError:v,nodesDraggable:S}=r.getState(),z=A().filter(Me=>Me.selected&&(Me.draggable||S&&typeof Me.draggable=="undefined")),fe=R?h[0]:5,ne=R?h[1]:5,Te=d.isShiftPressed?4:1,le=d.x*fe*Te,Ae=d.y*ne*Te,Ne=z.map(Me=>{if(Me.positionAbsolute){const Fe={x:Me.positionAbsolute.x+le,y:Me.positionAbsolute.y+Ae};R&&(Fe.x=h[0]*Math.round(Fe.x/h[0]),Fe.y=h[1]*Math.round(Fe.y/h[1]));const{positionAbsolute:ut,position:ft}=Ko(Me,Fe,m,y,void 0,v);Me.position=ft,Me.positionAbsolute=ut}return Me});D(Ne,!0,!1)},[])}const yo={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var wo=r=>{const c=({id:d,type:m,data:y,xPos:D,yPos:A,xPosOrigin:R,yPosOrigin:h,selected:v,onClick:S,onMouseEnter:z,onMouseMove:fe,onMouseLeave:ne,onContextMenu:Te,onDoubleClick:le,style:Ae,className:Ne,isDraggable:Me,isSelectable:Fe,isConnectable:ut,isFocusable:ft,selectNodesOnDrag:pt,sourcePosition:Dt,targetPosition:wt,hidden:at,resizeObserver:It,dragHandle:vt,zIndex:xt,isParent:Qe,noDragClassName:$e,noPanClassName:ct,initialized:Tt,disableKeyboardA11y:Xt,ariaLabel:Ut,rfId:Ue,hasHandleBounds:Pt})=>{const ot=he(),Mt=(0,i.useRef)(null),Yt=(0,i.useRef)(null),ln=(0,i.useRef)(Dt),En=(0,i.useRef)(wt),Rn=(0,i.useRef)(m),Hn=Fe||Me||S||z||fe||ne,nr=hi(),ar=Vr(d,ot.getState,z),cr=Vr(d,ot.getState,fe),gr=Vr(d,ot.getState,ne),Kn=Vr(d,ot.getState,Te),no=Vr(d,ot.getState,le),jr=Vn=>{const{nodeDragThreshold:Bt}=ot.getState();if(Fe&&(!pt||!Me||Bt>0)&&Kr({id:d,store:ot,nodeRef:Mt}),S){const Cr=ot.getState().nodeInternals.get(d);Cr&&S(Vn,Rt({},Cr))}},Gn=Vn=>{if(!Ct(Vn)&&!Xt)if(Ge.includes(Vn.key)&&Fe){const Bt=Vn.key==="Escape";Kr({id:d,store:ot,unselect:Bt,nodeRef:Mt})}else Me&&v&&Object.prototype.hasOwnProperty.call(yo,Vn.key)&&(ot.setState({ariaLiveMessage:`Moved selected node ${Vn.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~D}, y: ${~~A}`}),nr({x:yo[Vn.key].x,y:yo[Vn.key].y,isShiftPressed:Vn.shiftKey}))};(0,i.useEffect)(()=>()=>{Yt.current&&(It==null||It.unobserve(Yt.current),Yt.current=null)},[]),(0,i.useEffect)(()=>{if(Mt.current&&!at){const Vn=Mt.current;(!Tt||!Pt||Yt.current!==Vn)&&(Yt.current&&(It==null||It.unobserve(Yt.current)),It==null||It.observe(Vn),Yt.current=Vn)}},[at,Tt,Pt]),(0,i.useEffect)(()=>{const Vn=Rn.current!==m,Bt=ln.current!==Dt,Cr=En.current!==wt;Mt.current&&(Vn||Bt||Cr)&&(Vn&&(Rn.current=m),Bt&&(ln.current=Dt),Cr&&(En.current=wt),ot.getState().updateNodeDimensions([{id:d,nodeElement:Mt.current,forceUpdate:!0}]))},[d,m,Dt,wt]);const xo=Xo({nodeRef:Mt,disabled:at||!Me,noDragClassName:$e,handleSelector:vt,nodeId:d,isSelectable:Fe,selectNodesOnDrag:pt});return at?null:i.createElement("div",{className:(0,O.Z)(["react-flow__node",`react-flow__node-${m}`,{[ct]:Me},Ne,{selected:v,selectable:Fe,parent:Qe,dragging:xo}]),ref:Mt,style:Rt({zIndex:xt,transform:`translate(${R}px,${h}px)`,pointerEvents:Hn?"all":"none",visibility:Tt?"visible":"hidden"},Ae),"data-id":d,"data-testid":`rf__node-${d}`,onMouseEnter:ar,onMouseMove:cr,onMouseLeave:gr,onContextMenu:Kn,onClick:jr,onDoubleClick:no,onKeyDown:ft?Gn:void 0,tabIndex:ft?0:void 0,role:ft?"button":void 0,"aria-describedby":Xt?void 0:`${Ni}-${Ue}`,"aria-label":Ut},i.createElement(ze,{value:d},i.createElement(r,{id:d,data:y,type:m,xPos:D,yPos:A,selected:v,isConnectable:ut,sourcePosition:Dt,targetPosition:wt,dragging:xo,dragHandle:vt,zIndex:xt})))};return c.displayName="NodeWrapper",(0,i.memo)(c)};const Fi=r=>{const c=r.getNodes().filter(d=>d.selected);return Fn(Rt({},st(c,r.nodeOrigin)),{transformString:`translate(${r.transform[0]}px,${r.transform[1]}px) scale(${r.transform[2]})`,userSelectionActive:r.userSelectionActive})};function vo({onSelectionContextMenu:r,noPanClassName:c,disableKeyboardA11y:d}){const m=he(),{width:y,height:D,x:A,y:R,transformString:h,userSelectionActive:v}=G(Fi,T.X),S=hi(),z=(0,i.useRef)(null);if((0,i.useEffect)(()=>{var Te;d||(Te=z.current)==null||Te.focus({preventScroll:!0})},[d]),Xo({nodeRef:z}),v||!y||!D)return null;const fe=r?Te=>{const le=m.getState().getNodes().filter(Ae=>Ae.selected);r(Te,le)}:void 0,ne=Te=>{Object.prototype.hasOwnProperty.call(yo,Te.key)&&S({x:yo[Te.key].x,y:yo[Te.key].y,isShiftPressed:Te.shiftKey})};return i.createElement("div",{className:(0,O.Z)(["react-flow__nodesselection","react-flow__container",c]),style:{transform:h}},i.createElement("div",{ref:z,className:"react-flow__nodesselection-rect",onContextMenu:fe,tabIndex:d?void 0:-1,onKeyDown:d?void 0:ne,style:{width:y,height:D,top:R,left:A}}))}var is=(0,i.memo)(vo);const Fr=r=>r.nodesSelectionActive,bo=({children:r,onPaneClick:c,onPaneMouseEnter:d,onPaneMouseMove:m,onPaneMouseLeave:y,onPaneContextMenu:D,onPaneScroll:A,deleteKeyCode:R,onMove:h,onMoveStart:v,onMoveEnd:S,selectionKeyCode:z,selectionOnDrag:fe,selectionMode:ne,onSelectionStart:Te,onSelectionEnd:le,multiSelectionKeyCode:Ae,panActivationKeyCode:Ne,zoomActivationKeyCode:Me,elementsSelectable:Fe,zoomOnScroll:ut,zoomOnPinch:ft,panOnScroll:pt,panOnScrollSpeed:Dt,panOnScrollMode:wt,zoomOnDoubleClick:at,panOnDrag:It,defaultViewport:vt,translateExtent:xt,minZoom:Qe,maxZoom:$e,preventScrolling:ct,onSelectionContextMenu:Tt,noWheelClassName:Xt,noPanClassName:Ut,disableKeyboardA11y:Ue})=>{const Pt=G(Fr),ot=Tr(z),Mt=Tr(Ne),Yt=Mt||It,ln=Mt||pt,En=ot||fe&&Yt!==!0;return ns({deleteKeyCode:R,multiSelectionKeyCode:Ae}),i.createElement(ai,{onMove:h,onMoveStart:v,onMoveEnd:S,onPaneContextMenu:D,elementsSelectable:Fe,zoomOnScroll:ut,zoomOnPinch:ft,panOnScroll:ln,panOnScrollSpeed:Dt,panOnScrollMode:wt,zoomOnDoubleClick:at,panOnDrag:!ot&&Yt,defaultViewport:vt,translateExtent:xt,minZoom:Qe,maxZoom:$e,zoomActivationKeyCode:Me,preventScrolling:ct,noWheelClassName:Xt,noPanClassName:Ut},i.createElement(di,{onSelectionStart:Te,onSelectionEnd:le,onPaneClick:c,onPaneMouseEnter:d,onPaneMouseMove:m,onPaneMouseLeave:y,onPaneContextMenu:D,onPaneScroll:A,panOnDrag:Yt,isSelecting:!!En,selectionMode:ne},r,Pt&&i.createElement(is,{onSelectionContextMenu:Tt,noPanClassName:Ut,disableKeyboardA11y:Ue})))};bo.displayName="FlowRenderer";var ji=(0,i.memo)(bo);function to(r){return G((0,i.useCallback)(d=>r?Kt(d.nodeInternals,{x:0,y:0,width:d.width,height:d.height},d.transform,!0):d.getNodes(),[r]))}function Oo(r){const c={input:wo(r.input||xn),default:wo(r.default||Ht),output:wo(r.output||pr),group:wo(r.group||Jn)},d={},m=Object.keys(r).filter(y=>!["input","default","output","group"].includes(y)).reduce((y,D)=>(y[D]=wo(r[D]||Ht),y),d);return Rt(Rt({},c),m)}const ss=({x:r,y:c,width:d,height:m,origin:y})=>!d||!m?{x:r,y:c}:y[0]<0||y[1]<0||y[0]>1||y[1]>1?{x:r,y:c}:{x:r-d*y[0],y:c-m*y[1]},as=r=>({nodesDraggable:r.nodesDraggable,nodesConnectable:r.nodesConnectable,nodesFocusable:r.nodesFocusable,elementsSelectable:r.elementsSelectable,updateNodeDimensions:r.updateNodeDimensions,onError:r.onError}),pi=r=>{const{nodesDraggable:c,nodesConnectable:d,nodesFocusable:m,elementsSelectable:y,updateNodeDimensions:D,onError:A}=G(as,T.X),R=to(r.onlyRenderVisibleElements),h=(0,i.useRef)(),v=(0,i.useMemo)(()=>{if(typeof ResizeObserver=="undefined")return null;const S=new ResizeObserver(z=>{const fe=z.map(ne=>({id:ne.target.getAttribute("data-id"),nodeElement:ne.target,forceUpdate:!0}));D(fe)});return h.current=S,S},[]);return(0,i.useEffect)(()=>()=>{var S;(S=h==null?void 0:h.current)==null||S.disconnect()},[]),i.createElement("div",{className:"react-flow__nodes",style:jo},R.map(S=>{var ft,pt,Dt,wt,at,It,vt,xt;let z=S.type||"default";r.nodeTypes[z]||(A==null||A("003",N.error003(z)),z="default");const fe=r.nodeTypes[z]||r.nodeTypes.default,ne=!!(S.draggable||c&&typeof S.draggable=="undefined"),Te=!!(S.selectable||y&&typeof S.selectable=="undefined"),le=!!(S.connectable||d&&typeof S.connectable=="undefined"),Ae=!!(S.focusable||m&&typeof S.focusable=="undefined"),Ne=r.nodeExtent?Q(S.positionAbsolute,r.nodeExtent):S.positionAbsolute,Me=(ft=Ne==null?void 0:Ne.x)!=null?ft:0,Fe=(pt=Ne==null?void 0:Ne.y)!=null?pt:0,ut=ss({x:Me,y:Fe,width:(Dt=S.width)!=null?Dt:0,height:(wt=S.height)!=null?wt:0,origin:r.nodeOrigin});return i.createElement(fe,{key:S.id,id:S.id,className:S.className,style:S.style,type:z,data:S.data,sourcePosition:S.sourcePosition||ye.Bottom,targetPosition:S.targetPosition||ye.Top,hidden:S.hidden,xPos:Me,yPos:Fe,xPosOrigin:ut.x,yPosOrigin:ut.y,selectNodesOnDrag:r.selectNodesOnDrag,onClick:r.onNodeClick,onMouseEnter:r.onNodeMouseEnter,onMouseMove:r.onNodeMouseMove,onMouseLeave:r.onNodeMouseLeave,onContextMenu:r.onNodeContextMenu,onDoubleClick:r.onNodeDoubleClick,selected:!!S.selected,isDraggable:ne,isSelectable:Te,isConnectable:le,isFocusable:Ae,resizeObserver:v,dragHandle:S.dragHandle,zIndex:(It=(at=S[Ee])==null?void 0:at.z)!=null?It:0,isParent:!!((vt=S[Ee])!=null&&vt.isParent),noDragClassName:r.noDragClassName,noPanClassName:r.noPanClassName,initialized:!!S.width&&!!S.height,rfId:r.rfId,disableKeyboardA11y:r.disableKeyboardA11y,ariaLabel:S.ariaLabel,hasHandleBounds:!!((xt=S[Ee])!=null&&xt.handleBounds)})}))};pi.displayName="NodeRenderer";var cs=(0,i.memo)(pi);const On=(r,c,d)=>d===ye.Left?r-c:d===ye.Right?r+c:r,ls=(r,c,d)=>d===ye.Top?r-c:d===ye.Bottom?r+c:r,gi="react-flow__edgeupdater",a=({position:r,centerX:c,centerY:d,radius:m=10,onMouseDown:y,onMouseEnter:D,onMouseOut:A,type:R})=>i.createElement("circle",{onMouseDown:y,onMouseEnter:D,onMouseOut:A,className:(0,O.Z)([gi,`${gi}-${R}`]),cx:On(c,m,r),cy:ls(d,m,r),r:m,stroke:"transparent",fill:"transparent"}),g=()=>!0;var k=r=>{const c=({id:d,className:m,type:y,data:D,onClick:A,onEdgeDoubleClick:R,selected:h,animated:v,label:S,labelStyle:z,labelShowBg:fe,labelBgStyle:ne,labelBgPadding:Te,labelBgBorderRadius:le,style:Ae,source:Ne,target:Me,sourceX:Fe,sourceY:ut,targetX:ft,targetY:pt,sourcePosition:Dt,targetPosition:wt,elementsSelectable:at,hidden:It,sourceHandleId:vt,targetHandleId:xt,onContextMenu:Qe,onMouseEnter:$e,onMouseMove:ct,onMouseLeave:Tt,edgeUpdaterRadius:Xt,onEdgeUpdate:Ut,onEdgeUpdateStart:Ue,onEdgeUpdateEnd:Pt,markerEnd:ot,markerStart:Mt,rfId:Yt,ariaLabel:ln,isFocusable:En,isUpdatable:Rn,pathOptions:Hn,interactionWidth:nr,disableKeyboardA11y:ar})=>{const cr=(0,i.useRef)(null),[gr,Kn]=(0,i.useState)(!1),[no,jr]=(0,i.useState)(!1),Gn=he(),xo=(0,i.useMemo)(()=>`url('#${en(Mt,Yt)}')`,[Mt,Yt]),Vn=(0,i.useMemo)(()=>`url('#${en(ot,Yt)}')`,[ot,Yt]);if(It)return null;const Bt=dr=>{var oo;const{edges:ro,addSelectedEdges:wi,unselectNodesAndEdges:Po,multiSelectionActive:vi}=Gn.getState(),Eo=ro.find(Gi=>Gi.id===d);Eo&&(at&&(Gn.setState({nodesSelectionActive:!1}),Eo.selected&&vi?(Po({nodes:[],edges:[Eo]}),(oo=cr.current)==null||oo.blur()):wi([d])),A&&A(dr,Eo))},Cr=dt(d,Gn.getState,R),No=dt(d,Gn.getState,Qe),Hi=dt(d,Gn.getState,$e),$i=dt(d,Gn.getState,ct),Wi=dt(d,Gn.getState,Tt),Do=(dr,ro)=>{if(dr.button!==0)return;const{edges:wi,isValidConnection:Po}=Gn.getState(),vi=ro?Me:Ne,Eo=(ro?xt:vt)||null,oo=ro?"target":"source",Gi=Po||g,Ns=ro,hs=wi.find(Zr=>Zr.id===d);jr(!0),Ue==null||Ue(dr,hs,oo);const Xi=Zr=>{jr(!1),Pt==null||Pt(Zr,hs,oo)};me({event:dr,handleId:Eo,nodeId:vi,onConnect:Zr=>Ut==null?void 0:Ut(hs,Zr),isTarget:Ns,getState:Gn.getState,setState:Gn.setState,isValidConnection:Gi,edgeUpdaterType:oo,onEdgeUpdateEnd:Xi})},Qo=dr=>Do(dr,!0),qo=dr=>Do(dr,!1),_o=()=>Kn(!0),Ki=()=>Kn(!1),mi=!at&&!A,yi=dr=>{var ro;if(!ar&&Ge.includes(dr.key)&&at){const{unselectNodesAndEdges:wi,addSelectedEdges:Po,edges:vi}=Gn.getState();dr.key==="Escape"?((ro=cr.current)==null||ro.blur(),wi({edges:[vi.find(oo=>oo.id===d)]})):Po([d])}};return i.createElement("g",{className:(0,O.Z)(["react-flow__edge",`react-flow__edge-${y}`,m,{selected:h,animated:v,inactive:mi,updating:gr}]),onClick:Bt,onDoubleClick:Cr,onContextMenu:No,onMouseEnter:Hi,onMouseMove:$i,onMouseLeave:Wi,onKeyDown:En?yi:void 0,tabIndex:En?0:void 0,role:En?"button":"img","data-testid":`rf__edge-${d}`,"aria-label":ln===null?void 0:ln||`Edge from ${Ne} to ${Me}`,"aria-describedby":En?`${ri}-${Yt}`:void 0,ref:cr},!no&&i.createElement(r,{id:d,source:Ne,target:Me,selected:h,animated:v,label:S,labelStyle:z,labelShowBg:fe,labelBgStyle:ne,labelBgPadding:Te,labelBgBorderRadius:le,data:D,style:Ae,sourceX:Fe,sourceY:ut,targetX:ft,targetY:pt,sourcePosition:Dt,targetPosition:wt,sourceHandleId:vt,targetHandleId:xt,markerStart:xo,markerEnd:Vn,pathOptions:Hn,interactionWidth:nr}),Rn&&i.createElement(i.Fragment,null,(Rn==="source"||Rn===!0)&&i.createElement(a,{position:Dt,centerX:Fe,centerY:ut,radius:Xt,onMouseDown:Qo,onMouseEnter:_o,onMouseOut:Ki,type:"source"}),(Rn==="target"||Rn===!0)&&i.createElement(a,{position:wt,centerX:ft,centerY:pt,radius:Xt,onMouseDown:qo,onMouseEnter:_o,onMouseOut:Ki,type:"target"})))};return c.displayName="EdgeWrapper",(0,i.memo)(c)};function j(r){const c={default:k(r.default||bt),straight:k(r.bezier||we),step:k(r.step||M),smoothstep:k(r.step||on),simplebezier:k(r.simplebezier||gn)},d={},m=Object.keys(r).filter(y=>!["default","bezier"].includes(y)).reduce((y,D)=>(y[D]=k(r[D]||bt),y),d);return Rt(Rt({},c),m)}function pe(r,c,d=null){const m=((d==null?void 0:d.x)||0)+c.x,y=((d==null?void 0:d.y)||0)+c.y,D=(d==null?void 0:d.width)||c.width,A=(d==null?void 0:d.height)||c.height;switch(r){case ye.Top:return{x:m+D/2,y};case ye.Right:return{x:m+D,y:y+A/2};case ye.Bottom:return{x:m+D/2,y:y+A};case ye.Left:return{x:m,y:y+A/2}}}function Se(r,c){return r?r.length===1||!c?r[0]:c&&r.find(d=>d.id===c)||null:null}const de=(r,c,d,m,y,D)=>{const A=pe(d,r,c),R=pe(D,m,y);return{sourceX:A.x,sourceY:A.y,targetX:R.x,targetY:R.y}};function Be({sourcePos:r,targetPos:c,sourceWidth:d,sourceHeight:m,targetWidth:y,targetHeight:D,width:A,height:R,transform:h}){const v={x:Math.min(r.x,c.x),y:Math.min(r.y,c.y),x2:Math.max(r.x+d,c.x+y),y2:Math.max(r.y+m,c.y+D)};v.x===v.x2&&(v.x2+=1),v.y===v.y2&&(v.y2+=1);const S=P({x:(0-h[0])/h[2],y:(0-h[1])/h[2],width:A/h[2],height:R/h[2]}),z=Math.max(0,Math.min(S.x2,v.x2)-Math.max(S.x,v.x)),fe=Math.max(0,Math.min(S.y2,v.y2)-Math.max(S.y,v.y));return Math.ceil(z*fe)>0}function Ye(r){var m,y,D,A,R;const c=((m=r==null?void 0:r[Ee])==null?void 0:m.handleBounds)||null,d=c&&(r==null?void 0:r.width)&&(r==null?void 0:r.height)&&typeof((y=r==null?void 0:r.positionAbsolute)==null?void 0:y.x)!="undefined"&&typeof((D=r==null?void 0:r.positionAbsolute)==null?void 0:D.y)!="undefined";return[{x:((A=r==null?void 0:r.positionAbsolute)==null?void 0:A.x)||0,y:((R=r==null?void 0:r.positionAbsolute)==null?void 0:R.y)||0,width:(r==null?void 0:r.width)||0,height:(r==null?void 0:r.height)||0},c,!!d]}const qe=[{level:0,isMaxLevel:!0,edges:[]}];function et(r,c,d=!1){let m=-1;const y=r.reduce((A,R)=>{var S,z;const h=se(R.zIndex);let v=h?R.zIndex:0;if(d){const fe=c.get(R.target),ne=c.get(R.source),Te=R.selected||(fe==null?void 0:fe.selected)||(ne==null?void 0:ne.selected),le=Math.max(((S=ne==null?void 0:ne[Ee])==null?void 0:S.z)||0,((z=fe==null?void 0:fe[Ee])==null?void 0:z.z)||0,1e3);v=(h?R.zIndex:0)+(Te?le:0)}return A[v]?A[v].push(R):A[v]=[R],m=v>m?v:m,A},{}),D=Object.entries(y).map(([A,R])=>{const h=+A;return{edges:R,level:h,isMaxLevel:h===m}});return D.length===0?qe:D}function Vt(r,c,d){const m=G((0,i.useCallback)(y=>r?y.edges.filter(D=>{const A=c.get(D.source),R=c.get(D.target);return(A==null?void 0:A.width)&&(A==null?void 0:A.height)&&(R==null?void 0:R.width)&&(R==null?void 0:R.height)&&Be({sourcePos:A.positionAbsolute||{x:0,y:0},targetPos:R.positionAbsolute||{x:0,y:0},sourceWidth:A.width,sourceHeight:A.height,targetWidth:R.width,targetHeight:R.height,width:y.width,height:y.height,transform:y.transform})}):y.edges,[r,c]));return et(m,c,d)}const $t=({color:r="none",strokeWidth:c=1})=>i.createElement("polyline",{style:{stroke:r,strokeWidth:c},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),tn=({color:r="none",strokeWidth:c=1})=>i.createElement("polyline",{style:{stroke:r,fill:r,strokeWidth:c},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),qn={[He.Arrow]:$t,[He.ArrowClosed]:tn};function zn(r){const c=he();return(0,i.useMemo)(()=>{var y,D;return Object.prototype.hasOwnProperty.call(qn,r)?qn[r]:((D=(y=c.getState()).onError)==null||D.call(y,"009",N.error009(r)),null)},[r])}const ur=({id:r,type:c,color:d,width:m=12.5,height:y=12.5,markerUnits:D="strokeWidth",strokeWidth:A,orient:R="auto-start-reverse"})=>{const h=zn(c);return h?i.createElement("marker",{className:"react-flow__arrowhead",id:r,markerWidth:`${m}`,markerHeight:`${y}`,viewBox:"-10 -10 20 20",markerUnits:D,orient:R,refX:"0",refY:"0"},i.createElement(h,{color:d,strokeWidth:A})):null},rn=({defaultColor:r,rfId:c})=>d=>{const m=[];return d.edges.reduce((y,D)=>([D.markerStart,D.markerEnd].forEach(A=>{if(A&&typeof A=="object"){const R=en(A,c);m.includes(R)||(y.push(Rt({id:R,color:A.color||r},A)),m.push(R))}}),y),[]).sort((y,D)=>y.id.localeCompare(D.id))},Nr=({defaultColor:r,rfId:c})=>{const d=G((0,i.useCallback)(rn({defaultColor:r,rfId:c}),[r,c]),(m,y)=>!(m.length!==y.length||m.some((D,A)=>D.id!==y[A].id)));return i.createElement("defs",null,d.map(m=>i.createElement(ur,{id:m.id,key:m.id,type:m.type,color:m.color,width:m.width,height:m.height,markerUnits:m.markerUnits,strokeWidth:m.strokeWidth,orient:m.orient})))};Nr.displayName="MarkerDefinitions";var vr=(0,i.memo)(Nr);const Dr=r=>({nodesConnectable:r.nodesConnectable,edgesFocusable:r.edgesFocusable,edgesUpdatable:r.edgesUpdatable,elementsSelectable:r.elementsSelectable,width:r.width,height:r.height,connectionMode:r.connectionMode,nodeInternals:r.nodeInternals,onError:r.onError}),Pr=({defaultMarkerColor:r,onlyRenderVisibleElements:c,elevateEdgesOnSelect:d,rfId:m,edgeTypes:y,noPanClassName:D,onEdgeUpdate:A,onEdgeContextMenu:R,onEdgeMouseEnter:h,onEdgeMouseMove:v,onEdgeMouseLeave:S,onEdgeClick:z,edgeUpdaterRadius:fe,onEdgeDoubleClick:ne,onEdgeUpdateStart:Te,onEdgeUpdateEnd:le,children:Ae,disableKeyboardA11y:Ne})=>{const{edgesFocusable:Me,edgesUpdatable:Fe,elementsSelectable:ut,width:ft,height:pt,connectionMode:Dt,nodeInternals:wt,onError:at}=G(Dr,T.X),It=Vt(c,wt,d);return ft?i.createElement(i.Fragment,null,It.map(({level:vt,edges:xt,isMaxLevel:Qe})=>i.createElement("svg",{key:vt,style:{zIndex:vt},width:ft,height:pt,className:"react-flow__edges react-flow__container"},Qe&&i.createElement(vr,{defaultColor:r,rfId:m}),i.createElement("g",null,xt.map($e=>{var jr,Gn;const[ct,Tt,Xt]=Ye(wt.get($e.source)),[Ut,Ue,Pt]=Ye(wt.get($e.target));if(!Xt||!Pt)return null;let ot=$e.type||"default";y[ot]||(at==null||at("011",N.error011(ot)),ot="default");const Mt=y[ot]||y.default,Yt=Dt===Qt.Strict?Ue.target:((jr=Ue.target)!=null?jr:[]).concat((Gn=Ue.source)!=null?Gn:[]),ln=Se(Tt.source,$e.sourceHandle),En=Se(Yt,$e.targetHandle),Rn=(ln==null?void 0:ln.position)||ye.Bottom,Hn=(En==null?void 0:En.position)||ye.Top,nr=!!($e.focusable||Me&&typeof $e.focusable=="undefined"),ar=typeof A!="undefined"&&($e.updatable||Fe&&typeof $e.updatable=="undefined");if(!ln||!En)return at==null||at("008",N.error008(ln,$e)),null;const{sourceX:cr,sourceY:gr,targetX:Kn,targetY:no}=de(ct,ln,Rn,Ut,En,Hn);return i.createElement(Mt,{key:$e.id,id:$e.id,className:(0,O.Z)([$e.className,D]),type:ot,data:$e.data,selected:!!$e.selected,animated:!!$e.animated,hidden:!!$e.hidden,label:$e.label,labelStyle:$e.labelStyle,labelShowBg:$e.labelShowBg,labelBgStyle:$e.labelBgStyle,labelBgPadding:$e.labelBgPadding,labelBgBorderRadius:$e.labelBgBorderRadius,style:$e.style,source:$e.source,target:$e.target,sourceHandleId:$e.sourceHandle,targetHandleId:$e.targetHandle,markerEnd:$e.markerEnd,markerStart:$e.markerStart,sourceX:cr,sourceY:gr,targetX:Kn,targetY:no,sourcePosition:Rn,targetPosition:Hn,elementsSelectable:ut,onEdgeUpdate:A,onContextMenu:R,onMouseEnter:h,onMouseMove:v,onMouseLeave:S,onClick:z,edgeUpdaterRadius:fe,onEdgeDoubleClick:ne,onEdgeUpdateStart:Te,onEdgeUpdateEnd:le,rfId:m,ariaLabel:$e.ariaLabel,isFocusable:nr,isUpdatable:ar,pathOptions:"pathOptions"in $e?$e.pathOptions:void 0,interactionWidth:$e.interactionWidth,disableKeyboardA11y:Ne})})))),Ae):null};Pr.displayName="EdgeRenderer";var br=(0,i.memo)(Pr);const Yo=r=>`translate(${r.transform[0]}px,${r.transform[1]}px) scale(${r.transform[2]})`;function sr({children:r}){const c=G(Yo);return i.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:c}},r)}function xr(r){const c=ho(),d=(0,i.useRef)(!1);(0,i.useEffect)(()=>{!d.current&&c.viewportInitialized&&r&&(setTimeout(()=>r(c),1),d.current=!0)},[r,c.viewportInitialized])}const Jo={[ye.Left]:ye.Right,[ye.Right]:ye.Left,[ye.Top]:ye.Bottom,[ye.Bottom]:ye.Top},Mo=({nodeId:r,handleType:c,style:d,type:m=We.Bezier,CustomComponent:y,connectionStatus:D})=>{var pt,Dt,wt,at,It,vt,xt;const{fromNode:A,handleId:R,toX:h,toY:v,connectionMode:S}=G((0,i.useCallback)(Qe=>({fromNode:Qe.nodeInternals.get(r),handleId:Qe.connectionHandleId,toX:(Qe.connectionPosition.x-Qe.transform[0])/Qe.transform[2],toY:(Qe.connectionPosition.y-Qe.transform[1])/Qe.transform[2],connectionMode:Qe.connectionMode}),[r]),T.X),z=(pt=A==null?void 0:A[Ee])==null?void 0:pt.handleBounds;let fe=z==null?void 0:z[c];if(S===Qt.Loose&&(fe=fe||(z==null?void 0:z[c==="source"?"target":"source"])),!A||!fe)return null;const ne=R?fe.find(Qe=>Qe.id===R):fe[0],Te=ne?ne.x+ne.width/2:((Dt=A.width)!=null?Dt:0)/2,le=ne?ne.y+ne.height/2:(wt=A.height)!=null?wt:0,Ae=((It=(at=A.positionAbsolute)==null?void 0:at.x)!=null?It:0)+Te,Ne=((xt=(vt=A.positionAbsolute)==null?void 0:vt.y)!=null?xt:0)+le,Me=ne==null?void 0:ne.position,Fe=Me?Jo[Me]:null;if(!Me||!Fe)return null;if(y)return i.createElement(y,{connectionLineType:m,connectionLineStyle:d,fromNode:A,fromHandle:ne,fromX:Ae,fromY:Ne,toX:h,toY:v,fromPosition:Me,toPosition:Fe,connectionStatus:D});let ut="";const ft={sourceX:Ae,sourceY:Ne,sourcePosition:Me,targetX:h,targetY:v,targetPosition:Fe};return m===We.Bezier?[ut]=mt(ft):m===We.Step?[ut]=In(Fn(Rt({},ft),{borderRadius:0})):m===We.SmoothStep?[ut]=In(ft):m===We.SimpleBezier?[ut]=yn(ft):ut=`M${Ae},${Ne} ${h},${v}`,i.createElement("path",{d:ut,fill:"none",className:"react-flow__connection-path",style:d})};Mo.displayName="ConnectionLine";const _r=r=>({nodeId:r.connectionNodeId,handleType:r.connectionHandleType,nodesConnectable:r.nodesConnectable,connectionStatus:r.connectionStatus,width:r.width,height:r.height});function Zi({containerStyle:r,style:c,type:d,component:m}){const{nodeId:y,handleType:D,nodesConnectable:A,width:R,height:h,connectionStatus:v}=G(_r,T.X);return!(y&&D&&R&&A)?null:i.createElement("svg",{style:r,width:R,height:h,className:"react-flow__edges react-flow__connectionline react-flow__container"},i.createElement("g",{className:(0,O.Z)(["react-flow__connection",v])},i.createElement(Mo,{nodeId:y,handleType:D,style:c,type:d,CustomComponent:m,connectionStatus:v})))}function Oe(r,c){const d=(0,i.useRef)(null),m=he();return(0,i.useMemo)(()=>c(r),[r])}const Ot=({nodeTypes:r,edgeTypes:c,onMove:d,onMoveStart:m,onMoveEnd:y,onInit:D,onNodeClick:A,onEdgeClick:R,onNodeDoubleClick:h,onEdgeDoubleClick:v,onNodeMouseEnter:S,onNodeMouseMove:z,onNodeMouseLeave:fe,onNodeContextMenu:ne,onSelectionContextMenu:Te,onSelectionStart:le,onSelectionEnd:Ae,connectionLineType:Ne,connectionLineStyle:Me,connectionLineComponent:Fe,connectionLineContainerStyle:ut,selectionKeyCode:ft,selectionOnDrag:pt,selectionMode:Dt,multiSelectionKeyCode:wt,panActivationKeyCode:at,zoomActivationKeyCode:It,deleteKeyCode:vt,onlyRenderVisibleElements:xt,elementsSelectable:Qe,selectNodesOnDrag:$e,defaultViewport:ct,translateExtent:Tt,minZoom:Xt,maxZoom:Ut,preventScrolling:Ue,defaultMarkerColor:Pt,zoomOnScroll:ot,zoomOnPinch:Mt,panOnScroll:Yt,panOnScrollSpeed:ln,panOnScrollMode:En,zoomOnDoubleClick:Rn,panOnDrag:Hn,onPaneClick:nr,onPaneMouseEnter:ar,onPaneMouseMove:cr,onPaneMouseLeave:gr,onPaneScroll:Kn,onPaneContextMenu:no,onEdgeUpdate:jr,onEdgeContextMenu:Gn,onEdgeMouseEnter:xo,onEdgeMouseMove:Vn,onEdgeMouseLeave:Bt,edgeUpdaterRadius:Cr,onEdgeUpdateStart:No,onEdgeUpdateEnd:Hi,noDragClassName:$i,noWheelClassName:Wi,noPanClassName:Do,elevateEdgesOnSelect:Qo,disableKeyboardA11y:qo,nodeOrigin:_o,nodeExtent:Ki,rfId:mi})=>{const yi=Oe(r,Oo),dr=Oe(c,j);return xr(D),i.createElement(ji,{onPaneClick:nr,onPaneMouseEnter:ar,onPaneMouseMove:cr,onPaneMouseLeave:gr,onPaneContextMenu:no,onPaneScroll:Kn,deleteKeyCode:vt,selectionKeyCode:ft,selectionOnDrag:pt,selectionMode:Dt,onSelectionStart:le,onSelectionEnd:Ae,multiSelectionKeyCode:wt,panActivationKeyCode:at,zoomActivationKeyCode:It,elementsSelectable:Qe,onMove:d,onMoveStart:m,onMoveEnd:y,zoomOnScroll:ot,zoomOnPinch:Mt,zoomOnDoubleClick:Rn,panOnScroll:Yt,panOnScrollSpeed:ln,panOnScrollMode:En,panOnDrag:Hn,defaultViewport:ct,translateExtent:Tt,minZoom:Xt,maxZoom:Ut,onSelectionContextMenu:Te,preventScrolling:Ue,noDragClassName:$i,noWheelClassName:Wi,noPanClassName:Do,disableKeyboardA11y:qo},i.createElement(sr,null,i.createElement(br,{edgeTypes:dr,onEdgeClick:R,onEdgeDoubleClick:v,onEdgeUpdate:jr,onlyRenderVisibleElements:xt,onEdgeContextMenu:Gn,onEdgeMouseEnter:xo,onEdgeMouseMove:Vn,onEdgeMouseLeave:Bt,onEdgeUpdateStart:No,onEdgeUpdateEnd:Hi,edgeUpdaterRadius:Cr,defaultMarkerColor:Pt,noPanClassName:Do,elevateEdgesOnSelect:!!Qo,disableKeyboardA11y:qo,rfId:mi},i.createElement(Zi,{style:Me,type:Ne,component:Fe,containerStyle:ut})),i.createElement("div",{className:"react-flow__edgelabel-renderer"}),i.createElement(cs,{nodeTypes:yi,onNodeClick:A,onNodeDoubleClick:h,onNodeMouseEnter:S,onNodeMouseMove:z,onNodeMouseLeave:fe,onNodeContextMenu:ne,selectNodesOnDrag:$e,onlyRenderVisibleElements:xt,noPanClassName:Do,noDragClassName:$i,disableKeyboardA11y:qo,nodeOrigin:_o,nodeExtent:Ki,rfId:mi})))};Ot.displayName="GraphView";var tt=(0,i.memo)(Ot);const Nt=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Jt={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Nt,nodeExtent:Nt,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Qt.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:_t,isValidConnection:void 0},pn=()=>(0,_.F)((r,c)=>Fn(Rt({},Jt),{setNodes:d=>{const{nodeInternals:m,nodeOrigin:y,elevateNodesOnSelect:D}=c();r({nodeInternals:lr(d,m,y,D)})},getNodes:()=>Array.from(c().nodeInternals.values()),setEdges:d=>{const{defaultEdgeOptions:m={}}=c();r({edges:d.map(y=>Rt(Rt({},m),y))})},setDefaultNodesAndEdges:(d,m)=>{const y=typeof d!="undefined",D=typeof m!="undefined",A=y?lr(d,new Map,c().nodeOrigin,c().elevateNodesOnSelect):new Map;r({nodeInternals:A,edges:D?m:[],hasDefaultNodes:y,hasDefaultEdges:D})},updateNodeDimensions:d=>{const{onNodesChange:m,nodeInternals:y,fitViewOnInit:D,fitViewOnInitDone:A,fitViewOnInitOptions:R,domNode:h,nodeOrigin:v}=c(),S=h==null?void 0:h.querySelector(".react-flow__viewport");if(!S)return;const z=window.getComputedStyle(S),{m22:fe}=new window.DOMMatrixReadOnly(z.transform),ne=d.reduce((le,Ae)=>{const Ne=y.get(Ae.id);if(Ne!=null&&Ne.hidden)y.set(Ne.id,Fn(Rt({},Ne),{[Ee]:Fn(Rt({},Ne[Ee]),{handleBounds:void 0})}));else if(Ne){const Me=oe(Ae.nodeElement);!!(Me.width&&Me.height&&(Ne.width!==Me.width||Ne.height!==Me.height||Ae.forceUpdate))&&(y.set(Ne.id,Rt(Fn(Rt({},Ne),{[Ee]:Fn(Rt({},Ne[Ee]),{handleBounds:{source:Or(".source",Ae.nodeElement,fe,v),target:Or(".target",Ae.nodeElement,fe,v)}})}),Me)),le.push({id:Ne.id,type:"dimensions",dimensions:Me}))}return le},[]);Bi(y,v);const Te=A||D&&!A&&uo(c,Rt({initial:!0},R));r({nodeInternals:new Map(y),fitViewOnInitDone:Te}),(ne==null?void 0:ne.length)>0&&(m==null||m(ne))},updateNodePositions:(d,m=!0,y=!1)=>{const{triggerNodeChanges:D}=c(),A=d.map(R=>{const h={id:R.id,type:"position",dragging:y};return m&&(h.positionAbsolute=R.positionAbsolute,h.position=R.position),h});D(A)},triggerNodeChanges:d=>{const{onNodesChange:m,nodeInternals:y,hasDefaultNodes:D,nodeOrigin:A,getNodes:R,elevateNodesOnSelect:h}=c();if(d!=null&&d.length){if(D){const v=li(d,R()),S=lr(v,y,A,h);r({nodeInternals:S})}m==null||m(d)}},addSelectedNodes:d=>{const{multiSelectionActive:m,edges:y,getNodes:D}=c();let A,R=null;m?A=d.map(h=>Un(h,!0)):(A=Ar(D(),d),R=Ar(y,[])),To({changedNodes:A,changedEdges:R,get:c,set:r})},addSelectedEdges:d=>{const{multiSelectionActive:m,edges:y,getNodes:D}=c();let A,R=null;m?A=d.map(h=>Un(h,!0)):(A=Ar(y,d),R=Ar(D(),[])),To({changedNodes:R,changedEdges:A,get:c,set:r})},unselectNodesAndEdges:({nodes:d,edges:m}={})=>{const{edges:y,getNodes:D}=c(),A=d||D(),R=m||y,h=A.map(S=>(S.selected=!1,Un(S.id,!1))),v=R.map(S=>Un(S.id,!1));To({changedNodes:h,changedEdges:v,get:c,set:r})},setMinZoom:d=>{const{d3Zoom:m,maxZoom:y}=c();m==null||m.scaleExtent([d,y]),r({minZoom:d})},setMaxZoom:d=>{const{d3Zoom:m,minZoom:y}=c();m==null||m.scaleExtent([y,d]),r({maxZoom:d})},setTranslateExtent:d=>{var m;(m=c().d3Zoom)==null||m.translateExtent(d),r({translateExtent:d})},resetSelectedElements:()=>{const{edges:d,getNodes:m}=c(),D=m().filter(R=>R.selected).map(R=>Un(R.id,!1)),A=d.filter(R=>R.selected).map(R=>Un(R.id,!1));To({changedNodes:D,changedEdges:A,get:c,set:r})},setNodeExtent:d=>{const{nodeInternals:m}=c();m.forEach(y=>{y.positionAbsolute=Q(y.position,d)}),r({nodeExtent:d,nodeInternals:new Map(m)})},panBy:d=>{const{transform:m,width:y,height:D,d3Zoom:A,d3Selection:R,translateExtent:h}=c();if(!A||!R||!d.x&&!d.y)return!1;const v=x.CR.translate(m[0]+d.x,m[1]+d.y).scale(m[2]),S=[[0,0],[y,D]],z=A==null?void 0:A.constrain()(v,S,h);return A.transform(R,z),m[0]!==z.x||m[1]!==z.y||m[2]!==z.k},cancelConnection:()=>r({connectionNodeId:Jt.connectionNodeId,connectionHandleId:Jt.connectionHandleId,connectionHandleType:Jt.connectionHandleType,connectionStatus:Jt.connectionStatus,connectionStartHandle:Jt.connectionStartHandle,connectionEndHandle:Jt.connectionEndHandle}),reset:()=>r(Rt({},Jt))}),Object.is),fn=({children:r})=>{const c=(0,i.useRef)(null);return c.current||(c.current=pn()),i.createElement(U,{value:c.current},r)};fn.displayName="ReactFlowProvider";const Cn=({children:r})=>(0,i.useContext)(I)?i.createElement(i.Fragment,null,r):i.createElement(fn,null,r);Cn.displayName="ReactFlowWrapper";const Nn={input:xn,default:Ht,output:pr,group:Jn},Er={default:bt,straight:we,step:M,smoothstep:on,simplebezier:gn},Zn=[0,0],jn=[15,15],Rr={x:0,y:0,zoom:1},Sr={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Lr=(0,i.forwardRef)((Wc,Sa)=>{var Ls=Wc,{nodes:r,edges:c,defaultNodes:d,defaultEdges:m,className:y,nodeTypes:D=Nn,edgeTypes:A=Er,onNodeClick:R,onEdgeClick:h,onInit:v,onMove:S,onMoveStart:z,onMoveEnd:fe,onConnect:ne,onConnectStart:Te,onConnectEnd:le,onClickConnectStart:Ae,onClickConnectEnd:Ne,onNodeMouseEnter:Me,onNodeMouseMove:Fe,onNodeMouseLeave:ut,onNodeContextMenu:ft,onNodeDoubleClick:pt,onNodeDragStart:Dt,onNodeDrag:wt,onNodeDragStop:at,onNodesDelete:It,onEdgesDelete:vt,onSelectionChange:xt,onSelectionDragStart:Qe,onSelectionDrag:$e,onSelectionDragStop:ct,onSelectionContextMenu:Tt,onSelectionStart:Xt,onSelectionEnd:Ut,connectionMode:Ue=Qt.Strict,connectionLineType:Pt=We.Bezier,connectionLineStyle:ot,connectionLineComponent:Mt,connectionLineContainerStyle:Yt,deleteKeyCode:ln="Backspace",selectionKeyCode:En="Shift",selectionOnDrag:Rn=!1,selectionMode:Hn=De.Full,panActivationKeyCode:nr="Space",multiSelectionKeyCode:ar=ve()?"Meta":"Control",zoomActivationKeyCode:cr=ve()?"Meta":"Control",snapToGrid:gr=!1,snapGrid:Kn=jn,onlyRenderVisibleElements:no=!1,selectNodesOnDrag:jr=!0,nodesDraggable:Gn,nodesConnectable:xo,nodesFocusable:Vn,nodeOrigin:Bt=Zn,edgesFocusable:Cr,edgesUpdatable:No,elementsSelectable:Hi,defaultViewport:$i=Rr,minZoom:Wi=.5,maxZoom:Do=2,translateExtent:Qo=Nt,preventScrolling:qo=!0,nodeExtent:_o,defaultMarkerColor:Ki="#b1b1b7",zoomOnScroll:mi=!0,zoomOnPinch:yi=!0,panOnScroll:dr=!1,panOnScrollSpeed:ro=.5,panOnScrollMode:wi=Ie.Free,zoomOnDoubleClick:Po=!0,panOnDrag:vi=!0,onPaneClick:Eo,onPaneMouseEnter:oo,onPaneMouseMove:Gi,onPaneMouseLeave:Ns,onPaneScroll:hs,onPaneContextMenu:Xi,children:ei,onEdgeUpdate:Zr,onEdgeContextMenu:ya,onEdgeDoubleClick:bi,onEdgeMouseEnter:Ds,onEdgeMouseMove:xi,onEdgeMouseLeave:Yi,onEdgeUpdateStart:Ps,onEdgeUpdateEnd:Ys,edgeUpdaterRadius:io=10,onNodesChange:So,onEdgesChange:Js,noDragClassName:wa="nodrag",noWheelClassName:Qs="nowheel",noPanClassName:Ro="nopan",fitView:ps=!1,fitViewOptions:Gr,connectOnClick:va=!0,attributionPosition:Hr,proOptions:_i,defaultEdgeOptions:ti,elevateNodesOnSelect:gs=!0,elevateEdgesOnSelect:so=!1,disableKeyboardA11y:qs=!1,autoPanOnConnect:Rs=!0,autoPanOnNodeDrag:ba=!0,connectionRadius:xa=20,isValidConnection:_a,onError:ea,style:Ha,id:ms,nodeDragThreshold:$a}=Ls,Ea=Oi(Ls,["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","onSelectionStart","onSelectionEnd","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","selectionOnDrag","selectionMode","panActivationKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","nodesFocusable","nodeOrigin","edgesFocusable","edgesUpdatable","elementsSelectable","defaultViewport","minZoom","maxZoom","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneMouseEnter","onPaneMouseMove","onPaneMouseLeave","onPaneScroll","onPaneContextMenu","children","onEdgeUpdate","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdateStart","onEdgeUpdateEnd","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateNodesOnSelect","elevateEdgesOnSelect","disableKeyboardA11y","autoPanOnConnect","autoPanOnNodeDrag","connectionRadius","isValidConnection","onError","style","id","nodeDragThreshold"]);const ys=ms||"1";return i.createElement("div",Fn(Rt({},Ea),{style:Rt(Rt({},Ha),Sr),ref:Sa,className:(0,O.Z)(["react-flow",y]),"data-testid":"rf__wrapper",id:ms}),i.createElement(Cn,null,i.createElement(tt,{onInit:v,onMove:S,onMoveStart:z,onMoveEnd:fe,onNodeClick:R,onEdgeClick:h,onNodeMouseEnter:Me,onNodeMouseMove:Fe,onNodeMouseLeave:ut,onNodeContextMenu:ft,onNodeDoubleClick:pt,nodeTypes:D,edgeTypes:A,connectionLineType:Pt,connectionLineStyle:ot,connectionLineComponent:Mt,connectionLineContainerStyle:Yt,selectionKeyCode:En,selectionOnDrag:Rn,selectionMode:Hn,deleteKeyCode:ln,multiSelectionKeyCode:ar,panActivationKeyCode:nr,zoomActivationKeyCode:cr,onlyRenderVisibleElements:no,selectNodesOnDrag:jr,defaultViewport:$i,translateExtent:Qo,minZoom:Wi,maxZoom:Do,preventScrolling:qo,zoomOnScroll:mi,zoomOnPinch:yi,zoomOnDoubleClick:Po,panOnScroll:dr,panOnScrollSpeed:ro,panOnScrollMode:wi,panOnDrag:vi,onPaneClick:Eo,onPaneMouseEnter:oo,onPaneMouseMove:Gi,onPaneMouseLeave:Ns,onPaneScroll:hs,onPaneContextMenu:Xi,onSelectionContextMenu:Tt,onSelectionStart:Xt,onSelectionEnd:Ut,onEdgeUpdate:Zr,onEdgeContextMenu:ya,onEdgeDoubleClick:bi,onEdgeMouseEnter:Ds,onEdgeMouseMove:xi,onEdgeMouseLeave:Yi,onEdgeUpdateStart:Ps,onEdgeUpdateEnd:Ys,edgeUpdaterRadius:io,defaultMarkerColor:Ki,noDragClassName:wa,noWheelClassName:Qs,noPanClassName:Ro,elevateEdgesOnSelect:so,rfId:ys,disableKeyboardA11y:qs,nodeOrigin:Bt,nodeExtent:_o}),i.createElement(Mi,{nodes:r,edges:c,defaultNodes:d,defaultEdges:m,onConnect:ne,onConnectStart:Te,onConnectEnd:le,onClickConnectStart:Ae,onClickConnectEnd:Ne,nodesDraggable:Gn,nodesConnectable:xo,nodesFocusable:Vn,edgesFocusable:Cr,edgesUpdatable:No,elementsSelectable:Hi,elevateNodesOnSelect:gs,minZoom:Wi,maxZoom:Do,nodeExtent:_o,onNodesChange:So,onEdgesChange:Js,snapToGrid:gr,snapGrid:Kn,connectionMode:Ue,translateExtent:Qo,connectOnClick:va,defaultEdgeOptions:ti,fitView:ps,fitViewOptions:Gr,onNodesDelete:It,onEdgesDelete:vt,onNodeDragStart:Dt,onNodeDrag:wt,onNodeDragStop:at,onSelectionDrag:$e,onSelectionDragStart:Qe,onSelectionDragStop:ct,noPanClassName:Ro,nodeOrigin:Bt,rfId:ys,autoPanOnConnect:Rs,autoPanOnNodeDrag:ba,onError:ea,connectionRadius:xa,isValidConnection:_a,nodeDragThreshold:$a}),i.createElement(Jr,{onSelectionChange:xt}),ei,i.createElement(ue,{proOptions:_i,position:Hr}),i.createElement(Pi,{rfId:ys,disableKeyboardA11y:qs})))});Lr.displayName="ReactFlow";const tr=r=>{var c;return(c=r.domNode)==null?void 0:c.querySelector(".react-flow__edgelabel-renderer")};function us({children:r}){const c=G(tr);return c?(0,E.createPortal)(r,c):null}function ks(){const r=he();return(0,i.useCallback)(c=>{const{domNode:d,updateNodeDimensions:m}=r.getState(),D=(Array.isArray(c)?c:[c]).reduce((A,R)=>{const h=d==null?void 0:d.querySelector(`.react-flow__node[data-id="${R}"]`);return h&&A.push({id:R,nodeElement:h,forceUpdate:!0}),A},[]);requestAnimationFrame(()=>m(D))},[])}const Is=r=>r.getNodes();function Ts(){return G(Is,T.X)}const Zs=r=>r.edges;function As(){return G(Zs,T.X)}const Hs=r=>({x:r.transform[0],y:r.transform[1],zoom:r.transform[2]});function ds(){return G(Hs,T.X)}function fs(r){return c=>{const[d,m]=(0,i.useState)(c),y=(0,i.useCallback)(D=>m(A=>r(D,A)),[]);return[d,m,y]}}const $s=fs(li),Os=fs(eo);function Ms({onStart:r,onChange:c,onEnd:d}){const m=he();(0,i.useEffect)(()=>{m.setState({onViewportChangeStart:r})},[r]),(0,i.useEffect)(()=>{m.setState({onViewportChange:c})},[c]),(0,i.useEffect)(()=>{m.setState({onViewportChangeEnd:d})},[d])}function Ws({onChange:r}){const c=he();(0,i.useEffect)(()=>{const d=[...c.getState().onSelectionChange,r];return c.setState({onSelectionChange:d}),()=>{const m=c.getState().onSelectionChange.filter(y=>y!==r);c.setState({onSelectionChange:m})}},[r])}const Ks=r=>c=>c.nodeInternals.size===0?!1:c.getNodes().filter(d=>r.includeHiddenNodes?!0:!d.hidden).every(d=>{var m;return((m=d[Ee])==null?void 0:m.handleBounds)!==void 0}),Gs={includeHiddenNodes:!1};function Xs(r=Gs){return G(Ks(r))}},28587:function(B,Z,l){"use strict";l.d(Z,{a:function(){return re}});var i=l(75271),O=l(28680),_=l(89986),T=l(78132),x=l(41468),b=l(13802),p=l(25436);const w=({id:oe,x:$,y:Q,width:ae,height:ie,style:_e,color:Le,strokeColor:P,strokeWidth:J,className:Ce,borderRadius:xe,shapeRendering:je,onClick:H,selected:se})=>{const{background:Ee,backgroundColor:Ge}=_e||{},_t=Le||Ee||Ge;return i.createElement("rect",{className:(0,O.Z)(["react-flow__minimap-node",{selected:se},Ce]),x:$,y:Q,rx:xe,ry:xe,width:ae,height:ie,fill:_t,stroke:P,strokeWidth:J,shapeRendering:je,onClick:H?Gt=>H(Gt,oe):void 0})};w.displayName="MiniMapNode";var E=(0,i.memo)(w);const I=oe=>oe.nodeOrigin,U=oe=>oe.getNodes().filter($=>!$.hidden&&$.width&&$.height),N=oe=>oe instanceof Function?oe:()=>oe;function K({nodeStrokeColor:oe="transparent",nodeColor:$="#e2e2e2",nodeClassName:Q="",nodeBorderRadius:ae=5,nodeStrokeWidth:ie=2,nodeComponent:_e=E,onClick:Le}){const P=(0,p.oR)(U,_.X),J=(0,p.oR)(I),Ce=N($),xe=N(oe),je=N(Q),H=typeof window=="undefined"||window.chrome?"crispEdges":"geometricPrecision";return i.createElement(i.Fragment,null,P.map(se=>{const{x:Ee,y:Ge}=(0,p.VP)(se,J).positionAbsolute;return i.createElement(_e,{key:se.id,x:Ee,y:Ge,width:se.width,height:se.height,style:se.style,selected:se.selected,className:je(se),color:Ce(se),borderRadius:ae,strokeColor:xe(se),strokeWidth:ie,shapeRendering:H,onClick:Le,id:se.id})}))}var G=(0,i.memo)(K);const he=200,Ve=150,ce=oe=>{const $=oe.getNodes(),Q={x:-oe.transform[0]/oe.transform[2],y:-oe.transform[1]/oe.transform[2],width:oe.width/oe.transform[2],height:oe.height/oe.transform[2]};return{viewBB:Q,boundingRect:$.length>0?(0,p.oI)((0,p.RX)($,oe.nodeOrigin),Q):Q,rfId:oe.rfId}},ue="react-flow__minimap-desc";function X({style:oe,className:$,nodeStrokeColor:Q="transparent",nodeColor:ae="#e2e2e2",nodeClassName:ie="",nodeBorderRadius:_e=5,nodeStrokeWidth:Le=2,nodeComponent:P,maskColor:J="rgb(240, 240, 240, 0.6)",maskStrokeColor:Ce="none",maskStrokeWidth:xe=1,position:je="bottom-right",onClick:H,onNodeClick:se,pannable:Ee=!1,zoomable:Ge=!1,ariaLabel:_t="React Flow mini map",inversePan:Gt=!1,zoomStep:Ct=10,offsetScale:Y=5}){var In,on;const ge=(0,p.AC)(),ve=(0,i.useRef)(null),{boundingRect:be,viewBB:Re,rfId:dt}=(0,p.oR)(ce,_.X),gt=(In=oe==null?void 0:oe.width)!=null?In:he,Wt=(on=oe==null?void 0:oe.height)!=null?on:Ve,Qt=be.width/gt,Ie=be.height/Wt,De=Math.max(Qt,Ie),We=De*gt,He=De*Wt,ye=Y*De,Ft=be.x-(We-be.width)/2-ye,yn=be.y-(He-be.height)/2-ye,gn=We+ye*2,Sn=He+ye*2,kn=`${ue}-${dt}`,bn=(0,i.useRef)(0);bn.current=De,(0,i.useEffect)(()=>{if(ve.current){const M=(0,x.Z)(ve.current),W=Xe=>{const{transform:mt,d3Selection:bt,d3Zoom:ht}=ge.getState();if(Xe.sourceEvent.type!=="wheel"||!bt||!ht)return;const ze=-Xe.sourceEvent.deltaY*(Xe.sourceEvent.deltaMode===1?.05:Xe.sourceEvent.deltaMode?1:.002)*Ct,Je=mt[2]*Math.pow(2,ze);ht.scaleTo(bt,Je)},we=Xe=>{const{transform:mt,d3Selection:bt,d3Zoom:ht,translateExtent:ze,width:Je,height:jt}=ge.getState();if(Xe.sourceEvent.type!=="mousemove"||!bt||!ht)return;const cn=bn.current*Math.max(1,mt[2])*(Gt?-1:1),Zt={x:mt[0]-Xe.sourceEvent.movementX*cn,y:mt[1]-Xe.sourceEvent.movementY*cn},nn=[[0,0],[Je,jt]],qt=T.CR.translate(Zt.x,Zt.y).scale(mt[2]),en=ht.constrain()(qt,nn,ze);ht.transform(bt,en)},Pe=(0,T.sP)().on("zoom",Ee?we:null).on("zoom.wheel",Ge?W:null);return M.call(Pe),()=>{M.on("zoom",null)}}},[Ee,Ge,Gt,Ct]);const Tn=H?M=>{const W=(0,b.Z)(M);H(M,{x:W[0],y:W[1]})}:void 0,Bn=se?(M,W)=>{const we=ge.getState().nodeInternals.get(W);se(M,we)}:void 0;return i.createElement(p.s_,{position:je,style:oe,className:(0,O.Z)(["react-flow__minimap",$]),"data-testid":"rf__minimap"},i.createElement("svg",{width:gt,height:Wt,viewBox:`${Ft} ${yn} ${gn} ${Sn}`,role:"img","aria-labelledby":kn,ref:ve,onClick:Tn},_t&&i.createElement("title",{id:kn},_t),i.createElement(G,{onClick:Bn,nodeColor:ae,nodeStrokeColor:Q,nodeBorderRadius:_e,nodeClassName:ie,nodeStrokeWidth:Le,nodeComponent:P}),i.createElement("path",{className:"react-flow__minimap-mask",d:`M${Ft-ye},${yn-ye}h${gn+ye*2}v${Sn+ye*2}h${-gn-ye*2}z
        M${Re.x},${Re.y}h${Re.width}v${Re.height}h${-Re.width}z`,fill:J,fillRule:"evenodd",stroke:Ce,strokeWidth:xe,pointerEvents:"none"})))}X.displayName="MiniMap";var re=(0,i.memo)(X)},89189:function(B,Z){"use strict";var l={value:function(){}};function i(){for(var b=0,p=arguments.length,w={},E;b<p;++b){if(!(E=arguments[b]+"")||E in w||/[\s.]/.test(E))throw new Error("illegal type: "+E);w[E]=[]}return new O(w)}function O(b){this._=b}function _(b,p){return b.trim().split(/^|\s+/).map(function(w){var E="",I=w.indexOf(".");if(I>=0&&(E=w.slice(I+1),w=w.slice(0,I)),w&&!p.hasOwnProperty(w))throw new Error("unknown type: "+w);return{type:w,name:E}})}O.prototype=i.prototype={constructor:O,on:function(p,w){var E=this._,I=_(p+"",E),U,N=-1,K=I.length;if(arguments.length<2){for(;++N<K;)if((U=(p=I[N]).type)&&(U=T(E[U],p.name)))return U;return}if(w!=null&&typeof w!="function")throw new Error("invalid callback: "+w);for(;++N<K;)if(U=(p=I[N]).type)E[U]=x(E[U],p.name,w);else if(w==null)for(U in E)E[U]=x(E[U],p.name,null);return this},copy:function(){var p={},w=this._;for(var E in w)p[E]=w[E].slice();return new O(p)},call:function(p,w){if((U=arguments.length-2)>0)for(var E=new Array(U),I=0,U,N;I<U;++I)E[I]=arguments[I+2];if(!this._.hasOwnProperty(p))throw new Error("unknown type: "+p);for(N=this._[p],I=0,U=N.length;I<U;++I)N[I].value.apply(w,E)},apply:function(p,w,E){if(!this._.hasOwnProperty(p))throw new Error("unknown type: "+p);for(var I=this._[p],U=0,N=I.length;U<N;++U)I[U].value.apply(w,E)}};function T(b,p){for(var w=0,E=b.length,I;w<E;++w)if((I=b[w]).name===p)return I.value}function x(b,p,w){for(var E=0,I=b.length;E<I;++E)if(b[E].name===p){b[E]=l,b=b.slice(0,E).concat(b.slice(E+1));break}return w!=null&&b.push({name:p,value:w}),b}Z.Z=i},28680:function(B,Z,l){"use strict";l.d(Z,{Z:function(){return i}});function i(O){if(typeof O=="string"||typeof O=="number")return""+O;let _="";if(Array.isArray(O))for(let T=0,x;T<O.length;T++)(x=i(O[T]))!==""&&(_+=(_&&" ")+x);else for(let T in O)O[T]&&(_+=(_&&" ")+T);return _}},45452:function(B,Z,l){"use strict";l.d(Z,{Z:function(){return N}});var i=l(89189),O=l(41468),_=l(13802),T=l(49289),x=l(5873),b=K=>()=>K;function p(K,{sourceEvent:G,subject:he,target:Ve,identifier:ce,active:ue,x:X,y:re,dx:oe,dy:$,dispatch:Q}){Object.defineProperties(this,{type:{value:K,enumerable:!0,configurable:!0},sourceEvent:{value:G,enumerable:!0,configurable:!0},subject:{value:he,enumerable:!0,configurable:!0},target:{value:Ve,enumerable:!0,configurable:!0},identifier:{value:ce,enumerable:!0,configurable:!0},active:{value:ue,enumerable:!0,configurable:!0},x:{value:X,enumerable:!0,configurable:!0},y:{value:re,enumerable:!0,configurable:!0},dx:{value:oe,enumerable:!0,configurable:!0},dy:{value:$,enumerable:!0,configurable:!0},_:{value:Q}})}p.prototype.on=function(){var K=this._.on.apply(this._,arguments);return K===this._?this:K};function w(K){return!K.ctrlKey&&!K.button}function E(){return this.parentNode}function I(K,G){return G==null?{x:K.x,y:K.y}:G}function U(){return navigator.maxTouchPoints||"ontouchstart"in this}function N(){var K=w,G=E,he=I,Ve=U,ce={},ue=(0,i.Z)("start","drag","end"),X=0,re,oe,$,Q,ae=0;function ie(H){H.on("mousedown.drag",_e).filter(Ve).on("touchstart.drag",J).on("touchmove.drag",Ce,x.Q7).on("touchend.drag touchcancel.drag",xe).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function _e(H,se){if(!(Q||!K.call(this,H,se))){var Ee=je(this,G.call(this,H,se),H,se,"mouse");Ee&&((0,O.Z)(H.view).on("mousemove.drag",Le,x.Dd).on("mouseup.drag",P,x.Dd),(0,T.Z)(H.view),(0,x.rG)(H),$=!1,re=H.clientX,oe=H.clientY,Ee("start",H))}}function Le(H){if((0,x.ZP)(H),!$){var se=H.clientX-re,Ee=H.clientY-oe;$=se*se+Ee*Ee>ae}ce.mouse("drag",H)}function P(H){(0,O.Z)(H.view).on("mousemove.drag mouseup.drag",null),(0,T.D)(H.view,$),(0,x.ZP)(H),ce.mouse("end",H)}function J(H,se){if(K.call(this,H,se)){var Ee=H.changedTouches,Ge=G.call(this,H,se),_t=Ee.length,Gt,Ct;for(Gt=0;Gt<_t;++Gt)(Ct=je(this,Ge,H,se,Ee[Gt].identifier,Ee[Gt]))&&((0,x.rG)(H),Ct("start",H,Ee[Gt]))}}function Ce(H){var se=H.changedTouches,Ee=se.length,Ge,_t;for(Ge=0;Ge<Ee;++Ge)(_t=ce[se[Ge].identifier])&&((0,x.ZP)(H),_t("drag",H,se[Ge]))}function xe(H){var se=H.changedTouches,Ee=se.length,Ge,_t;for(Q&&clearTimeout(Q),Q=setTimeout(function(){Q=null},500),Ge=0;Ge<Ee;++Ge)(_t=ce[se[Ge].identifier])&&((0,x.rG)(H),_t("end",H,se[Ge]))}function je(H,se,Ee,Ge,_t,Gt){var Ct=ue.copy(),Y=(0,_.Z)(Gt||Ee,se),ge,ve,be;if((be=he.call(H,new p("beforestart",{sourceEvent:Ee,target:ie,identifier:_t,active:X,x:Y[0],y:Y[1],dx:0,dy:0,dispatch:Ct}),Ge))!=null)return ge=be.x-Y[0]||0,ve=be.y-Y[1]||0,function Re(dt,gt,Wt){var Qt=Y,Ie;switch(dt){case"start":ce[_t]=Re,Ie=X++;break;case"end":delete ce[_t],--X;case"drag":Y=(0,_.Z)(Wt||gt,se),Ie=X;break}Ct.call(dt,H,new p(dt,{sourceEvent:gt,subject:be,target:ie,identifier:_t,active:Ie,x:Y[0]+ge,y:Y[1]+ve,dx:Y[0]-Qt[0],dy:Y[1]-Qt[1],dispatch:Ct}),Ge)}}return ie.filter=function(H){return arguments.length?(K=typeof H=="function"?H:b(!!H),ie):K},ie.container=function(H){return arguments.length?(G=typeof H=="function"?H:b(H),ie):G},ie.subject=function(H){return arguments.length?(he=typeof H=="function"?H:b(H),ie):he},ie.touchable=function(H){return arguments.length?(Ve=typeof H=="function"?H:b(!!H),ie):Ve},ie.on=function(){var H=ue.on.apply(ue,arguments);return H===ue?ie:H},ie.clickDistance=function(H){return arguments.length?(ae=(H=+H)*H,ie):Math.sqrt(ae)},ie}},49289:function(B,Z,l){"use strict";l.d(Z,{D:function(){return T},Z:function(){return _}});var i=l(41468),O=l(5873);function _(x){var b=x.document.documentElement,p=(0,i.Z)(x).on("dragstart.drag",O.ZP,O.Dd);"onselectstart"in b?p.on("selectstart.drag",O.ZP,O.Dd):(b.__noselect=b.style.MozUserSelect,b.style.MozUserSelect="none")}function T(x,b){var p=x.document.documentElement,w=(0,i.Z)(x).on("dragstart.drag",null);b&&(w.on("click.drag",O.ZP,O.Dd),setTimeout(function(){w.on("click.drag",null)},0)),"onselectstart"in p?w.on("selectstart.drag",null):(p.style.MozUserSelect=p.__noselect,delete p.__noselect)}},5873:function(B,Z,l){"use strict";l.d(Z,{Dd:function(){return O},Q7:function(){return i},ZP:function(){return T},rG:function(){return _}});const i={passive:!1},O={capture:!0,passive:!1};function _(x){x.stopImmediatePropagation()}function T(x){x.preventDefault(),x.stopImmediatePropagation()}},73409:function(B,Z,l){"use strict";l.d(Z,{P:function(){return O},Z:function(){return i}});function i(_){return function(){return this.matches(_)}}function O(_){return function(T){return T.matches(_)}}},60021:function(B,Z,l){"use strict";l.d(Z,{Z:function(){return O}});var i=l(17110);function O(_){var T=_+="",x=T.indexOf(":");return x>=0&&(T=_.slice(0,x))!=="xmlns"&&(_=_.slice(x+1)),i.Z.hasOwnProperty(T)?{space:i.Z[T],local:_}:_}},17110:function(B,Z,l){"use strict";l.d(Z,{P:function(){return i}});var i="http://www.w3.org/1999/xhtml";Z.Z={svg:"http://www.w3.org/2000/svg",xhtml:i,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},13802:function(B,Z,l){"use strict";l.d(Z,{Z:function(){return O}});function i(_){let T;for(;T=_.sourceEvent;)_=T;return _}function O(_,T){if(_=i(_),T===void 0&&(T=_.currentTarget),T){var x=T.ownerSVGElement||T;if(x.createSVGPoint){var b=x.createSVGPoint();return b.x=_.clientX,b.y=_.clientY,b=b.matrixTransform(T.getScreenCTM().inverse()),[b.x,b.y]}if(T.getBoundingClientRect){var p=T.getBoundingClientRect();return[_.clientX-p.left-T.clientLeft,_.clientY-p.top-T.clientTop]}}return[_.pageX,_.pageY]}},41468:function(B,Z,l){"use strict";l.d(Z,{Z:function(){return O}});var i=l(1776);function O(_){return typeof _=="string"?new i.Y1([[document.querySelector(_)]],[document.documentElement]):new i.Y1([[_]],i.Jz)}},1776:function(B,Z,l){"use strict";l.d(Z,{Y1:function(){return er},ZP:function(){return Wr},Jz:function(){return co}});var i=l(66456);function O(V){typeof V!="function"&&(V=(0,i.Z)(V));for(var me=this._groups,nt=me.length,rt=new Array(nt),Ke=0;Ke<nt;++Ke)for(var lt=me[Ke],kt=lt.length,At=rt[Ke]=new Array(kt),Ht,sn,xn=0;xn<kt;++xn)(Ht=lt[xn])&&(sn=V.call(Ht,Ht.__data__,xn,lt))&&("__data__"in Ht&&(sn.__data__=Ht.__data__),At[xn]=sn);return new er(rt,this._parents)}function _(V){return V==null?[]:Array.isArray(V)?V:Array.from(V)}var T=l(16851);function x(V){return function(){return _(V.apply(this,arguments))}}function b(V){typeof V=="function"?V=x(V):V=(0,T.Z)(V);for(var me=this._groups,nt=me.length,rt=[],Ke=[],lt=0;lt<nt;++lt)for(var kt=me[lt],At=kt.length,Ht,sn=0;sn<At;++sn)(Ht=kt[sn])&&(rt.push(V.call(Ht,Ht.__data__,sn,kt)),Ke.push(Ht));return new er(rt,Ke)}var p=l(73409),w=Array.prototype.find;function E(V){return function(){return w.call(this.children,V)}}function I(){return this.firstElementChild}function U(V){return this.select(V==null?I:E(typeof V=="function"?V:(0,p.P)(V)))}var N=Array.prototype.filter;function K(){return Array.from(this.children)}function G(V){return function(){return N.call(this.children,V)}}function he(V){return this.selectAll(V==null?K:G(typeof V=="function"?V:(0,p.P)(V)))}function Ve(V){typeof V!="function"&&(V=(0,p.Z)(V));for(var me=this._groups,nt=me.length,rt=new Array(nt),Ke=0;Ke<nt;++Ke)for(var lt=me[Ke],kt=lt.length,At=rt[Ke]=[],Ht,sn=0;sn<kt;++sn)(Ht=lt[sn])&&V.call(Ht,Ht.__data__,sn,lt)&&At.push(Ht);return new er(rt,this._parents)}function ce(V){return new Array(V.length)}function ue(){return new er(this._enter||this._groups.map(ce),this._parents)}function X(V,me){this.ownerDocument=V.ownerDocument,this.namespaceURI=V.namespaceURI,this._next=null,this._parent=V,this.__data__=me}X.prototype={constructor:X,appendChild:function(V){return this._parent.insertBefore(V,this._next)},insertBefore:function(V,me){return this._parent.insertBefore(V,me)},querySelector:function(V){return this._parent.querySelector(V)},querySelectorAll:function(V){return this._parent.querySelectorAll(V)}};function re(V){return function(){return V}}function oe(V,me,nt,rt,Ke,lt){for(var kt=0,At,Ht=me.length,sn=lt.length;kt<sn;++kt)(At=me[kt])?(At.__data__=lt[kt],rt[kt]=At):nt[kt]=new X(V,lt[kt]);for(;kt<Ht;++kt)(At=me[kt])&&(Ke[kt]=At)}function $(V,me,nt,rt,Ke,lt,kt){var At,Ht,sn=new Map,xn=me.length,Yn=lt.length,pr=new Array(xn),Jn;for(At=0;At<xn;++At)(Ht=me[At])&&(pr[At]=Jn=kt.call(Ht,Ht.__data__,At,me)+"",sn.has(Jn)?Ke[At]=Ht:sn.set(Jn,Ht));for(At=0;At<Yn;++At)Jn=kt.call(V,lt[At],At,lt)+"",(Ht=sn.get(Jn))?(rt[At]=Ht,Ht.__data__=lt[At],sn.delete(Jn)):nt[At]=new X(V,lt[At]);for(At=0;At<xn;++At)(Ht=me[At])&&sn.get(pr[At])===Ht&&(Ke[At]=Ht)}function Q(V){return V.__data__}function ae(V,me){if(!arguments.length)return Array.from(this,Q);var nt=me?$:oe,rt=this._parents,Ke=this._groups;typeof V!="function"&&(V=re(V));for(var lt=Ke.length,kt=new Array(lt),At=new Array(lt),Ht=new Array(lt),sn=0;sn<lt;++sn){var xn=rt[sn],Yn=Ke[sn],pr=Yn.length,Jn=ie(V.call(xn,xn&&xn.__data__,sn,rt)),Qn=Jn.length,Ur=At[sn]=new Array(Qn),Uo=kt[sn]=new Array(Qn),zo=Ht[sn]=new Array(pr);nt(xn,Yn,Ur,Uo,zo,Jn,me);for(var zr=0,Jr=0,Vo,Ir;zr<Qn;++zr)if(Vo=Ur[zr]){for(zr>=Jr&&(Jr=zr+1);!(Ir=Uo[Jr])&&++Jr<Qn;);Vo._next=Ir||null}}return kt=new er(kt,rt),kt._enter=At,kt._exit=Ht,kt}function ie(V){return typeof V=="object"&&"length"in V?V:Array.from(V)}function _e(){return new er(this._exit||this._groups.map(ce),this._parents)}function Le(V,me,nt){var rt=this.enter(),Ke=this,lt=this.exit();return typeof V=="function"?(rt=V(rt),rt&&(rt=rt.selection())):rt=rt.append(V+""),me!=null&&(Ke=me(Ke),Ke&&(Ke=Ke.selection())),nt==null?lt.remove():nt(lt),rt&&Ke?rt.merge(Ke).order():Ke}function P(V){for(var me=V.selection?V.selection():V,nt=this._groups,rt=me._groups,Ke=nt.length,lt=rt.length,kt=Math.min(Ke,lt),At=new Array(Ke),Ht=0;Ht<kt;++Ht)for(var sn=nt[Ht],xn=rt[Ht],Yn=sn.length,pr=At[Ht]=new Array(Yn),Jn,Qn=0;Qn<Yn;++Qn)(Jn=sn[Qn]||xn[Qn])&&(pr[Qn]=Jn);for(;Ht<Ke;++Ht)At[Ht]=nt[Ht];return new er(At,this._parents)}function J(){for(var V=this._groups,me=-1,nt=V.length;++me<nt;)for(var rt=V[me],Ke=rt.length-1,lt=rt[Ke],kt;--Ke>=0;)(kt=rt[Ke])&&(lt&&kt.compareDocumentPosition(lt)^4&&lt.parentNode.insertBefore(kt,lt),lt=kt);return this}function Ce(V){V||(V=xe);function me(Yn,pr){return Yn&&pr?V(Yn.__data__,pr.__data__):!Yn-!pr}for(var nt=this._groups,rt=nt.length,Ke=new Array(rt),lt=0;lt<rt;++lt){for(var kt=nt[lt],At=kt.length,Ht=Ke[lt]=new Array(At),sn,xn=0;xn<At;++xn)(sn=kt[xn])&&(Ht[xn]=sn);Ht.sort(me)}return new er(Ke,this._parents).order()}function xe(V,me){return V<me?-1:V>me?1:V>=me?0:NaN}function je(){var V=arguments[0];return arguments[0]=this,V.apply(null,arguments),this}function H(){return Array.from(this)}function se(){for(var V=this._groups,me=0,nt=V.length;me<nt;++me)for(var rt=V[me],Ke=0,lt=rt.length;Ke<lt;++Ke){var kt=rt[Ke];if(kt)return kt}return null}function Ee(){let V=0;for(const me of this)++V;return V}function Ge(){return!this.node()}function _t(V){for(var me=this._groups,nt=0,rt=me.length;nt<rt;++nt)for(var Ke=me[nt],lt=0,kt=Ke.length,At;lt<kt;++lt)(At=Ke[lt])&&V.call(At,At.__data__,lt,Ke);return this}var Gt=l(60021);function Ct(V){return function(){this.removeAttribute(V)}}function Y(V){return function(){this.removeAttributeNS(V.space,V.local)}}function ge(V,me){return function(){this.setAttribute(V,me)}}function ve(V,me){return function(){this.setAttributeNS(V.space,V.local,me)}}function be(V,me){return function(){var nt=me.apply(this,arguments);nt==null?this.removeAttribute(V):this.setAttribute(V,nt)}}function Re(V,me){return function(){var nt=me.apply(this,arguments);nt==null?this.removeAttributeNS(V.space,V.local):this.setAttributeNS(V.space,V.local,nt)}}function dt(V,me){var nt=(0,Gt.Z)(V);if(arguments.length<2){var rt=this.node();return nt.local?rt.getAttributeNS(nt.space,nt.local):rt.getAttribute(nt)}return this.each((me==null?nt.local?Y:Ct:typeof me=="function"?nt.local?Re:be:nt.local?ve:ge)(nt,me))}var gt=l(77932);function Wt(V){return function(){delete this[V]}}function Qt(V,me){return function(){this[V]=me}}function Ie(V,me){return function(){var nt=me.apply(this,arguments);nt==null?delete this[V]:this[V]=nt}}function De(V,me){return arguments.length>1?this.each((me==null?Wt:typeof me=="function"?Ie:Qt)(V,me)):this.node()[V]}function We(V){return V.trim().split(/^|\s+/)}function He(V){return V.classList||new ye(V)}function ye(V){this._node=V,this._names=We(V.getAttribute("class")||"")}ye.prototype={add:function(V){var me=this._names.indexOf(V);me<0&&(this._names.push(V),this._node.setAttribute("class",this._names.join(" ")))},remove:function(V){var me=this._names.indexOf(V);me>=0&&(this._names.splice(me,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(V){return this._names.indexOf(V)>=0}};function Ft(V,me){for(var nt=He(V),rt=-1,Ke=me.length;++rt<Ke;)nt.add(me[rt])}function yn(V,me){for(var nt=He(V),rt=-1,Ke=me.length;++rt<Ke;)nt.remove(me[rt])}function gn(V){return function(){Ft(this,V)}}function Sn(V){return function(){yn(this,V)}}function kn(V,me){return function(){(me.apply(this,arguments)?Ft:yn)(this,V)}}function bn(V,me){var nt=We(V+"");if(arguments.length<2){for(var rt=He(this.node()),Ke=-1,lt=nt.length;++Ke<lt;)if(!rt.contains(nt[Ke]))return!1;return!0}return this.each((typeof me=="function"?kn:me?gn:Sn)(nt,me))}function Tn(){this.textContent=""}function Bn(V){return function(){this.textContent=V}}function In(V){return function(){var me=V.apply(this,arguments);this.textContent=me==null?"":me}}function on(V){return arguments.length?this.each(V==null?Tn:(typeof V=="function"?In:Bn)(V)):this.node().textContent}function M(){this.innerHTML=""}function W(V){return function(){this.innerHTML=V}}function we(V){return function(){var me=V.apply(this,arguments);this.innerHTML=me==null?"":me}}function Pe(V){return arguments.length?this.each(V==null?M:(typeof V=="function"?we:W)(V)):this.node().innerHTML}function Xe(){this.nextSibling&&this.parentNode.appendChild(this)}function mt(){return this.each(Xe)}function bt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ht(){return this.each(bt)}var ze=l(17110);function Je(V){return function(){var me=this.ownerDocument,nt=this.namespaceURI;return nt===ze.P&&me.documentElement.namespaceURI===ze.P?me.createElement(V):me.createElementNS(nt,V)}}function jt(V){return function(){return this.ownerDocument.createElementNS(V.space,V.local)}}function cn(V){var me=(0,Gt.Z)(V);return(me.local?jt:Je)(me)}function Zt(V){var me=typeof V=="function"?V:cn(V);return this.select(function(){return this.appendChild(me.apply(this,arguments))})}function nn(){return null}function qt(V,me){var nt=typeof V=="function"?V:cn(V),rt=me==null?nn:typeof me=="function"?me:(0,i.Z)(me);return this.select(function(){return this.insertBefore(nt.apply(this,arguments),rt.apply(this,arguments)||null)})}function en(){var V=this.parentNode;V&&V.removeChild(this)}function wn(){return this.each(en)}function hn(){var V=this.cloneNode(!1),me=this.parentNode;return me?me.insertBefore(V,this.nextSibling):V}function mn(){var V=this.cloneNode(!0),me=this.parentNode;return me?me.insertBefore(V,this.nextSibling):V}function yt(V){return this.select(V?mn:hn)}function zt(V){return arguments.length?this.property("__data__",V):this.node().__data__}function Et(V){return function(me){V.call(this,me,this.__data__)}}function st(V){return V.trim().split(/^|\s+/).map(function(me){var nt="",rt=me.indexOf(".");return rt>=0&&(nt=me.slice(rt+1),me=me.slice(0,rt)),{type:me,name:nt}})}function Lt(V){return function(){var me=this.__on;if(me){for(var nt=0,rt=-1,Ke=me.length,lt;nt<Ke;++nt)lt=me[nt],(!V.type||lt.type===V.type)&&lt.name===V.name?this.removeEventListener(lt.type,lt.listener,lt.options):me[++rt]=lt;++rt?me.length=rt:delete this.__on}}}function Kt(V,me,nt){return function(){var rt=this.__on,Ke,lt=Et(me);if(rt){for(var kt=0,At=rt.length;kt<At;++kt)if((Ke=rt[kt]).type===V.type&&Ke.name===V.name){this.removeEventListener(Ke.type,Ke.listener,Ke.options),this.addEventListener(Ke.type,Ke.listener=lt,Ke.options=nt),Ke.value=me;return}}this.addEventListener(V.type,lt,nt),Ke={type:V.type,name:V.name,value:me,listener:lt,options:nt},rt?rt.push(Ke):this.__on=[Ke]}}function fr(V,me,nt){var rt=st(V+""),Ke,lt=rt.length,kt;if(arguments.length<2){var At=this.node().__on;if(At){for(var Ht=0,sn=At.length,xn;Ht<sn;++Ht)for(Ke=0,xn=At[Ht];Ke<lt;++Ke)if((kt=rt[Ke]).type===xn.type&&kt.name===xn.name)return xn.value}return}for(At=me?Kt:Lt,Ke=0;Ke<lt;++Ke)this.each(At(rt[Ke],me,nt));return this}var Pn=l(4010);function yr(V,me,nt){var rt=(0,Pn.Z)(V),Ke=rt.CustomEvent;typeof Ke=="function"?Ke=new Ke(me,nt):(Ke=rt.document.createEvent("Event"),nt?(Ke.initEvent(me,nt.bubbles,nt.cancelable),Ke.detail=nt.detail):Ke.initEvent(me,!1,!1)),V.dispatchEvent(Ke)}function hr(V,me){return function(){return yr(this,V,me)}}function kr(V,me){return function(){return yr(this,V,me.apply(this,arguments))}}function or(V,me){return this.each((typeof me=="function"?kr:hr)(V,me))}function*Bo(){for(var V=this._groups,me=0,nt=V.length;me<nt;++me)for(var rt=V[me],Ke=0,lt=rt.length,kt;Ke<lt;++Ke)(kt=rt[Ke])&&(yield kt)}var co=[null];function er(V,me){this._groups=V,this._parents=me}function ir(){return new er([[document.documentElement]],co)}function wr(){return this}er.prototype=ir.prototype={constructor:er,select:O,selectAll:b,selectChild:U,selectChildren:he,filter:Ve,data:ae,enter:ue,exit:_e,join:Le,merge:P,selection:wr,order:J,sort:Ce,call:je,nodes:H,node:se,size:Ee,empty:Ge,each:_t,attr:dt,style:gt.Z,property:De,classed:bn,text:on,html:Pe,raise:mt,lower:ht,append:Zt,insert:qt,remove:wn,clone:yt,datum:zt,on:fr,dispatch:or,[Symbol.iterator]:Bo};var Wr=ir},77932:function(B,Z,l){"use strict";l.d(Z,{S:function(){return b},Z:function(){return x}});var i=l(4010);function O(p){return function(){this.style.removeProperty(p)}}function _(p,w,E){return function(){this.style.setProperty(p,w,E)}}function T(p,w,E){return function(){var I=w.apply(this,arguments);I==null?this.style.removeProperty(p):this.style.setProperty(p,I,E)}}function x(p,w,E){return arguments.length>1?this.each((w==null?O:typeof w=="function"?T:_)(p,w,E==null?"":E)):b(this.node(),p)}function b(p,w){return p.style.getPropertyValue(w)||(0,i.Z)(p).getComputedStyle(p,null).getPropertyValue(w)}},66456:function(B,Z,l){"use strict";l.d(Z,{Z:function(){return O}});function i(){}function O(_){return _==null?i:function(){return this.querySelector(_)}}},16851:function(B,Z,l){"use strict";l.d(Z,{Z:function(){return O}});function i(){return[]}function O(_){return _==null?i:function(){return this.querySelectorAll(_)}}},4010:function(B,Z,l){"use strict";l.d(Z,{Z:function(){return i}});function i(O){return O.ownerDocument&&O.ownerDocument.defaultView||O.document&&O||O.defaultView}},78132:function(B,Z,l){"use strict";l.d(Z,{sP:function(){return gi},CR:function(){return bo}});var i=l(89189),O=l(49289),_=1e-12;function T(a){return((a=Math.exp(a))+1/a)/2}function x(a){return((a=Math.exp(a))-1/a)/2}function b(a){return((a=Math.exp(2*a))-1)/(a+1)}var p=function a(g,k,j){function pe(Se,de){var Be=Se[0],Ye=Se[1],qe=Se[2],et=de[0],Vt=de[1],$t=de[2],tn=et-Be,qn=Vt-Ye,zn=tn*tn+qn*qn,ur,rn;if(zn<_)rn=Math.log($t/qe)/g,ur=function(sr){return[Be+sr*tn,Ye+sr*qn,qe*Math.exp(g*sr*rn)]};else{var Nr=Math.sqrt(zn),vr=($t*$t-qe*qe+j*zn)/(2*qe*k*Nr),Dr=($t*$t-qe*qe-j*zn)/(2*$t*k*Nr),Pr=Math.log(Math.sqrt(vr*vr+1)-vr),br=Math.log(Math.sqrt(Dr*Dr+1)-Dr);rn=(br-Pr)/g,ur=function(sr){var xr=sr*rn,Jo=T(Pr),Mo=qe/(k*Nr)*(Jo*b(g*xr+Pr)-x(Pr));return[Be+Mo*tn,Ye+Mo*qn,qe*Jo/T(g*xr+Pr)]}}return ur.duration=rn*1e3*g/Math.SQRT2,ur}return pe.rho=function(Se){var de=Math.max(.001,+Se),Be=de*de,Ye=Be*Be;return a(de,Be,Ye)},pe}(Math.SQRT2,2,4),w=l(41468),E=l(13802),I=l(1776),U=0,N=0,K=0,G=1e3,he,Ve,ce=0,ue=0,X=0,re=typeof performance=="object"&&performance.now?performance:Date,oe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};function $(){return ue||(oe(Q),ue=re.now()+X)}function Q(){ue=0}function ae(){this._call=this._time=this._next=null}ae.prototype=ie.prototype={constructor:ae,restart:function(a,g,k){if(typeof a!="function")throw new TypeError("callback is not a function");k=(k==null?$():+k)+(g==null?0:+g),!this._next&&Ve!==this&&(Ve?Ve._next=this:he=this,Ve=this),this._call=a,this._time=k,Ce()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ce())}};function ie(a,g,k){var j=new ae;return j.restart(a,g,k),j}function _e(){$(),++U;for(var a=he,g;a;)(g=ue-a._time)>=0&&a._call.call(void 0,g),a=a._next;--U}function Le(){ue=(ce=re.now())+X,U=N=0;try{_e()}finally{U=0,J(),ue=0}}function P(){var a=re.now(),g=a-ce;g>G&&(X-=g,ce=a)}function J(){for(var a,g=he,k,j=1/0;g;)g._call?(j>g._time&&(j=g._time),a=g,g=g._next):(k=g._next,g._next=null,g=a?a._next=k:he=k);Ve=a,Ce(j)}function Ce(a){if(!U){N&&(N=clearTimeout(N));var g=a-ue;g>24?(a<1/0&&(N=setTimeout(Le,a-re.now()-X)),K&&(K=clearInterval(K))):(K||(ce=re.now(),K=setInterval(P,G)),U=1,oe(Le))}}function xe(a,g,k){var j=new ae;return g=g==null?0:+g,j.restart(pe=>{j.stop(),a(pe+g)},g,k),j}var je=(0,i.Z)("start","end","cancel","interrupt"),H=[],se=0,Ee=1,Ge=2,_t=3,Gt=4,Ct=5,Y=6;function ge(a,g,k,j,pe,Se){var de=a.__transition;if(!de)a.__transition={};else if(k in de)return;dt(a,k,{name:g,index:j,group:pe,on:je,tween:H,time:Se.time,delay:Se.delay,duration:Se.duration,ease:Se.ease,timer:null,state:se})}function ve(a,g){var k=Re(a,g);if(k.state>se)throw new Error("too late; already scheduled");return k}function be(a,g){var k=Re(a,g);if(k.state>_t)throw new Error("too late; already running");return k}function Re(a,g){var k=a.__transition;if(!k||!(k=k[g]))throw new Error("transition not found");return k}function dt(a,g,k){var j=a.__transition,pe;j[g]=k,k.timer=ie(Se,0,k.time);function Se(qe){k.state=Ee,k.timer.restart(de,k.delay,k.time),k.delay<=qe&&de(qe-k.delay)}function de(qe){var et,Vt,$t,tn;if(k.state!==Ee)return Ye();for(et in j)if(tn=j[et],tn.name===k.name){if(tn.state===_t)return xe(de);tn.state===Gt?(tn.state=Y,tn.timer.stop(),tn.on.call("interrupt",a,a.__data__,tn.index,tn.group),delete j[et]):+et<g&&(tn.state=Y,tn.timer.stop(),tn.on.call("cancel",a,a.__data__,tn.index,tn.group),delete j[et])}if(xe(function(){k.state===_t&&(k.state=Gt,k.timer.restart(Be,k.delay,k.time),Be(qe))}),k.state=Ge,k.on.call("start",a,a.__data__,k.index,k.group),k.state===Ge){for(k.state=_t,pe=new Array($t=k.tween.length),et=0,Vt=-1;et<$t;++et)(tn=k.tween[et].value.call(a,a.__data__,k.index,k.group))&&(pe[++Vt]=tn);pe.length=Vt+1}}function Be(qe){for(var et=qe<k.duration?k.ease.call(null,qe/k.duration):(k.timer.restart(Ye),k.state=Ct,1),Vt=-1,$t=pe.length;++Vt<$t;)pe[Vt].call(a,et);k.state===Ct&&(k.on.call("end",a,a.__data__,k.index,k.group),Ye())}function Ye(){k.state=Y,k.timer.stop(),delete j[g];for(var qe in j)return;delete a.__transition}}function gt(a,g){var k=a.__transition,j,pe,Se=!0,de;if(k){g=g==null?null:g+"";for(de in k){if((j=k[de]).name!==g){Se=!1;continue}pe=j.state>Ge&&j.state<Ct,j.state=Y,j.timer.stop(),j.on.call(pe?"interrupt":"cancel",a,a.__data__,j.index,j.group),delete k[de]}Se&&delete a.__transition}}function Wt(a){return this.each(function(){gt(this,a)})}function Qt(a,g){return a=+a,g=+g,function(k){return a*(1-k)+g*k}}var Ie=180/Math.PI,De={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function We(a,g,k,j,pe,Se){var de,Be,Ye;return(de=Math.sqrt(a*a+g*g))&&(a/=de,g/=de),(Ye=a*k+g*j)&&(k-=a*Ye,j-=g*Ye),(Be=Math.sqrt(k*k+j*j))&&(k/=Be,j/=Be,Ye/=Be),a*j<g*k&&(a=-a,g=-g,Ye=-Ye,de=-de),{translateX:pe,translateY:Se,rotate:Math.atan2(g,a)*Ie,skewX:Math.atan(Ye)*Ie,scaleX:de,scaleY:Be}}var He;function ye(a){var g=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(a+"");return g.isIdentity?De:We(g.a,g.b,g.c,g.d,g.e,g.f)}function Ft(a){return a==null||(He||(He=document.createElementNS("http://www.w3.org/2000/svg","g")),He.setAttribute("transform",a),!(a=He.transform.baseVal.consolidate()))?De:(a=a.matrix,We(a.a,a.b,a.c,a.d,a.e,a.f))}function yn(a,g,k,j){function pe(qe){return qe.length?qe.pop()+" ":""}function Se(qe,et,Vt,$t,tn,qn){if(qe!==Vt||et!==$t){var zn=tn.push("translate(",null,g,null,k);qn.push({i:zn-4,x:Qt(qe,Vt)},{i:zn-2,x:Qt(et,$t)})}else(Vt||$t)&&tn.push("translate("+Vt+g+$t+k)}function de(qe,et,Vt,$t){qe!==et?(qe-et>180?et+=360:et-qe>180&&(qe+=360),$t.push({i:Vt.push(pe(Vt)+"rotate(",null,j)-2,x:Qt(qe,et)})):et&&Vt.push(pe(Vt)+"rotate("+et+j)}function Be(qe,et,Vt,$t){qe!==et?$t.push({i:Vt.push(pe(Vt)+"skewX(",null,j)-2,x:Qt(qe,et)}):et&&Vt.push(pe(Vt)+"skewX("+et+j)}function Ye(qe,et,Vt,$t,tn,qn){if(qe!==Vt||et!==$t){var zn=tn.push(pe(tn)+"scale(",null,",",null,")");qn.push({i:zn-4,x:Qt(qe,Vt)},{i:zn-2,x:Qt(et,$t)})}else(Vt!==1||$t!==1)&&tn.push(pe(tn)+"scale("+Vt+","+$t+")")}return function(qe,et){var Vt=[],$t=[];return qe=a(qe),et=a(et),Se(qe.translateX,qe.translateY,et.translateX,et.translateY,Vt,$t),de(qe.rotate,et.rotate,Vt,$t),Be(qe.skewX,et.skewX,Vt,$t),Ye(qe.scaleX,qe.scaleY,et.scaleX,et.scaleY,Vt,$t),qe=et=null,function(tn){for(var qn=-1,zn=$t.length,ur;++qn<zn;)Vt[(ur=$t[qn]).i]=ur.x(tn);return Vt.join("")}}}var gn=yn(ye,"px, ","px)","deg)"),Sn=yn(Ft,", ",")",")"),kn=l(60021);function bn(a,g){var k,j;return function(){var pe=be(this,a),Se=pe.tween;if(Se!==k){j=k=Se;for(var de=0,Be=j.length;de<Be;++de)if(j[de].name===g){j=j.slice(),j.splice(de,1);break}}pe.tween=j}}function Tn(a,g,k){var j,pe;if(typeof k!="function")throw new Error;return function(){var Se=be(this,a),de=Se.tween;if(de!==j){pe=(j=de).slice();for(var Be={name:g,value:k},Ye=0,qe=pe.length;Ye<qe;++Ye)if(pe[Ye].name===g){pe[Ye]=Be;break}Ye===qe&&pe.push(Be)}Se.tween=pe}}function Bn(a,g){var k=this._id;if(a+="",arguments.length<2){for(var j=Re(this.node(),k).tween,pe=0,Se=j.length,de;pe<Se;++pe)if((de=j[pe]).name===a)return de.value;return null}return this.each((g==null?bn:Tn)(k,a,g))}function In(a,g,k){var j=a._id;return a.each(function(){var pe=be(this,j);(pe.value||(pe.value={}))[g]=k.apply(this,arguments)}),function(pe){return Re(pe,j).value[g]}}function on(a,g,k){a.prototype=g.prototype=k,k.constructor=a}function M(a,g){var k=Object.create(a.prototype);for(var j in g)k[j]=g[j];return k}function W(){}var we=.7,Pe=1/we,Xe="\\s*([+-]?\\d+)\\s*",mt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ht=/^#([0-9a-f]{3,8})$/,ze=new RegExp("^rgb\\(".concat(Xe,",").concat(Xe,",").concat(Xe,"\\)$")),Je=new RegExp("^rgb\\(".concat(bt,",").concat(bt,",").concat(bt,"\\)$")),jt=new RegExp("^rgba\\(".concat(Xe,",").concat(Xe,",").concat(Xe,",").concat(mt,"\\)$")),cn=new RegExp("^rgba\\(".concat(bt,",").concat(bt,",").concat(bt,",").concat(mt,"\\)$")),Zt=new RegExp("^hsl\\(".concat(mt,",").concat(bt,",").concat(bt,"\\)$")),nn=new RegExp("^hsla\\(".concat(mt,",").concat(bt,",").concat(bt,",").concat(mt,"\\)$")),qt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};on(W,yt,{copy:function(g){return Object.assign(new this.constructor,this,g)},displayable:function(){return this.rgb().displayable()},hex:en,formatHex:en,formatHex8:wn,formatHsl:hn,formatRgb:mn,toString:mn});function en(){return this.rgb().formatHex()}function wn(){return this.rgb().formatHex8()}function hn(){return co(this).formatHsl()}function mn(){return this.rgb().formatRgb()}function yt(a){var g,k;return a=(a+"").trim().toLowerCase(),(g=ht.exec(a))?(k=g[1].length,g=parseInt(g[1],16),k===6?zt(g):k===3?new Kt(g>>8&15|g>>4&240,g>>4&15|g&240,(g&15)<<4|g&15,1):k===8?Et(g>>24&255,g>>16&255,g>>8&255,(g&255)/255):k===4?Et(g>>12&15|g>>8&240,g>>8&15|g>>4&240,g>>4&15|g&240,((g&15)<<4|g&15)/255):null):(g=ze.exec(a))?new Kt(g[1],g[2],g[3],1):(g=Je.exec(a))?new Kt(g[1]*255/100,g[2]*255/100,g[3]*255/100,1):(g=jt.exec(a))?Et(g[1],g[2],g[3],g[4]):(g=cn.exec(a))?Et(g[1]*255/100,g[2]*255/100,g[3]*255/100,g[4]):(g=Zt.exec(a))?Bo(g[1],g[2]/100,g[3]/100,1):(g=nn.exec(a))?Bo(g[1],g[2]/100,g[3]/100,g[4]):qt.hasOwnProperty(a)?zt(qt[a]):a==="transparent"?new Kt(NaN,NaN,NaN,0):null}function zt(a){return new Kt(a>>16&255,a>>8&255,a&255,1)}function Et(a,g,k,j){return j<=0&&(a=g=k=NaN),new Kt(a,g,k,j)}function st(a){return a instanceof W||(a=yt(a)),a?(a=a.rgb(),new Kt(a.r,a.g,a.b,a.opacity)):new Kt}function Lt(a,g,k,j){return arguments.length===1?st(a):new Kt(a,g,k,j==null?1:j)}function Kt(a,g,k,j){this.r=+a,this.g=+g,this.b=+k,this.opacity=+j}on(Kt,Lt,M(W,{brighter:function(g){return g=g==null?Pe:Math.pow(Pe,g),new Kt(this.r*g,this.g*g,this.b*g,this.opacity)},darker:function(g){return g=g==null?we:Math.pow(we,g),new Kt(this.r*g,this.g*g,this.b*g,this.opacity)},rgb:function(){return this},clamp:function(){return new Kt(kr(this.r),kr(this.g),kr(this.b),hr(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fr,formatHex:fr,formatHex8:Pn,formatRgb:yr,toString:yr}));function fr(){return"#".concat(or(this.r)).concat(or(this.g)).concat(or(this.b))}function Pn(){return"#".concat(or(this.r)).concat(or(this.g)).concat(or(this.b)).concat(or((isNaN(this.opacity)?1:this.opacity)*255))}function yr(){var a=hr(this.opacity);return"".concat(a===1?"rgb(":"rgba(").concat(kr(this.r),", ").concat(kr(this.g),", ").concat(kr(this.b)).concat(a===1?")":", ".concat(a,")"))}function hr(a){return isNaN(a)?1:Math.max(0,Math.min(1,a))}function kr(a){return Math.max(0,Math.min(255,Math.round(a)||0))}function or(a){return a=kr(a),(a<16?"0":"")+a.toString(16)}function Bo(a,g,k,j){return j<=0?a=g=k=NaN:k<=0||k>=1?a=g=NaN:g<=0&&(a=NaN),new ir(a,g,k,j)}function co(a){if(a instanceof ir)return new ir(a.h,a.s,a.l,a.opacity);if(a instanceof W||(a=yt(a)),!a)return new ir;if(a instanceof ir)return a;a=a.rgb();var g=a.r/255,k=a.g/255,j=a.b/255,pe=Math.min(g,k,j),Se=Math.max(g,k,j),de=NaN,Be=Se-pe,Ye=(Se+pe)/2;return Be?(g===Se?de=(k-j)/Be+(k<j)*6:k===Se?de=(j-g)/Be+2:de=(g-k)/Be+4,Be/=Ye<.5?Se+pe:2-Se-pe,de*=60):Be=Ye>0&&Ye<1?0:de,new ir(de,Be,Ye,a.opacity)}function er(a,g,k,j){return arguments.length===1?co(a):new ir(a,g,k,j==null?1:j)}function ir(a,g,k,j){this.h=+a,this.s=+g,this.l=+k,this.opacity=+j}on(ir,er,M(W,{brighter:function(g){return g=g==null?Pe:Math.pow(Pe,g),new ir(this.h,this.s,this.l*g,this.opacity)},darker:function(g){return g=g==null?we:Math.pow(we,g),new ir(this.h,this.s,this.l*g,this.opacity)},rgb:function(){var g=this.h%360+(this.h<0)*360,k=isNaN(g)||isNaN(this.s)?0:this.s,j=this.l,pe=j+(j<.5?j:1-j)*k,Se=2*j-pe;return new Kt(V(g>=240?g-240:g+120,Se,pe),V(g,Se,pe),V(g<120?g+240:g-120,Se,pe),this.opacity)},clamp:function(){return new ir(wr(this.h),Wr(this.s),Wr(this.l),hr(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var g=hr(this.opacity);return"".concat(g===1?"hsl(":"hsla(").concat(wr(this.h),", ").concat(Wr(this.s)*100,"%, ").concat(Wr(this.l)*100,"%").concat(g===1?")":", ".concat(g,")"))}}));function wr(a){return a=(a||0)%360,a<0?a+360:a}function Wr(a){return Math.max(0,Math.min(1,a||0))}function V(a,g,k){return(a<60?g+(k-g)*a/60:a<180?k:a<240?g+(k-g)*(240-a)/60:g)*255}function me(a,g,k,j,pe){var Se=a*a,de=Se*a;return((1-3*a+3*Se-de)*g+(4-6*Se+3*de)*k+(1+3*a+3*Se-3*de)*j+de*pe)/6}function nt(a){var g=a.length-1;return function(k){var j=k<=0?k=0:k>=1?(k=1,g-1):Math.floor(k*g),pe=a[j],Se=a[j+1],de=j>0?a[j-1]:2*pe-Se,Be=j<g-1?a[j+2]:2*Se-pe;return me((k-j/g)*g,de,pe,Se,Be)}}function rt(a){var g=a.length;return function(k){var j=Math.floor(((k%=1)<0?++k:k)*g),pe=a[(j+g-1)%g],Se=a[j%g],de=a[(j+1)%g],Be=a[(j+2)%g];return me((k-j/g)*g,pe,Se,de,Be)}}var Ke=function(a){return function(){return a}};function lt(a,g){return function(k){return a+k*g}}function kt(a,g,k){return a=Math.pow(a,k),g=Math.pow(g,k)-a,k=1/k,function(j){return Math.pow(a+j*g,k)}}function At(a,g){var k=g-a;return k?lt(a,k>180||k<-180?k-360*Math.round(k/360):k):constant(isNaN(a)?g:a)}function Ht(a){return(a=+a)==1?sn:function(g,k){return k-g?kt(g,k,a):Ke(isNaN(g)?k:g)}}function sn(a,g){var k=g-a;return k?lt(a,k):Ke(isNaN(a)?g:a)}var xn=function a(g){var k=Ht(g);function j(pe,Se){var de=k((pe=Lt(pe)).r,(Se=Lt(Se)).r),Be=k(pe.g,Se.g),Ye=k(pe.b,Se.b),qe=sn(pe.opacity,Se.opacity);return function(et){return pe.r=de(et),pe.g=Be(et),pe.b=Ye(et),pe.opacity=qe(et),pe+""}}return j.gamma=a,j}(1);function Yn(a){return function(g){var k=g.length,j=new Array(k),pe=new Array(k),Se=new Array(k),de,Be;for(de=0;de<k;++de)Be=Lt(g[de]),j[de]=Be.r||0,pe[de]=Be.g||0,Se[de]=Be.b||0;return j=a(j),pe=a(pe),Se=a(Se),Be.opacity=1,function(Ye){return Be.r=j(Ye),Be.g=pe(Ye),Be.b=Se(Ye),Be+""}}}var pr=Yn(nt),Jn=Yn(rt),Qn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ur=new RegExp(Qn.source,"g");function Uo(a){return function(){return a}}function zo(a){return function(g){return a(g)+""}}function zr(a,g){var k=Qn.lastIndex=Ur.lastIndex=0,j,pe,Se,de=-1,Be=[],Ye=[];for(a=a+"",g=g+"";(j=Qn.exec(a))&&(pe=Ur.exec(g));)(Se=pe.index)>k&&(Se=g.slice(k,Se),Be[de]?Be[de]+=Se:Be[++de]=Se),(j=j[0])===(pe=pe[0])?Be[de]?Be[de]+=pe:Be[++de]=pe:(Be[++de]=null,Ye.push({i:de,x:Qt(j,pe)})),k=Ur.lastIndex;return k<g.length&&(Se=g.slice(k),Be[de]?Be[de]+=Se:Be[++de]=Se),Be.length<2?Ye[0]?zo(Ye[0].x):Uo(g):(g=Ye.length,function(qe){for(var et=0,Vt;et<g;++et)Be[(Vt=Ye[et]).i]=Vt.x(qe);return Be.join("")})}function Jr(a,g){var k;return(typeof g=="number"?Qt:g instanceof yt?xn:(k=yt(g))?(g=k,xn):zr)(a,g)}function Vo(a){return function(){this.removeAttribute(a)}}function Ir(a){return function(){this.removeAttributeNS(a.space,a.local)}}function un(a,g,k){var j,pe=k+"",Se;return function(){var de=this.getAttribute(a);return de===pe?null:de===j?Se:Se=g(j=de,k)}}function Mi(a,g,k){var j,pe=k+"",Se;return function(){var de=this.getAttributeNS(a.space,a.local);return de===pe?null:de===j?Se:Se=g(j=de,k)}}function ni(a,g,k){var j,pe,Se;return function(){var de,Be=k(this),Ye;return Be==null?void this.removeAttribute(a):(de=this.getAttribute(a),Ye=Be+"",de===Ye?null:de===j&&Ye===pe?Se:(pe=Ye,Se=g(j=de,Be)))}}function Fo(a,g,k){var j,pe,Se;return function(){var de,Be=k(this),Ye;return Be==null?void this.removeAttributeNS(a.space,a.local):(de=this.getAttributeNS(a.space,a.local),Ye=Be+"",de===Ye?null:de===j&&Ye===pe?Se:(pe=Ye,Se=g(j=de,Be)))}}function Ni(a,g){var k=(0,kn.Z)(a),j=k==="transform"?Sn:Jr;return this.attrTween(a,typeof g=="function"?(k.local?Fo:ni)(k,j,In(this,"attr."+a,g)):g==null?(k.local?Ir:Vo)(k):(k.local?Mi:un)(k,j,g))}function ri(a,g){return function(k){this.setAttribute(a,g.call(this,k))}}function lo(a,g){return function(k){this.setAttributeNS(a.space,a.local,g.call(this,k))}}function es(a,g){var k,j;function pe(){var Se=g.apply(this,arguments);return Se!==j&&(k=(j=Se)&&lo(a,Se)),k}return pe._value=g,pe}function Di(a,g){var k,j;function pe(){var Se=g.apply(this,arguments);return Se!==j&&(k=(j=Se)&&ri(a,Se)),k}return pe._value=g,pe}function Pi(a,g){var k="attr."+a;if(arguments.length<2)return(k=this.tween(k))&&k._value;if(g==null)return this.tween(k,null);if(typeof g!="function")throw new Error;var j=(0,kn.Z)(a);return this.tween(k,(j.local?es:Di)(j,g))}function Tr(a,g){return function(){ve(this,a).delay=+g.apply(this,arguments)}}function Ri(a,g){return g=+g,function(){ve(this,a).delay=g}}function oi(a){var g=this._id;return arguments.length?this.each((typeof a=="function"?Tr:Ri)(g,a)):Re(this.node(),g).delay}function Li(a,g){return function(){be(this,a).duration=+g.apply(this,arguments)}}function Bi(a,g){return g=+g,function(){be(this,a).duration=g}}function lr(a){var g=this._id;return arguments.length?this.each((typeof a=="function"?Li:Bi)(g,a)):Re(this.node(),g).duration}function uo(a,g){if(typeof g!="function")throw new Error;return function(){be(this,a).ease=g}}function ts(a){var g=this._id;return arguments.length?this.each(uo(g,a)):Re(this.node(),g).ease}function ii(a,g){return function(){var k=g.apply(this,arguments);if(typeof k!="function")throw new Error;be(this,a).ease=k}}function To(a){if(typeof a!="function")throw new Error;return this.each(ii(this._id,a))}var Wn=l(73409);function Ui(a){typeof a!="function"&&(a=(0,Wn.Z)(a));for(var g=this._groups,k=g.length,j=new Array(k),pe=0;pe<k;++pe)for(var Se=g[pe],de=Se.length,Be=j[pe]=[],Ye,qe=0;qe<de;++qe)(Ye=Se[qe])&&a.call(Ye,Ye.__data__,qe,Se)&&Be.push(Ye);return new Or(j,this._parents,this._name,this._id)}function An(a){if(a._id!==this._id)throw new Error;for(var g=this._groups,k=a._groups,j=g.length,pe=k.length,Se=Math.min(j,pe),de=new Array(j),Be=0;Be<Se;++Be)for(var Ye=g[Be],qe=k[Be],et=Ye.length,Vt=de[Be]=new Array(et),$t,tn=0;tn<et;++tn)($t=Ye[tn]||qe[tn])&&(Vt[tn]=$t);for(;Be<j;++Be)de[Be]=g[Be];return new Or(de,this._parents,this._name,this._id)}function fo(a){return(a+"").trim().split(/^|\s+/).every(function(g){var k=g.indexOf(".");return k>=0&&(g=g.slice(0,k)),!g||g==="start"})}function ho(a,g,k){var j,pe,Se=fo(g)?ve:be;return function(){var de=Se(this,a),Be=de.on;Be!==j&&(pe=(j=Be).copy()).on(g,k),de.on=pe}}function si(a,g){var k=this._id;return arguments.length<2?Re(this.node(),k).on.on(a):this.each(ho(k,a,g))}function ns(a){return function(){var g=this.parentNode;for(var k in this.__transition)if(+k!==a)return;g&&g.removeChild(this)}}function rs(){return this.on("end.remove",ns(this._id))}var jo=l(66456);function os(a){var g=this._name,k=this._id;typeof a!="function"&&(a=(0,jo.Z)(a));for(var j=this._groups,pe=j.length,Se=new Array(pe),de=0;de<pe;++de)for(var Be=j[de],Ye=Be.length,qe=Se[de]=new Array(Ye),et,Vt,$t=0;$t<Ye;++$t)(et=Be[$t])&&(Vt=a.call(et,et.__data__,$t,Be))&&("__data__"in et&&(Vt.__data__=et.__data__),qe[$t]=Vt,ge(qe[$t],g,k,$t,qe,Re(et,k)));return new Or(Se,this._parents,g,k)}var po=l(16851);function vn(a){var g=this._name,k=this._id;typeof a!="function"&&(a=(0,po.Z)(a));for(var j=this._groups,pe=j.length,Se=[],de=[],Be=0;Be<pe;++Be)for(var Ye=j[Be],qe=Ye.length,et,Vt=0;Vt<qe;++Vt)if(et=Ye[Vt]){for(var $t=a.call(et,et.__data__,Vt,Ye),tn,qn=Re(et,k),zn=0,ur=$t.length;zn<ur;++zn)(tn=$t[zn])&&ge(tn,g,k,zn,$t,qn);Se.push($t),de.push(et)}return new Or(Se,de,g,k)}var Qr=I.ZP.prototype.constructor;function Ao(){return new Qr(this._groups,this._parents)}var go=l(77932);function ai(a,g){var k,j,pe;return function(){var Se=(0,go.S)(this,a),de=(this.style.removeProperty(a),(0,go.S)(this,a));return Se===de?null:Se===k&&de===j?pe:pe=g(k=Se,j=de)}}function Zo(a){return function(){this.style.removeProperty(a)}}function qr(a,g,k){var j,pe=k+"",Se;return function(){var de=(0,go.S)(this,a);return de===pe?null:de===j?Se:Se=g(j=de,k)}}function Ho(a,g,k){var j,pe,Se;return function(){var de=(0,go.S)(this,a),Be=k(this),Ye=Be+"";return Be==null&&(Ye=Be=(this.style.removeProperty(a),(0,go.S)(this,a))),de===Ye?null:de===j&&Ye===pe?Se:(pe=Ye,Se=g(j=de,Be))}}function ci(a,g){var k,j,pe,Se="style."+g,de="end."+Se,Be;return function(){var Ye=be(this,a),qe=Ye.on,et=Ye.value[Se]==null?Be||(Be=Zo(g)):void 0;(qe!==k||pe!==et)&&(j=(k=qe).copy()).on(de,pe=et),Ye.on=j}}function li(a,g,k){var j=(a+="")=="transform"?gn:Jr;return g==null?this.styleTween(a,ai(a,j)).on("end.style."+a,Zo(a)):typeof g=="function"?this.styleTween(a,Ho(a,j,In(this,"style."+a,g))).each(ci(this._id,a)):this.styleTween(a,qr(a,j,g),k).on("end.style."+a,null)}function eo(a,g,k){return function(j){this.style.setProperty(a,g.call(this,j),k)}}function Un(a,g,k){var j,pe;function Se(){var de=g.apply(this,arguments);return de!==pe&&(j=(pe=de)&&eo(a,de,k)),j}return Se._value=g,Se}function Ar(a,g,k){var j="style."+(a+="");if(arguments.length<2)return(j=this.tween(j))&&j._value;if(g==null)return this.tween(j,null);if(typeof g!="function")throw new Error;return this.tween(j,Un(a,g,k==null?"":k))}function $o(a){return function(){this.textContent=a}}function ui(a){return function(){var g=a(this);this.textContent=g==null?"":g}}function di(a){return this.tween("text",typeof a=="function"?ui(In(this,"text",a)):$o(a==null?"":a+""))}function zi(a){return function(g){this.textContent=a.call(this,g)}}function Wo(a){var g,k;function j(){var pe=a.apply(this,arguments);return pe!==k&&(g=(k=pe)&&zi(pe)),g}return j._value=a,j}function Vi(a){var g="text";if(arguments.length<1)return(g=this.tween(g))&&g._value;if(a==null)return this.tween(g,null);if(typeof a!="function")throw new Error;return this.tween(g,Wo(a))}function mo(){for(var a=this._name,g=this._id,k=Kr(),j=this._groups,pe=j.length,Se=0;Se<pe;++Se)for(var de=j[Se],Be=de.length,Ye,qe=0;qe<Be;++qe)if(Ye=de[qe]){var et=Re(Ye,g);ge(Ye,a,k,qe,de,{time:et.time+et.delay+et.duration,delay:0,duration:et.duration,ease:et.ease})}return new Or(j,this._parents,a,k)}function Ko(){var a,g,k=this,j=k._id,pe=k.size();return new Promise(function(Se,de){var Be={value:de},Ye={value:function(){--pe===0&&Se()}};k.each(function(){var qe=be(this,j),et=qe.on;et!==a&&(g=(a=et).copy(),g._.cancel.push(Be),g._.interrupt.push(Be),g._.end.push(Ye)),qe.on=g}),pe===0&&Se()})}var fi=0;function Or(a,g,k,j){this._groups=a,this._parents=g,this._name=k,this._id=j}function Vr(a){return(0,I.ZP)().transition(a)}function Kr(){return++fi}var Mr=I.ZP.prototype;Or.prototype=Vr.prototype={constructor:Or,select:os,selectAll:vn,selectChild:Mr.selectChild,selectChildren:Mr.selectChildren,filter:Ui,merge:An,selection:Ao,transition:mo,call:Mr.call,nodes:Mr.nodes,node:Mr.node,size:Mr.size,empty:Mr.empty,each:Mr.each,on:si,attr:Ni,attrTween:Pi,style:li,styleTween:Ar,text:di,textTween:Vi,remove:rs,tween:Bn,delay:oi,duration:lr,ease:ts,easeVarying:To,end:Ko,[Symbol.iterator]:Mr[Symbol.iterator]};function Go(a){return a*a*a}function Xo(a){return--a*a*a+1}function hi(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}var yo={time:null,delay:0,duration:250,ease:hi};function wo(a,g){for(var k;!(k=a.__transition)||!(k=k[g]);)if(!(a=a.parentNode))throw new Error(`transition ${g} not found`);return k}function Fi(a){var g,k;a instanceof Or?(g=a._id,a=a._name):(g=Kr(),(k=yo).time=$(),a=a==null?null:a+"");for(var j=this._groups,pe=j.length,Se=0;Se<pe;++Se)for(var de=j[Se],Be=de.length,Ye,qe=0;qe<Be;++qe)(Ye=de[qe])&&ge(Ye,a,g,qe,de,k||wo(Ye,g));return new Or(j,this._parents,a,g)}I.ZP.prototype.interrupt=Wt,I.ZP.prototype.transition=Fi;var vo=a=>()=>a;function is(a,{sourceEvent:g,target:k,transform:j,dispatch:pe}){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:g,enumerable:!0,configurable:!0},target:{value:k,enumerable:!0,configurable:!0},transform:{value:j,enumerable:!0,configurable:!0},_:{value:pe}})}function Fr(a,g,k){this.k=a,this.x=g,this.y=k}Fr.prototype={constructor:Fr,scale:function(a){return a===1?this:new Fr(this.k*a,this.x,this.y)},translate:function(a,g){return a===0&g===0?this:new Fr(this.k,this.x+this.k*a,this.y+this.k*g)},apply:function(a){return[a[0]*this.k+this.x,a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var bo=new Fr(1,0,0);ji.prototype=Fr.prototype;function ji(a){for(;!a.__zoom;)if(!(a=a.parentNode))return bo;return a.__zoom}function to(a){a.stopImmediatePropagation()}function Oo(a){a.preventDefault(),a.stopImmediatePropagation()}function ss(a){return(!a.ctrlKey||a.type==="wheel")&&!a.button}function as(){var a=this;return a instanceof SVGElement?(a=a.ownerSVGElement||a,a.hasAttribute("viewBox")?(a=a.viewBox.baseVal,[[a.x,a.y],[a.x+a.width,a.y+a.height]]):[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]):[[0,0],[a.clientWidth,a.clientHeight]]}function pi(){return this.__zoom||bo}function cs(a){return-a.deltaY*(a.deltaMode===1?.05:a.deltaMode?1:.002)*(a.ctrlKey?10:1)}function On(){return navigator.maxTouchPoints||"ontouchstart"in this}function ls(a,g,k){var j=a.invertX(g[0][0])-k[0][0],pe=a.invertX(g[1][0])-k[1][0],Se=a.invertY(g[0][1])-k[0][1],de=a.invertY(g[1][1])-k[1][1];return a.translate(pe>j?(j+pe)/2:Math.min(0,j)||Math.max(0,pe),de>Se?(Se+de)/2:Math.min(0,Se)||Math.max(0,de))}function gi(){var a=ss,g=as,k=ls,j=cs,pe=On,Se=[0,1/0],de=[[-1/0,-1/0],[1/0,1/0]],Be=250,Ye=p,qe=(0,i.Z)("start","zoom","end"),et,Vt,$t,tn=500,qn=150,zn=0,ur=10;function rn(Oe){Oe.property("__zoom",pi).on("wheel.zoom",sr,{passive:!1}).on("mousedown.zoom",xr).on("dblclick.zoom",Jo).filter(pe).on("touchstart.zoom",Mo).on("touchmove.zoom",_r).on("touchend.zoom touchcancel.zoom",Zi).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}rn.transform=function(Oe,Ot,tt,Nt){var Jt=Oe.selection?Oe.selection():Oe;Jt.property("__zoom",pi),Oe!==Jt?Pr(Oe,Ot,tt,Nt):Jt.interrupt().each(function(){br(this,arguments).event(Nt).start().zoom(null,typeof Ot=="function"?Ot.apply(this,arguments):Ot).end()})},rn.scaleBy=function(Oe,Ot,tt,Nt){rn.scaleTo(Oe,function(){var Jt=this.__zoom.k,pn=typeof Ot=="function"?Ot.apply(this,arguments):Ot;return Jt*pn},tt,Nt)},rn.scaleTo=function(Oe,Ot,tt,Nt){rn.transform(Oe,function(){var Jt=g.apply(this,arguments),pn=this.__zoom,fn=tt==null?Dr(Jt):typeof tt=="function"?tt.apply(this,arguments):tt,Cn=pn.invert(fn),Nn=typeof Ot=="function"?Ot.apply(this,arguments):Ot;return k(vr(Nr(pn,Nn),fn,Cn),Jt,de)},tt,Nt)},rn.translateBy=function(Oe,Ot,tt,Nt){rn.transform(Oe,function(){return k(this.__zoom.translate(typeof Ot=="function"?Ot.apply(this,arguments):Ot,typeof tt=="function"?tt.apply(this,arguments):tt),g.apply(this,arguments),de)},null,Nt)},rn.translateTo=function(Oe,Ot,tt,Nt,Jt){rn.transform(Oe,function(){var pn=g.apply(this,arguments),fn=this.__zoom,Cn=Nt==null?Dr(pn):typeof Nt=="function"?Nt.apply(this,arguments):Nt;return k(bo.translate(Cn[0],Cn[1]).scale(fn.k).translate(typeof Ot=="function"?-Ot.apply(this,arguments):-Ot,typeof tt=="function"?-tt.apply(this,arguments):-tt),pn,de)},Nt,Jt)};function Nr(Oe,Ot){return Ot=Math.max(Se[0],Math.min(Se[1],Ot)),Ot===Oe.k?Oe:new Fr(Ot,Oe.x,Oe.y)}function vr(Oe,Ot,tt){var Nt=Ot[0]-tt[0]*Oe.k,Jt=Ot[1]-tt[1]*Oe.k;return Nt===Oe.x&&Jt===Oe.y?Oe:new Fr(Oe.k,Nt,Jt)}function Dr(Oe){return[(+Oe[0][0]+ +Oe[1][0])/2,(+Oe[0][1]+ +Oe[1][1])/2]}function Pr(Oe,Ot,tt,Nt){Oe.on("start.zoom",function(){br(this,arguments).event(Nt).start()}).on("interrupt.zoom end.zoom",function(){br(this,arguments).event(Nt).end()}).tween("zoom",function(){var Jt=this,pn=arguments,fn=br(Jt,pn).event(Nt),Cn=g.apply(Jt,pn),Nn=tt==null?Dr(Cn):typeof tt=="function"?tt.apply(Jt,pn):tt,Er=Math.max(Cn[1][0]-Cn[0][0],Cn[1][1]-Cn[0][1]),Zn=Jt.__zoom,jn=typeof Ot=="function"?Ot.apply(Jt,pn):Ot,Rr=Ye(Zn.invert(Nn).concat(Er/Zn.k),jn.invert(Nn).concat(Er/jn.k));return function(Sr){if(Sr===1)Sr=jn;else{var Lr=Rr(Sr),tr=Er/Lr[2];Sr=new Fr(tr,Nn[0]-Lr[0]*tr,Nn[1]-Lr[1]*tr)}fn.zoom(null,Sr)}})}function br(Oe,Ot,tt){return!tt&&Oe.__zooming||new Yo(Oe,Ot)}function Yo(Oe,Ot){this.that=Oe,this.args=Ot,this.active=0,this.sourceEvent=null,this.extent=g.apply(Oe,Ot),this.taps=0}Yo.prototype={event:function(Oe){return Oe&&(this.sourceEvent=Oe),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(Oe,Ot){return this.mouse&&Oe!=="mouse"&&(this.mouse[1]=Ot.invert(this.mouse[0])),this.touch0&&Oe!=="touch"&&(this.touch0[1]=Ot.invert(this.touch0[0])),this.touch1&&Oe!=="touch"&&(this.touch1[1]=Ot.invert(this.touch1[0])),this.that.__zoom=Ot,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(Oe){var Ot=(0,w.Z)(this.that).datum();qe.call(Oe,this.that,new is(Oe,{sourceEvent:this.sourceEvent,target:rn,type:Oe,transform:this.that.__zoom,dispatch:qe}),Ot)}};function sr(Oe,...Ot){if(!a.apply(this,arguments))return;var tt=br(this,Ot).event(Oe),Nt=this.__zoom,Jt=Math.max(Se[0],Math.min(Se[1],Nt.k*Math.pow(2,j.apply(this,arguments)))),pn=(0,E.Z)(Oe);if(tt.wheel)(tt.mouse[0][0]!==pn[0]||tt.mouse[0][1]!==pn[1])&&(tt.mouse[1]=Nt.invert(tt.mouse[0]=pn)),clearTimeout(tt.wheel);else{if(Nt.k===Jt)return;tt.mouse=[pn,Nt.invert(pn)],gt(this),tt.start()}Oo(Oe),tt.wheel=setTimeout(fn,qn),tt.zoom("mouse",k(vr(Nr(Nt,Jt),tt.mouse[0],tt.mouse[1]),tt.extent,de));function fn(){tt.wheel=null,tt.end()}}function xr(Oe,...Ot){if($t||!a.apply(this,arguments))return;var tt=Oe.currentTarget,Nt=br(this,Ot,!0).event(Oe),Jt=(0,w.Z)(Oe.view).on("mousemove.zoom",Nn,!0).on("mouseup.zoom",Er,!0),pn=(0,E.Z)(Oe,tt),fn=Oe.clientX,Cn=Oe.clientY;(0,O.Z)(Oe.view),to(Oe),Nt.mouse=[pn,this.__zoom.invert(pn)],gt(this),Nt.start();function Nn(Zn){if(Oo(Zn),!Nt.moved){var jn=Zn.clientX-fn,Rr=Zn.clientY-Cn;Nt.moved=jn*jn+Rr*Rr>zn}Nt.event(Zn).zoom("mouse",k(vr(Nt.that.__zoom,Nt.mouse[0]=(0,E.Z)(Zn,tt),Nt.mouse[1]),Nt.extent,de))}function Er(Zn){Jt.on("mousemove.zoom mouseup.zoom",null),(0,O.D)(Zn.view,Nt.moved),Oo(Zn),Nt.event(Zn).end()}}function Jo(Oe,...Ot){if(a.apply(this,arguments)){var tt=this.__zoom,Nt=(0,E.Z)(Oe.changedTouches?Oe.changedTouches[0]:Oe,this),Jt=tt.invert(Nt),pn=tt.k*(Oe.shiftKey?.5:2),fn=k(vr(Nr(tt,pn),Nt,Jt),g.apply(this,Ot),de);Oo(Oe),Be>0?(0,w.Z)(this).transition().duration(Be).call(Pr,fn,Nt,Oe):(0,w.Z)(this).call(rn.transform,fn,Nt,Oe)}}function Mo(Oe,...Ot){if(a.apply(this,arguments)){var tt=Oe.touches,Nt=tt.length,Jt=br(this,Ot,Oe.changedTouches.length===Nt).event(Oe),pn,fn,Cn,Nn;for(to(Oe),fn=0;fn<Nt;++fn)Cn=tt[fn],Nn=(0,E.Z)(Cn,this),Nn=[Nn,this.__zoom.invert(Nn),Cn.identifier],Jt.touch0?!Jt.touch1&&Jt.touch0[2]!==Nn[2]&&(Jt.touch1=Nn,Jt.taps=0):(Jt.touch0=Nn,pn=!0,Jt.taps=1+!!et);et&&(et=clearTimeout(et)),pn&&(Jt.taps<2&&(Vt=Nn[0],et=setTimeout(function(){et=null},tn)),gt(this),Jt.start())}}function _r(Oe,...Ot){if(this.__zooming){var tt=br(this,Ot).event(Oe),Nt=Oe.changedTouches,Jt=Nt.length,pn,fn,Cn,Nn;for(Oo(Oe),pn=0;pn<Jt;++pn)fn=Nt[pn],Cn=(0,E.Z)(fn,this),tt.touch0&&tt.touch0[2]===fn.identifier?tt.touch0[0]=Cn:tt.touch1&&tt.touch1[2]===fn.identifier&&(tt.touch1[0]=Cn);if(fn=tt.that.__zoom,tt.touch1){var Er=tt.touch0[0],Zn=tt.touch0[1],jn=tt.touch1[0],Rr=tt.touch1[1],Sr=(Sr=jn[0]-Er[0])*Sr+(Sr=jn[1]-Er[1])*Sr,Lr=(Lr=Rr[0]-Zn[0])*Lr+(Lr=Rr[1]-Zn[1])*Lr;fn=Nr(fn,Math.sqrt(Sr/Lr)),Cn=[(Er[0]+jn[0])/2,(Er[1]+jn[1])/2],Nn=[(Zn[0]+Rr[0])/2,(Zn[1]+Rr[1])/2]}else if(tt.touch0)Cn=tt.touch0[0],Nn=tt.touch0[1];else return;tt.zoom("touch",k(vr(fn,Cn,Nn),tt.extent,de))}}function Zi(Oe,...Ot){if(this.__zooming){var tt=br(this,Ot).event(Oe),Nt=Oe.changedTouches,Jt=Nt.length,pn,fn;for(to(Oe),$t&&clearTimeout($t),$t=setTimeout(function(){$t=null},tn),pn=0;pn<Jt;++pn)fn=Nt[pn],tt.touch0&&tt.touch0[2]===fn.identifier?delete tt.touch0:tt.touch1&&tt.touch1[2]===fn.identifier&&delete tt.touch1;if(tt.touch1&&!tt.touch0&&(tt.touch0=tt.touch1,delete tt.touch1),tt.touch0)tt.touch0[1]=this.__zoom.invert(tt.touch0[0]);else if(tt.end(),tt.taps===2&&(fn=(0,E.Z)(fn,this),Math.hypot(Vt[0]-fn[0],Vt[1]-fn[1])<ur)){var Cn=(0,w.Z)(this).on("dblclick.zoom");Cn&&Cn.apply(this,arguments)}}}return rn.wheelDelta=function(Oe){return arguments.length?(j=typeof Oe=="function"?Oe:vo(+Oe),rn):j},rn.filter=function(Oe){return arguments.length?(a=typeof Oe=="function"?Oe:vo(!!Oe),rn):a},rn.touchable=function(Oe){return arguments.length?(pe=typeof Oe=="function"?Oe:vo(!!Oe),rn):pe},rn.extent=function(Oe){return arguments.length?(g=typeof Oe=="function"?Oe:vo([[+Oe[0][0],+Oe[0][1]],[+Oe[1][0],+Oe[1][1]]]),rn):g},rn.scaleExtent=function(Oe){return arguments.length?(Se[0]=+Oe[0],Se[1]=+Oe[1],rn):[Se[0],Se[1]]},rn.translateExtent=function(Oe){return arguments.length?(de[0][0]=+Oe[0][0],de[1][0]=+Oe[1][0],de[0][1]=+Oe[0][1],de[1][1]=+Oe[1][1],rn):[[de[0][0],de[0][1]],[de[1][0],de[1][1]]]},rn.constrain=function(Oe){return arguments.length?(k=Oe,rn):k},rn.duration=function(Oe){return arguments.length?(Be=+Oe,rn):Be},rn.interpolate=function(Oe){return arguments.length?(Ye=Oe,rn):Ye},rn.on=function(){var Oe=qe.on.apply(qe,arguments);return Oe===qe?rn:Oe},rn.clickDistance=function(Oe){return arguments.length?(zn=(Oe=+Oe)*Oe,rn):Math.sqrt(zn)},rn.tapDistance=function(Oe){return arguments.length?(ur=+Oe,rn):ur},rn}},53874:function(B,Z,l){"use strict";l.d(Z,{Uy:function(){return yn}});var i=Symbol.for("immer-nothing"),O=Symbol.for("immer-draftable"),_=Symbol.for("immer-state"),T=[];function x(M,...W){throw new Error(`[Immer] minified error nr: ${M}. Full error at: https://bit.ly/3cXEKWf`)}var b=Object.getPrototypeOf;function p(M){return!!M&&!!M[_]}function w(M){var W;return M?I(M)||Array.isArray(M)||!!M[O]||!!((W=M.constructor)!=null&&W[O])||ue(M)||X(M):!1}var E=Object.prototype.constructor.toString();function I(M){if(!M||typeof M!="object")return!1;const W=b(M);if(W===null)return!0;const we=Object.hasOwnProperty.call(W,"constructor")&&W.constructor;return we===Object?!0:typeof we=="function"&&Function.toString.call(we)===E}function U(M){return p(M)||x(15,M),M[_].base_}function N(M,W){K(M)===0?Reflect.ownKeys(M).forEach(we=>{W(we,M[we],M)}):M.forEach((we,Pe)=>W(Pe,we,M))}function K(M){const W=M[_];return W?W.type_:Array.isArray(M)?1:ue(M)?2:X(M)?3:0}function G(M,W){return K(M)===2?M.has(W):Object.prototype.hasOwnProperty.call(M,W)}function he(M,W){return K(M)===2?M.get(W):M[W]}function Ve(M,W,we){const Pe=K(M);Pe===2?M.set(W,we):Pe===3?M.add(we):M[W]=we}function ce(M,W){return M===W?M!==0||1/M===1/W:M!==M&&W!==W}function ue(M){return M instanceof Map}function X(M){return M instanceof Set}function re(M){return M.copy_||M.base_}function oe(M,W){if(ue(M))return new Map(M);if(X(M))return new Set(M);if(Array.isArray(M))return Array.prototype.slice.call(M);const we=I(M);if(W===!0||W==="class_only"&&!we){const Pe=Object.getOwnPropertyDescriptors(M);delete Pe[_];let Xe=Reflect.ownKeys(Pe);for(let mt=0;mt<Xe.length;mt++){const bt=Xe[mt],ht=Pe[bt];ht.writable===!1&&(ht.writable=!0,ht.configurable=!0),(ht.get||ht.set)&&(Pe[bt]={configurable:!0,writable:!0,enumerable:ht.enumerable,value:M[bt]})}return Object.create(b(M),Pe)}else{const Pe=b(M);if(Pe!==null&&we)return Rt({},M);const Xe=Object.create(Pe);return Object.assign(Xe,M)}}function $(M,W=!1){return ae(M)||p(M)||!w(M)||(K(M)>1&&(M.set=M.add=M.clear=M.delete=Q),Object.freeze(M),W&&Object.entries(M).forEach(([we,Pe])=>$(Pe,!0))),M}function Q(){x(2)}function ae(M){return Object.isFrozen(M)}var ie={};function _e(M){const W=ie[M];return W||x(0,M),W}function Le(M,W){ie[M]||(ie[M]=W)}var P;function J(){return P}function Ce(M,W){return{drafts_:[],parent_:M,immer_:W,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function xe(M,W){W&&(_e("Patches"),M.patches_=[],M.inversePatches_=[],M.patchListener_=W)}function je(M){H(M),M.drafts_.forEach(Ee),M.drafts_=null}function H(M){M===P&&(P=M.parent_)}function se(M){return P=Ce(P,M)}function Ee(M){const W=M[_];W.type_===0||W.type_===1?W.revoke_():W.revoked_=!0}function Ge(M,W){W.unfinalizedDrafts_=W.drafts_.length;const we=W.drafts_[0];return M!==void 0&&M!==we?(we[_].modified_&&(je(W),x(4)),w(M)&&(M=_t(W,M),W.parent_||Ct(W,M)),W.patches_&&_e("Patches").generateReplacementPatches_(we[_].base_,M,W.patches_,W.inversePatches_)):M=_t(W,we,[]),je(W),W.patches_&&W.patchListener_(W.patches_,W.inversePatches_),M!==i?M:void 0}function _t(M,W,we){if(ae(W))return W;const Pe=W[_];if(!Pe)return N(W,(Xe,mt)=>Gt(M,Pe,W,Xe,mt,we)),W;if(Pe.scope_!==M)return W;if(!Pe.modified_)return Ct(M,Pe.base_,!0),Pe.base_;if(!Pe.finalized_){Pe.finalized_=!0,Pe.scope_.unfinalizedDrafts_--;const Xe=Pe.copy_;let mt=Xe,bt=!1;Pe.type_===3&&(mt=new Set(Xe),Xe.clear(),bt=!0),N(mt,(ht,ze)=>Gt(M,Pe,Xe,ht,ze,we,bt)),Ct(M,Xe,!1),we&&M.patches_&&_e("Patches").generatePatches_(Pe,we,M.patches_,M.inversePatches_)}return Pe.copy_}function Gt(M,W,we,Pe,Xe,mt,bt){if(p(Xe)){const ht=mt&&W&&W.type_!==3&&!G(W.assigned_,Pe)?mt.concat(Pe):void 0,ze=_t(M,Xe,ht);if(Ve(we,Pe,ze),p(ze))M.canAutoFreeze_=!1;else return}else bt&&we.add(Xe);if(w(Xe)&&!ae(Xe)){if(!M.immer_.autoFreeze_&&M.unfinalizedDrafts_<1)return;_t(M,Xe),(!W||!W.scope_.parent_)&&typeof Pe!="symbol"&&Object.prototype.propertyIsEnumerable.call(we,Pe)&&Ct(M,Xe)}}function Ct(M,W,we=!1){!M.parent_&&M.immer_.autoFreeze_&&M.canAutoFreeze_&&$(W,we)}function Y(M,W){const we=Array.isArray(M),Pe={type_:we?1:0,scope_:W?W.scope_:J(),modified_:!1,finalized_:!1,assigned_:{},parent_:W,base_:M,draft_:null,copy_:null,revoke_:null,isManual_:!1};let Xe=Pe,mt=ge;we&&(Xe=[Pe],mt=ve);const{revoke:bt,proxy:ht}=Proxy.revocable(Xe,mt);return Pe.draft_=ht,Pe.revoke_=bt,ht}var ge={get(M,W){if(W===_)return M;const we=re(M);if(!G(we,W))return Re(M,we,W);const Pe=we[W];return M.finalized_||!w(Pe)?Pe:Pe===be(M.base_,W)?(Wt(M),M.copy_[W]=Ie(Pe,M)):Pe},has(M,W){return W in re(M)},ownKeys(M){return Reflect.ownKeys(re(M))},set(M,W,we){const Pe=dt(re(M),W);if(Pe!=null&&Pe.set)return Pe.set.call(M.draft_,we),!0;if(!M.modified_){const Xe=be(re(M),W),mt=Xe==null?void 0:Xe[_];if(mt&&mt.base_===we)return M.copy_[W]=we,M.assigned_[W]=!1,!0;if(ce(we,Xe)&&(we!==void 0||G(M.base_,W)))return!0;Wt(M),gt(M)}return M.copy_[W]===we&&(we!==void 0||W in M.copy_)||Number.isNaN(we)&&Number.isNaN(M.copy_[W])||(M.copy_[W]=we,M.assigned_[W]=!0),!0},deleteProperty(M,W){return be(M.base_,W)!==void 0||W in M.base_?(M.assigned_[W]=!1,Wt(M),gt(M)):delete M.assigned_[W],M.copy_&&delete M.copy_[W],!0},getOwnPropertyDescriptor(M,W){const we=re(M),Pe=Reflect.getOwnPropertyDescriptor(we,W);return Pe&&{writable:!0,configurable:M.type_!==1||W!=="length",enumerable:Pe.enumerable,value:we[W]}},defineProperty(){x(11)},getPrototypeOf(M){return b(M.base_)},setPrototypeOf(){x(12)}},ve={};N(ge,(M,W)=>{ve[M]=function(){return arguments[0]=arguments[0][0],W.apply(this,arguments)}}),ve.deleteProperty=function(M,W){return ve.set.call(this,M,W,void 0)},ve.set=function(M,W,we){return ge.set.call(this,M[0],W,we,M[0])};function be(M,W){const we=M[_];return(we?re(we):M)[W]}function Re(M,W,we){var Xe;const Pe=dt(W,we);return Pe?"value"in Pe?Pe.value:(Xe=Pe.get)==null?void 0:Xe.call(M.draft_):void 0}function dt(M,W){if(!(W in M))return;let we=b(M);for(;we;){const Pe=Object.getOwnPropertyDescriptor(we,W);if(Pe)return Pe;we=b(we)}}function gt(M){M.modified_||(M.modified_=!0,M.parent_&&gt(M.parent_))}function Wt(M){M.copy_||(M.copy_=oe(M.base_,M.scope_.immer_.useStrictShallowCopy_))}var Qt=class{constructor(M){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(W,we,Pe)=>{if(typeof W=="function"&&typeof we!="function"){const mt=we;we=W;const bt=this;return function(ze=mt,...Je){return bt.produce(ze,jt=>we.call(this,jt,...Je))}}typeof we!="function"&&x(6),Pe!==void 0&&typeof Pe!="function"&&x(7);let Xe;if(w(W)){const mt=se(this),bt=Ie(W,void 0);let ht=!0;try{Xe=we(bt),ht=!1}finally{ht?je(mt):H(mt)}return xe(mt,Pe),Ge(Xe,mt)}else if(!W||typeof W!="object"){if(Xe=we(W),Xe===void 0&&(Xe=W),Xe===i&&(Xe=void 0),this.autoFreeze_&&$(Xe,!0),Pe){const mt=[],bt=[];_e("Patches").generateReplacementPatches_(W,Xe,mt,bt),Pe(mt,bt)}return Xe}else x(1,W)},this.produceWithPatches=(W,we)=>{if(typeof W=="function")return(bt,...ht)=>this.produceWithPatches(bt,ze=>W(ze,...ht));let Pe,Xe;return[this.produce(W,we,(bt,ht)=>{Pe=bt,Xe=ht}),Pe,Xe]},typeof(M==null?void 0:M.autoFreeze)=="boolean"&&this.setAutoFreeze(M.autoFreeze),typeof(M==null?void 0:M.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(M.useStrictShallowCopy)}createDraft(M){w(M)||x(8),p(M)&&(M=De(M));const W=se(this),we=Ie(M,void 0);return we[_].isManual_=!0,H(W),we}finishDraft(M,W){const we=M&&M[_];(!we||!we.isManual_)&&x(9);const{scope_:Pe}=we;return xe(Pe,W),Ge(void 0,Pe)}setAutoFreeze(M){this.autoFreeze_=M}setUseStrictShallowCopy(M){this.useStrictShallowCopy_=M}applyPatches(M,W){let we;for(we=W.length-1;we>=0;we--){const Xe=W[we];if(Xe.path.length===0&&Xe.op==="replace"){M=Xe.value;break}}we>-1&&(W=W.slice(we+1));const Pe=_e("Patches").applyPatches_;return p(M)?Pe(M,W):this.produce(M,Xe=>Pe(Xe,W))}};function Ie(M,W){const we=ue(M)?_e("MapSet").proxyMap_(M,W):X(M)?_e("MapSet").proxySet_(M,W):Y(M,W);return(W?W.scope_:J()).drafts_.push(we),we}function De(M){return p(M)||x(10,M),We(M)}function We(M){if(!w(M)||ae(M))return M;const W=M[_];let we;if(W){if(!W.modified_)return W.base_;W.finalized_=!0,we=oe(M,W.scope_.immer_.useStrictShallowCopy_)}else we=oe(M,!0);return N(we,(Pe,Xe)=>{Ve(we,Pe,We(Xe))}),W&&(W.finalized_=!1),we}function He(){const W="replace",we="add",Pe="remove";function Xe(Zt,nn,qt,en){switch(Zt.type_){case 0:case 2:return bt(Zt,nn,qt,en);case 1:return mt(Zt,nn,qt,en);case 3:return ht(Zt,nn,qt,en)}}function mt(Zt,nn,qt,en){let{base_:wn,assigned_:hn}=Zt,mn=Zt.copy_;mn.length<wn.length&&([wn,mn]=[mn,wn],[qt,en]=[en,qt]);for(let yt=0;yt<wn.length;yt++)if(hn[yt]&&mn[yt]!==wn[yt]){const zt=nn.concat([yt]);qt.push({op:W,path:zt,value:cn(mn[yt])}),en.push({op:W,path:zt,value:cn(wn[yt])})}for(let yt=wn.length;yt<mn.length;yt++){const zt=nn.concat([yt]);qt.push({op:we,path:zt,value:cn(mn[yt])})}for(let yt=mn.length-1;wn.length<=yt;--yt){const zt=nn.concat([yt]);en.push({op:Pe,path:zt})}}function bt(Zt,nn,qt,en){const{base_:wn,copy_:hn}=Zt;N(Zt.assigned_,(mn,yt)=>{const zt=he(wn,mn),Et=he(hn,mn),st=yt?G(wn,mn)?W:we:Pe;if(zt===Et&&st===W)return;const Lt=nn.concat(mn);qt.push(st===Pe?{op:st,path:Lt}:{op:st,path:Lt,value:Et}),en.push(st===we?{op:Pe,path:Lt}:st===Pe?{op:we,path:Lt,value:cn(zt)}:{op:W,path:Lt,value:cn(zt)})})}function ht(Zt,nn,qt,en){let{base_:wn,copy_:hn}=Zt,mn=0;wn.forEach(yt=>{if(!hn.has(yt)){const zt=nn.concat([mn]);qt.push({op:Pe,path:zt,value:yt}),en.unshift({op:we,path:zt,value:yt})}mn++}),mn=0,hn.forEach(yt=>{if(!wn.has(yt)){const zt=nn.concat([mn]);qt.push({op:we,path:zt,value:yt}),en.unshift({op:Pe,path:zt,value:yt})}mn++})}function ze(Zt,nn,qt,en){qt.push({op:W,path:[],value:nn===i?void 0:nn}),en.push({op:W,path:[],value:Zt})}function Je(Zt,nn){return nn.forEach(qt=>{const{path:en,op:wn}=qt;let hn=Zt;for(let Et=0;Et<en.length-1;Et++){const st=K(hn);let Lt=en[Et];typeof Lt!="string"&&typeof Lt!="number"&&(Lt=""+Lt),(st===0||st===1)&&(Lt==="__proto__"||Lt==="constructor")&&x(16+3),typeof hn=="function"&&Lt==="prototype"&&x(16+3),hn=he(hn,Lt),typeof hn!="object"&&x(16+2,en.join("/"))}const mn=K(hn),yt=jt(qt.value),zt=en[en.length-1];switch(wn){case W:switch(mn){case 2:return hn.set(zt,yt);case 3:x(16);default:return hn[zt]=yt}case we:switch(mn){case 1:return zt==="-"?hn.push(yt):hn.splice(zt,0,yt);case 2:return hn.set(zt,yt);case 3:return hn.add(yt);default:return hn[zt]=yt}case Pe:switch(mn){case 1:return hn.splice(zt,1);case 2:return hn.delete(zt);case 3:return hn.delete(qt.value);default:return delete hn[zt]}default:x(16+1,wn)}}),Zt}function jt(Zt){if(!w(Zt))return Zt;if(Array.isArray(Zt))return Zt.map(jt);if(ue(Zt))return new Map(Array.from(Zt.entries()).map(([qt,en])=>[qt,jt(en)]));if(X(Zt))return new Set(Array.from(Zt).map(jt));const nn=Object.create(b(Zt));for(const qt in Zt)nn[qt]=jt(Zt[qt]);return G(Zt,O)&&(nn[O]=Zt[O]),nn}function cn(Zt){return p(Zt)?jt(Zt):Zt}Le("Patches",{applyPatches_:Je,generatePatches_:Xe,generateReplacementPatches_:ze})}function ye(){class M extends Map{constructor(ze,Je){super(),this[_]={type_:2,parent_:Je,scope_:Je?Je.scope_:J(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:ze,draft_:this,isManual_:!1,revoked_:!1}}get size(){return re(this[_]).size}has(ze){return re(this[_]).has(ze)}set(ze,Je){const jt=this[_];return bt(jt),(!re(jt).has(ze)||re(jt).get(ze)!==Je)&&(we(jt),gt(jt),jt.assigned_.set(ze,!0),jt.copy_.set(ze,Je),jt.assigned_.set(ze,!0)),this}delete(ze){if(!this.has(ze))return!1;const Je=this[_];return bt(Je),we(Je),gt(Je),Je.base_.has(ze)?Je.assigned_.set(ze,!1):Je.assigned_.delete(ze),Je.copy_.delete(ze),!0}clear(){const ze=this[_];bt(ze),re(ze).size&&(we(ze),gt(ze),ze.assigned_=new Map,N(ze.base_,Je=>{ze.assigned_.set(Je,!1)}),ze.copy_.clear())}forEach(ze,Je){const jt=this[_];re(jt).forEach((cn,Zt,nn)=>{ze.call(Je,this.get(Zt),Zt,this)})}get(ze){const Je=this[_];bt(Je);const jt=re(Je).get(ze);if(Je.finalized_||!w(jt)||jt!==Je.base_.get(ze))return jt;const cn=Ie(jt,Je);return we(Je),Je.copy_.set(ze,cn),cn}keys(){return re(this[_]).keys()}values(){const ze=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const Je=ze.next();return Je.done?Je:{done:!1,value:this.get(Je.value)}}}}entries(){const ze=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const Je=ze.next();if(Je.done)return Je;const jt=this.get(Je.value);return{done:!1,value:[Je.value,jt]}}}}[Symbol.iterator](){return this.entries()}}function W(ht,ze){return new M(ht,ze)}function we(ht){ht.copy_||(ht.assigned_=new Map,ht.copy_=new Map(ht.base_))}class Pe extends Set{constructor(ze,Je){super(),this[_]={type_:3,parent_:Je,scope_:Je?Je.scope_:J(),modified_:!1,finalized_:!1,copy_:void 0,base_:ze,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return re(this[_]).size}has(ze){const Je=this[_];return bt(Je),Je.copy_?!!(Je.copy_.has(ze)||Je.drafts_.has(ze)&&Je.copy_.has(Je.drafts_.get(ze))):Je.base_.has(ze)}add(ze){const Je=this[_];return bt(Je),this.has(ze)||(mt(Je),gt(Je),Je.copy_.add(ze)),this}delete(ze){if(!this.has(ze))return!1;const Je=this[_];return bt(Je),mt(Je),gt(Je),Je.copy_.delete(ze)||(Je.drafts_.has(ze)?Je.copy_.delete(Je.drafts_.get(ze)):!1)}clear(){const ze=this[_];bt(ze),re(ze).size&&(mt(ze),gt(ze),ze.copy_.clear())}values(){const ze=this[_];return bt(ze),mt(ze),ze.copy_.values()}entries(){const ze=this[_];return bt(ze),mt(ze),ze.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(ze,Je){const jt=this.values();let cn=jt.next();for(;!cn.done;)ze.call(Je,cn.value,cn.value,this),cn=jt.next()}}function Xe(ht,ze){return new Pe(ht,ze)}function mt(ht){ht.copy_||(ht.copy_=new Set,ht.base_.forEach(ze=>{if(w(ze)){const Je=Ie(ze,ht);ht.drafts_.set(ze,Je),ht.copy_.add(Je)}else ht.copy_.add(ze)}))}function bt(ht){ht.revoked_&&x(3,JSON.stringify(re(ht)))}Le("MapSet",{proxyMap_:W,proxySet_:Xe})}var Ft=new Qt,yn=Ft.produce,gn=Ft.produceWithPatches.bind(Ft),Sn=Ft.setAutoFreeze.bind(Ft),kn=Ft.setUseStrictShallowCopy.bind(Ft),bn=Ft.applyPatches.bind(Ft),Tn=Ft.createDraft.bind(Ft),Bn=Ft.finishDraft.bind(Ft);function In(M){return M}function on(M){return M}},13727:function(B,Z,l){"use strict";l.d(Z,{Z:function(){return ue}});var i=l(99615),O=i.Z.Symbol,_=O,T=Object.prototype,x=T.hasOwnProperty,b=T.toString,p=_?_.toStringTag:void 0;function w(X){var re=x.call(X,p),oe=X[p];try{X[p]=void 0;var $=!0}catch(ae){}var Q=b.call(X);return $&&(re?X[p]=oe:delete X[p]),Q}var E=w,I=Object.prototype,U=I.toString;function N(X){return U.call(X)}var K=N,G="[object Null]",he="[object Undefined]",Ve=_?_.toStringTag:void 0;function ce(X){return X==null?X===void 0?he:G:Ve&&Ve in Object(X)?E(X):K(X)}var ue=ce},97889:function(B,Z){"use strict";var l=typeof global=="object"&&global&&global.Object===Object&&global;Z.Z=l},99615:function(B,Z,l){"use strict";var i=l(97889),O=typeof self=="object"&&self&&self.Object===Object&&self,_=i.Z||O||Function("return this")();Z.Z=_},16116:function(B,Z,l){"use strict";l.d(Z,{Z:function(){return Le}});var i=l(82433),O=l(99615),_=function(){return O.Z.Date.now()},T=_,x=/\s/;function b(P){for(var J=P.length;J--&&x.test(P.charAt(J)););return J}var p=b,w=/^\s+/;function E(P){return P&&P.slice(0,p(P)+1).replace(w,"")}var I=E,U=l(13727),N=l(13795),K="[object Symbol]";function G(P){return typeof P=="symbol"||(0,N.Z)(P)&&(0,U.Z)(P)==K}var he=G,Ve=0/0,ce=/^[-+]0x[0-9a-f]+$/i,ue=/^0b[01]+$/i,X=/^0o[0-7]+$/i,re=parseInt;function oe(P){if(typeof P=="number")return P;if(he(P))return Ve;if((0,i.Z)(P)){var J=typeof P.valueOf=="function"?P.valueOf():P;P=(0,i.Z)(J)?J+"":J}if(typeof P!="string")return P===0?P:+P;P=I(P);var Ce=ue.test(P);return Ce||X.test(P)?re(P.slice(2),Ce?2:8):ce.test(P)?Ve:+P}var $=oe,Q="Expected a function",ae=Math.max,ie=Math.min;function _e(P,J,Ce){var xe,je,H,se,Ee,Ge,_t=0,Gt=!1,Ct=!1,Y=!0;if(typeof P!="function")throw new TypeError(Q);J=$(J)||0,(0,i.Z)(Ce)&&(Gt=!!Ce.leading,Ct="maxWait"in Ce,H=Ct?ae($(Ce.maxWait)||0,J):H,Y="trailing"in Ce?!!Ce.trailing:Y);function ge(De){var We=xe,He=je;return xe=je=void 0,_t=De,se=P.apply(He,We),se}function ve(De){return _t=De,Ee=setTimeout(dt,J),Gt?ge(De):se}function be(De){var We=De-Ge,He=De-_t,ye=J-We;return Ct?ie(ye,H-He):ye}function Re(De){var We=De-Ge,He=De-_t;return Ge===void 0||We>=J||We<0||Ct&&He>=H}function dt(){var De=T();if(Re(De))return gt(De);Ee=setTimeout(dt,be(De))}function gt(De){return Ee=void 0,Y&&xe?ge(De):(xe=je=void 0,se)}function Wt(){Ee!==void 0&&clearTimeout(Ee),_t=0,xe=Ge=je=Ee=void 0}function Qt(){return Ee===void 0?se:gt(T())}function Ie(){var De=T(),We=Re(De);if(xe=arguments,je=this,Ge=De,We){if(Ee===void 0)return ve(Ge);if(Ct)return clearTimeout(Ee),Ee=setTimeout(dt,J),ge(Ge)}return Ee===void 0&&(Ee=setTimeout(dt,J)),se}return Ie.cancel=Wt,Ie.flush=Qt,Ie}var Le=_e},97459:function(B,Z){"use strict";function l(i){return i===null}Z.Z=l},82433:function(B,Z){"use strict";function l(i){var O=typeof i;return i!=null&&(O=="object"||O=="function")}Z.Z=l},13795:function(B,Z){"use strict";function l(i){return i!=null&&typeof i=="object"}Z.Z=l},62071:function(B,Z,l){"use strict";l.d(Z,{Z:function(){return R}});function i(){this.__data__=[],this.size=0}var O=i;function _(h,v){return h===v||h!==h&&v!==v}var T=_;function x(h,v){for(var S=h.length;S--;)if(T(h[S][0],v))return S;return-1}var b=x,p=Array.prototype,w=p.splice;function E(h){var v=this.__data__,S=b(v,h);if(S<0)return!1;var z=v.length-1;return S==z?v.pop():w.call(v,S,1),--this.size,!0}var I=E;function U(h){var v=this.__data__,S=b(v,h);return S<0?void 0:v[S][1]}var N=U;function K(h){return b(this.__data__,h)>-1}var G=K;function he(h,v){var S=this.__data__,z=b(S,h);return z<0?(++this.size,S.push([h,v])):S[z][1]=v,this}var Ve=he;function ce(h){var v=-1,S=h==null?0:h.length;for(this.clear();++v<S;){var z=h[v];this.set(z[0],z[1])}}ce.prototype.clear=O,ce.prototype.delete=I,ce.prototype.get=N,ce.prototype.has=G,ce.prototype.set=Ve;var ue=ce;function X(){this.__data__=new ue,this.size=0}var re=X;function oe(h){var v=this.__data__,S=v.delete(h);return this.size=v.size,S}var $=oe;function Q(h){return this.__data__.get(h)}var ae=Q;function ie(h){return this.__data__.has(h)}var _e=ie,Le=l(13727),P=l(82433),J="[object AsyncFunction]",Ce="[object Function]",xe="[object GeneratorFunction]",je="[object Proxy]";function H(h){if(!(0,P.Z)(h))return!1;var v=(0,Le.Z)(h);return v==Ce||v==xe||v==J||v==je}var se=H,Ee=l(99615),Ge=Ee.Z["__core-js_shared__"],_t=Ge,Gt=function(){var h=/[^.]+$/.exec(_t&&_t.keys&&_t.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}();function Ct(h){return!!Gt&&Gt in h}var Y=Ct,ge=Function.prototype,ve=ge.toString;function be(h){if(h!=null){try{return ve.call(h)}catch(v){}try{return h+""}catch(v){}}return""}var Re=be,dt=/[\\^$.*+?()[\]{}|]/g,gt=/^\[object .+?Constructor\]$/,Wt=Function.prototype,Qt=Object.prototype,Ie=Wt.toString,De=Qt.hasOwnProperty,We=RegExp("^"+Ie.call(De).replace(dt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function He(h){if(!(0,P.Z)(h)||Y(h))return!1;var v=se(h)?We:gt;return v.test(Re(h))}var ye=He;function Ft(h,v){return h==null?void 0:h[v]}var yn=Ft;function gn(h,v){var S=yn(h,v);return ye(S)?S:void 0}var Sn=gn,kn=Sn(Ee.Z,"Map"),bn=kn,Tn=Sn(Object,"create"),Bn=Tn;function In(){this.__data__=Bn?Bn(null):{},this.size=0}var on=In;function M(h){var v=this.has(h)&&delete this.__data__[h];return this.size-=v?1:0,v}var W=M,we="__lodash_hash_undefined__",Pe=Object.prototype,Xe=Pe.hasOwnProperty;function mt(h){var v=this.__data__;if(Bn){var S=v[h];return S===we?void 0:S}return Xe.call(v,h)?v[h]:void 0}var bt=mt,ht=Object.prototype,ze=ht.hasOwnProperty;function Je(h){var v=this.__data__;return Bn?v[h]!==void 0:ze.call(v,h)}var jt=Je,cn="__lodash_hash_undefined__";function Zt(h,v){var S=this.__data__;return this.size+=this.has(h)?0:1,S[h]=Bn&&v===void 0?cn:v,this}var nn=Zt;function qt(h){var v=-1,S=h==null?0:h.length;for(this.clear();++v<S;){var z=h[v];this.set(z[0],z[1])}}qt.prototype.clear=on,qt.prototype.delete=W,qt.prototype.get=bt,qt.prototype.has=jt,qt.prototype.set=nn;var en=qt;function wn(){this.size=0,this.__data__={hash:new en,map:new(bn||ue),string:new en}}var hn=wn;function mn(h){var v=typeof h;return v=="string"||v=="number"||v=="symbol"||v=="boolean"?h!=="__proto__":h===null}var yt=mn;function zt(h,v){var S=h.__data__;return yt(v)?S[typeof v=="string"?"string":"hash"]:S.map}var Et=zt;function st(h){var v=Et(this,h).delete(h);return this.size-=v?1:0,v}var Lt=st;function Kt(h){return Et(this,h).get(h)}var fr=Kt;function Pn(h){return Et(this,h).has(h)}var yr=Pn;function hr(h,v){var S=Et(this,h),z=S.size;return S.set(h,v),this.size+=S.size==z?0:1,this}var kr=hr;function or(h){var v=-1,S=h==null?0:h.length;for(this.clear();++v<S;){var z=h[v];this.set(z[0],z[1])}}or.prototype.clear=hn,or.prototype.delete=Lt,or.prototype.get=fr,or.prototype.has=yr,or.prototype.set=kr;var Bo=or,co=200;function er(h,v){var S=this.__data__;if(S instanceof ue){var z=S.__data__;if(!bn||z.length<co-1)return z.push([h,v]),this.size=++S.size,this;S=this.__data__=new Bo(z)}return S.set(h,v),this.size=S.size,this}var ir=er;function wr(h){var v=this.__data__=new ue(h);this.size=v.size}wr.prototype.clear=re,wr.prototype.delete=$,wr.prototype.get=ae,wr.prototype.has=_e,wr.prototype.set=ir;var Wr=wr,V=function(){try{var h=Sn(Object,"defineProperty");return h({},"",{}),h}catch(v){}}(),me=V;function nt(h,v,S){v=="__proto__"&&me?me(h,v,{configurable:!0,enumerable:!0,value:S,writable:!0}):h[v]=S}var rt=nt;function Ke(h,v,S){(S!==void 0&&!T(h[v],S)||S===void 0&&!(v in h))&&rt(h,v,S)}var lt=Ke;function kt(h){return function(v,S,z){for(var fe=-1,ne=Object(v),Te=z(v),le=Te.length;le--;){var Ae=Te[h?le:++fe];if(S(ne[Ae],Ae,ne)===!1)break}return v}}var At=kt,Ht=At(),sn=Ht,xn=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Yn=xn&&typeof module=="object"&&module&&!module.nodeType&&module,pr=Yn&&Yn.exports===xn,Jn=pr?Ee.Z.Buffer:void 0,Qn=Jn?Jn.allocUnsafe:void 0;function Ur(h,v){if(v)return h.slice();var S=h.length,z=Qn?Qn(S):new h.constructor(S);return h.copy(z),z}var Uo=Ur,zo=Ee.Z.Uint8Array,zr=zo;function Jr(h){var v=new h.constructor(h.byteLength);return new zr(v).set(new zr(h)),v}var Vo=Jr;function Ir(h,v){var S=v?Vo(h.buffer):h.buffer;return new h.constructor(S,h.byteOffset,h.length)}var un=Ir;function Mi(h,v){var S=-1,z=h.length;for(v||(v=Array(z));++S<z;)v[S]=h[S];return v}var ni=Mi,Fo=Object.create,Ni=function(){function h(){}return function(v){if(!(0,P.Z)(v))return{};if(Fo)return Fo(v);h.prototype=v;var S=new h;return h.prototype=void 0,S}}(),ri=Ni;function lo(h,v){return function(S){return h(v(S))}}var es=lo,Di=es(Object.getPrototypeOf,Object),Pi=Di,Tr=Object.prototype;function Ri(h){var v=h&&h.constructor,S=typeof v=="function"&&v.prototype||Tr;return h===S}var oi=Ri;function Li(h){return typeof h.constructor=="function"&&!oi(h)?ri(Pi(h)):{}}var Bi=Li,lr=l(13795),uo="[object Arguments]";function ts(h){return(0,lr.Z)(h)&&(0,Le.Z)(h)==uo}var ii=ts,To=Object.prototype,Wn=To.hasOwnProperty,Ui=To.propertyIsEnumerable,An=ii(function(){return arguments}())?ii:function(h){return(0,lr.Z)(h)&&Wn.call(h,"callee")&&!Ui.call(h,"callee")},fo=An,ho=Array.isArray,si=ho,ns=9007199254740991;function rs(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=ns}var jo=rs;function os(h){return h!=null&&jo(h.length)&&!se(h)}var po=os;function vn(h){return(0,lr.Z)(h)&&po(h)}var Qr=vn;function Ao(){return!1}var go=Ao,ai=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Zo=ai&&typeof module=="object"&&module&&!module.nodeType&&module,qr=Zo&&Zo.exports===ai,Ho=qr?Ee.Z.Buffer:void 0,ci=Ho?Ho.isBuffer:void 0,li=ci||go,eo=li,Un="[object Object]",Ar=Function.prototype,$o=Object.prototype,ui=Ar.toString,di=$o.hasOwnProperty,zi=ui.call(Object);function Wo(h){if(!(0,lr.Z)(h)||(0,Le.Z)(h)!=Un)return!1;var v=Pi(h);if(v===null)return!0;var S=di.call(v,"constructor")&&v.constructor;return typeof S=="function"&&S instanceof S&&ui.call(S)==zi}var Vi=Wo,mo="[object Arguments]",Ko="[object Array]",fi="[object Boolean]",Or="[object Date]",Vr="[object Error]",Kr="[object Function]",Mr="[object Map]",Go="[object Number]",Xo="[object Object]",hi="[object RegExp]",yo="[object Set]",wo="[object String]",Fi="[object WeakMap]",vo="[object ArrayBuffer]",is="[object DataView]",Fr="[object Float32Array]",bo="[object Float64Array]",ji="[object Int8Array]",to="[object Int16Array]",Oo="[object Int32Array]",ss="[object Uint8Array]",as="[object Uint8ClampedArray]",pi="[object Uint16Array]",cs="[object Uint32Array]",On={};On[Fr]=On[bo]=On[ji]=On[to]=On[Oo]=On[ss]=On[as]=On[pi]=On[cs]=!0,On[mo]=On[Ko]=On[vo]=On[fi]=On[is]=On[Or]=On[Vr]=On[Kr]=On[Mr]=On[Go]=On[Xo]=On[hi]=On[yo]=On[wo]=On[Fi]=!1;function ls(h){return(0,lr.Z)(h)&&jo(h.length)&&!!On[(0,Le.Z)(h)]}var gi=ls;function a(h){return function(v){return h(v)}}var g=a,k=l(97889),j=typeof exports=="object"&&exports&&!exports.nodeType&&exports,pe=j&&typeof module=="object"&&module&&!module.nodeType&&module,Se=pe&&pe.exports===j,de=Se&&k.Z.process,Be=function(){try{var h=pe&&pe.require&&pe.require("util").types;return h||de&&de.binding&&de.binding("util")}catch(v){}}(),Ye=Be,qe=Ye&&Ye.isTypedArray,et=qe?g(qe):gi,Vt=et;function $t(h,v){if(!(v==="constructor"&&typeof h[v]=="function")&&v!="__proto__")return h[v]}var tn=$t,qn=Object.prototype,zn=qn.hasOwnProperty;function ur(h,v,S){var z=h[v];(!(zn.call(h,v)&&T(z,S))||S===void 0&&!(v in h))&&rt(h,v,S)}var rn=ur;function Nr(h,v,S,z){var fe=!S;S||(S={});for(var ne=-1,Te=v.length;++ne<Te;){var le=v[ne],Ae=z?z(S[le],h[le],le,S,h):void 0;Ae===void 0&&(Ae=h[le]),fe?rt(S,le,Ae):rn(S,le,Ae)}return S}var vr=Nr;function Dr(h,v){for(var S=-1,z=Array(h);++S<h;)z[S]=v(S);return z}var Pr=Dr,br=9007199254740991,Yo=/^(?:0|[1-9]\d*)$/;function sr(h,v){var S=typeof h;return v=v==null?br:v,!!v&&(S=="number"||S!="symbol"&&Yo.test(h))&&h>-1&&h%1==0&&h<v}var xr=sr,Jo=Object.prototype,Mo=Jo.hasOwnProperty;function _r(h,v){var S=si(h),z=!S&&fo(h),fe=!S&&!z&&eo(h),ne=!S&&!z&&!fe&&Vt(h),Te=S||z||fe||ne,le=Te?Pr(h.length,String):[],Ae=le.length;for(var Ne in h)(v||Mo.call(h,Ne))&&!(Te&&(Ne=="length"||fe&&(Ne=="offset"||Ne=="parent")||ne&&(Ne=="buffer"||Ne=="byteLength"||Ne=="byteOffset")||xr(Ne,Ae)))&&le.push(Ne);return le}var Zi=_r;function Oe(h){var v=[];if(h!=null)for(var S in Object(h))v.push(S);return v}var Ot=Oe,tt=Object.prototype,Nt=tt.hasOwnProperty;function Jt(h){if(!(0,P.Z)(h))return Ot(h);var v=oi(h),S=[];for(var z in h)z=="constructor"&&(v||!Nt.call(h,z))||S.push(z);return S}var pn=Jt;function fn(h){return po(h)?Zi(h,!0):pn(h)}var Cn=fn;function Nn(h){return vr(h,Cn(h))}var Er=Nn;function Zn(h,v,S,z,fe,ne,Te){var le=tn(h,S),Ae=tn(v,S),Ne=Te.get(Ae);if(Ne){lt(h,S,Ne);return}var Me=ne?ne(le,Ae,S+"",h,v,Te):void 0,Fe=Me===void 0;if(Fe){var ut=si(Ae),ft=!ut&&eo(Ae),pt=!ut&&!ft&&Vt(Ae);Me=Ae,ut||ft||pt?si(le)?Me=le:Qr(le)?Me=ni(le):ft?(Fe=!1,Me=Uo(Ae,!0)):pt?(Fe=!1,Me=un(Ae,!0)):Me=[]:Vi(Ae)||fo(Ae)?(Me=le,fo(le)?Me=Er(le):(!(0,P.Z)(le)||se(le))&&(Me=Bi(Ae))):Fe=!1}Fe&&(Te.set(Ae,Me),fe(Me,Ae,z,ne,Te),Te.delete(Ae)),lt(h,S,Me)}var jn=Zn;function Rr(h,v,S,z,fe){h!==v&&sn(v,function(ne,Te){if(fe||(fe=new Wr),(0,P.Z)(ne))jn(h,v,Te,S,Rr,z,fe);else{var le=z?z(tn(h,Te),ne,Te+"",h,v,fe):void 0;le===void 0&&(le=ne),lt(h,Te,le)}},Cn)}var Sr=Rr;function Lr(h){return h}var tr=Lr;function us(h,v,S){switch(S.length){case 0:return h.call(v);case 1:return h.call(v,S[0]);case 2:return h.call(v,S[0],S[1]);case 3:return h.call(v,S[0],S[1],S[2])}return h.apply(v,S)}var ks=us,Is=Math.max;function Ts(h,v,S){return v=Is(v===void 0?h.length-1:v,0),function(){for(var z=arguments,fe=-1,ne=Is(z.length-v,0),Te=Array(ne);++fe<ne;)Te[fe]=z[v+fe];fe=-1;for(var le=Array(v+1);++fe<v;)le[fe]=z[fe];return le[v]=S(Te),ks(h,this,le)}}var Zs=Ts;function As(h){return function(){return h}}var Hs=As,ds=me?function(h,v){return me(h,"toString",{configurable:!0,enumerable:!1,value:Hs(v),writable:!0})}:tr,fs=ds,$s=800,Os=16,Ms=Date.now;function Ws(h){var v=0,S=0;return function(){var z=Ms(),fe=Os-(z-S);if(S=z,fe>0){if(++v>=$s)return arguments[0]}else v=0;return h.apply(void 0,arguments)}}var Ks=Ws,Gs=Ks(fs),Xs=Gs;function r(h,v){return Xs(Zs(h,v,tr),h+"")}var c=r;function d(h,v,S){if(!(0,P.Z)(S))return!1;var z=typeof v;return(z=="number"?po(S)&&xr(v,S.length):z=="string"&&v in S)?T(S[v],h):!1}var m=d;function y(h){return c(function(v,S){var z=-1,fe=S.length,ne=fe>1?S[fe-1]:void 0,Te=fe>2?S[2]:void 0;for(ne=h.length>3&&typeof ne=="function"?(fe--,ne):void 0,Te&&m(S[0],S[1],Te)&&(ne=fe<3?void 0:ne,fe=1),v=Object(v);++z<fe;){var le=S[z];le&&h(v,le,z,ne)}return v})}var D=y,A=D(function(h,v,S){Sr(h,v,S)}),R=A},67197:function(B,Z,l){"use strict";l.d(Z,{kP:function(){return _}});let i=x=>crypto.getRandomValues(new Uint8Array(x)),O=(x,b,p)=>{let w=(2<<Math.log(x.length-1)/Math.LN2)-1,E=-~(1.6*w*b/x.length);return(I=b)=>{let U="";for(;;){let N=p(E),K=E;for(;K--;)if(U+=x[N[K]&w]||"",U.length===I)return U}}},_=(x,b=21)=>O(x,b,i),T=(x=21)=>crypto.getRandomValues(new Uint8Array(x)).reduce((b,p)=>(p&=63,p<36?b+=p.toString(36):p<62?b+=(p-26).toString(36).toUpperCase():p>62?b+="-":b+="_",b),"")},7034:function(B,Z,l){"use strict";l.d(Z,{QW:function(){return Ro},H6:function(){return sl}});const i=()=>new Map,O=t=>{const e=i();return t.forEach((n,o)=>{e.set(o,n)}),e},_=(t,e,n)=>{let o=t.get(e);return o===void 0&&t.set(e,o=n()),o},T=(t,e)=>{const n=[];for(const[o,s]of t)n.push(e(s,o));return n},x=(t,e)=>{for(const[n,o]of t)if(e(o,n))return!0;return!1},b=(t,e)=>{for(const[n,o]of t)if(!e(o,n))return!1;return!0},p=()=>new Set,w=t=>Array.from(t),E=t=>t.values().next().value||void 0,I=t=>new Set(t),U=t=>t[t.length-1],N=()=>[],K=t=>t.slice(),G=(t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},he=Array.from,Ve=(t,e)=>{for(let n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0},ce=(t,e)=>{for(let n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},ue=(t,e)=>t.length===e.length&&Ve(t,(n,o)=>n===e[o]),X=t=>oe(t,[],(e,n)=>e.concat(n)),re=(t,e)=>{const n=new Array(t);for(let o=0;o<t;o++)n[o]=e(o,n);return n},oe=(t,e,n)=>t.reduce(n,e),$=Array.isArray,Q=t=>he(set.from(t)),ae=(t,e)=>{const n=set.create(),o=[];for(let s=0;s<t.length;s++){const u=t[s],C=e(u);n.has(C)||(n.add(C),o.push(u))}return o},ie=(t,e)=>{const n=Array(t.length);for(let o=0;o<t.length;o++)n[o]=e(t[o],o,t);return n};class _e{constructor(){this._observers=i()}on(e,n){return _(this._observers,e,p).add(n),n}once(e,n){const o=(...s)=>{this.off(e,o),n(...s)};this.on(e,o)}off(e,n){const o=this._observers.get(e);o!==void 0&&(o.delete(n),o.size===0&&this._observers.delete(e))}emit(e,n){return he((this._observers.get(e)||i()).values()).forEach(o=>o(...n))}destroy(){this._observers=i()}}class Le{constructor(){this._observers=map.create()}on(e,n){map.setIfUndefined(this._observers,e,set.create).add(n)}once(e,n){const o=(...s)=>{this.off(e,o),n(...s)};this.on(e,o)}off(e,n){const o=this._observers.get(e);o!==void 0&&(o.delete(n),o.size===0&&this._observers.delete(e))}emit(e,n){return array.from((this._observers.get(e)||map.create()).values()).forEach(o=>o(...n))}destroy(){this._observers=map.create()}}const P=Math.floor,J=Math.ceil,Ce=Math.abs,xe=Math.imul,je=Math.round,H=Math.log10,se=Math.log2,Ee=Math.log,Ge=Math.sqrt,_t=(t,e)=>t+e,Gt=(t,e)=>t<e?t:e,Ct=(t,e)=>t>e?t:e,Y=Number.isNaN,ge=Math.pow,ve=t=>Math.pow(10,t),be=Math.sign,Re=t=>t!==0?t<0:1/t<0,dt=1,gt=2,Wt=4,Qt=8,Ie=16,De=32,We=64,He=128,ye=256,Ft=512,yn=1024,gn=2048,Sn=4096,kn=8192,bn=16384,Tn=32768,Bn=65536,In=1<<17,on=1<<18,M=1<<19,W=1<<20,we=1<<21,Pe=1<<22,Xe=1<<23,mt=1<<24,bt=1<<25,ht=1<<26,ze=1<<27,Je=1<<28,jt=1<<29,cn=1<<30,Zt=null,nn=0,qt=1,en=3,wn=7,hn=15,mn=31,yt=63,zt=127,Et=255,st=511,Lt=1023,Kt=2047,fr=4095,Pn=8191,yr=16383,hr=32767,kr=65535,or=In-1,Bo=on-1,co=M-1,er=W-1,ir=we-1,wr=Pe-1,Wr=Xe-1,V=mt-1,me=bt-1,nt=ht-1,rt=ze-1,Ke=Je-1,lt=jt-1,kt=cn-1,At=2147483647,Ht=4294967295,sn=Number.MAX_SAFE_INTEGER,xn=Number.MIN_SAFE_INTEGER,Yn=null,pr=At,Jn=Ht,Qn=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&P(t)===t),Ur=Number.isNaN,Uo=Number.parseInt,zo=t=>{t&=binary.BITS32;let e=0;for(;t;)t&=t-1,e++;return e},zr=String.fromCharCode,Jr=String.fromCodePoint,Vo=zr(65535),Ir=t=>t.toLowerCase(),un=/^\s*/g,Mi=t=>t.replace(un,""),ni=/([A-Z])/g,Fo=(t,e)=>Mi(t.replace(ni,n=>`${e}${Ir(n)}`)),Ni=t=>unescape(encodeURIComponent(t)).length,ri=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,o=new Uint8Array(n);for(let s=0;s<n;s++)o[s]=e.codePointAt(s);return o},lo=typeof TextEncoder!="undefined"?new TextEncoder:null,Di=lo?t=>lo.encode(t):ri,Pi=t=>{let e=t.length,n="",o=0;for(;e>0;){const s=e<1e4?e:1e4,u=t.subarray(o,o+s);o+=s,n+=String.fromCodePoint.apply(null,u),e-=s}return decodeURIComponent(escape(n))};let Tr=typeof TextDecoder=="undefined"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Tr&&Tr.decode(new Uint8Array).length===1&&(Tr=null);const Ri=t=>Tr.decode(t),oi=null,Li=(t,e,n,o="")=>t.slice(0,e)+o+t.slice(e+n),Bi=(t,e)=>array.unfold(e,()=>t).join("");class lr{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const uo=()=>new lr,ts=t=>{const e=uo();return t(e),Wn(e)},ii=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},To=t=>t.cpos>0||t.bufs.length>0,Wn=t=>{const e=new Uint8Array(ii(t));let n=0;for(let o=0;o<t.bufs.length;o++){const s=t.bufs[o];e.set(s,n),n+=s.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},Ui=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(Ct(n,e)*2),t.cpos=0)},An=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},fo=(t,e,n)=>{let o=null;for(let s=0;s<t.bufs.length&&o===null;s++){const u=t.bufs[s];e<u.length?o=u:e-=u.length}o===null&&(o=t.cbuf),o[e]=n},ho=An,si=null,ns=(t,e)=>{An(t,e&binary.BITS8),An(t,e>>>8&binary.BITS8)},rs=(t,e,n)=>{fo(t,e,n&binary.BITS8),fo(t,e+1,n>>>8&binary.BITS8)},jo=(t,e)=>{for(let n=0;n<4;n++)An(t,e&binary.BITS8),e>>>=8},os=(t,e)=>{for(let n=3;n>=0;n--)An(t,e>>>8*n&binary.BITS8)},po=(t,e,n)=>{for(let o=0;o<4;o++)fo(t,e+o,n&binary.BITS8),n>>>=8},vn=(t,e)=>{for(;e>zt;)An(t,He|zt&e),e=P(e/128);An(t,zt&e)},Qr=(t,e)=>{const n=Re(e);for(n&&(e=-e),An(t,(e>yt?He:0)|(n?We:0)|yt&e),e=P(e/64);e>0;)An(t,(e>zt?He:0)|zt&e),e=P(e/128)},Ao=new Uint8Array(3e4),go=Ao.length/3,ai=(t,e)=>{if(e.length<go){const n=lo.encodeInto(e,Ao).written||0;vn(t,n);for(let o=0;o<n;o++)An(t,Ao[o])}else Un(t,Di(e))},Zo=(t,e)=>{const n=unescape(encodeURIComponent(e)),o=n.length;vn(t,o);for(let s=0;s<o;s++)An(t,n.codePointAt(s))},qr=lo&&lo.encodeInto?ai:Zo,Ho=(t,e)=>ci(t,string.encodeUtf8(e)),ci=(t,e)=>{for(let n=0;n<e.length;n++){const o=e[n];(o===0||o===1)&&An(t,1),An(t,e[n])}An(t,0)},li=(t,e)=>eo(t,Wn(e)),eo=(t,e)=>{const n=t.cbuf.length,o=t.cpos,s=Gt(n-o,e.length),u=e.length-s;t.cbuf.set(e.subarray(0,s),o),t.cpos+=s,u>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(Ct(n*2,u)),t.cbuf.set(e.subarray(s)),t.cpos=u)},Un=(t,e)=>{vn(t,e.byteLength),eo(t,e)},Ar=(t,e)=>{Ui(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},$o=(t,e)=>Ar(t,4).setFloat32(0,e,!1),ui=(t,e)=>Ar(t,8).setFloat64(0,e,!1),di=(t,e)=>Ar(t,8).setBigInt64(0,e,!1),zi=(t,e)=>Ar(t,8).setBigUint64(0,e,!1),Wo=new DataView(new ArrayBuffer(4)),Vi=t=>(Wo.setFloat32(0,t),Wo.getFloat32(0)===t),mo=(t,e)=>{switch(typeof e){case"string":An(t,119),qr(t,e);break;case"number":Qn(e)&&Ce(e)<=At?(An(t,125),Qr(t,e)):Vi(e)?(An(t,124),$o(t,e)):(An(t,123),ui(t,e));break;case"bigint":An(t,122),di(t,e);break;case"object":if(e===null)An(t,126);else if($(e)){An(t,117),vn(t,e.length);for(let n=0;n<e.length;n++)mo(t,e[n])}else if(e instanceof Uint8Array)An(t,116),Un(t,e);else{An(t,118);const n=Object.keys(e);vn(t,n.length);for(let o=0;o<n.length;o++){const s=n[o];qr(t,s),mo(t,e[s])}}break;case"boolean":An(t,e?120:121);break;default:An(t,127)}};class Ko extends lr{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&vn(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}class fi extends null{constructor(e){super(),this.s=e}write(e){Qr(this,e-this.s),this.s=e}}class Or extends null{constructor(e){super(),this.s=e,this.count=0}write(e){this.s===e&&this.count>0?this.count++:(this.count>0&&vn(this,this.count-1),this.count=1,Qr(this,e-this.s),this.s=e)}}const Vr=t=>{t.count>0&&(Qr(t.encoder,t.count===1?t.s:-t.s),t.count>1&&vn(t.encoder,t.count-2))};class Kr{constructor(){this.encoder=new lr,this.s=0,this.count=0}write(e){this.s===e?this.count++:(Vr(this),this.count=1,this.s=e)}toUint8Array(){return Vr(this),Wn(this.encoder)}}class Mr{constructor(){this.encoder=new lr,this.s=0,this.count=0}write(e){this.s+this.count===e?this.count++:(Vr(this),this.count=1,this.s=e)}toUint8Array(){return Vr(this),Wn(this.encoder)}}const Go=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);Qr(t.encoder,e),t.count>1&&vn(t.encoder,t.count-2)}};class Xo{constructor(){this.encoder=new lr,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(Go(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return Go(this),Wn(this.encoder)}}class hi{constructor(){this.sarr=[],this.s="",this.lensE=new Kr}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new lr;return this.sarr.push(this.s),this.s="",qr(e,this.sarr.join("")),eo(e,this.lensE.toUint8Array()),Wn(e)}}const yo=crypto.subtle,wo=crypto.getRandomValues.bind(crypto),Fi=Math.random,vo=()=>wo(new Uint32Array(1))[0],is=()=>{const t=getRandomValues(new Uint32Array(8));return(t[0]&binary.BITS21)*(binary.BITS32+1)+(t[1]>>>0)},Fr=t=>t[math.floor(Fi()*t.length)],bo=[1e7]+-1e3+-4e3+-8e3+-1e11,ji=()=>bo.replace(/[018]/g,t=>(t^vo()&15>>t/4).toString(16)),to=t=>new Promise(t),Oo=t=>new Promise(t),ss=Promise.all.bind(Promise),as=t=>Promise.reject(t),pi=t=>Promise.resolve(t),cs=t=>Promise.resolve(t),On=(t,e,n=10)=>to((o,s)=>{const u=time.getUnixTime(),C=t>0,F=setInterval(()=>{e()?(clearInterval(F),o()):C&&time.getUnixTime()-u>t&&(clearInterval(F),s(new Error("Timeout")))},n)}),ls=(t,e=0,n=10)=>$c(this,null,function*(){const o=time.getUnixTime(),s=e<=0;for(;s||time.getUnixTime()-o<=e;){if(yield t())return;yield gi(n)}throw new Error("Timeout")}),gi=t=>to((e,n)=>setTimeout(e,t)),a=t=>t instanceof Promise||t&&t.then&&t.catch&&t.finally,g=t=>new Error(t),k=()=>{throw g("Method unimplemented")},j=()=>{throw g("Unexpected case")},pe=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&pe(t,e,n+1)}},Se=()=>{},de=t=>t(),Be=t=>t,Ye=(t,e)=>t===e,qe=(t,e)=>t===e||t!=null&&e!=null&&t.constructor===e.constructor&&(array.isArray(t)&&array.equalFlat(t,e)||typeof t=="object"&&object.equalFlat(t,e)),et=(t,e)=>{if(t==null||e==null)return Ye(t,e);if(t.constructor!==e.constructor)return!1;if(t===e)return!0;switch(t.constructor){case ArrayBuffer:t=new Uint8Array(t),e=new Uint8Array(e);case Uint8Array:{if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;break}case Set:{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;break}case Map:{if(t.size!==e.size)return!1;for(const n of t.keys())if(!e.has(n)||!et(t.get(n),e.get(n)))return!1;break}case Object:if(object.length(t)!==object.length(e))return!1;for(const n in t)if(!object.hasProperty(t,n)||!et(t[n],e[n]))return!1;break;case Array:if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!et(t[n],e[n]))return!1;break;default:return!1}return!0},Vt=(t,e)=>e.includes(t),$t=$,tn=t=>t&&t.constructor===String,qn=t=>t!=null&&t.constructor===Number,zn=(t,e)=>t&&t.constructor===e,ur=t=>e=>e&&e.constructor===t,rn=t=>t===void 0?null:t;class Nr{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let vr=new Nr,Dr=!0;try{typeof localStorage!="undefined"&&localStorage&&(vr=localStorage,Dr=!1)}catch(t){}const Pr=vr,br=t=>Dr||addEventListener("storage",t),Yo=t=>Dr||removeEventListener("storage",t);var sr=l(14224);const xr=typeof sr!="undefined"&&sr.release&&/node|io\.js/.test(sr.release.name)&&Object.prototype.toString.call(typeof sr!="undefined"?sr:0)==="[object process]",Jo=typeof window!="undefined"&&typeof document!="undefined"&&!xr,Mo=typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1;let _r;const Zi=[],Oe=()=>{if(_r===void 0)if(xr){_r=i();const t=sr.argv;let e=null;for(let n=0;n<t.length;n++){const o=t[n];o[0]==="-"?(e!==null&&_r.set(e,""),e=o):e!==null?(_r.set(e,o),e=null):Zi.push(o)}e!==null&&_r.set(e,"")}else typeof location=="object"?(_r=i(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");_r.set(`--${Fo(e,"-")}`,n),_r.set(`-${Fo(e,"-")}`,n)}})):_r=i();return _r},Ot=t=>Oe().has(t),tt=(t,e)=>Oe().get(t)||e,Nt=t=>rn(xr?{NODE_ENV:"production",PUBLIC_PATH:"/"}[t.toUpperCase().replaceAll("-","_")]:Pr.getItem(t)),Jt=t=>Oe().get("--"+t)||Nt(t),pn=t=>{const e=Jt(t);if(e==null)throw new Error(`Expected configuration "${t.toUpperCase().replaceAll("-","_")}"`);return e},Cn=(t=>Ot("--"+t)||Nt(t)!==null)("production"),Nn=xr&&Vt({NODE_ENV:"production",PUBLIC_PATH:"/"}.FORCE_COLOR,["true","1","2"]),Er=!Ot("--no-colors")&&(!xr||sr.stdout.isTTY||Nn)&&(!xr||Ot("--color")||Nn||Nt("COLORTERM")!==null||(Nt("TERM")||"").includes("color"));class Zn{constructor(e,n){this.left=e,this.right=n}}const jn=(t,e)=>new Zn(t,e),Rr=(t,e)=>new Zn(e,t),Sr=(t,e)=>t.forEach(n=>e(n.left,n.right)),Lr=(t,e)=>t.map(n=>e(n.left,n.right)),tr=typeof document!="undefined"?document:{},us=t=>tr.createElement(t),ks=()=>tr.createDocumentFragment(),Is=t=>tr.createTextNode(t),Ts=typeof DOMParser!="undefined"?new DOMParser:null,Zs=(t,e,n)=>t.dispatchEvent(new CustomEvent(e,n)),As=(t,e)=>(pair.forEach(e,(n,o)=>{o===!1?t.removeAttribute(n):o===!0?t.setAttribute(n,""):t.setAttribute(n,o)}),t),Hs=(t,e)=>(e.forEach((n,o)=>{t.setAttribute(o,n)}),t),ds=t=>{const e=ks();for(let n=0;n<t.length;n++)fe(e,t[n]);return e},fs=(t,e)=>(fe(t,ds(e)),t),$s=t=>t.remove(),Os=(t,e,n)=>t.addEventListener(e,n),Ms=(t,e,n)=>t.removeEventListener(e,n),Ws=(t,e)=>(pair.forEach(e,(n,o)=>Os(t,n,o)),t),Ks=(t,e)=>(pair.forEach(e,(n,o)=>Ms(t,n,o)),t),Gs=(t,e=[],n=[])=>fs(As(us(t),e),n),Xs=(t,e)=>{const n=us("canvas");return n.height=e,n.width=t,n},r=null,c=t=>`${t.left}:${t.right};`,d=t=>t.map(c).join(""),m=t=>T(t,(e,n)=>`${n}:${e};`).join(""),y=(t,e)=>t.querySelector(e),D=(t,e)=>t.querySelectorAll(e),A=t=>tr.getElementById(t),R=t=>Ts.parseFromString(`<html><body>${t}</body></html>`,"text/html").body,h=t=>ds(R(t).childNodes),v=t=>R(t).firstElementChild,S=(t,e)=>t.replaceWith(e),z=(t,e,n)=>t.insertBefore(e,n),fe=(t,e)=>t.appendChild(e),ne=tr.ELEMENT_NODE,Te=tr.TEXT_NODE,le=tr.CDATA_SECTION_NODE,Ae=tr.COMMENT_NODE,Ne=tr.DOCUMENT_NODE,Me=tr.DOCUMENT_TYPE_NODE,Fe=tr.DOCUMENT_FRAGMENT_NODE,ut=(t,e)=>t.nodeType===e,ft=(t,e)=>{let n=e.parentNode;for(;n&&n!==t;)n=n.parentNode;return n===t},pt=Symbol,Dt=t=>typeof t=="symbol",wt=()=>new Date,at=Date.now,It=t=>{if(t<6e4){const u=metric.prefix(t,-1);return math.round(u.n*100)/100+u.prefix+"s"}t=math.floor(t/1e3);const e=t%60,n=math.floor(t/60)%60,o=math.floor(t/3600)%24,s=math.floor(t/86400);return s>0?s+"d"+(o>0||n>30?" "+(n>30?o+1:o)+"h":""):o>0?o+"h"+(n>0||e>30?" "+(e>30?n+1:n)+"min":""):n+"min"+(e>0?" "+e+"s":"")},vt=pt(),xt=pt(),Qe=pt(),$e=pt(),ct=pt(),Tt=pt(),Xt=pt(),Ut=pt(),Ue=pt(),Pt=t=>{var s;t.length===1&&((s=t[0])==null?void 0:s.constructor)===Function&&(t=t[0]());const e=[],n=[];let o=0;for(;o<t.length;o++){const u=t[o];u===void 0?e.push("undefined"):u.constructor===String||u.constructor===Number?e.push(u):u.constructor===Object&&n.push(JSON.stringify(u))}return n},ot=[ct,Xt,Ut,Qe];let Mt=0,Yt=at();const ln=(t,e)=>{const n=ot[Mt],o=env.getVariable("log"),s=o!==null&&(o==="*"||o==="true"||new RegExp(o,"gi").test(e));return Mt=(Mt+1)%ot.length,e+=": ",s?(...u)=>{var F;u.length===1&&((F=u[0])==null?void 0:F.constructor)===Function&&(u=u[0]());const C=time.getUnixTime(),L=C-Yt;Yt=C,t(n,e,Ue,...u.map(te=>{switch(te!=null&&te.constructor===Uint8Array&&(te=Array.from(te)),typeof te){case"string":case"symbol":return te;default:return json.stringify(te)}}),n," +"+L+"ms")}:func.nop},En={[vt]:jn("font-weight","bold"),[xt]:jn("font-weight","normal"),[Qe]:jn("color","blue"),[ct]:jn("color","green"),[$e]:jn("color","grey"),[Tt]:jn("color","red"),[Xt]:jn("color","purple"),[Ut]:jn("color","orange"),[Ue]:jn("color","black")},Hn=Er?t=>{var C;t.length===1&&((C=t[0])==null?void 0:C.constructor)===Function&&(t=t[0]());const e=[],n=[],o=i();let s=[],u=0;for(;u<t.length;u++){const L=t[u],F=En[L];if(F!==void 0)o.set(F.left,F.right);else{if(L===void 0)break;if(L.constructor===String||L.constructor===Number){const te=m(o);u>0||te.length>0?(e.push("%c"+L),n.push(te)):e.push(L)}else break}}for(u>0&&(s=n,s.unshift(e.join("")));u<t.length;u++){const L=t[u];L instanceof Symbol||s.push(L)}return s}:Pt,nr=(...t)=>{console.log(...Hn(t)),Bt.forEach(e=>e.print(t))},ar=(...t)=>{console.warn(...Hn(t)),t.unshift(Ut),Bt.forEach(e=>e.print(t))},cr=t=>{console.error(t),Bt.forEach(e=>e.printError(t))},gr=(t,e)=>{env.isBrowser&&console.log("%c                      ",`font-size: ${e}px; background-size: contain; background-repeat: no-repeat; background-image: url(${t})`),Bt.forEach(n=>n.printImg(t,e))},Kn=(t,e)=>gr(`data:image/gif;base64,${t}`,e),no=(...t)=>{console.group(...Hn(t)),Bt.forEach(e=>e.group(t))},jr=(...t)=>{console.groupCollapsed(...Hn(t)),Bt.forEach(e=>e.groupCollapsed(t))},Gn=()=>{console.groupEnd(),Bt.forEach(t=>t.groupEnd())},xo=t=>Bt.forEach(e=>e.printDom(t())),Vn=(t,e)=>gr(t.toDataURL(),e),Bt=p(),Cr=t=>{const e=[],n=new Map;let o=0;for(;o<t.length;o++){let s=t[o];const u=En[s];if(u!==void 0)n.set(u.left,u.right);else if(s===void 0&&(s="undefined "),s.constructor===String||s.constructor===Number){const C=dom.element("span",[pair.create("style",dom.mapToStyleString(n))],[dom.text(s.toString())]);C.innerHTML===""&&(C.innerHTML="&nbsp;"),e.push(C)}else break}for(;o<t.length;o++){let s=t[o];s instanceof Symbol||(s.constructor!==String&&s.constructor!==Number&&(s=" "+json.stringify(s)+" "),e.push(dom.element("span",[],[dom.text(s)])))}return e},No="font-family:monospace;border-bottom:1px solid #e2e2e2;padding:2px;";class Hi{constructor(e){this.dom=e,this.ccontainer=this.dom,this.depth=0,Bt.add(this)}group(e,n=!1){eventloop.enqueue(()=>{const o=dom.element("span",[pair.create("hidden",n),pair.create("style","color:grey;font-size:120%;")],[dom.text("\u25BC")]),s=dom.element("span",[pair.create("hidden",!n),pair.create("style","color:grey;font-size:125%;")],[dom.text("\u25B6")]),u=dom.element("div",[pair.create("style",`${No};padding-left:${this.depth*10}px`)],[o,s,dom.text(" ")].concat(Cr(e))),C=dom.element("div",[pair.create("hidden",n)]),L=dom.element("div",[],[u,C]);dom.append(this.ccontainer,[L]),this.ccontainer=C,this.depth++,dom.addEventListener(u,"click",F=>{C.toggleAttribute("hidden"),o.toggleAttribute("hidden"),s.toggleAttribute("hidden")})})}groupCollapsed(e){this.group(e,!0)}groupEnd(){eventloop.enqueue(()=>{this.depth>0&&(this.depth--,this.ccontainer=this.ccontainer.parentElement.parentElement)})}print(e){eventloop.enqueue(()=>{dom.append(this.ccontainer,[dom.element("div",[pair.create("style",`${No};padding-left:${this.depth*10}px`)],Cr(e))])})}printError(e){this.print([common.RED,common.BOLD,e.toString()])}printImg(e,n){eventloop.enqueue(()=>{dom.append(this.ccontainer,[dom.element("img",[pair.create("src",e),pair.create("height",`${math.round(n*1.5)}px`)])])})}printDom(e){eventloop.enqueue(()=>{dom.append(this.ccontainer,[e])})}destroy(){eventloop.enqueue(()=>{Bt.delete(this)})}}const $i=t=>new Hi(t),Wi=t=>common.createModuleLogger(nr,t),Do=(t,e)=>({[Symbol.iterator](){return this},next(){const n=t.next();return{value:n.done?void 0:e(n.value),done:n.done}}}),Qo=t=>({[Symbol.iterator](){return this},next:t}),qo=(t,e)=>Qo(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),_o=(t,e)=>Qo(()=>{const{done:n,value:o}=t.next();return{done:n,value:n?void 0:e(o)}}),Ki=()=>Object.create(null),mi=Object.assign,yi=Object.keys,dr=(t,e)=>{for(const n in t)e(t[n],n)},ro=(t,e)=>{const n=[];for(const o in t)n.push(e(t[o],o));return n},wi=t=>yi(t).length,Po=t=>yi(t).length,vi=(t,e)=>{for(const n in t)if(e(t[n],n))return!0;return!1},Eo=t=>{for(const e in t)return!1;return!0},oo=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},Gi=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),Ns=(t,e)=>t===e||Po(t)===Po(e)&&oo(t,(n,o)=>(n!==void 0||Gi(e,o))&&e[o]===n);class hs extends null{constructor(e,n){super(),this.doc=e,this.awareness=n}}class Xi{constructor(e,n){this.clock=e,this.len=n}}class ei{constructor(){this.clients=new Map}}const Zr=(t,e,n)=>e.clients.forEach((o,s)=>{const u=t.doc.store.clients.get(s);for(let C=0;C<o.length;C++){const L=o[C];oc(t,u,L.clock,L.len,n)}}),ya=(t,e)=>{let n=0,o=t.length-1;for(;n<=o;){const s=P((n+o)/2),u=t[s],C=u.clock;if(C<=e){if(e<C+u.len)return s;n=s+1}else o=s-1}return null},bi=(t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&ya(n,e.clock)!==null},Ds=t=>{t.clients.forEach(e=>{e.sort((s,u)=>s.clock-u.clock);let n,o;for(n=1,o=1;n<e.length;n++){const s=e[o-1],u=e[n];s.clock+s.len>=u.clock?s.len=Ct(s.len,u.clock+u.len-s.clock):(o<n&&(e[o]=u),o++)}e.length=o})},xi=t=>{const e=new ei;for(let n=0;n<t.length;n++)t[n].clients.forEach((o,s)=>{if(!e.clients.has(s)){const u=o.slice();for(let C=n+1;C<t.length;C++)G(u,t[C].clients.get(s)||[]);e.clients.set(s,u)}});return Ds(e),e},Yi=(t,e,n,o)=>{_(t.clients,e,()=>[]).push(new Xi(n,o))},Ps=()=>new ei,Ys=t=>{const e=Ps();return t.clients.forEach((n,o)=>{const s=[];for(let u=0;u<n.length;u++){const C=n[u];if(C.deleted){const L=C.id.clock;let F=C.length;if(u+1<n.length)for(let te=n[u+1];u+1<n.length&&te.deleted;te=n[++u+1])F+=te.length;s.push(new Xi(L,F))}}s.length>0&&e.clients.set(o,s)}),e},io=(t,e)=>{vn(t.restEncoder,e.clients.size),he(e.clients.entries()).sort((n,o)=>o[0]-n[0]).forEach(([n,o])=>{t.resetDsCurVal(),vn(t.restEncoder,n);const s=o.length;vn(t.restEncoder,s);for(let u=0;u<s;u++){const C=o[u];t.writeDsClock(C.clock),t.writeDsLen(C.len)}})},So=t=>{const e=new ei,n=decoding.readVarUint(t.restDecoder);for(let o=0;o<n;o++){t.resetDsCurVal();const s=decoding.readVarUint(t.restDecoder),u=decoding.readVarUint(t.restDecoder);if(u>0){const C=map.setIfUndefined(e.clients,s,()=>[]);for(let L=0;L<u;L++)C.push(new Xi(t.readDsClock(),t.readDsLen()))}}return e},Js=(t,e,n)=>{const o=new ei,s=decoding.readVarUint(t.restDecoder);for(let u=0;u<s;u++){t.resetDsCurVal();const C=decoding.readVarUint(t.restDecoder),L=decoding.readVarUint(t.restDecoder),F=n.clients.get(C)||[],te=Xn(n,C);for(let q=0;q<L;q++){const ee=t.readDsClock(),ke=ee+t.readDsLen();if(ee<te){te<ke&&Yi(o,C,te,ke-te);let it=Co(F,ee),St=F[it];for(!St.deleted&&St.id.clock<ee&&(F.splice(it+1,0,pa(e,St,ee-St.id.clock)),it++);it<F.length&&(St=F[it++],St.id.clock<ke);)St.deleted||(ke<St.id.clock+St.length&&F.splice(it,0,pa(e,St,ke-St.id.clock)),St.delete(e))}else Yi(o,C,ee,ke-ee)}}if(o.clients.size>0){const u=new so;return encoding.writeVarUint(u.restEncoder,0),io(u,o),u.toUint8Array()}return null},wa=(t,e)=>{if(t.clients.size!==e.clients.size)return!1;for(const[n,o]of t.clients.entries()){const s=e.clients.get(n);if(s===void 0||o.length!==s.length)return!1;for(let u=0;u<o.length;u++){const C=o[u],L=s[u];if(C.clock!==L.clock||C.len!==L.len)return!1}}return!0},Qs=vo;class Ro extends _e{constructor({guid:e=ji(),collectionid:n=null,gc:o=!0,gcFilter:s=()=>!0,meta:u=null,autoLoad:C=!1,shouldLoad:L=!0}={}){super(),this.gc=o,this.gcFilter=s,this.clientID=Qs(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new tc,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=L,this.autoLoad=C,this.meta=u,this.isLoaded=!1,this.isSynced=!1,this.whenLoaded=to(te=>{this.on("load",()=>{this.isLoaded=!0,te(this)})});const F=()=>to(te=>{const q=ee=>{(ee===void 0||ee===!0)&&(this.off("sync",q),te())};this.on("sync",q)});this.on("sync",te=>{te===!1&&this.isSynced&&(this.whenSynced=F()),this.isSynced=te===void 0||te===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=F()}load(){const e=this._item;e!==null&&!this.shouldLoad&&Ln(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(he(this.subdocs).map(e=>e.guid))}transact(e,n=null){return Ln(this,e,n)}get(e,n=mr){const o=_(this.share,e,()=>{const u=new n;return u._integrate(this,null),u}),s=o.constructor;if(n!==mr&&s!==n)if(s===mr){const u=new n;u._map=o._map,o._map.forEach(C=>{for(;C!==null;C=C.left)C.parent=u}),u._start=o._start;for(let C=u._start;C!==null;C=C.right)C.parent=u;return u._length=o._length,this.share.set(e,u),u._integrate(this,null),u}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return o}getArray(e=""){return this.get(e,ki)}getText(e=""){return this.get(e,_s)}getMap(e=""){return this.get(e,Ji)}getXmlElement(e=""){return this.get(e,qi)}getXmlFragment(e=""){return this.get(e,Qi)}toJSON(){const e={};return this.share.forEach((n,o)=>{e[o]=n.toJSON()}),e}destroy(){he(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new Ro(Fn(Rt({guid:this.guid},n.opts),{shouldLoad:!1})),n.doc._item=e,Ln(e.parent.doc,o=>{const s=n.doc;e.deleted||o.subdocsAdded.add(s),o.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class ps{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return decoding.readVarUint(this.restDecoder)}readDsLen(){return decoding.readVarUint(this.restDecoder)}}class Gr extends null{readLeftID(){return dn(decoding.readVarUint(this.restDecoder),decoding.readVarUint(this.restDecoder))}readRightID(){return dn(decoding.readVarUint(this.restDecoder),decoding.readVarUint(this.restDecoder))}readClient(){return decoding.readVarUint(this.restDecoder)}readInfo(){return decoding.readUint8(this.restDecoder)}readString(){return decoding.readVarString(this.restDecoder)}readParentInfo(){return decoding.readVarUint(this.restDecoder)===1}readTypeRef(){return decoding.readVarUint(this.restDecoder)}readLen(){return decoding.readVarUint(this.restDecoder)}readAny(){return decoding.readAny(this.restDecoder)}readBuf(){return buffer.copyUint8Array(decoding.readVarUint8Array(this.restDecoder))}readJSON(){return JSON.parse(decoding.readVarString(this.restDecoder))}readKey(){return decoding.readVarString(this.restDecoder)}}class va{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=decoding.readVarUint(this.restDecoder),this.dsCurrVal}readDsLen(){const e=decoding.readVarUint(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class Hr extends null{constructor(e){super(e),this.keys=[],decoding.readVarUint(e),this.keyClockDecoder=new decoding.IntDiffOptRleDecoder(decoding.readVarUint8Array(e)),this.clientDecoder=new decoding.UintOptRleDecoder(decoding.readVarUint8Array(e)),this.leftClockDecoder=new decoding.IntDiffOptRleDecoder(decoding.readVarUint8Array(e)),this.rightClockDecoder=new decoding.IntDiffOptRleDecoder(decoding.readVarUint8Array(e)),this.infoDecoder=new decoding.RleDecoder(decoding.readVarUint8Array(e),decoding.readUint8),this.stringDecoder=new decoding.StringDecoder(decoding.readVarUint8Array(e)),this.parentInfoDecoder=new decoding.RleDecoder(decoding.readVarUint8Array(e),decoding.readUint8),this.typeRefDecoder=new decoding.UintOptRleDecoder(decoding.readVarUint8Array(e)),this.lenDecoder=new decoding.UintOptRleDecoder(decoding.readVarUint8Array(e))}readLeftID(){return new ws(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new ws(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return decoding.readAny(this.restDecoder)}readBuf(){return decoding.readVarUint8Array(this.restDecoder)}readJSON(){return decoding.readAny(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class _i{constructor(){this.restEncoder=uo()}toUint8Array(){return Wn(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){vn(this.restEncoder,e)}writeDsLen(e){vn(this.restEncoder,e)}}class ti extends _i{writeLeftID(e){vn(this.restEncoder,e.client),vn(this.restEncoder,e.clock)}writeRightID(e){vn(this.restEncoder,e.client),vn(this.restEncoder,e.clock)}writeClient(e){vn(this.restEncoder,e)}writeInfo(e){ho(this.restEncoder,e)}writeString(e){qr(this.restEncoder,e)}writeParentInfo(e){vn(this.restEncoder,e?1:0)}writeTypeRef(e){vn(this.restEncoder,e)}writeLen(e){vn(this.restEncoder,e)}writeAny(e){mo(this.restEncoder,e)}writeBuf(e){Un(this.restEncoder,e)}writeJSON(e){qr(this.restEncoder,JSON.stringify(e))}writeKey(e){qr(this.restEncoder,e)}}class gs{constructor(){this.restEncoder=uo(),this.dsCurrVal=0}toUint8Array(){return Wn(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,vn(this.restEncoder,n)}writeDsLen(e){e===0&&j(),vn(this.restEncoder,e-1),this.dsCurrVal+=e}}class so extends gs{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Xo,this.clientEncoder=new Kr,this.leftClockEncoder=new Xo,this.rightClockEncoder=new Xo,this.infoEncoder=new Ko(ho),this.stringEncoder=new hi,this.parentInfoEncoder=new Ko(ho),this.typeRefEncoder=new Kr,this.lenEncoder=new Kr}toUint8Array(){const e=uo();return vn(e,0),Un(e,this.keyClockEncoder.toUint8Array()),Un(e,this.clientEncoder.toUint8Array()),Un(e,this.leftClockEncoder.toUint8Array()),Un(e,this.rightClockEncoder.toUint8Array()),Un(e,Wn(this.infoEncoder)),Un(e,this.stringEncoder.toUint8Array()),Un(e,Wn(this.parentInfoEncoder)),Un(e,this.typeRefEncoder.toUint8Array()),Un(e,this.lenEncoder.toUint8Array()),eo(e,Wn(this.restEncoder)),Wn(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){mo(this.restEncoder,e)}writeBuf(e){Un(this.restEncoder,e)}writeJSON(e){mo(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const qs=(t,e,n,o)=>{o=Ct(o,e[0].id.clock);const s=Co(e,o);vn(t.restEncoder,e.length-s),t.writeClient(n),vn(t.restEncoder,o);const u=e[s];u.write(t,o-u.id.clock);for(let C=s+1;C<e.length;C++)e[C].write(t,0)},Rs=(t,e,n)=>{const o=new Map;n.forEach((s,u)=>{Xn(e,u)>s&&o.set(u,s)}),Bs(e).forEach((s,u)=>{n.has(u)||o.set(u,0)}),vn(t.restEncoder,o.size),he(o.entries()).sort((s,u)=>u[0]-s[0]).forEach(([s,u])=>{qs(t,e.clients.get(s),s,u)})},ba=(t,e)=>{const n=map.create(),o=decoding.readVarUint(t.restDecoder);for(let s=0;s<o;s++){const u=decoding.readVarUint(t.restDecoder),C=new Array(u),L=t.readClient();let F=decoding.readVarUint(t.restDecoder);n.set(L,{i:0,refs:C});for(let te=0;te<u;te++){const q=t.readInfo();switch(binary.BITS5&q){case 0:{const ee=t.readLen();C[te]=new Xr(dn(L,F),ee),F+=ee;break}case 10:{const ee=decoding.readVarUint(t.restDecoder);C[te]=new $r(dn(L,F),ee),F+=ee;break}default:{const ee=(q&(binary.BIT7|binary.BIT8))===0,ke=new Dn(dn(L,F),null,(q&binary.BIT8)===binary.BIT8?t.readLeftID():null,null,(q&binary.BIT7)===binary.BIT7?t.readRightID():null,ee?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,ee&&(q&binary.BIT6)===binary.BIT6?t.readString():null,Uc(t,q));C[te]=ke,F+=ke.length}}}}return n},xa=(t,e,n)=>{const o=[];let s=array.from(n.keys()).sort((it,St)=>it-St);if(s.length===0)return null;const u=()=>{if(s.length===0)return null;let it=n.get(s[s.length-1]);for(;it.refs.length===it.i;)if(s.pop(),s.length>0)it=n.get(s[s.length-1]);else return null;return it};let C=u();if(C===null)return null;const L=new tc,F=new Map,te=(it,St)=>{const Mn=F.get(it);(Mn==null||Mn>St)&&F.set(it,St)};let q=C.refs[C.i++];const ee=new Map,ke=()=>{for(const it of o){const St=it.id.client,Mn=n.get(St);Mn?(Mn.i--,L.clients.set(St,Mn.refs.slice(Mn.i)),n.delete(St),Mn.i=0,Mn.refs=[]):L.clients.set(St,[it]),s=s.filter(an=>an!==St)}o.length=0};for(;;){if(q.constructor!==$r){const St=map.setIfUndefined(ee,q.id.client,()=>Xn(e,q.id.client))-q.id.clock;if(St<0)o.push(q),te(q.id.client,q.id.clock-1),ke();else{const Mn=q.getMissing(t,e);if(Mn!==null){o.push(q);const an=n.get(Mn)||{refs:[],i:0};if(an.refs.length===an.i)te(Mn,Xn(e,Mn)),ke();else{q=an.refs[an.i++];continue}}else(St===0||St<q.length)&&(q.integrate(t,St),ee.set(q.id.client,q.id.clock+q.length))}}if(o.length>0)q=o.pop();else if(C!==null&&C.i<C.refs.length)q=C.refs[C.i++];else{if(C=u(),C===null)break;q=C.refs[C.i++]}}if(L.clients.size>0){const it=new so;return Rs(it,L,new Map),encoding.writeVarUint(it.restEncoder,0),{missing:F,update:it.toUint8Array()}}return null},_a=(t,e)=>Rs(t,e.doc.store,e.beforeState),ea=(t,e,n,o=new Hr(t))=>Ln(e,s=>{s.local=!1;let u=!1;const C=s.doc,L=C.store,F=ba(o,C),te=xa(s,L,F),q=L.pendingStructs;if(q){for(const[ke,it]of q.missing)if(it<Xn(L,ke)){u=!0;break}if(te){for(const[ke,it]of te.missing){const St=q.missing.get(ke);(St==null||St>it)&&q.missing.set(ke,it)}q.update=oa([q.update,te.update])}}else L.pendingStructs=te;const ee=Js(o,s,L);if(L.pendingDs){const ke=new Hr(decoding.createDecoder(L.pendingDs));decoding.readVarUint(ke.restDecoder);const it=Js(ke,s,L);ee&&it?L.pendingDs=oa([ee,it]):L.pendingDs=ee||it}else L.pendingDs=ee;if(u){const ke=L.pendingStructs.update;L.pendingStructs=null,ms(s.doc,ke)}},n,!1),Ha=(t,e,n)=>ea(t,e,n,new Gr(t)),ms=(t,e,n,o=Hr)=>{const s=decoding.createDecoder(e);ea(s,t,n,new o(s))},$a=(t,e,n)=>ms(t,e,n,Gr),Ea=(t,e,n=new Map)=>{Rs(t,e.store,n),io(t,Ys(e.store))},Sa=(t,e=new Uint8Array([0]),n=new so)=>{const o=ys(e);Ea(n,t,o);const s=[n.toUint8Array()];if(t.store.pendingDs&&s.push(t.store.pendingDs),t.store.pendingStructs&&s.push(fc(t.store.pendingStructs.update,e)),s.length>1){if(n.constructor===ti)return ul(s.map((u,C)=>C===0?u:pl(u)));if(n.constructor===so)return oa(s)}return s[0]},Wc=(t,e)=>Sa(t,e,new ti),Ls=t=>{const e=new Map,n=decoding.readVarUint(t.restDecoder);for(let o=0;o<n;o++){const s=decoding.readVarUint(t.restDecoder),u=decoding.readVarUint(t.restDecoder);e.set(s,u)}return e},ys=t=>Ls(new ps(decoding.createDecoder(t))),Ca=(t,e)=>(encoding.writeVarUint(t.restEncoder,e.size),array.from(e.entries()).sort((n,o)=>o[0]-n[0]).forEach(([n,o])=>{encoding.writeVarUint(t.restEncoder,n),encoding.writeVarUint(t.restEncoder,o)}),t),Kc=(t,e)=>Ca(t,Bs(e.store)),Gc=(t,e=new gs)=>(t instanceof Map?Ca(e,t):Kc(e,t),e.toUint8Array()),iu=t=>Gc(t,new _i);class Xc{constructor(){this.l=[]}}const Wa=()=>new Xc,Ka=(t,e)=>t.l.push(e),Ga=(t,e)=>{const n=t.l,o=n.length;t.l=n.filter(s=>e!==s),o===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},Xa=(t,e,n)=>pe(t.l,[e,n]);class ws{constructor(e,n){this.client=e,this.clock=n}}const vs=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,dn=(t,e)=>new ws(t,e),Ya=(t,e)=>{encoding.writeVarUint(t,e.client),encoding.writeVarUint(t,e.clock)},Ja=t=>dn(decoding.readVarUint(t),decoding.readVarUint(t)),Qa=t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw j()},ta=(t,e)=>{for(;e!==null;){if(e.parent===t)return!0;e=e.parent._item}return!1},su=t=>{const e=[];let n=t._start;for(;n;)e.push(n),n=n.right;console.log("Children: ",e),console.log("Children content: ",e.filter(o=>!o.deleted).map(o=>o.content))};class au{constructor(e,n=e.getMap("users")){const o=new Map;this.yusers=n,this.doc=e,this.clients=new Map,this.dss=o;const s=(u,C)=>{const L=u.get("ds"),F=u.get("ids"),te=q=>this.clients.set(q,C);L.observe(q=>{q.changes.added.forEach(ee=>{ee.content.getContent().forEach(ke=>{ke instanceof Uint8Array&&this.dss.set(C,xi([this.dss.get(C)||Ps(),So(new ps(decoding.createDecoder(ke)))]))})})}),this.dss.set(C,xi(L.map(q=>So(new ps(decoding.createDecoder(q)))))),F.observe(q=>q.changes.added.forEach(ee=>ee.content.getContent().forEach(te))),F.forEach(te)};n.observe(u=>{u.keysChanged.forEach(C=>s(n.get(C),C))}),n.forEach(s)}setUserMapping(e,n,o,{filter:s=()=>!0}={}){const u=this.yusers;let C=u.get(o);C||(C=new Ji,C.set("ids",new ki),C.set("ds",new ki),u.set(o,C)),C.get("ids").push([n]),u.observe(L=>{setTimeout(()=>{const F=u.get(o);if(F!==C){C=F,this.clients.forEach((ee,ke)=>{o===ee&&C.get("ids").push([ke])});const te=new _i,q=this.dss.get(o);q&&(io(te,q),C.get("ds").push([te.toUint8Array()]))}},0)}),e.on("afterTransaction",L=>{setTimeout(()=>{const F=C.get("ds"),te=L.deleteSet;if(L.local&&te.clients.size>0&&s(L,te)){const q=new _i;io(q,te),F.push([q.toUint8Array()])}})})}getUserByClientId(e){return this.clients.get(e)||null}getUserByDeletedId(e){for(const[n,o]of this.dss.entries())if(bi(o,e))return n;return null}}class ka{constructor(e,n,o,s=0){this.type=e,this.tname=n,this.item=o,this.assoc=s}}const cu=t=>{const e={};return t.type&&(e.type=t.type),t.tname&&(e.tname=t.tname),t.item&&(e.item=t.item),t.assoc!=null&&(e.assoc=t.assoc),e},lu=t=>new ka(t.type==null?null:dn(t.type.client,t.type.clock),t.tname||null,t.item==null?null:dn(t.item.client,t.item.clock),t.assoc==null?0:t.assoc);class Yc{constructor(e,n,o=0){this.type=e,this.index=n,this.assoc=o}}const Jc=(t,e,n=0)=>new Yc(t,e,n),na=(t,e,n)=>{let o=null,s=null;return t._item===null?s=Qa(t):o=dn(t._item.id.client,t._item.id.clock),new ka(o,s,e,n)},uu=(t,e,n=0)=>{let o=t._start;if(n<0){if(e===0)return na(t,null,n);e--}for(;o!==null;){if(!o.deleted&&o.countable){if(o.length>e)return na(t,dn(o.id.client,o.id.clock+e),n);e-=o.length}if(o.right===null&&n<0)return na(t,o.lastId,n);o=o.right}return na(t,null,n)},Qc=(t,e)=>{const{type:n,tname:o,item:s,assoc:u}=e;if(s!==null)encoding.writeVarUint(t,0),Ya(t,s);else if(o!==null)encoding.writeUint8(t,1),encoding.writeVarString(t,o);else if(n!==null)encoding.writeUint8(t,2),Ya(t,n);else throw error.unexpectedCase();return encoding.writeVarInt(t,u),t},du=t=>{const e=encoding.createEncoder();return Qc(e,t),encoding.toUint8Array(e)},qc=t=>{let e=null,n=null,o=null;switch(decoding.readVarUint(t)){case 0:o=Ja(t);break;case 1:n=decoding.readVarString(t);break;case 2:e=Ja(t)}const s=decoding.hasContent(t)?decoding.readVarInt(t):0;return new ka(e,n,o,s)},fu=t=>qc(decoding.createDecoder(t)),hu=(t,e,n=!0)=>{const o=e.store,s=t.item,u=t.type,C=t.tname,L=t.assoc;let F=null,te=0;if(s!==null){if(Xn(o,s.client)<=s.clock)return null;const q=n?Ba(o,s):{item:bs(o,s),diff:0},ee=q.item;if(!(ee instanceof Dn))return null;if(F=ee.parent,F._item===null||!F._item.deleted){te=ee.deleted||!ee.countable?0:q.diff+(L>=0?0:1);let ke=ee.left;for(;ke!==null;)!ke.deleted&&ke.countable&&(te+=ke.length),ke=ke.left}}else{if(C!==null)F=e.get(C);else if(u!==null){if(Xn(o,u.client)<=u.clock)return null;const{item:q}=n?Ba(o,u):{item:bs(o,u)};if(q instanceof Dn&&q.content instanceof Io)F=q.content.type;else return null}else throw error.unexpectedCase();L>=0?te=F._length:te=0}return Jc(F,te,t.assoc)},pu=(t,e)=>t===e||t!==null&&e!==null&&t.tname===e.tname&&vs(t.item,e.item)&&vs(t.type,e.type)&&t.assoc===e.assoc;class qa{constructor(e,n){this.ds=e,this.sv=n}}const gu=(t,e)=>{const n=t.ds.clients,o=e.ds.clients,s=t.sv,u=e.sv;if(s.size!==u.size||n.size!==o.size)return!1;for(const[C,L]of s.entries())if(u.get(C)!==L)return!1;for(const[C,L]of n.entries()){const F=o.get(C)||[];if(L.length!==F.length)return!1;for(let te=0;te<L.length;te++){const q=L[te],ee=F[te];if(q.clock!==ee.clock||q.len!==ee.len)return!1}}return!0},el=(t,e=new gs)=>(io(e,t.ds),Ca(e,t.sv),e.toUint8Array()),mu=t=>el(t,new _i),tl=(t,e=new va(decoding.createDecoder(t)))=>new qa(So(e),Ls(e)),yu=t=>tl(t,new ps(decoding.createDecoder(t))),ec=(t,e)=>new qa(t,e),wu=ec(Ps(),new Map),vu=t=>ec(Ys(t.store),Bs(t.store)),Ei=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!bi(e.ds,t.id),Ia=(t,e)=>{const n=_(t.meta,Ia,p),o=t.doc.store;n.has(e)||(e.sv.forEach((s,u)=>{s<Xn(o,u)&&Br(t,dn(u,s))}),Zr(t,e.ds,s=>{}),n.add(e))},bu=(t,e,n=new Ro)=>{if(t.gc)throw new Error("Garbage-collection must be disabled in `originDoc`!");const{sv:o,ds:s}=e,u=new so;return t.transact(C=>{let L=0;o.forEach(F=>{F>0&&L++}),encoding.writeVarUint(u.restEncoder,L);for(const[F,te]of o){if(te===0)continue;te<Xn(t.store,F)&&Br(C,dn(F,te));const q=t.store.clients.get(F)||[],ee=Co(q,te-1);encoding.writeVarUint(u.restEncoder,ee+1),u.writeClient(F),encoding.writeVarUint(u.restEncoder,0);for(let ke=0;ke<=ee;ke++)q[ke].write(u,0)}io(u,s)}),ms(n,u.toUint8Array(),"snapshot"),n},nl=(t,e,n=Hr)=>{const o=new n(decoding.createDecoder(e)),s=new Si(o,!1);for(let C=s.curr;C!==null;C=s.next())if((t.sv.get(C.id.client)||0)<C.id.clock+C.length)return!1;const u=xi([t.ds,So(o)]);return wa(t.ds,u)},xu=(t,e)=>nl(t,e,Gr);class tc{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const Bs=t=>{const e=new Map;return t.clients.forEach((n,o)=>{const s=n[n.length-1];e.set(o,s.id.clock+s.length)}),e},Xn=(t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const o=n[n.length-1];return o.id.clock+o.length},nc=(t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const o=n[n.length-1];if(o.id.clock+o.length!==e.id.clock)throw j()}n.push(e)},Co=(t,e)=>{let n=0,o=t.length-1,s=t[o],u=s.id.clock;if(u===e)return o;let C=P(e/(u+s.length-1)*o);for(;n<=o;){if(s=t[C],u=s.id.clock,u<=e){if(e<u+s.length)return C;n=C+1}else o=C-1;C=P((n+o)/2)}throw j()},bs=(t,e)=>{const n=t.clients.get(e.client);return n[Co(n,e.clock)]},Ta=(t,e,n)=>{const o=Co(e,n),s=e[o];return s.id.clock<n&&s instanceof Dn?(e.splice(o+1,0,pa(t,s,n-s.id.clock)),o+1):o},Br=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[Ta(t,n,e.clock)]},rc=(t,e,n)=>{const o=e.clients.get(n.client),s=Co(o,n.clock),u=o[s];return n.clock!==u.id.clock+u.length-1&&u.constructor!==Xr&&o.splice(s+1,0,pa(t,u,n.clock-u.id.clock+1)),u},rl=(t,e,n)=>{const o=t.clients.get(e.id.client);o[Co(o,e.id.clock)]=n},oc=(t,e,n,o,s)=>{if(o===0)return;const u=n+o;let C=Ta(t,e,n),L;do L=e[C++],u<L.id.clock+L.length&&Ta(t,e,u),s(L);while(C<e.length&&e[C].id.clock<u)};class ol{constructor(e,n,o){this.doc=e,this.deleteSet=new ei,this.beforeState=Bs(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=o,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const ic=(t,e)=>e.deleteSet.clients.size===0&&!x(e.afterState,(n,o)=>e.beforeState.get(o)!==n)?!1:(Ds(e.deleteSet),_a(t,e),io(t,e.deleteSet),!0),sc=(t,e,n)=>{const o=e._item;(o===null||o.id.clock<(t.beforeState.get(o.id.client)||0)&&!o.deleted)&&_(t.changed,e,p).add(n)},ra=(t,e)=>{let n=t[e],o=t[e-1],s=e;for(;s>0;n=o,o=t[--s-1]){if(o.deleted===n.deleted&&o.constructor===n.constructor&&o.mergeWith(n)){n instanceof Dn&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,o);continue}break}const u=e-s;return u&&t.splice(e+1-u,u),u},ac=(t,e,n)=>{for(const[o,s]of t.clients.entries()){const u=e.clients.get(o);for(let C=s.length-1;C>=0;C--){const L=s[C],F=L.clock+L.len;for(let te=Co(u,L.clock),q=u[te];te<u.length&&q.id.clock<F;q=u[++te]){const ee=u[te];if(L.clock+L.len<=ee.id.clock)break;ee instanceof Dn&&ee.deleted&&!ee.keep&&n(ee)&&ee.gc(e,!1)}}}},cc=(t,e)=>{t.clients.forEach((n,o)=>{const s=e.clients.get(o);for(let u=n.length-1;u>=0;u--){const C=n[u],L=Gt(s.length-1,1+Co(s,C.clock+C.len-1));for(let F=L,te=s[F];F>0&&te.id.clock>=C.clock;te=s[F])F-=1+ra(s,F)}})},Eu=(t,e,n)=>{ac(t,e,n),cc(t,e)},lc=(t,e)=>{if(e<t.length){const n=t[e],o=n.doc,s=o.store,u=n.deleteSet,C=n._mergeStructs;try{Ds(u),n.afterState=Bs(n.doc.store),o.emit("beforeObserverCalls",[n,o]);const L=[];n.changed.forEach((F,te)=>L.push(()=>{(te._item===null||!te._item.deleted)&&te._callObserver(n,F)})),L.push(()=>{n.changedParentTypes.forEach((F,te)=>{te._dEH.l.length>0&&(te._item===null||!te._item.deleted)&&(F=F.filter(q=>q.target._item===null||!q.target._item.deleted),F.forEach(q=>{q.currentTarget=te,q._path=null}),F.sort((q,ee)=>q.path.length-ee.path.length),Xa(te._dEH,F,n))})}),L.push(()=>o.emit("afterTransaction",[n,o])),pe(L,[]),n._needFormattingCleanup&&Tl(n)}finally{o.gc&&ac(u,s,o.gcFilter),cc(u,s),n.afterState.forEach((q,ee)=>{const ke=n.beforeState.get(ee)||0;if(ke!==q){const it=s.clients.get(ee),St=Ct(Co(it,ke),1);for(let Mn=it.length-1;Mn>=St;)Mn-=1+ra(it,Mn)}});for(let q=C.length-1;q>=0;q--){const{client:ee,clock:ke}=C[q].id,it=s.clients.get(ee),St=Co(it,ke);St+1<it.length&&ra(it,St+1)>1||St>0&&ra(it,St)}if(!n.local&&n.afterState.get(o.clientID)!==n.beforeState.get(o.clientID)&&(nr(Ut,vt,"[yjs] ",xt,Tt,"Changed the client-id because another client seems to be using it."),o.clientID=Qs()),o.emit("afterTransactionCleanup",[n,o]),o._observers.has("update")){const q=new ti;ic(q,n)&&o.emit("update",[q.toUint8Array(),n.origin,o,n])}if(o._observers.has("updateV2")){const q=new so;ic(q,n)&&o.emit("updateV2",[q.toUint8Array(),n.origin,o,n])}const{subdocsAdded:L,subdocsLoaded:F,subdocsRemoved:te}=n;(L.size>0||te.size>0||F.size>0)&&(L.forEach(q=>{q.clientID=o.clientID,q.collectionid==null&&(q.collectionid=o.collectionid),o.subdocs.add(q)}),te.forEach(q=>o.subdocs.delete(q)),o.emit("subdocs",[{loaded:F,added:L,removed:te},o,n]),te.forEach(q=>q.destroy())),t.length<=e+1?(o._transactionCleanups=[],o.emit("afterAllTransactions",[o,t])):lc(t,e+1)}}},Ln=(t,e,n=null,o=!0)=>{const s=t._transactionCleanups;let u=!1,C=null;t._transaction===null&&(u=!0,t._transaction=new ol(t,n,o),s.push(t._transaction),s.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{C=e(t._transaction)}finally{if(u){const L=t._transaction===s[0];t._transaction=null,L&&lc(s,0)}}return C};class il{constructor(e,n){this.insertions=n,this.deletions=e,this.meta=new Map}}const uc=(t,e,n)=>{Zr(t,n.deletions,o=>{o instanceof Dn&&e.scope.some(s=>ta(s,o))&&Ua(o,!1)})},dc=(t,e,n)=>{let o=null;const s=t.doc,u=t.scope;if(Ln(s,C=>{for(;e.length>0&&t.currStackItem===null;){const L=s.store,F=e.pop(),te=new Set,q=[];let ee=!1;Zr(C,F.insertions,ke=>{if(ke instanceof Dn){if(ke.redone!==null){let{item:it,diff:St}=Ba(L,ke.id);St>0&&(it=Br(C,dn(it.id.client,it.id.clock+St))),ke=it}!ke.deleted&&u.some(it=>ta(it,ke))&&q.push(ke)}}),Zr(C,F.deletions,ke=>{ke instanceof Dn&&u.some(it=>ta(it,ke))&&!bi(F.insertions,ke.id)&&te.add(ke)}),te.forEach(ke=>{ee=Bc(C,ke,te,F.insertions,t.ignoreRemoteMapChanges,t)!==null||ee});for(let ke=q.length-1;ke>=0;ke--){const it=q[ke];t.deleteFilter(it)&&(it.delete(C),ee=!0)}t.currStackItem=ee?F:null}C.changed.forEach((L,F)=>{L.has(null)&&F._searchMarker&&(F._searchMarker.length=0)}),o=C},t),t.currStackItem!=null){const C=o.changedParentTypes;t.emit("stack-item-popped",[{stackItem:t.currStackItem,type:n,changedParentTypes:C,origin:t},t]),t.currStackItem=null}return t.currStackItem};class sl extends _e{constructor(e,{captureTimeout:n=500,captureTransaction:o=F=>!0,deleteFilter:s=()=>!0,trackedOrigins:u=new Set([null]),ignoreRemoteMapChanges:C=!1,doc:L=$(e)?e[0].doc:e.doc}={}){super(),this.scope=[],this.doc=L,this.addToScope(e),this.deleteFilter=s,u.add(this),this.trackedOrigins=u,this.captureTransaction=o,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=C,this.captureTimeout=n,this.afterTransactionHandler=F=>{if(!this.captureTransaction(F)||!this.scope.some(an=>F.changedParentTypes.has(an))||!this.trackedOrigins.has(F.origin)&&(!F.origin||!this.trackedOrigins.has(F.origin.constructor)))return;const te=this.undoing,q=this.redoing,ee=te?this.redoStack:this.undoStack;te?this.stopCapturing():q||this.clear(!1,!0);const ke=new ei;F.afterState.forEach((an,_n)=>{const Yr=F.beforeState.get(_n)||0,Fc=an-Yr;Fc>0&&Yi(ke,_n,Yr,Fc)});const it=at();let St=!1;if(this.lastChange>0&&it-this.lastChange<this.captureTimeout&&ee.length>0&&!te&&!q){const an=ee[ee.length-1];an.deletions=xi([an.deletions,F.deleteSet]),an.insertions=xi([an.insertions,ke])}else ee.push(new il(F.deleteSet,ke)),St=!0;!te&&!q&&(this.lastChange=it),Zr(F,F.deleteSet,an=>{an instanceof Dn&&this.scope.some(_n=>ta(_n,an))&&Ua(an,!0)});const Mn=[{stackItem:ee[ee.length-1],origin:F.origin,type:te?"redo":"undo",changedParentTypes:F.changedParentTypes},this];St?this.emit("stack-item-added",Mn):this.emit("stack-item-updated",Mn)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){e=$(e)?e:[e],e.forEach(n=>{this.scope.every(o=>o!==n)&&(n.doc!==this.doc&&ar("[yjs#509] Not same Y.Doc"),this.scope.push(n))})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,n=!0){(e&&this.canUndo()||n&&this.canRedo())&&this.doc.transact(o=>{e&&(this.undoStack.forEach(s=>uc(o,this,s)),this.undoStack=[]),n&&(this.redoStack.forEach(s=>uc(o,this,s)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:n}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=dc(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=dc(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}function*al(t){const e=decoding.readVarUint(t.restDecoder);for(let n=0;n<e;n++){const o=decoding.readVarUint(t.restDecoder),s=t.readClient();let u=decoding.readVarUint(t.restDecoder);for(let C=0;C<o;C++){const L=t.readInfo();if(L===10){const F=decoding.readVarUint(t.restDecoder);yield new $r(dn(s,u),F),u+=F}else if(binary.BITS5&L){const F=(L&(binary.BIT7|binary.BIT8))===0,te=new Dn(dn(s,u),null,(L&binary.BIT8)===binary.BIT8?t.readLeftID():null,null,(L&binary.BIT7)===binary.BIT7?t.readRightID():null,F?t.readParentInfo()?t.readString():t.readLeftID():null,F&&(L&binary.BIT6)===binary.BIT6?t.readString():null,Uc(t,L));yield te,u+=te.length}else{const F=t.readLen();yield new Xr(dn(s,u),F),u+=F}}}}class Si{constructor(e,n){this.gen=al(e),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===$r);return this.curr}}const Su=t=>cl(t,Gr),cl=(t,e=Hr)=>{const n=[],o=new e(decoding.createDecoder(t)),s=new Si(o,!1);for(let C=s.curr;C!==null;C=s.next())n.push(C);logging.print("Structs: ",n);const u=So(o);logging.print("DeleteSet: ",u)},Cu=t=>ll(t,Gr),ll=(t,e=Hr)=>{const n=[],o=new e(decoding.createDecoder(t)),s=new Si(o,!1);for(let u=s.curr;u!==null;u=s.next())n.push(u);return{structs:n,ds:So(o)}};class Aa{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const ul=t=>oa(t,Gr,ti),dl=(t,e=gs,n=Hr)=>{const o=new e,s=new Si(new n(decoding.createDecoder(t)),!1);let u=s.curr;if(u!==null){let C=0,L=u.id.client,F=u.id.clock!==0,te=F?0:u.id.clock+u.length;for(;u!==null;u=s.next())L!==u.id.client&&(te!==0&&(C++,encoding.writeVarUint(o.restEncoder,L),encoding.writeVarUint(o.restEncoder,te)),L=u.id.client,te=0,F=u.id.clock!==0),u.constructor===$r&&(F=!0),F||(te=u.id.clock+u.length);te!==0&&(C++,encoding.writeVarUint(o.restEncoder,L),encoding.writeVarUint(o.restEncoder,te));const q=encoding.createEncoder();return encoding.writeVarUint(q,C),encoding.writeBinaryEncoder(q,o.restEncoder),o.restEncoder=q,o.toUint8Array()}else return encoding.writeVarUint(o.restEncoder,0),o.toUint8Array()},ku=t=>dl(t,_i,Gr),fl=(t,e=Hr)=>{const n=new Map,o=new Map,s=new Si(new e(decoding.createDecoder(t)),!1);let u=s.curr;if(u!==null){let C=u.id.client,L=u.id.clock;for(n.set(C,L);u!==null;u=s.next())C!==u.id.client&&(o.set(C,L),n.set(u.id.client,u.id.clock),C=u.id.client),L=u.id.clock+u.length;o.set(C,L)}return{from:n,to:o}},Iu=t=>fl(t,Gr),hl=(t,e)=>{if(t.constructor===Xr){const{client:n,clock:o}=t.id;return new Xr(dn(n,o+e),t.length-e)}else if(t.constructor===$r){const{client:n,clock:o}=t.id;return new $r(dn(n,o+e),t.length-e)}else{const n=t,{client:o,clock:s}=n.id;return new Dn(dn(o,s+e),null,dn(o,s+e-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(e))}},oa=(t,e=Hr,n=so)=>{if(t.length===1)return t[0];const o=t.map(q=>new e(decoding.createDecoder(q)));let s=o.map(q=>new Si(q,!0)),u=null;const C=new n,L=new Aa(C);for(;s=s.filter(ke=>ke.curr!==null),s.sort((ke,it)=>{if(ke.curr.id.client===it.curr.id.client){const St=ke.curr.id.clock-it.curr.id.clock;return St===0?ke.curr.constructor===it.curr.constructor?0:ke.curr.constructor===$r?1:-1:St}else return it.curr.id.client-ke.curr.id.client}),s.length!==0;){const q=s[0],ee=q.curr.id.client;if(u!==null){let ke=q.curr,it=!1;for(;ke!==null&&ke.id.clock+ke.length<=u.struct.id.clock+u.struct.length&&ke.id.client>=u.struct.id.client;)ke=q.next(),it=!0;if(ke===null||ke.id.client!==ee||it&&ke.id.clock>u.struct.id.clock+u.struct.length)continue;if(ee!==u.struct.id.client)Ci(L,u.struct,u.offset),u={struct:ke,offset:0},q.next();else if(u.struct.id.clock+u.struct.length<ke.id.clock)if(u.struct.constructor===$r)u.struct.length=ke.id.clock+ke.length-u.struct.id.clock;else{Ci(L,u.struct,u.offset);const St=ke.id.clock-u.struct.id.clock-u.struct.length;u={struct:new $r(dn(ee,u.struct.id.clock+u.struct.length),St),offset:0}}else{const St=u.struct.id.clock+u.struct.length-ke.id.clock;St>0&&(u.struct.constructor===$r?u.struct.length-=St:ke=hl(ke,St)),u.struct.mergeWith(ke)||(Ci(L,u.struct,u.offset),u={struct:ke,offset:0},q.next())}}else u={struct:q.curr,offset:0},q.next();for(let ke=q.curr;ke!==null&&ke.id.client===ee&&ke.id.clock===u.struct.id.clock+u.struct.length&&ke.constructor!==$r;ke=q.next())Ci(L,u.struct,u.offset),u={struct:ke,offset:0}}u!==null&&(Ci(L,u.struct,u.offset),u=null),Oa(L);const F=o.map(q=>So(q)),te=xi(F);return io(C,te),C.toUint8Array()},fc=(t,e,n=Hr,o=so)=>{const s=ys(e),u=new o,C=new Aa(u),L=new n(decoding.createDecoder(t)),F=new Si(L,!1);for(;F.curr;){const q=F.curr,ee=q.id.client,ke=s.get(ee)||0;if(F.curr.constructor===$r){F.next();continue}if(q.id.clock+q.length>ke)for(Ci(C,q,math.max(ke-q.id.clock,0)),F.next();F.curr&&F.curr.id.client===ee;)Ci(C,F.curr,0),F.next();else for(;F.curr&&F.curr.id.client===ee&&F.curr.id.clock+F.curr.length<=ke;)F.next()}Oa(C);const te=So(L);return io(u,te),u.toUint8Array()},Tu=(t,e)=>fc(t,e,Gr,ti),hc=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:encoding.toUint8Array(t.encoder.restEncoder)}),t.encoder.restEncoder=encoding.createEncoder(),t.written=0)},Ci=(t,e,n)=>{t.written>0&&t.currClient!==e.id.client&&hc(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),encoding.writeVarUint(t.encoder.restEncoder,e.id.clock+n)),e.write(t.encoder,n),t.written++},Oa=t=>{hc(t);const e=t.encoder.restEncoder;encoding.writeVarUint(e,t.clientStructs.length);for(let n=0;n<t.clientStructs.length;n++){const o=t.clientStructs[n];encoding.writeVarUint(e,o.written),encoding.writeUint8Array(e,o.restEncoder)}},ia=(t,e,n,o)=>{const s=new n(decoding.createDecoder(t)),u=new Si(s,!1),C=new o,L=new Aa(C);for(let te=u.curr;te!==null;te=u.next())Ci(L,e(te),0);Oa(L);const F=So(s);return io(C,F),C.toUint8Array()},pc=({formatting:t=!0,subdocs:e=!0,yxml:n=!0}={})=>{let o=0;const s=map.create(),u=map.create(),C=map.create(),L=map.create();return L.set(null,null),F=>{switch(F.constructor){case Xr:case $r:return F;case Dn:{const te=F,q=te.content;switch(q.constructor){case Ss:break;case Io:{if(n){const ee=q.type;ee instanceof qi&&(ee.nodeName=map.setIfUndefined(u,ee.nodeName,()=>"node-"+o)),ee instanceof Vs&&(ee.hookName=map.setIfUndefined(u,ee.hookName,()=>"hook-"+o))}break}case Ai:{const ee=q;ee.arr=ee.arr.map(()=>o);break}case Es:{const ee=q;ee.content=new Uint8Array([o]);break}case Cs:{const ee=q;e&&(ee.opts={},ee.doc.guid=o+"");break}case Ti:{const ee=q;ee.embed={};break}case rr:{const ee=q;t&&(ee.key=map.setIfUndefined(C,ee.key,()=>o+""),ee.value=map.setIfUndefined(L,ee.value,()=>({i:o})));break}case Fs:{const ee=q;ee.arr=ee.arr.map(()=>o);break}case ko:{const ee=q;ee.str=string.repeat(o%10+"",ee.str.length);break}default:error.unexpectedCase()}return te.parentSub&&(te.parentSub=map.setIfUndefined(s,te.parentSub,()=>o+"")),o++,F}default:error.unexpectedCase()}}},Au=(t,e)=>ia(t,pc(e),Gr,ti),Ou=(t,e)=>ia(t,pc(e),Hr,so),Mu=t=>ia(t,f.id,Gr,so),pl=t=>ia(t,f.id,Hr,ti),gc="You must not compute changes after the event-handler fired.";class sa{constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=gl(this.currentTarget,this.target))}deletes(e){return bi(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw g(gc);const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(s=>{if(s!==null){const u=n._map.get(s);let C,L;if(this.adds(u)){let F=u.left;for(;F!==null&&this.adds(F);)F=F.left;if(this.deletes(u))if(F!==null&&this.deletes(F))C="delete",L=U(F.content.getContent());else return;else F!==null&&this.deletes(F)?(C="update",L=U(F.content.getContent())):(C="add",L=void 0)}else if(this.deletes(u))C="delete",L=U(u.content.getContent());else return;e.set(s,{action:C,oldValue:L})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw g(gc);const n=this.target,o=p(),s=p(),u=[];if(e={added:o,deleted:s,delta:u,keys:this.keys},this.transaction.changed.get(n).has(null)){let L=null;const F=()=>{L&&u.push(L)};for(let te=n._start;te!==null;te=te.right)te.deleted?this.deletes(te)&&!this.adds(te)&&((L===null||L.delete===void 0)&&(F(),L={delete:0}),L.delete+=te.length,s.add(te)):this.adds(te)?((L===null||L.insert===void 0)&&(F(),L={insert:[]}),L.insert=L.insert.concat(te.content.getContent()),o.add(te)):((L===null||L.retain===void 0)&&(F(),L={retain:0}),L.retain+=te.length);L!==null&&L.retain===void 0&&F()}this._changes=e}return e}}const gl=(t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let o=0,s=e._item.parent._start;for(;s!==e._item&&s!==null;)s.deleted||o++,s=s.right;n.unshift(o)}e=e._item.parent}return n},mc=80;let Ma=0;class ml{constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=Ma++}}const yl=t=>{t.timestamp=Ma++},yc=(t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=Ma++},wl=(t,e,n)=>{if(t.length>=mc){const o=t.reduce((s,u)=>s.timestamp<u.timestamp?s:u);return yc(o,e,n),o}else{const o=new ml(e,n);return t.push(o),o}},aa=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((u,C)=>Ce(e-u.index)<Ce(e-C.index)?u:C);let o=t._start,s=0;for(n!==null&&(o=n.p,s=n.index,yl(n));o.right!==null&&s<e;){if(!o.deleted&&o.countable){if(e<s+o.length)break;s+=o.length}o=o.right}for(;o.left!==null&&s>e;)o=o.left,!o.deleted&&o.countable&&(s-=o.length);for(;o.left!==null&&o.left.id.client===o.id.client&&o.left.id.clock+o.left.length===o.id.clock;)o=o.left,!o.deleted&&o.countable&&(s-=o.length);return n!==null&&Ce(n.index-s)<o.parent.length/mc?(yc(n,o,s),n):wl(t._searchMarker,o,s)},Us=(t,e,n)=>{for(let o=t.length-1;o>=0;o--){const s=t[o];if(n>0){let u=s.p;for(u.marker=!1;u&&(u.deleted||!u.countable);)u=u.left,u&&!u.deleted&&u.countable&&(s.index-=u.length);if(u===null||u.marker===!0){t.splice(o,1);continue}s.p=u,u.marker=!0}(e<s.index||n>0&&e===s.index)&&(s.index=Ct(e,s.index+n))}},Nu=t=>{let e=t._start;const n=[];for(;e;)n.push(e),e=e.right;return n},ca=(t,e,n)=>{const o=t,s=e.changedParentTypes;for(;_(s,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;Xa(o._eH,n,e)};class mr{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=Wa(),this._dEH=Wa(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw k()}clone(){throw k()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){Ka(this._eH,e)}observeDeep(e){Ka(this._dEH,e)}unobserve(e){Ga(this._eH,e)}unobserveDeep(e){Ga(this._dEH,e)}toJSON(){}}const wc=(t,e,n)=>{e<0&&(e=t._length+e),n<0&&(n=t._length+n);let o=n-e;const s=[];let u=t._start;for(;u!==null&&o>0;){if(u.countable&&!u.deleted){const C=u.content.getContent();if(C.length<=e)e-=C.length;else{for(let L=e;L<C.length&&o>0;L++)s.push(C[L]),o--;e=0}}u=u.right}return s},vc=t=>{const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const o=n.content.getContent();for(let s=0;s<o.length;s++)e.push(o[s])}n=n.right}return e},Du=(t,e)=>{const n=[];let o=t._start;for(;o!==null;){if(o.countable&&Ei(o,e)){const s=o.content.getContent();for(let u=0;u<s.length;u++)n.push(s[u])}o=o.right}return n},zs=(t,e)=>{let n=0,o=t._start;for(;o!==null;){if(o.countable&&!o.deleted){const s=o.content.getContent();for(let u=0;u<s.length;u++)e(s[u],n++,t)}o=o.right}},bc=(t,e)=>{const n=[];return zs(t,(o,s)=>{n.push(e(o,s,t))}),n},vl=t=>{let e=t._start,n=null,o=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),o=0,e=e.right}const s=n[o++];return n.length<=o&&(n=null),{done:!1,value:s}}}},xc=(t,e)=>{const n=aa(t,e);let o=t._start;for(n!==null&&(o=n.p,e-=n.index);o!==null;o=o.right)if(!o.deleted&&o.countable){if(e<o.length)return o.content.getContent()[e];e-=o.length}},la=(t,e,n,o)=>{let s=n;const u=t.doc,C=u.clientID,L=u.store,F=n===null?e._start:n.right;let te=[];const q=()=>{te.length>0&&(s=new Dn(dn(C,Xn(L,C)),s,s&&s.lastId,F,F&&F.id,e,null,new Ai(te)),s.integrate(t,0),te=[])};o.forEach(ee=>{if(ee===null)te.push(ee);else switch(ee.constructor){case Number:case Object:case Boolean:case Array:case String:te.push(ee);break;default:switch(q(),ee.constructor){case Uint8Array:case ArrayBuffer:s=new Dn(dn(C,Xn(L,C)),s,s&&s.lastId,F,F&&F.id,e,null,new Es(new Uint8Array(ee))),s.integrate(t,0);break;case Ro:s=new Dn(dn(C,Xn(L,C)),s,s&&s.lastId,F,F&&F.id,e,null,new Cs(ee)),s.integrate(t,0);break;default:if(ee instanceof mr)s=new Dn(dn(C,Xn(L,C)),s,s&&s.lastId,F,F&&F.id,e,null,new Io(ee)),s.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),q()},_c=()=>g("Length exceeded!"),Ec=(t,e,n,o)=>{if(n>e._length)throw _c();if(n===0)return e._searchMarker&&Us(e._searchMarker,n,o.length),la(t,e,null,o);const s=n,u=aa(e,n);let C=e._start;for(u!==null&&(C=u.p,n-=u.index,n===0&&(C=C.prev,n+=C&&C.countable&&!C.deleted?C.length:0));C!==null;C=C.right)if(!C.deleted&&C.countable){if(n<=C.length){n<C.length&&Br(t,dn(C.id.client,C.id.clock+n));break}n-=C.length}return e._searchMarker&&Us(e._searchMarker,s,o.length),la(t,e,C,o)},bl=(t,e,n)=>{let s=(e._searchMarker||[]).reduce((u,C)=>C.index>u.index?C:u,{index:0,p:e._start}).p;if(s)for(;s.right;)s=s.right;return la(t,e,s,n)},Sc=(t,e,n,o)=>{if(o===0)return;const s=n,u=o,C=aa(e,n);let L=e._start;for(C!==null&&(L=C.p,n-=C.index);L!==null&&n>0;L=L.right)!L.deleted&&L.countable&&(n<L.length&&Br(t,dn(L.id.client,L.id.clock+n)),n-=L.length);for(;o>0&&L!==null;)L.deleted||(o<L.length&&Br(t,dn(L.id.client,L.id.clock+o)),L.delete(t),o-=L.length),L=L.right;if(o>0)throw _c();e._searchMarker&&Us(e._searchMarker,s,-u+o)},ua=(t,e,n)=>{const o=e._map.get(n);o!==void 0&&o.delete(t)},Na=(t,e,n,o)=>{const s=e._map.get(n)||null,u=t.doc,C=u.clientID;let L;if(o==null)L=new Ai([o]);else switch(o.constructor){case Number:case Object:case Boolean:case Array:case String:L=new Ai([o]);break;case Uint8Array:L=new Es(o);break;case Ro:L=new Cs(o);break;default:if(o instanceof mr)L=new Io(o);else throw new Error("Unexpected content type")}new Dn(dn(C,Xn(u.store,C)),s,s&&s.lastId,null,null,e,n,L).integrate(t,0)},Da=(t,e)=>{const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},Cc=t=>{const e={};return t._map.forEach((n,o)=>{n.deleted||(e[o]=n.content.getContent()[n.length-1])}),e},kc=(t,e)=>{const n=t._map.get(e);return n!==void 0&&!n.deleted},Pu=(t,e,n)=>{let o=t._map.get(e)||null;for(;o!==null&&(!n.sv.has(o.id.client)||o.id.clock>=(n.sv.get(o.id.client)||0));)o=o.left;return o!==null&&Ei(o,n)?o.content.getContent()[o.length-1]:void 0},xl=(t,e)=>{const n={};return t._map.forEach((o,s)=>{let u=o;for(;u!==null&&(!e.sv.has(u.id.client)||u.id.clock>=(e.sv.get(u.id.client)||0));)u=u.left;u!==null&&Ei(u,e)&&(n[s]=u.content.getContent()[u.length-1])}),n},da=t=>qo(t.entries(),e=>!e[1].deleted);class _l extends sa{constructor(e,n){super(e,n),this._transaction=n}}class ki extends mr{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new ki;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new ki}clone(){const e=new ki;return e.insert(0,this.toArray().map(n=>n instanceof mr?n.clone():n)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}_callObserver(e,n){super._callObserver(e,n),ca(this,e,new _l(this,e))}insert(e,n){this.doc!==null?Ln(this.doc,o=>{Ec(o,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?Ln(this.doc,n=>{bl(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?Ln(this.doc,o=>{Sc(o,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return xc(this,e)}toArray(){return vc(this)}slice(e=0,n=this.length){return wc(this,e,n)}toJSON(){return this.map(e=>e instanceof mr?e.toJSON():e)}map(e){return bc(this,e)}forEach(e){zs(this,e)}[Symbol.iterator](){return vl(this)}_write(e){e.writeTypeRef(Wl)}}const El=t=>new ki;class Sl extends sa{constructor(e,n,o){super(e,n),this.keysChanged=o}}class Ji extends mr{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((o,s)=>{this.set(s,o)}),this._prelimContent=null}_copy(){return new Ji}clone(){const e=new Ji;return this.forEach((n,o)=>{e.set(o,n instanceof mr?n.clone():n)}),e}_callObserver(e,n){ca(this,e,new Sl(this,e,n))}toJSON(){const e={};return this._map.forEach((n,o)=>{if(!n.deleted){const s=n.content.getContent()[n.length-1];e[o]=s instanceof mr?s.toJSON():s}}),e}get size(){return[...da(this._map)].length}keys(){return _o(da(this._map),e=>e[0])}values(){return _o(da(this._map),e=>e[1].content.getContent()[e[1].length-1])}entries(){return _o(da(this._map),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this._map.forEach((n,o)=>{n.deleted||e(n.content.getContent()[n.length-1],o,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?Ln(this.doc,n=>{ua(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?Ln(this.doc,o=>{Na(o,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return Da(this,e)}has(e){return kc(this,e)}clear(){this.doc!==null?Ln(this.doc,e=>{this.forEach(function(n,o,s){ua(e,s,o)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(Kl)}}const Cl=t=>new Ji,Ii=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&Ns(t,e);class Pa{constructor(e,n,o,s){this.left=e,this.right=n,this.index=o,this.currentAttributes=s}forward(){switch(this.right===null&&j(),this.right.content.constructor){case rr:this.right.deleted||xs(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const Ic=(t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case rr:e.right.deleted||xs(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&Br(t,dn(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},fa=(t,e,n,o)=>{const s=new Map,u=o?aa(e,n):null;if(u){const C=new Pa(u.p.left,u.p,u.index,s);return Ic(t,C,n-u.index)}else{const C=new Pa(null,e._start,0,s);return Ic(t,C,n)}},Tc=(t,e,n,o)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===rr&&Ii(o.get(n.right.content.key),n.right.content.value));)n.right.deleted||o.delete(n.right.content.key),n.forward();const s=t.doc,u=s.clientID;o.forEach((C,L)=>{const F=n.left,te=n.right,q=new Dn(dn(u,Xn(s.store,u)),F,F&&F.lastId,te,te&&te.id,e,null,new rr(L,C));q.integrate(t,0),n.right=q,n.forward()})},xs=(t,e)=>{const{key:n,value:o}=e;o===null?t.delete(n):t.set(n,o)},Ac=(t,e)=>{var n;for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===rr&&Ii((n=e[t.right.content.key])!=null?n:null,t.right.content.value)))break;t.forward()}},Oc=(t,e,n,o)=>{var L;const s=t.doc,u=s.clientID,C=new Map;for(const F in o){const te=o[F],q=(L=n.currentAttributes.get(F))!=null?L:null;if(!Ii(q,te)){C.set(F,q);const{left:ee,right:ke}=n;n.right=new Dn(dn(u,Xn(s.store,u)),ee,ee&&ee.lastId,ke,ke&&ke.id,e,null,new rr(F,te)),n.right.integrate(t,0),n.forward()}}return C},Ra=(t,e,n,o,s)=>{n.currentAttributes.forEach((ke,it)=>{s[it]===void 0&&(s[it]=null)});const u=t.doc,C=u.clientID;Ac(n,s);const L=Oc(t,e,n,s),F=o.constructor===String?new ko(o):o instanceof mr?new Io(o):new Ti(o);let{left:te,right:q,index:ee}=n;e._searchMarker&&Us(e._searchMarker,n.index,F.getLength()),q=new Dn(dn(C,Xn(u.store,C)),te,te&&te.lastId,q,q&&q.id,e,null,F),q.integrate(t,0),n.right=q,n.index=ee,n.forward(),Tc(t,e,n,L)},Mc=(t,e,n,o,s)=>{const u=t.doc,C=u.clientID;Ac(n,s);const L=Oc(t,e,n,s);e:for(;n.right!==null&&(o>0||L.size>0&&(n.right.deleted||n.right.content.constructor===rr));){if(!n.right.deleted)switch(n.right.content.constructor){case rr:{const{key:F,value:te}=n.right.content,q=s[F];if(q!==void 0){if(Ii(q,te))L.delete(F);else{if(o===0)break e;L.set(F,te)}n.right.delete(t)}else n.currentAttributes.set(F,te);break}default:o<n.right.length&&Br(t,dn(n.right.id.client,n.right.id.clock+o)),o-=n.right.length;break}n.forward()}if(o>0){let F="";for(;o>0;o--)F+=`
`;n.right=new Dn(dn(C,Xn(u.store,C)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new ko(F)),n.right.integrate(t,0),n.forward()}Tc(t,e,n,L)},Nc=(t,e,n,o,s)=>{var te,q;let u=e;const C=i();for(;u&&(!u.countable||u.deleted);){if(!u.deleted&&u.content.constructor===rr){const ee=u.content;C.set(ee.key,ee)}u=u.right}let L=0,F=!1;for(;e!==u;){if(n===e&&(F=!0),!e.deleted){const ee=e.content;switch(ee.constructor){case rr:{const{key:ke,value:it}=ee,St=(te=o.get(ke))!=null?te:null;(C.get(ke)!==ee||St===it)&&(e.delete(t),L++,!F&&((q=s.get(ke))!=null?q:null)===it&&St!==it&&(St===null?s.delete(ke):s.set(ke,St))),!F&&!e.deleted&&xs(s,ee);break}}}e=e.right}return L},kl=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===rr){const o=e.content.key;n.has(o)?e.delete(t):n.add(o)}e=e.left}},Il=t=>{let e=0;return Ln(t.doc,n=>{let o=t._start,s=t._start,u=i();const C=O(u);for(;s;){if(s.deleted===!1)switch(s.content.constructor){case rr:xs(C,s.content);break;default:e+=Nc(n,o,s,u,C),u=O(C),o=s;break}s=s.right}}),e},Tl=t=>{const e=new Set,n=t.doc;for(const[o,s]of t.afterState.entries()){const u=t.beforeState.get(o)||0;s!==u&&oc(t,n.store.clients.get(o),u,s,C=>{!C.deleted&&C.content.constructor===rr&&C.constructor!==Xr&&e.add(C.parent)})}Ln(n,o=>{Zr(t,t.deleteSet,s=>{if(s instanceof Xr||!s.parent._hasFormatting||e.has(s.parent))return;const u=s.parent;s.content.constructor===rr?e.add(u):kl(o,s)});for(const s of e)Il(s)})},Dc=(t,e,n)=>{const o=n,s=O(e.currentAttributes),u=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case Io:case Ti:case ko:n<e.right.length&&Br(t,dn(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}u&&Nc(t,u,e.right,s,e.currentAttributes);const C=(e.left||e.right).parent;return C._searchMarker&&Us(C._searchMarker,e.index,-o+n),e};class Al extends sa{constructor(e,n,o){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,o.forEach(s=>{s===null?this.childListChanged=!0:this.keysChanged.add(s)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];Ln(e,o=>{var it,St,Mn;const s=new Map,u=new Map;let C=this.target._start,L=null;const F={};let te="",q=0,ee=0;const ke=()=>{if(L!==null){let an=null;switch(L){case"delete":ee>0&&(an={delete:ee}),ee=0;break;case"insert":(typeof te=="object"||te.length>0)&&(an={insert:te},s.size>0&&(an.attributes={},s.forEach((_n,Yr)=>{_n!==null&&(an.attributes[Yr]=_n)}))),te="";break;case"retain":q>0&&(an={retain:q},Eo(F)||(an.attributes=mi({},F))),q=0;break}an&&n.push(an),L=null}};for(;C!==null;){switch(C.content.constructor){case Io:case Ti:this.adds(C)?this.deletes(C)||(ke(),L="insert",te=C.content.getContent()[0],ke()):this.deletes(C)?(L!=="delete"&&(ke(),L="delete"),ee+=1):C.deleted||(L!=="retain"&&(ke(),L="retain"),q+=1);break;case ko:this.adds(C)?this.deletes(C)||(L!=="insert"&&(ke(),L="insert"),te+=C.content.str):this.deletes(C)?(L!=="delete"&&(ke(),L="delete"),ee+=C.length):C.deleted||(L!=="retain"&&(ke(),L="retain"),q+=C.length);break;case rr:{const{key:an,value:_n}=C.content;if(this.adds(C)){if(!this.deletes(C)){const Yr=(it=s.get(an))!=null?it:null;Ii(Yr,_n)?_n!==null&&C.delete(o):(L==="retain"&&ke(),Ii(_n,(St=u.get(an))!=null?St:null)?delete F[an]:F[an]=_n)}}else if(this.deletes(C)){u.set(an,_n);const Yr=(Mn=s.get(an))!=null?Mn:null;Ii(Yr,_n)||(L==="retain"&&ke(),F[an]=Yr)}else if(!C.deleted){u.set(an,_n);const Yr=F[an];Yr!==void 0&&(Ii(Yr,_n)?Yr!==null&&C.delete(o):(L==="retain"&&ke(),_n===null?delete F[an]:F[an]=_n))}C.deleted||(L==="insert"&&ke(),xs(s,C.content));break}}C=C.right}for(ke();n.length>0;){const an=n[n.length-1];if(an.retain!==void 0&&an.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class _s extends mr{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(o=>o())}catch(o){console.error(o)}this._pending=null}_copy(){return new _s}clone(){const e=new _s;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const o=new Al(this,e,n);ca(this,e,o),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===ko&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?Ln(this.doc,o=>{const s=new Pa(null,this._start,0,new Map);for(let u=0;u<e.length;u++){const C=e[u];if(C.insert!==void 0){const L=!n&&typeof C.insert=="string"&&u===e.length-1&&s.right===null&&C.insert.slice(-1)===`
`?C.insert.slice(0,-1):C.insert;(typeof L!="string"||L.length>0)&&Ra(o,this,s,L,C.attributes||{})}else C.retain!==void 0?Mc(o,this,s,C.retain,C.attributes||{}):C.delete!==void 0&&Dc(o,s,C.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,o){const s=[],u=new Map,C=this.doc;let L="",F=this._start;function te(){if(L.length>0){const ee={};let ke=!1;u.forEach((St,Mn)=>{ke=!0,ee[Mn]=St});const it={insert:L};ke&&(it.attributes=ee),s.push(it),L=""}}const q=()=>{for(;F!==null;){if(Ei(F,e)||n!==void 0&&Ei(F,n))switch(F.content.constructor){case ko:{const ee=u.get("ychange");e!==void 0&&!Ei(F,e)?(ee===void 0||ee.user!==F.id.client||ee.type!=="removed")&&(te(),u.set("ychange",o?o("removed",F.id):{type:"removed"})):n!==void 0&&!Ei(F,n)?(ee===void 0||ee.user!==F.id.client||ee.type!=="added")&&(te(),u.set("ychange",o?o("added",F.id):{type:"added"})):ee!==void 0&&(te(),u.delete("ychange")),L+=F.content.str;break}case Io:case Ti:{te();const ee={insert:F.content.getContent()[0]};if(u.size>0){const ke={};ee.attributes=ke,u.forEach((it,St)=>{ke[St]=it})}s.push(ee);break}case rr:Ei(F,e)&&(te(),xs(u,F.content));break}F=F.right}te()};return e||n?Ln(C,ee=>{e&&Ia(ee,e),n&&Ia(ee,n),q()},"cleanup"):q(),s}insert(e,n,o){if(n.length<=0)return;const s=this.doc;s!==null?Ln(s,u=>{const C=fa(u,this,e,!o);o||(o={},C.currentAttributes.forEach((L,F)=>{o[F]=L})),Ra(u,this,C,n,o)}):this._pending.push(()=>this.insert(e,n,o))}insertEmbed(e,n,o){const s=this.doc;s!==null?Ln(s,u=>{const C=fa(u,this,e,!o);Ra(u,this,C,n,o||{})}):this._pending.push(()=>this.insertEmbed(e,n,o||{}))}delete(e,n){if(n===0)return;const o=this.doc;o!==null?Ln(o,s=>{Dc(s,fa(s,this,e,!0),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,o){if(n===0)return;const s=this.doc;s!==null?Ln(s,u=>{const C=fa(u,this,e,!1);C.right!==null&&Mc(u,this,C,n,o)}):this._pending.push(()=>this.format(e,n,o))}removeAttribute(e){this.doc!==null?Ln(this.doc,n=>{ua(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?Ln(this.doc,o=>{Na(o,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return Da(this,e)}getAttributes(){return Cc(this)}_write(e){e.writeTypeRef(Gl)}}const Ol=t=>new _s;class La{constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===qi||n.constructor===Qi)&&n._start!==null)e=n._start;else for(;e!==null;)if(e.right!==null){e=e.right;break}else e.parent===this._root?e=null:e=e.parent._item;while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class Qi extends mr{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Qi}clone(){const e=new Qi;return e.insert(0,this.toArray().map(n=>n instanceof mr?n.clone():n)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new La(this,e)}querySelector(e){e=e.toUpperCase();const o=new La(this,s=>s.nodeName&&s.nodeName.toUpperCase()===e).next();return o.done?null:o.value}querySelectorAll(e){return e=e.toUpperCase(),he(new La(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){ca(this,e,new Dl(this,n,e))}toString(){return bc(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},o){const s=e.createDocumentFragment();return o!==void 0&&o._createAssociation(s,this),zs(this,u=>{s.insertBefore(u.toDOM(e,n,o),null)}),s}insert(e,n){this.doc!==null?Ln(this.doc,o=>{Ec(o,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)Ln(this.doc,o=>{const s=e&&e instanceof mr?e._item:e;la(o,this,s,n)});else{const o=this._prelimContent,s=e===null?0:o.findIndex(u=>u===e)+1;if(s===0&&e!==null)throw g("Reference item not found");o.splice(s,0,...n)}}delete(e,n=1){this.doc!==null?Ln(this.doc,o=>{Sc(o,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return vc(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return xc(this,e)}slice(e=0,n=this.length){return wc(this,e,n)}forEach(e){zs(this,e)}_write(e){e.writeTypeRef(Yl)}}const Ml=t=>new Qi;class qi extends Qi{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((o,s)=>{this.setAttribute(s,o)}),this._prelimAttrs=null}_copy(){return new qi(this.nodeName)}clone(){const e=new qi(this.nodeName),n=this.getAttributes();return dr(n,(o,s)=>{typeof o=="string"&&e.setAttribute(s,o)}),e.insert(0,this.toArray().map(o=>o instanceof mr?o.clone():o)),e}toString(){const e=this.getAttributes(),n=[],o=[];for(const L in e)o.push(L);o.sort();const s=o.length;for(let L=0;L<s;L++){const F=o[L];n.push(F+'="'+e[F]+'"')}const u=this.nodeName.toLocaleLowerCase(),C=n.length>0?" "+n.join(" "):"";return`<${u}${C}>${super.toString()}</${u}>`}removeAttribute(e){this.doc!==null?Ln(this.doc,n=>{ua(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?Ln(this.doc,o=>{Na(o,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return Da(this,e)}hasAttribute(e){return kc(this,e)}getAttributes(e){return e?xl(this,e):Cc(this)}toDOM(e=document,n={},o){const s=e.createElement(this.nodeName),u=this.getAttributes();for(const C in u){const L=u[C];typeof L=="string"&&s.setAttribute(C,L)}return zs(this,C=>{s.appendChild(C.toDOM(e,n,o))}),o!==void 0&&o._createAssociation(s,this),s}_write(e){e.writeTypeRef(Xl),e.writeKey(this.nodeName)}}const Nl=t=>new qi(t.readKey());class Dl extends sa{constructor(e,n,o){super(e,o),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(s=>{s===null?this.childListChanged=!0:this.attributesChanged.add(s)})}}class Vs extends Ji{constructor(e){super(),this.hookName=e}_copy(){return new Vs(this.hookName)}clone(){const e=new Vs(this.hookName);return this.forEach((n,o)=>{e.set(o,n)}),e}toDOM(e=document,n={},o){const s=n[this.hookName];let u;return s!==void 0?u=s.createDom(this):u=document.createElement(this.hookName),u.setAttribute("data-yjs-hook",this.hookName),o!==void 0&&o._createAssociation(u,this),u}_write(e){e.writeTypeRef(Jl),e.writeKey(this.hookName)}}const Pl=t=>new Vs(t.readKey());class ha extends _s{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new ha}clone(){const e=new ha;return e.applyDelta(this.toDelta()),e}toDOM(e=document,n,o){const s=e.createTextNode(this.toString());return o!==void 0&&o._createAssociation(s,this),s}toString(){return this.toDelta().map(e=>{const n=[];for(const s in e.attributes){const u=[];for(const C in e.attributes[s])u.push({key:C,value:e.attributes[s][C]});u.sort((C,L)=>C.key<L.key?-1:1),n.push({nodeName:s,attrs:u})}n.sort((s,u)=>s.nodeName<u.nodeName?-1:1);let o="";for(let s=0;s<n.length;s++){const u=n[s];o+=`<${u.nodeName}`;for(let C=0;C<u.attrs.length;C++){const L=u.attrs[C];o+=` ${L.key}="${L.value}"`}o+=">"}o+=e.insert;for(let s=n.length-1;s>=0;s--)o+=`</${n[s].nodeName}>`;return o}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(Ql)}}const Rl=t=>new ha;class Pc{constructor(e,n){this.id=e,this.length=n}get deleted(){throw k()}mergeWith(e){return!1}write(e,n,o){throw k()}integrate(e,n){throw k()}}const Ll=0;class Xr extends Pc{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),nc(e.doc.store,this)}write(e,n){e.writeInfo(Ll),e.writeLen(this.length-n)}getMissing(e,n){return null}}class Es{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Es(this.content)}splice(e){throw k()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}const Bl=t=>new Es(t.readBuf());class Ss{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Ss(this.len)}splice(e){const n=new Ss(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){Yi(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const Ul=t=>new Ss(t.readLen()),Rc=(t,e)=>new Ro(Fn(Rt({guid:t},e),{shouldLoad:e.shouldLoad||e.autoLoad||!1}));class Cs{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Cs(Rc(this.doc.guid,this.opts))}splice(e){throw k()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const zl=t=>new Cs(Rc(t.readString(),t.readAny()));class Ti{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new Ti(this.embed)}splice(e){throw k()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}const Vl=t=>new Ti(t.readJSON());class rr{constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new rr(this.key,this.value)}splice(e){throw k()}mergeWith(e){return!1}integrate(e,n){const o=n.parent;o._searchMarker=null,o._hasFormatting=!0}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const Fl=t=>new rr(t.readKey(),t.readJSON());class Fs{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Fs(this.arr)}splice(e){const n=new Fs(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const o=this.arr.length;e.writeLen(o-n);for(let s=n;s<o;s++){const u=this.arr[s];e.writeString(u===void 0?"undefined":JSON.stringify(u))}}getRef(){return 2}}const jl=t=>{const e=t.readLen(),n=[];for(let o=0;o<e;o++){const s=t.readString();s==="undefined"?n.push(void 0):n.push(JSON.parse(s))}return new Fs(n)};class Ai{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Ai(this.arr)}splice(e){const n=new Ai(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const o=this.arr.length;e.writeLen(o-n);for(let s=n;s<o;s++){const u=this.arr[s];e.writeAny(u)}}getRef(){return 8}}const Zl=t=>{const e=t.readLen(),n=[];for(let o=0;o<e;o++)n.push(t.readAny());return new Ai(n)};class ko{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new ko(this.str)}splice(e){const n=new ko(this.str.slice(e));this.str=this.str.slice(0,e);const o=this.str.charCodeAt(e-1);return o>=55296&&o<=56319&&(this.str=this.str.slice(0,e-1)+"\uFFFD",n.str="\uFFFD"+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const Hl=t=>new ko(t.readString()),$l=[El,Cl,Ol,Nl,Ml,Pl,Rl],Wl=0,Kl=1,Gl=2,Xl=3,Yl=4,Jl=5,Ql=6;class Io{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Io(this.type._copy())}splice(e){throw k()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(o=>{o.deleted?o.id.clock<(e.beforeState.get(o.id.client)||0)&&e._mergeStructs.push(o):o.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(o=>{for(;o!==null;)o.gc(e,!0),o=o.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const ql=t=>new Io($l[t.readTypeRef()](t)),Ba=(t,e)=>{let n=e,o=0,s;do o>0&&(n=dn(n.client,n.clock+o)),s=bs(t,n),o=n.clock-s.id.clock,n=s.redone;while(n!==null&&s instanceof Dn);return{item:s,diff:o}},Ua=(t,e)=>{for(;t!==null&&t.keep!==e;)t.keep=e,t=t.parent._item},pa=(t,e,n)=>{const{client:o,clock:s}=e.id,u=new Dn(dn(o,s+n),e,dn(o,s+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&u.markDeleted(),e.keep&&(u.keep=!0),e.redone!==null&&(u.redone=dn(e.redone.client,e.redone.clock+n)),e.right=u,u.right!==null&&(u.right.left=u),t._mergeStructs.push(u),u.parentSub!==null&&u.right===null&&u.parent._map.set(u.parentSub,u),e.length=n,u},Lc=(t,e)=>ce(t,n=>bi(n.deletions,e)),Bc=(t,e,n,o,s,u)=>{const C=t.doc,L=C.store,F=C.clientID,te=e.redone;if(te!==null)return Br(t,te);let q=e.parent._item,ee=null,ke;if(q!==null&&q.deleted===!0){if(q.redone===null&&(!n.has(q)||Bc(t,q,n,o,s,u)===null))return null;for(;q.redone!==null;)q=Br(t,q.redone)}const it=q===null?e.parent:q.content.type;if(e.parentSub===null){for(ee=e.left,ke=e;ee!==null;){let _n=ee;for(;_n!==null&&_n.parent._item!==q;)_n=_n.redone===null?null:Br(t,_n.redone);if(_n!==null&&_n.parent._item===q){ee=_n;break}ee=ee.left}for(;ke!==null;){let _n=ke;for(;_n!==null&&_n.parent._item!==q;)_n=_n.redone===null?null:Br(t,_n.redone);if(_n!==null&&_n.parent._item===q){ke=_n;break}ke=ke.right}}else if(ke=null,e.right&&!s){for(ee=e;ee!==null&&ee.right!==null&&(ee.right.redone||bi(o,ee.right.id)||Lc(u.undoStack,ee.right.id)||Lc(u.redoStack,ee.right.id));)for(ee=ee.right;ee.redone;)ee=Br(t,ee.redone);if(ee&&ee.right!==null)return null}else ee=it._map.get(e.parentSub)||null;const St=Xn(L,F),Mn=dn(F,St),an=new Dn(Mn,ee,ee&&ee.lastId,ke,ke&&ke.id,it,e.parentSub,e.content.copy());return e.redone=Mn,Ua(an,!0),an.integrate(t,0),an};class Dn extends Pc{constructor(e,n,o,s,u,C,L,F){super(e,F.getLength()),this.origin=o,this.left=n,this.right=s,this.rightOrigin=u,this.parent=C,this.parentSub=L,this.redone=null,this.content=F,this.info=this.content.isCountable()?gt:0}set marker(e){(this.info&Qt)>0!==e&&(this.info^=Qt)}get marker(){return(this.info&Qt)>0}get keep(){return(this.info&dt)>0}set keep(e){this.keep!==e&&(this.info^=dt)}get countable(){return(this.info&gt)>0}get deleted(){return(this.info&Wt)>0}set deleted(e){this.deleted!==e&&(this.info^=Wt)}markDeleted(){this.info|=Wt}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Xn(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Xn(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===ws&&this.id.client!==this.parent.client&&this.parent.clock>=Xn(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=rc(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Br(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===Xr||this.right&&this.right.constructor===Xr)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===Dn&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===Dn&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===ws){const o=bs(n,this.parent);o.constructor===Xr?this.parent=null:this.parent=o.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=rc(e,e.doc.store,dn(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let o=this.left,s;if(o!==null)s=o.right;else if(this.parentSub!==null)for(s=this.parent._map.get(this.parentSub)||null;s!==null&&s.left!==null;)s=s.left;else s=this.parent._start;const u=new Set,C=new Set;for(;s!==null&&s!==this.right;){if(C.add(s),u.add(s),vs(this.origin,s.origin)){if(s.id.client<this.id.client)o=s,u.clear();else if(vs(this.rightOrigin,s.rightOrigin))break}else if(s.origin!==null&&C.has(bs(e.doc.store,s.origin)))u.has(bs(e.doc.store,s.origin))||(o=s,u.clear());else break;s=s.right}this.left=o}if(this.left!==null){const o=this.left.right;this.right=o,this.left.right=this}else{let o;if(this.parentSub!==null)for(o=this.parent._map.get(this.parentSub)||null;o!==null&&o.left!==null;)o=o.left;else o=this.parent._start,this.parent._start=this;this.right=o}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),nc(e.doc.store,this),this.content.integrate(e,this),sc(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new Xr(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:dn(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&vs(e.origin,this.lastId)&&this.right===e&&vs(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(o=>{o.p===e&&(o.p=this,!this.deleted&&this.countable&&(o.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),Yi(e.deleteSet,this.id.client,this.id.clock,this.length),sc(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw j();this.content.gc(e),n?rl(e,this,new Xr(this.id,this.length)):this.content=new Ss(this.length)}write(e,n){const o=n>0?dn(this.id.client,this.id.clock+n-1):this.origin,s=this.rightOrigin,u=this.parentSub,C=this.content.getRef()&mn|(o===null?0:He)|(s===null?0:We)|(u===null?0:De);if(e.writeInfo(C),o!==null&&e.writeLeftID(o),s!==null&&e.writeRightID(s),o===null&&s===null){const L=this.parent;if(L._item!==void 0){const F=L._item;if(F===null){const te=Qa(L);e.writeParentInfo(!0),e.writeString(te)}else e.writeParentInfo(!1),e.writeLeftID(F.id)}else L.constructor===String?(e.writeParentInfo(!0),e.writeString(L)):L.constructor===ws?(e.writeParentInfo(!1),e.writeLeftID(L)):j();u!==null&&e.writeString(u)}this.content.write(e,n)}}const Uc=(t,e)=>eu[e&binary.BITS5](t),eu=[()=>{j()},Ul,jl,Bl,Hl,Vl,Fl,ql,Zl,zl,()=>{j()}],tu=10;class $r extends null{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){error.unexpectedCase()}write(e,n){e.writeInfo(tu),encoding.writeVarUint(e.restEncoder,this.length-n)}getMissing(e,n){return null}}const zc=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:{},Vc="__ $YJS$ __";zc[Vc]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438"),zc[Vc]=!0},3557:function(B,Z,l){"use strict";l.d(Z,{Ue:function(){return I}});var i=l(568),O=l(75271),_=l(42598);const{useDebugValue:T}=O,{useSyncExternalStoreWithSelector:x}=_;let b=!1;const p=N=>N;function w(N,K=p,G){G&&!b&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),b=!0);const he=x(N.subscribe,N.getState,N.getServerState||N.getInitialState,K,G);return T(he),he}const E=N=>{typeof N!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const K=typeof N=="function"?(0,i.M)(N):N,G=(he,Ve)=>w(K,he,Ve);return Object.assign(G,K),G},I=N=>N?E(N):E;var U=N=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),I(N))}}]);
}());