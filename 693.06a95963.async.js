"use strict";(self.webpackChunk_ant_design_pro_flow=self.webpackChunk_ant_design_pro_flow||[]).push([[693],{20825:function(vt,we,v){v.d(we,{Z:function(){return M}});var me=v(28957),j=v(50689),Pe=v(15705),ne=v(92650),De=v(494),Fe=v(38073),p=v(2207),be=v(65078),ke=v(72162),ve=v(84875),te=v.n(ve),ae=v(35019),B=v(50959),ce=v(32964),Ee=function(x){for(var J=x.prefixCls,r=x.level,w=x.isStart,$=x.isEnd,ee="".concat(J,"-indent-unit"),i=[],l=0;l<r;l+=1){var k;i.push(B.createElement("span",{key:l,className:te()(ee,(k={},(0,j.Z)(k,"".concat(ee,"-start"),w[l]),(0,j.Z)(k,"".concat(ee,"-end"),$[l]),k))}))}return B.createElement("span",{"aria-hidden":"true",className:"".concat(J,"-indent")},i)},O=B.memo(Ee),Ke=v(31212),oe=v(16318),he=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],q="open",o="close",m="---",b=function(F){(0,be.Z)(J,F);var x=(0,ke.Z)(J);function J(){var r;(0,De.Z)(this,J);for(var w=arguments.length,$=new Array(w),ee=0;ee<w;ee++)$[ee]=arguments[ee];return r=x.call.apply(x,[this].concat($)),r.state={dragNodeHighlight:!1},r.selectHandle=void 0,r.cacheIndent=void 0,r.onSelectorClick=function(i){var l=r.props.context.onNodeClick;l(i,(0,oe.F)(r.props)),r.isSelectable()?r.onSelect(i):r.onCheck(i)},r.onSelectorDoubleClick=function(i){var l=r.props.context.onNodeDoubleClick;l(i,(0,oe.F)(r.props))},r.onSelect=function(i){if(!r.isDisabled()){var l=r.props.context.onNodeSelect;l(i,(0,oe.F)(r.props))}},r.onCheck=function(i){if(!r.isDisabled()){var l=r.props,k=l.disableCheckbox,L=l.checked,U=r.props.context.onNodeCheck;if(!(!r.isCheckable()||k)){var ue=!L;U(i,(0,oe.F)(r.props),ue)}}},r.onMouseEnter=function(i){var l=r.props.context.onNodeMouseEnter;l(i,(0,oe.F)(r.props))},r.onMouseLeave=function(i){var l=r.props.context.onNodeMouseLeave;l(i,(0,oe.F)(r.props))},r.onContextMenu=function(i){var l=r.props.context.onNodeContextMenu;l(i,(0,oe.F)(r.props))},r.onDragStart=function(i){var l=r.props.context.onNodeDragStart;i.stopPropagation(),r.setState({dragNodeHighlight:!0}),l(i,(0,p.Z)(r));try{i.dataTransfer.setData("text/plain","")}catch(k){}},r.onDragEnter=function(i){var l=r.props.context.onNodeDragEnter;i.preventDefault(),i.stopPropagation(),l(i,(0,p.Z)(r))},r.onDragOver=function(i){var l=r.props.context.onNodeDragOver;i.preventDefault(),i.stopPropagation(),l(i,(0,p.Z)(r))},r.onDragLeave=function(i){var l=r.props.context.onNodeDragLeave;i.stopPropagation(),l(i,(0,p.Z)(r))},r.onDragEnd=function(i){var l=r.props.context.onNodeDragEnd;i.stopPropagation(),r.setState({dragNodeHighlight:!1}),l(i,(0,p.Z)(r))},r.onDrop=function(i){var l=r.props.context.onNodeDrop;i.preventDefault(),i.stopPropagation(),r.setState({dragNodeHighlight:!1}),l(i,(0,p.Z)(r))},r.onExpand=function(i){var l=r.props,k=l.loading,L=l.context.onNodeExpand;k||L(i,(0,oe.F)(r.props))},r.setSelectHandle=function(i){r.selectHandle=i},r.getNodeState=function(){var i=r.props.expanded;return r.isLeaf()?null:i?q:o},r.hasChildren=function(){var i=r.props.eventKey,l=r.props.context.keyEntities,k=(0,Ke.Z)(l,i)||{},L=k.children;return!!(L||[]).length},r.isLeaf=function(){var i=r.props,l=i.isLeaf,k=i.loaded,L=r.props.context.loadData,U=r.hasChildren();return l===!1?!1:l||!L&&!U||L&&k&&!U},r.isDisabled=function(){var i=r.props.disabled,l=r.props.context.disabled;return!!(l||i)},r.isCheckable=function(){var i=r.props.checkable,l=r.props.context.checkable;return!l||i===!1?!1:l},r.syncLoadData=function(i){var l=i.expanded,k=i.loading,L=i.loaded,U=r.props.context,ue=U.loadData,_=U.onNodeLoad;k||ue&&l&&!r.isLeaf()&&!r.hasChildren()&&!L&&_((0,oe.F)(r.props))},r.isDraggable=function(){var i=r.props,l=i.data,k=i.context.draggable;return!!(k&&(!k.nodeDraggable||k.nodeDraggable(l)))},r.renderDragHandler=function(){var i=r.props.context,l=i.draggable,k=i.prefixCls;return l!=null&&l.icon?B.createElement("span",{className:"".concat(k,"-draggable-icon")},l.icon):null},r.renderSwitcherIconDom=function(i){var l=r.props.switcherIcon,k=r.props.context.switcherIcon,L=l||k;return typeof L=="function"?L((0,ne.Z)((0,ne.Z)({},r.props),{},{isLeaf:i})):L},r.renderSwitcher=function(){var i=r.props.expanded,l=r.props.context.prefixCls;if(r.isLeaf()){var k=r.renderSwitcherIconDom(!0);return k!==!1?B.createElement("span",{className:te()("".concat(l,"-switcher"),"".concat(l,"-switcher-noop"))},k):null}var L=te()("".concat(l,"-switcher"),"".concat(l,"-switcher_").concat(i?q:o)),U=r.renderSwitcherIconDom(!1);return U!==!1?B.createElement("span",{onClick:r.onExpand,className:L},U):null},r.renderCheckbox=function(){var i=r.props,l=i.checked,k=i.halfChecked,L=i.disableCheckbox,U=r.props.context.prefixCls,ue=r.isDisabled(),_=r.isCheckable();if(!_)return null;var ie=typeof _!="boolean"?_:null;return B.createElement("span",{className:te()("".concat(U,"-checkbox"),l&&"".concat(U,"-checkbox-checked"),!l&&k&&"".concat(U,"-checkbox-indeterminate"),(ue||L)&&"".concat(U,"-checkbox-disabled")),onClick:r.onCheck},ie)},r.renderIcon=function(){var i=r.props.loading,l=r.props.context.prefixCls;return B.createElement("span",{className:te()("".concat(l,"-iconEle"),"".concat(l,"-icon__").concat(r.getNodeState()||"docu"),i&&"".concat(l,"-icon_loading"))})},r.renderSelector=function(){var i=r.state.dragNodeHighlight,l=r.props,k=l.title,L=k===void 0?m:k,U=l.selected,ue=l.icon,_=l.loading,ie=l.data,Se=r.props.context,pe=Se.prefixCls,Ae=Se.showIcon,Ue=Se.icon,ze=Se.loadData,G=Se.titleRender,$e=r.isDisabled(),We="".concat(pe,"-node-content-wrapper"),c;if(Ae){var D=ue||Ue;c=D?B.createElement("span",{className:te()("".concat(pe,"-iconEle"),"".concat(pe,"-icon__customize"))},typeof D=="function"?D(r.props):D):r.renderIcon()}else ze&&_&&(c=r.renderIcon());var S;typeof L=="function"?S=L(ie):G?S=G(ie):S=L;var P=B.createElement("span",{className:"".concat(pe,"-title")},S);return B.createElement("span",{ref:r.setSelectHandle,title:typeof L=="string"?L:"",className:te()("".concat(We),"".concat(We,"-").concat(r.getNodeState()||"normal"),!$e&&(U||i)&&"".concat(pe,"-node-selected")),onMouseEnter:r.onMouseEnter,onMouseLeave:r.onMouseLeave,onContextMenu:r.onContextMenu,onClick:r.onSelectorClick,onDoubleClick:r.onSelectorDoubleClick},c,P,r.renderDropIndicator())},r.renderDropIndicator=function(){var i=r.props,l=i.disabled,k=i.eventKey,L=r.props.context,U=L.draggable,ue=L.dropLevelOffset,_=L.dropPosition,ie=L.prefixCls,Se=L.indent,pe=L.dropIndicatorRender,Ae=L.dragOverNodeKey,Ue=L.direction,ze=!!U,G=!l&&ze&&Ae===k,$e=Se!=null?Se:r.cacheIndent;return r.cacheIndent=Se,G?pe({dropPosition:_,dropLevelOffset:ue,indent:$e,prefixCls:ie,direction:Ue}):null},r}return(0,Fe.Z)(J,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var w=this.props.selectable,$=this.props.context.selectable;return typeof w=="boolean"?w:$}},{key:"render",value:function(){var w,$=this.props,ee=$.eventKey,i=$.className,l=$.style,k=$.dragOver,L=$.dragOverGapTop,U=$.dragOverGapBottom,ue=$.isLeaf,_=$.isStart,ie=$.isEnd,Se=$.expanded,pe=$.selected,Ae=$.checked,Ue=$.halfChecked,ze=$.loading,G=$.domRef,$e=$.active,We=$.data,c=$.onMouseMove,D=$.selectable,S=(0,Pe.Z)($,he),P=this.props.context,d=P.prefixCls,h=P.filterTreeNode,E=P.keyEntities,e=P.dropContainerKey,f=P.dropTargetKey,R=P.draggingNodeKey,K=this.isDisabled(),t=(0,ae.Z)(S,{aria:!0,data:!0}),a=(0,Ke.Z)(E,ee)||{},n=a.level,s=ie[ie.length-1],u=this.isDraggable(),g=!K&&u,C=R===ee,N=D!==void 0?{"aria-selected":!!D}:void 0;return B.createElement("div",(0,me.Z)({ref:G,className:te()(i,"".concat(d,"-treenode"),(w={},(0,j.Z)(w,"".concat(d,"-treenode-disabled"),K),(0,j.Z)(w,"".concat(d,"-treenode-switcher-").concat(Se?"open":"close"),!ue),(0,j.Z)(w,"".concat(d,"-treenode-checkbox-checked"),Ae),(0,j.Z)(w,"".concat(d,"-treenode-checkbox-indeterminate"),Ue),(0,j.Z)(w,"".concat(d,"-treenode-selected"),pe),(0,j.Z)(w,"".concat(d,"-treenode-loading"),ze),(0,j.Z)(w,"".concat(d,"-treenode-active"),$e),(0,j.Z)(w,"".concat(d,"-treenode-leaf-last"),s),(0,j.Z)(w,"".concat(d,"-treenode-draggable"),u),(0,j.Z)(w,"dragging",C),(0,j.Z)(w,"drop-target",f===ee),(0,j.Z)(w,"drop-container",e===ee),(0,j.Z)(w,"drag-over",!K&&k),(0,j.Z)(w,"drag-over-gap-top",!K&&L),(0,j.Z)(w,"drag-over-gap-bottom",!K&&U),(0,j.Z)(w,"filter-node",h&&h((0,oe.F)(this.props))),w)),style:l,draggable:g,"aria-grabbed":C,onDragStart:g?this.onDragStart:void 0,onDragEnter:u?this.onDragEnter:void 0,onDragOver:u?this.onDragOver:void 0,onDragLeave:u?this.onDragLeave:void 0,onDrop:u?this.onDrop:void 0,onDragEnd:u?this.onDragEnd:void 0,onMouseMove:c},N,t),B.createElement(O,{prefixCls:d,level:n,isStart:_,isEnd:ie}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),J}(B.Component),T=function(x){return B.createElement(ce.k.Consumer,null,function(J){return B.createElement(b,(0,me.Z)({},x,{context:J}))})};T.displayName="TreeNode",T.isTreeNode=1;var M=T},32964:function(vt,we,v){v.d(we,{k:function(){return j}});var me=v(50959),j=me.createContext(null)},43693:function(vt,we,v){v.d(we,{O:function(){return M.Z},Z:function(){return P}});var me=v(28957),j=v(50689),Pe=v(26188),ne=v(92650),De=v(2709),Fe=v(494),p=v(38073),be=v(2207),ke=v(65078),ve=v(72162),te=v(84875),ae=v.n(te),B=v(32602),ce=v(35019),Ee=v(11253),O=v(50959),Ke=v(32964);function oe(d){var h=d.dropPosition,E=d.dropLevelOffset,e=d.indent,f={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(h){case-1:f.top=0,f.left=-E*e;break;case 1:f.bottom=0,f.left=-E*e;break;case 0:f.bottom=0,f.left=e;break}return O.createElement("div",{style:f})}function he(d){if(d==null)throw new TypeError("Cannot destructure "+d)}var q=v(25762),o=v(15705),m=v(12334),b=v(87684),T=v(10091),M=v(20825);function F(d,h){var E=O.useState(!1),e=(0,q.Z)(E,2),f=e[0],R=e[1];O.useLayoutEffect(function(){if(f)return d(),function(){h()}},[f]),O.useLayoutEffect(function(){return R(!0),function(){R(!1)}},[])}var x=v(16318),J=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],r=function(h,E){var e=h.className,f=h.style,R=h.motion,K=h.motionNodes,t=h.motionType,a=h.onMotionStart,n=h.onMotionEnd,s=h.active,u=h.treeNodeRequiredProps,g=(0,o.Z)(h,J),C=O.useState(!0),N=(0,q.Z)(C,2),I=N[0],A=N[1],y=O.useContext(Ke.k),z=y.prefixCls,H=K&&t!=="hide";(0,m.Z)(function(){K&&H!==I&&A(H)},[K]);var Z=function(){K&&a()},W=O.useRef(!1),Y=function(){K&&!W.current&&(W.current=!0,n())};F(Z,Y);var fe=function(re){H===re&&Y()};return K?O.createElement(T.ZP,(0,me.Z)({ref:E,visible:I},R,{motionAppear:t==="show",onVisibleChanged:fe}),function(X,re){var xe=X.className,ye=X.style;return O.createElement("div",{ref:re,className:ae()("".concat(z,"-treenode-motion"),xe),style:ye},K.map(function(de){var se=(0,me.Z)({},(he(de.data),de.data)),Re=de.title,Ze=de.key,Be=de.isStart,Ce=de.isEnd;delete se.children;var He=(0,x.H8)(Ze,u);return O.createElement(M.Z,(0,me.Z)({},se,He,{title:Re,active:s,data:de.data,key:Ze,isStart:Be,isEnd:Ce}))}))}):O.createElement(M.Z,(0,me.Z)({domRef:E,className:e,style:f},g,{active:s}))};r.displayName="MotionTreeNode";var w=O.forwardRef(r),$=w;function ee(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],E=d.length,e=h.length;if(Math.abs(E-e)!==1)return{add:!1,key:null};function f(R,K){var t=new Map;R.forEach(function(n){t.set(n,!0)});var a=K.filter(function(n){return!t.has(n)});return a.length===1?a[0]:null}return E<e?{add:!0,key:f(d,h)}:{add:!1,key:f(h,d)}}function i(d,h,E){var e=d.findIndex(function(t){return t.key===E}),f=d[e+1],R=h.findIndex(function(t){return t.key===E});if(f){var K=h.findIndex(function(t){return t.key===f.key});return h.slice(R+1,K)}return h.slice(R+1)}var l=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],k={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},L=function(){},U="RC_TREE_MOTION_".concat(Math.random()),ue={key:U},_={key:U,level:0,index:0,pos:"0",node:ue,nodes:[ue]},ie={parent:null,children:[],pos:_.pos,data:ue,title:null,key:U,isStart:[],isEnd:[]};function Se(d,h,E,e){return h===!1||!E?d:d.slice(0,Math.ceil(E/e)+1)}function pe(d){var h=d.key,E=d.pos;return(0,x.km)(h,E)}function Ae(d){for(var h=String(d.data.key),E=d;E.parent;)E=E.parent,h="".concat(E.data.key," > ").concat(h);return h}var Ue=O.forwardRef(function(d,h){var E=d.prefixCls,e=d.data,f=d.selectable,R=d.checkable,K=d.expandedKeys,t=d.selectedKeys,a=d.checkedKeys,n=d.loadedKeys,s=d.loadingKeys,u=d.halfCheckedKeys,g=d.keyEntities,C=d.disabled,N=d.dragging,I=d.dragOverNodeKey,A=d.dropPosition,y=d.motion,z=d.height,H=d.itemHeight,Z=d.virtual,W=d.focusable,Y=d.activeItem,fe=d.focused,X=d.tabIndex,re=d.onKeyDown,xe=d.onFocus,ye=d.onBlur,de=d.onActiveChange,se=d.onListChangeStart,Re=d.onListChangeEnd,Ze=(0,o.Z)(d,l),Be=O.useRef(null),Ce=O.useRef(null);O.useImperativeHandle(h,function(){return{scrollTo:function(Je){Be.current.scrollTo(Je)},getIndentWidth:function(){return Ce.current.offsetWidth}}});var He=O.useState(K),Qe=(0,q.Z)(He,2),_e=Qe[0],it=Qe[1],tt=O.useState(e),Ge=(0,q.Z)(tt,2),Me=Ge[0],Te=Ge[1],Oe=O.useState(e),Ne=(0,q.Z)(Oe,2),Ye=Ne[0],Ve=Ne[1],nt=O.useState([]),Xe=(0,q.Z)(nt,2),mt=Xe[0],ht=Xe[1],dt=O.useState(null),pt=(0,q.Z)(dt,2),st=pt[0],qe=pt[1],gt=O.useRef(e);gt.current=e;function et(){var ge=gt.current;Te(ge),Ve(ge),ht([]),qe(null),Re()}(0,m.Z)(function(){it(K);var ge=ee(_e,K);if(ge.key!==null)if(ge.add){var Je=Me.findIndex(function(ct){var ut=ct.key;return ut===ge.key}),rt=Se(i(Me,e,ge.key),Z,z,H),at=Me.slice();at.splice(Je+1,0,ie),Ve(at),ht(rt),qe("show")}else{var Ie=e.findIndex(function(ct){var ut=ct.key;return ut===ge.key}),ot=Se(i(e,Me,ge.key),Z,z,H),yt=e.slice();yt.splice(Ie+1,0,ie),Ve(yt),ht(ot),qe("hide")}else Me!==e&&(Te(e),Ve(e))},[K,e]),O.useEffect(function(){N||et()},[N]);var je=y?Ye:e,lt={expandedKeys:K,selectedKeys:t,loadedKeys:n,loadingKeys:s,checkedKeys:a,halfCheckedKeys:u,dragOverNodeKey:I,dropPosition:A,keyEntities:g};return O.createElement(O.Fragment,null,fe&&Y&&O.createElement("span",{style:k,"aria-live":"assertive"},Ae(Y)),O.createElement("div",null,O.createElement("input",{style:k,disabled:W===!1||C,tabIndex:W!==!1?X:null,onKeyDown:re,onFocus:xe,onBlur:ye,value:"",onChange:L,"aria-label":"for screen reader"})),O.createElement("div",{className:"".concat(E,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},O.createElement("div",{className:"".concat(E,"-indent")},O.createElement("div",{ref:Ce,className:"".concat(E,"-indent-unit")}))),O.createElement(b.Z,(0,me.Z)({},Ze,{data:je,itemKey:pe,height:z,fullHeight:!1,virtual:Z,itemHeight:H,prefixCls:"".concat(E,"-list"),ref:Be,onVisibleChange:function(Je,rt){var at=new Set(Je),Ie=rt.filter(function(ot){return!at.has(ot)});Ie.some(function(ot){return pe(ot)===U})&&et()}}),function(ge){var Je=ge.pos,rt=(0,me.Z)({},(he(ge.data),ge.data)),at=ge.title,Ie=ge.key,ot=ge.isStart,yt=ge.isEnd,ct=(0,x.km)(Ie,Je);delete rt.key,delete rt.children;var ut=(0,x.H8)(ct,lt);return O.createElement($,(0,me.Z)({},rt,ut,{title:at,active:!!Y&&Ie===Y.key,pos:Je,data:ge.data,isStart:ot,isEnd:yt,motion:y,motionNodes:Ie===U?mt:null,motionType:st,onMotionStart:se,onMotionEnd:et,treeNodeRequiredProps:lt,onMouseMove:function(){de(null)}}))}))});Ue.displayName="NodeList";var ze=Ue,G=v(33492),$e=v(80085),We=v(31212),c=10,D=function(d){(0,ke.Z)(E,d);var h=(0,ve.Z)(E);function E(){var e;(0,Fe.Z)(this,E);for(var f=arguments.length,R=new Array(f),K=0;K<f;K++)R[K]=arguments[K];return e=h.call.apply(h,[this].concat(R)),e.destroyed=!1,e.delayedDragEnterLogic=void 0,e.loadingRetryTimes={},e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:(0,x.w$)()},e.dragStartMousePosition=null,e.dragNode=void 0,e.currentMouseOverDroppableNodeKey=null,e.listRef=O.createRef(),e.onNodeDragStart=function(t,a){var n=e.state,s=n.expandedKeys,u=n.keyEntities,g=e.props.onDragStart,C=a.props.eventKey;e.dragNode=a,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var N=(0,G._5)(s,C);e.setState({draggingNodeKey:C,dragChildrenKeys:(0,G.wA)(C,u),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(N),window.addEventListener("dragend",e.onWindowDragEnd),g==null||g({event:t,node:(0,x.F)(a.props)})},e.onNodeDragEnter=function(t,a){var n=e.state,s=n.expandedKeys,u=n.keyEntities,g=n.dragChildrenKeys,C=n.flattenNodes,N=n.indent,I=e.props,A=I.onDragEnter,y=I.onExpand,z=I.allowDrop,H=I.direction,Z=a.props,W=Z.pos,Y=Z.eventKey,fe=(0,be.Z)(e),X=fe.dragNode;if(e.currentMouseOverDroppableNodeKey!==Y&&(e.currentMouseOverDroppableNodeKey=Y),!X){e.resetDragState();return}var re=(0,G.OM)(t,X,a,N,e.dragStartMousePosition,z,C,u,s,H),xe=re.dropPosition,ye=re.dropLevelOffset,de=re.dropTargetKey,se=re.dropContainerKey,Re=re.dropTargetPos,Ze=re.dropAllowed,Be=re.dragOverNodeKey;if(g.indexOf(de)!==-1||!Ze){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(Ce){clearTimeout(e.delayedDragEnterLogic[Ce])}),X.props.eventKey!==a.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[W]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var Ce=(0,De.Z)(s),He=(0,We.Z)(u,a.props.eventKey);He&&(He.children||[]).length&&(Ce=(0,G.L0)(s,a.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(Ce),y==null||y(Ce,{node:(0,x.F)(a.props),expanded:!0,nativeEvent:t.nativeEvent})}},800)),X.props.eventKey===de&&ye===0){e.resetDragState();return}e.setState({dragOverNodeKey:Be,dropPosition:xe,dropLevelOffset:ye,dropTargetKey:de,dropContainerKey:se,dropTargetPos:Re,dropAllowed:Ze}),A==null||A({event:t,node:(0,x.F)(a.props),expandedKeys:s})},e.onNodeDragOver=function(t,a){var n=e.state,s=n.dragChildrenKeys,u=n.flattenNodes,g=n.keyEntities,C=n.expandedKeys,N=n.indent,I=e.props,A=I.onDragOver,y=I.allowDrop,z=I.direction,H=(0,be.Z)(e),Z=H.dragNode;if(Z){var W=(0,G.OM)(t,Z,a,N,e.dragStartMousePosition,y,u,g,C,z),Y=W.dropPosition,fe=W.dropLevelOffset,X=W.dropTargetKey,re=W.dropContainerKey,xe=W.dropAllowed,ye=W.dropTargetPos,de=W.dragOverNodeKey;s.indexOf(X)!==-1||!xe||(Z.props.eventKey===X&&fe===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():Y===e.state.dropPosition&&fe===e.state.dropLevelOffset&&X===e.state.dropTargetKey&&re===e.state.dropContainerKey&&ye===e.state.dropTargetPos&&xe===e.state.dropAllowed&&de===e.state.dragOverNodeKey||e.setState({dropPosition:Y,dropLevelOffset:fe,dropTargetKey:X,dropContainerKey:re,dropTargetPos:ye,dropAllowed:xe,dragOverNodeKey:de}),A==null||A({event:t,node:(0,x.F)(a.props)}))}},e.onNodeDragLeave=function(t,a){e.currentMouseOverDroppableNodeKey===a.props.eventKey&&!t.currentTarget.contains(t.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var n=e.props.onDragLeave;n==null||n({event:t,node:(0,x.F)(a.props)})},e.onWindowDragEnd=function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(t,a){var n=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),n==null||n({event:t,node:(0,x.F)(a.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDrop=function(t,a){var n,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=e.state,g=u.dragChildrenKeys,C=u.dropPosition,N=u.dropTargetKey,I=u.dropTargetPos,A=u.dropAllowed;if(A){var y=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),N!==null){var z=(0,ne.Z)((0,ne.Z)({},(0,x.H8)(N,e.getTreeNodeRequiredProps())),{},{active:((n=e.getActiveItem())===null||n===void 0?void 0:n.key)===N,data:(0,We.Z)(e.state.keyEntities,N).node}),H=g.indexOf(N)!==-1;(0,Ee.ZP)(!H,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var Z=(0,G.yx)(I),W={event:t,node:(0,x.F)(z),dragNode:e.dragNode?(0,x.F)(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(g),dropToGap:C!==0,dropPosition:C+Number(Z[Z.length-1])};s||y==null||y(W),e.dragNode=null}}},e.cleanDragState=function(){var t=e.state.draggingNodeKey;t!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null},e.triggerExpandActionExpand=function(t,a){var n=e.state,s=n.expandedKeys,u=n.flattenNodes,g=a.expanded,C=a.key,N=a.isLeaf;if(!(N||t.shiftKey||t.metaKey||t.ctrlKey)){var I=u.filter(function(y){return y.key===C})[0],A=(0,x.F)((0,ne.Z)((0,ne.Z)({},(0,x.H8)(C,e.getTreeNodeRequiredProps())),{},{data:I.data}));e.setExpandedKeys(g?(0,G._5)(s,C):(0,G.L0)(s,C)),e.onNodeExpand(t,A)}},e.onNodeClick=function(t,a){var n=e.props,s=n.onClick,u=n.expandAction;u==="click"&&e.triggerExpandActionExpand(t,a),s==null||s(t,a)},e.onNodeDoubleClick=function(t,a){var n=e.props,s=n.onDoubleClick,u=n.expandAction;u==="doubleClick"&&e.triggerExpandActionExpand(t,a),s==null||s(t,a)},e.onNodeSelect=function(t,a){var n=e.state.selectedKeys,s=e.state,u=s.keyEntities,g=s.fieldNames,C=e.props,N=C.onSelect,I=C.multiple,A=a.selected,y=a[g.key],z=!A;z?I?n=(0,G.L0)(n,y):n=[y]:n=(0,G._5)(n,y);var H=n.map(function(Z){var W=(0,We.Z)(u,Z);return W?W.node:null}).filter(function(Z){return Z});e.setUncontrolledState({selectedKeys:n}),N==null||N(n,{event:"select",selected:z,node:a,selectedNodes:H,nativeEvent:t.nativeEvent})},e.onNodeCheck=function(t,a,n){var s=e.state,u=s.keyEntities,g=s.checkedKeys,C=s.halfCheckedKeys,N=e.props,I=N.checkStrictly,A=N.onCheck,y=a.key,z,H={event:"check",node:a,checked:n,nativeEvent:t.nativeEvent};if(I){var Z=n?(0,G.L0)(g,y):(0,G._5)(g,y),W=(0,G._5)(C,y);z={checked:Z,halfChecked:W},H.checkedNodes=Z.map(function(ye){return(0,We.Z)(u,ye)}).filter(function(ye){return ye}).map(function(ye){return ye.node}),e.setUncontrolledState({checkedKeys:Z})}else{var Y=(0,$e.S)([].concat((0,De.Z)(g),[y]),!0,u),fe=Y.checkedKeys,X=Y.halfCheckedKeys;if(!n){var re=new Set(fe);re.delete(y);var xe=(0,$e.S)(Array.from(re),{checked:!1,halfCheckedKeys:X},u);fe=xe.checkedKeys,X=xe.halfCheckedKeys}z=fe,H.checkedNodes=[],H.checkedNodesPositions=[],H.halfCheckedKeys=X,fe.forEach(function(ye){var de=(0,We.Z)(u,ye);if(de){var se=de.node,Re=de.pos;H.checkedNodes.push(se),H.checkedNodesPositions.push({node:se,pos:Re})}}),e.setUncontrolledState({checkedKeys:fe},!1,{halfCheckedKeys:X})}A==null||A(z,H)},e.onNodeLoad=function(t){var a=t.key,n=new Promise(function(s,u){e.setState(function(g){var C=g.loadedKeys,N=C===void 0?[]:C,I=g.loadingKeys,A=I===void 0?[]:I,y=e.props,z=y.loadData,H=y.onLoad;if(!z||N.indexOf(a)!==-1||A.indexOf(a)!==-1)return null;var Z=z(t);return Z.then(function(){var W=e.state.loadedKeys,Y=(0,G.L0)(W,a);H==null||H(Y,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:Y}),e.setState(function(fe){return{loadingKeys:(0,G._5)(fe.loadingKeys,a)}}),s()}).catch(function(W){if(e.setState(function(fe){return{loadingKeys:(0,G._5)(fe.loadingKeys,a)}}),e.loadingRetryTimes[a]=(e.loadingRetryTimes[a]||0)+1,e.loadingRetryTimes[a]>=c){var Y=e.state.loadedKeys;(0,Ee.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:(0,G.L0)(Y,a)}),s()}u(W)}),{loadingKeys:(0,G.L0)(A,a)}})});return n.catch(function(){}),n},e.onNodeMouseEnter=function(t,a){var n=e.props.onMouseEnter;n==null||n({event:t,node:a})},e.onNodeMouseLeave=function(t,a){var n=e.props.onMouseLeave;n==null||n({event:t,node:a})},e.onNodeContextMenu=function(t,a){var n=e.props.onRightClick;n&&(t.preventDefault(),n({event:t,node:a}))},e.onFocus=function(){var t=e.props.onFocus;e.setState({focused:!0});for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];t==null||t.apply(void 0,n)},e.onBlur=function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];t==null||t.apply(void 0,n)},e.getTreeNodeRequiredProps=function(){var t=e.state,a=t.expandedKeys,n=t.selectedKeys,s=t.loadedKeys,u=t.loadingKeys,g=t.checkedKeys,C=t.halfCheckedKeys,N=t.dragOverNodeKey,I=t.dropPosition,A=t.keyEntities;return{expandedKeys:a||[],selectedKeys:n||[],loadedKeys:s||[],loadingKeys:u||[],checkedKeys:g||[],halfCheckedKeys:C||[],dragOverNodeKey:N,dropPosition:I,keyEntities:A}},e.setExpandedKeys=function(t){var a=e.state,n=a.treeData,s=a.fieldNames,u=(0,x.oH)(n,t,s);e.setUncontrolledState({expandedKeys:t,flattenNodes:u},!0)},e.onNodeExpand=function(t,a){var n=e.state.expandedKeys,s=e.state,u=s.listChanging,g=s.fieldNames,C=e.props,N=C.onExpand,I=C.loadData,A=a.expanded,y=a[g.key];if(!u){var z=n.indexOf(y),H=!A;if((0,Ee.ZP)(A&&z!==-1||!A&&z===-1,"Expand state not sync with index check"),H?n=(0,G.L0)(n,y):n=(0,G._5)(n,y),e.setExpandedKeys(n),N==null||N(n,{node:a,expanded:H,nativeEvent:t.nativeEvent}),H&&I){var Z=e.onNodeLoad(a);Z&&Z.then(function(){var W=(0,x.oH)(e.state.treeData,n,g);e.setUncontrolledState({flattenNodes:W})}).catch(function(){var W=e.state.expandedKeys,Y=(0,G._5)(W,y);e.setExpandedKeys(Y)})}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})},e.onActiveChange=function(t){var a=e.state.activeKey,n=e.props.onActiveChange;a!==t&&(e.setState({activeKey:t}),t!==null&&e.scrollTo({key:t}),n==null||n(t))},e.getActiveItem=function(){var t=e.state,a=t.activeKey,n=t.flattenNodes;return a===null?null:n.find(function(s){var u=s.key;return u===a})||null},e.offsetActiveKey=function(t){var a=e.state,n=a.flattenNodes,s=a.activeKey,u=n.findIndex(function(N){var I=N.key;return I===s});u===-1&&t<0&&(u=n.length),u=(u+t+n.length)%n.length;var g=n[u];if(g){var C=g.key;e.onActiveChange(C)}else e.onActiveChange(null)},e.onKeyDown=function(t){var a=e.state,n=a.activeKey,s=a.expandedKeys,u=a.checkedKeys,g=a.fieldNames,C=e.props,N=C.onKeyDown,I=C.checkable,A=C.selectable;switch(t.which){case B.Z.UP:{e.offsetActiveKey(-1),t.preventDefault();break}case B.Z.DOWN:{e.offsetActiveKey(1),t.preventDefault();break}}var y=e.getActiveItem();if(y&&y.data){var z=e.getTreeNodeRequiredProps(),H=y.data.isLeaf===!1||!!(y.data[g.children]||[]).length,Z=(0,x.F)((0,ne.Z)((0,ne.Z)({},(0,x.H8)(n,z)),{},{data:y.data,active:!0}));switch(t.which){case B.Z.LEFT:{H&&s.includes(n)?e.onNodeExpand({},Z):y.parent&&e.onActiveChange(y.parent.key),t.preventDefault();break}case B.Z.RIGHT:{H&&!s.includes(n)?e.onNodeExpand({},Z):y.children&&y.children.length&&e.onActiveChange(y.children[0].key),t.preventDefault();break}case B.Z.ENTER:case B.Z.SPACE:{I&&!Z.disabled&&Z.checkable!==!1&&!Z.disableCheckbox?e.onNodeCheck({},Z,!u.includes(n)):!I&&A&&!Z.disabled&&Z.selectable!==!1&&e.onNodeSelect({},Z);break}}}N==null||N(t)},e.setUncontrolledState=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var s=!1,u=!0,g={};Object.keys(t).forEach(function(C){if(C in e.props){u=!1;return}s=!0,g[C]=t[C]}),s&&(!a||u)&&e.setState((0,ne.Z)((0,ne.Z)({},g),n))}},e.scrollTo=function(t){e.listRef.current.scrollTo(t)},e}return(0,p.Z)(E,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var f=this.props.activeKey;f!==void 0&&f!==this.state.activeKey&&(this.setState({activeKey:f}),f!==null&&this.scrollTo({key:f}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var f,R=this.state,K=R.focused,t=R.flattenNodes,a=R.keyEntities,n=R.draggingNodeKey,s=R.activeKey,u=R.dropLevelOffset,g=R.dropContainerKey,C=R.dropTargetKey,N=R.dropPosition,I=R.dragOverNodeKey,A=R.indent,y=this.props,z=y.prefixCls,H=y.className,Z=y.style,W=y.showLine,Y=y.focusable,fe=y.tabIndex,X=fe===void 0?0:fe,re=y.selectable,xe=y.showIcon,ye=y.icon,de=y.switcherIcon,se=y.draggable,Re=y.checkable,Ze=y.checkStrictly,Be=y.disabled,Ce=y.motion,He=y.loadData,Qe=y.filterTreeNode,_e=y.height,it=y.itemHeight,tt=y.virtual,Ge=y.titleRender,Me=y.dropIndicatorRender,Te=y.onContextMenu,Oe=y.onScroll,Ne=y.direction,Ye=y.rootClassName,Ve=y.rootStyle,nt=(0,ce.Z)(this.props,{aria:!0,data:!0}),Xe;return se&&((0,Pe.Z)(se)==="object"?Xe=se:typeof se=="function"?Xe={nodeDraggable:se}:Xe={}),O.createElement(Ke.k.Provider,{value:{prefixCls:z,selectable:re,showIcon:xe,icon:ye,switcherIcon:de,draggable:Xe,draggingNodeKey:n,checkable:Re,checkStrictly:Ze,disabled:Be,keyEntities:a,dropLevelOffset:u,dropContainerKey:g,dropTargetKey:C,dropPosition:N,dragOverNodeKey:I,indent:A,direction:Ne,dropIndicatorRender:Me,loadData:He,filterTreeNode:Qe,titleRender:Ge,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},O.createElement("div",{role:"tree",className:ae()(z,H,Ye,(f={},(0,j.Z)(f,"".concat(z,"-show-line"),W),(0,j.Z)(f,"".concat(z,"-focused"),K),(0,j.Z)(f,"".concat(z,"-active-focused"),s!==null),f)),style:Ve},O.createElement(ze,(0,me.Z)({ref:this.listRef,prefixCls:z,style:Z,data:t,disabled:Be,selectable:re,checkable:!!Re,motion:Ce,dragging:n!==null,height:_e,itemHeight:it,virtual:tt,focusable:Y,focused:K,tabIndex:X,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:Te,onScroll:Oe},this.getTreeNodeRequiredProps(),nt))))}}],[{key:"getDerivedStateFromProps",value:function(f,R){var K=R.prevProps,t={prevProps:f};function a(Y){return!K&&Y in f||K&&K[Y]!==f[Y]}var n,s=R.fieldNames;if(a("fieldNames")&&(s=(0,x.w$)(f.fieldNames),t.fieldNames=s),a("treeData")?n=f.treeData:a("children")&&((0,Ee.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=(0,x.zn)(f.children)),n){t.treeData=n;var u=(0,x.I8)(n,{fieldNames:s});t.keyEntities=(0,ne.Z)((0,j.Z)({},U,_),u.keyEntities)}var g=t.keyEntities||R.keyEntities;if(a("expandedKeys")||K&&a("autoExpandParent"))t.expandedKeys=f.autoExpandParent||!K&&f.defaultExpandParent?(0,G.r7)(f.expandedKeys,g):f.expandedKeys;else if(!K&&f.defaultExpandAll){var C=(0,ne.Z)({},g);delete C[U],t.expandedKeys=Object.keys(C).map(function(Y){return C[Y].key})}else!K&&f.defaultExpandedKeys&&(t.expandedKeys=f.autoExpandParent||f.defaultExpandParent?(0,G.r7)(f.defaultExpandedKeys,g):f.defaultExpandedKeys);if(t.expandedKeys||delete t.expandedKeys,n||t.expandedKeys){var N=(0,x.oH)(n||R.treeData,t.expandedKeys||R.expandedKeys,s);t.flattenNodes=N}if(f.selectable&&(a("selectedKeys")?t.selectedKeys=(0,G.BT)(f.selectedKeys,f):!K&&f.defaultSelectedKeys&&(t.selectedKeys=(0,G.BT)(f.defaultSelectedKeys,f))),f.checkable){var I;if(a("checkedKeys")?I=(0,G.E6)(f.checkedKeys)||{}:!K&&f.defaultCheckedKeys?I=(0,G.E6)(f.defaultCheckedKeys)||{}:n&&(I=(0,G.E6)(f.checkedKeys)||{checkedKeys:R.checkedKeys,halfCheckedKeys:R.halfCheckedKeys}),I){var A=I,y=A.checkedKeys,z=y===void 0?[]:y,H=A.halfCheckedKeys,Z=H===void 0?[]:H;if(!f.checkStrictly){var W=(0,$e.S)(z,!0,g);z=W.checkedKeys,Z=W.halfCheckedKeys}t.checkedKeys=z,t.halfCheckedKeys=Z}}return a("loadedKeys")&&(t.loadedKeys=f.loadedKeys),t}}]),E}(O.Component);D.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:oe,allowDrop:function(){return!0},expandAction:!1},D.TreeNode=M.Z;var S=D,P=S},33492:function(vt,we,v){v.d(we,{BT:function(){return O},E6:function(){return he},L0:function(){return ve},OM:function(){return Ee},_5:function(){return ke},r7:function(){return q},wA:function(){return ae},yx:function(){return te}});var me=v(2709),j=v(26188),Pe=v(11253),ne=v(50959),De=v(20825),Fe=v(31212),p=v(16318),be=null;function ke(o,m){if(!o)return[];var b=o.slice(),T=b.indexOf(m);return T>=0&&b.splice(T,1),b}function ve(o,m){var b=(o||[]).slice();return b.indexOf(m)===-1&&b.push(m),b}function te(o){return o.split("-")}function ae(o,m){var b=[],T=(0,Fe.Z)(m,o);function M(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];F.forEach(function(x){var J=x.key,r=x.children;b.push(J),M(r)})}return M(T.children),b}function B(o){if(o.parent){var m=te(o.pos);return Number(m[m.length-1])===o.parent.children.length-1}return!1}function ce(o){var m=te(o.pos);return Number(m[m.length-1])===0}function Ee(o,m,b,T,M,F,x,J,r,w){var $,ee=o.clientX,i=o.clientY,l=o.target.getBoundingClientRect(),k=l.top,L=l.height,U=(w==="rtl"?-1:1)*(((M==null?void 0:M.x)||0)-ee),ue=(U-12)/T,_=(0,Fe.Z)(J,b.props.eventKey);if(i<k+L/2){var ie=x.findIndex(function(P){return P.key===_.key}),Se=ie<=0?0:ie-1,pe=x[Se].key;_=(0,Fe.Z)(J,pe)}var Ae=_.key,Ue=_,ze=_.key,G=0,$e=0;if(!r.includes(Ae))for(var We=0;We<ue&&B(_);We+=1)_=_.parent,$e+=1;var c=m.props.data,D=_.node,S=!0;return ce(_)&&_.level===0&&i<k+L/2&&F({dragNode:c,dropNode:D,dropPosition:-1})&&_.key===b.props.eventKey?G=-1:(Ue.children||[]).length&&r.includes(ze)?F({dragNode:c,dropNode:D,dropPosition:0})?G=0:S=!1:$e===0?ue>-1.5?F({dragNode:c,dropNode:D,dropPosition:1})?G=1:S=!1:F({dragNode:c,dropNode:D,dropPosition:0})?G=0:F({dragNode:c,dropNode:D,dropPosition:1})?G=1:S=!1:F({dragNode:c,dropNode:D,dropPosition:1})?G=1:S=!1,{dropPosition:G,dropLevelOffset:$e,dropTargetKey:_.key,dropTargetPos:_.pos,dragOverNodeKey:ze,dropContainerKey:G===0?null:(($=_.parent)===null||$===void 0?void 0:$.key)||null,dropAllowed:S}}function O(o,m){if(o){var b=m.multiple;return b?o.slice():o.length?[o[0]]:o}}var Ke=function(m){return m};function oe(o,m){if(!o)return[];var b=m||{},T=b.processProps,M=T===void 0?Ke:T,F=Array.isArray(o)?o:[o];return F.map(function(x){var J=x.children,r=_objectWithoutProperties(x,be),w=oe(J,m);return React.createElement(TreeNode,_extends({key:r.key},M(r)),w)})}function he(o){if(!o)return null;var m;if(Array.isArray(o))m={checkedKeys:o,halfCheckedKeys:void 0};else if((0,j.Z)(o)==="object")m={checkedKeys:o.checked||void 0,halfCheckedKeys:o.halfChecked||void 0};else return(0,Pe.ZP)(!1,"`checkedKeys` is not an array or an object"),null;return m}function q(o,m){var b=new Set;function T(M){if(!b.has(M)){var F=(0,Fe.Z)(m,M);if(F){b.add(M);var x=F.parent,J=F.node;J.disabled||x&&T(x.key)}}}return(o||[]).forEach(function(M){T(M)}),(0,me.Z)(b)}},80085:function(vt,we,v){v.d(we,{S:function(){return p}});var me=v(11253),j=v(31212);function Pe(be,ke){var ve=new Set;return be.forEach(function(te){ke.has(te)||ve.add(te)}),ve}function ne(be){var ke=be||{},ve=ke.disabled,te=ke.disableCheckbox,ae=ke.checkable;return!!(ve||te)||ae===!1}function De(be,ke,ve,te){for(var ae=new Set(be),B=new Set,ce=0;ce<=ve;ce+=1){var Ee=ke.get(ce)||new Set;Ee.forEach(function(he){var q=he.key,o=he.node,m=he.children,b=m===void 0?[]:m;ae.has(q)&&!te(o)&&b.filter(function(T){return!te(T.node)}).forEach(function(T){ae.add(T.key)})})}for(var O=new Set,Ke=ve;Ke>=0;Ke-=1){var oe=ke.get(Ke)||new Set;oe.forEach(function(he){var q=he.parent,o=he.node;if(!(te(o)||!he.parent||O.has(he.parent.key))){if(te(he.parent.node)){O.add(q.key);return}var m=!0,b=!1;(q.children||[]).filter(function(T){return!te(T.node)}).forEach(function(T){var M=T.key,F=ae.has(M);m&&!F&&(m=!1),!b&&(F||B.has(M))&&(b=!0)}),m&&ae.add(q.key),b&&B.add(q.key),O.add(q.key)}})}return{checkedKeys:Array.from(ae),halfCheckedKeys:Array.from(Pe(B,ae))}}function Fe(be,ke,ve,te,ae){for(var B=new Set(be),ce=new Set(ke),Ee=0;Ee<=te;Ee+=1){var O=ve.get(Ee)||new Set;O.forEach(function(q){var o=q.key,m=q.node,b=q.children,T=b===void 0?[]:b;!B.has(o)&&!ce.has(o)&&!ae(m)&&T.filter(function(M){return!ae(M.node)}).forEach(function(M){B.delete(M.key)})})}ce=new Set;for(var Ke=new Set,oe=te;oe>=0;oe-=1){var he=ve.get(oe)||new Set;he.forEach(function(q){var o=q.parent,m=q.node;if(!(ae(m)||!q.parent||Ke.has(q.parent.key))){if(ae(q.parent.node)){Ke.add(o.key);return}var b=!0,T=!1;(o.children||[]).filter(function(M){return!ae(M.node)}).forEach(function(M){var F=M.key,x=B.has(F);b&&!x&&(b=!1),!T&&(x||ce.has(F))&&(T=!0)}),b||B.delete(o.key),T&&ce.add(o.key),Ke.add(o.key)}})}return{checkedKeys:Array.from(B),halfCheckedKeys:Array.from(Pe(ce,B))}}function p(be,ke,ve,te){var ae=[],B;te?B=te:B=ne;var ce=new Set(be.filter(function(oe){var he=!!(0,j.Z)(ve,oe);return he||ae.push(oe),he})),Ee=new Map,O=0;Object.keys(ve).forEach(function(oe){var he=ve[oe],q=he.level,o=Ee.get(q);o||(o=new Set,Ee.set(q,o)),o.add(he),O=Math.max(O,q)}),(0,me.ZP)(!ae.length,"Tree missing follow keys: ".concat(ae.slice(0,100).map(function(oe){return"'".concat(oe,"'")}).join(", ")));var Ke;return ke===!0?Ke=De(ce,Ee,O,B):Ke=Fe(ce,ke.halfCheckedKeys,Ee,O,B),Ke}},31212:function(vt,we,v){v.d(we,{Z:function(){return me}});function me(j,Pe){return j[Pe]}},16318:function(vt,we,v){v.d(we,{F:function(){return q},H8:function(){return he},I8:function(){return oe},km:function(){return ae},oH:function(){return O},w$:function(){return B},zn:function(){return Ee}});var me=v(26188),j=v(2709),Pe=v(92650),ne=v(15705),De=v(51026),Fe=v(54331),p=v(11253),be=v(31212),ke=["children"];function ve(o,m){return"".concat(o,"-").concat(m)}function te(o){return o&&o.type&&o.type.isTreeNode}function ae(o,m){return o!=null?o:m}function B(o){var m=o||{},b=m.title,T=m._title,M=m.key,F=m.children,x=b||"title";return{title:x,_title:T||[x],key:M||"key",children:F||"children"}}function ce(o,m){var b=new Map;function T(M){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(M||[]).forEach(function(x){var J=x[m.key],r=x[m.children];warning(J!=null,"Tree node must have a certain key: [".concat(F).concat(J,"]"));var w=String(J);warning(!b.has(w)||J===null||J===void 0,"Same 'key' exist in the Tree: ".concat(w)),b.set(w,!0),T(r,"".concat(F).concat(w," > "))})}T(o)}function Ee(o){function m(b){var T=(0,De.Z)(b);return T.map(function(M){if(!te(M))return(0,p.ZP)(!M,"Tree/TreeNode can only accept TreeNode as children."),null;var F=M.key,x=M.props,J=x.children,r=(0,ne.Z)(x,ke),w=(0,Pe.Z)({key:F},r),$=m(J);return $.length&&(w.children=$),w}).filter(function(M){return M})}return m(o)}function O(o,m,b){var T=B(b),M=T._title,F=T.key,x=T.children,J=new Set(m===!0?[]:m),r=[];function w($){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return $.map(function(i,l){for(var k=ve(ee?ee.pos:"0",l),L=ae(i[F],k),U,ue=0;ue<M.length;ue+=1){var _=M[ue];if(i[_]!==void 0){U=i[_];break}}var ie=(0,Pe.Z)((0,Pe.Z)({},(0,Fe.Z)(i,[].concat((0,j.Z)(M),[F,x]))),{},{title:U,key:L,parent:ee,pos:k,children:null,data:i,isStart:[].concat((0,j.Z)(ee?ee.isStart:[]),[l===0]),isEnd:[].concat((0,j.Z)(ee?ee.isEnd:[]),[l===$.length-1])});return r.push(ie),m===!0||J.has(L)?ie.children=w(i[x]||[],ie):ie.children=[],ie})}return w(o),r}function Ke(o,m,b){var T={};(0,me.Z)(b)==="object"?T=b:T={externalGetKey:b},T=T||{};var M=T,F=M.childrenPropName,x=M.externalGetKey,J=M.fieldNames,r=B(J),w=r.key,$=r.children,ee=F||$,i;x?typeof x=="string"?i=function(L){return L[x]}:typeof x=="function"&&(i=function(L){return x(L)}):i=function(L,U){return ae(L[w],U)};function l(k,L,U,ue){var _=k?k[ee]:o,ie=k?ve(U.pos,L):"0",Se=k?[].concat((0,j.Z)(ue),[k]):[];if(k){var pe=i(k,ie),Ae={node:k,index:L,pos:ie,key:pe,parentPos:U.node?U.pos:null,level:U.level+1,nodes:Se};m(Ae)}_&&_.forEach(function(Ue,ze){l(Ue,ze,{node:k,pos:ie,level:U?U.level+1:-1},Se)})}l(null)}function oe(o){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=m.initWrapper,T=m.processEntity,M=m.onProcessFinished,F=m.externalGetKey,x=m.childrenPropName,J=m.fieldNames,r=arguments.length>2?arguments[2]:void 0,w=F||r,$={},ee={},i={posEntities:$,keyEntities:ee};return b&&(i=b(i)||i),Ke(o,function(l){var k=l.node,L=l.index,U=l.pos,ue=l.key,_=l.parentPos,ie=l.level,Se=l.nodes,pe={node:k,nodes:Se,index:L,key:ue,pos:U,level:ie},Ae=ae(ue,U);$[U]=pe,ee[Ae]=pe,pe.parent=$[_],pe.parent&&(pe.parent.children=pe.parent.children||[],pe.parent.children.push(pe)),T&&T(pe,i)},{externalGetKey:w,childrenPropName:x,fieldNames:J}),M&&M(i),i}function he(o,m){var b=m.expandedKeys,T=m.selectedKeys,M=m.loadedKeys,F=m.loadingKeys,x=m.checkedKeys,J=m.halfCheckedKeys,r=m.dragOverNodeKey,w=m.dropPosition,$=m.keyEntities,ee=(0,be.Z)($,o),i={eventKey:o,expanded:b.indexOf(o)!==-1,selected:T.indexOf(o)!==-1,loaded:M.indexOf(o)!==-1,loading:F.indexOf(o)!==-1,checked:x.indexOf(o)!==-1,halfChecked:J.indexOf(o)!==-1,pos:String(ee?ee.pos:""),dragOver:r===o&&w===0,dragOverGapTop:r===o&&w===-1,dragOverGapBottom:r===o&&w===1};return i}function q(o){var m=o.data,b=o.expanded,T=o.selected,M=o.checked,F=o.loaded,x=o.loading,J=o.halfChecked,r=o.dragOver,w=o.dragOverGapTop,$=o.dragOverGapBottom,ee=o.pos,i=o.active,l=o.eventKey,k=(0,Pe.Z)((0,Pe.Z)({},m),{},{expanded:b,selected:T,checked:M,loaded:F,loading:x,halfChecked:J,dragOver:r,dragOverGapTop:w,dragOverGapBottom:$,pos:ee,active:i,key:l});return"props"in k||Object.defineProperty(k,"props",{get:function(){return(0,p.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),o}}),k}},87684:function(vt,we,v){v.d(we,{Z:function(){return We}});var me=v(28957),j=v(92650),Pe=v(26188),ne=v(25762),De=v(50689),Fe=v(15705),p=v(50959),be=v(10422),ke=v(84875),ve=v.n(ke),te=v(87040),ae=p.forwardRef(function(c,D){var S=c.height,P=c.offsetY,d=c.offsetX,h=c.children,E=c.prefixCls,e=c.onInnerResize,f=c.innerProps,R=c.rtl,K=c.extra,t={},a={display:"flex",flexDirection:"column"};if(P!==void 0){var n;t={height:S,position:"relative",overflow:"hidden"},a=(0,j.Z)((0,j.Z)({},a),{},(n={transform:"translateY(".concat(P,"px)")},(0,De.Z)(n,R?"marginRight":"marginLeft",-d),(0,De.Z)(n,"position","absolute"),(0,De.Z)(n,"left",0),(0,De.Z)(n,"right",0),(0,De.Z)(n,"top",0),n))}return p.createElement("div",{style:t},p.createElement(te.Z,{onResize:function(u){var g=u.offsetHeight;g&&e&&e()}},p.createElement("div",(0,me.Z)({style:a,className:ve()((0,De.Z)({},"".concat(E,"-holder-inner"),E)),ref:D},f),h,K)))});ae.displayName="Filler";var B=ae,ce=v(51537);function Ee(c,D){var S="touches"in c?c.touches[0]:c;return S[D?"pageX":"pageY"]}var O=p.forwardRef(function(c,D){var S,P=c.prefixCls,d=c.rtl,h=c.scrollOffset,E=c.scrollRange,e=c.onStartMove,f=c.onStopMove,R=c.onScroll,K=c.horizontal,t=c.spinSize,a=c.containerSize,n=p.useState(!1),s=(0,ne.Z)(n,2),u=s[0],g=s[1],C=p.useState(null),N=(0,ne.Z)(C,2),I=N[0],A=N[1],y=p.useState(null),z=(0,ne.Z)(y,2),H=z[0],Z=z[1],W=!d,Y=p.useRef(),fe=p.useRef(),X=p.useState(!1),re=(0,ne.Z)(X,2),xe=re[0],ye=re[1],de=p.useRef(),se=function(){clearTimeout(de.current),ye(!0),de.current=setTimeout(function(){ye(!1)},3e3)},Re=E-a||0,Ze=a-t||0,Be=Re>0,Ce=p.useMemo(function(){if(h===0||Re===0)return 0;var Oe=h/Re;return Oe*Ze},[h,Re,Ze]),He=function(Ne){Ne.stopPropagation(),Ne.preventDefault()},Qe=p.useRef({top:Ce,dragging:u,pageY:I,startTop:H});Qe.current={top:Ce,dragging:u,pageY:I,startTop:H};var _e=function(Ne){g(!0),A(Ee(Ne,K)),Z(Qe.current.top),e(),Ne.stopPropagation(),Ne.preventDefault()};p.useEffect(function(){var Oe=function(nt){nt.preventDefault()},Ne=Y.current,Ye=fe.current;return Ne.addEventListener("touchstart",Oe),Ye.addEventListener("touchstart",_e),function(){Ne.removeEventListener("touchstart",Oe),Ye.removeEventListener("touchstart",_e)}},[]);var it=p.useRef();it.current=Re;var tt=p.useRef();tt.current=Ze,p.useEffect(function(){if(u){var Oe,Ne=function(nt){var Xe=Qe.current,mt=Xe.dragging,ht=Xe.pageY,dt=Xe.startTop;if(ce.Z.cancel(Oe),mt){var pt=Ee(nt,K)-ht,st=dt;!W&&K?st-=pt:st+=pt;var qe=it.current,gt=tt.current,et=gt?st/gt:0,je=Math.ceil(et*qe);je=Math.max(je,0),je=Math.min(je,qe),Oe=(0,ce.Z)(function(){R(je,K)})}},Ye=function(){g(!1),f()};return window.addEventListener("mousemove",Ne),window.addEventListener("touchmove",Ne),window.addEventListener("mouseup",Ye),window.addEventListener("touchend",Ye),function(){window.removeEventListener("mousemove",Ne),window.removeEventListener("touchmove",Ne),window.removeEventListener("mouseup",Ye),window.removeEventListener("touchend",Ye),ce.Z.cancel(Oe)}}},[u]),p.useEffect(function(){se()},[h]),p.useImperativeHandle(D,function(){return{delayHidden:se}});var Ge="".concat(P,"-scrollbar"),Me={position:"absolute",visibility:xe&&Be?null:"hidden"},Te={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return K?(Me.height=8,Me.left=0,Me.right=0,Me.bottom=0,Te.height="100%",Te.width=t,W?Te.left=Ce:Te.right=Ce):(Me.width=8,Me.top=0,Me.bottom=0,W?Me.right=0:Me.left=0,Te.width="100%",Te.height=t,Te.top=Ce),p.createElement("div",{ref:Y,className:ve()(Ge,(S={},(0,De.Z)(S,"".concat(Ge,"-horizontal"),K),(0,De.Z)(S,"".concat(Ge,"-vertical"),!K),(0,De.Z)(S,"".concat(Ge,"-visible"),xe),S)),style:Me,onMouseDown:He,onMouseMove:se},p.createElement("div",{ref:fe,className:ve()("".concat(Ge,"-thumb"),(0,De.Z)({},"".concat(Ge,"-thumb-moving"),u)),style:Te,onMouseDown:_e}))}),Ke=O;function oe(c){var D=c.children,S=c.setRef,P=p.useCallback(function(d){S(d)},[]);return p.cloneElement(D,{ref:P})}function he(c,D,S,P,d,h,E){var e=E.getKey;return c.slice(D,S+1).map(function(f,R){var K=D+R,t=h(f,K,{style:{width:P}}),a=e(f);return p.createElement(oe,{key:a,setRef:function(s){return d(f,s)}},t)})}var q=v(7821),o=v(494),m=v(38073),b=function(){function c(){(0,o.Z)(this,c),this.maps=void 0,this.id=0,this.maps=Object.create(null)}return(0,m.Z)(c,[{key:"set",value:function(S,P){this.maps[S]=P,this.id+=1}},{key:"get",value:function(S){return this.maps[S]}}]),c}(),T=b;function M(c,D,S){var P=p.useState(0),d=(0,ne.Z)(P,2),h=d[0],E=d[1],e=(0,p.useRef)(new Map),f=(0,p.useRef)(new T),R=(0,p.useRef)();function K(){ce.Z.cancel(R.current)}function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;K();var s=function(){e.current.forEach(function(g,C){if(g&&g.offsetParent){var N=(0,q.Z)(g),I=N.offsetHeight;f.current.get(C)!==I&&f.current.set(C,N.offsetHeight)}}),E(function(g){return g+1})};n?s():R.current=(0,ce.Z)(s)}function a(n,s){var u=c(n),g=e.current.get(u);s?(e.current.set(u,s),t()):e.current.delete(u),!g!=!s&&(s?D==null||D(n):S==null||S(n))}return(0,p.useEffect)(function(){return K},[]),[a,t,f.current,h]}var F=v(12334),x=v(5353),J=10;function r(c,D,S,P,d,h,E,e){var f=p.useRef(),R=p.useState(null),K=(0,ne.Z)(R,2),t=K[0],a=K[1];return(0,F.Z)(function(){if(t&&t.times<J){if(!c.current){a(function(Ze){return(0,j.Z)({},Ze)});return}h();var n=t.targetAlign,s=t.originAlign,u=t.index,g=t.offset,C=c.current.clientHeight,N=!1,I=n,A=null;if(C){for(var y=n||s,z=0,H=0,Z=0,W=Math.min(D.length-1,u),Y=0;Y<=W;Y+=1){var fe=d(D[Y]);H=z;var X=S.get(fe);Z=H+(X===void 0?P:X),z=Z}for(var re=y==="top"?g:C-g,xe=W;xe>=0;xe-=1){var ye=d(D[xe]),de=S.get(ye);if(de===void 0){N=!0;break}if(re-=de,re<=0)break}switch(y){case"top":A=H-g;break;case"bottom":A=Z-C+g;break;default:{var se=c.current.scrollTop,Re=se+C;H<se?I="top":Z>Re&&(I="bottom")}}A!==null&&E(A),A!==t.lastTop&&(N=!0)}N&&a(function(Ze){return(0,j.Z)((0,j.Z)({},Ze),{},{times:Ze.times+1,targetAlign:I,lastTop:A})})}},[t,c.current]),function(n){if(n==null){e();return}if(ce.Z.cancel(f.current),typeof n=="number")E(n);else if(n&&(0,Pe.Z)(n)==="object"){var s,u=n.align;"index"in n?s=n.index:s=D.findIndex(function(N){return d(N)===n.key});var g=n.offset,C=g===void 0?0:g;a({times:0,index:s,offset:C,originAlign:u})}}}function w(c,D,S,P){var d=S-c,h=D-S,E=Math.min(d,h)*2;if(P<=E){var e=Math.floor(P/2);return P%2?S+e+1:S-e}return d>h?S-(P-h):S+(P-d)}function $(c,D,S){var P=c.length,d=D.length,h,E;if(P===0&&d===0)return null;P<d?(h=c,E=D):(h=D,E=c);var e={__EMPTY_ITEM__:!0};function f(s){return s!==void 0?S(s):e}for(var R=null,K=Math.abs(P-d)!==1,t=0;t<E.length;t+=1){var a=f(h[t]),n=f(E[t]);if(a!==n){R=t,K=K||a!==f(E[t+1]);break}}return R===null?null:{index:R,multiple:K}}function ee(c,D,S){var P=p.useState(c),d=(0,ne.Z)(P,2),h=d[0],E=d[1],e=p.useState(null),f=(0,ne.Z)(e,2),R=f[0],K=f[1];return p.useEffect(function(){var t=$(h||[],c||[],D);(t==null?void 0:t.index)!==void 0&&(S==null||S(t.index),K(c[t.index])),E(c)},[c]),[R]}var i=(typeof navigator=="undefined"?"undefined":(0,Pe.Z)(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),l=i,k=function(c,D){var S=(0,p.useRef)(!1),P=(0,p.useRef)(null);function d(){clearTimeout(P.current),S.current=!0,P.current=setTimeout(function(){S.current=!1},50)}var h=(0,p.useRef)({top:c,bottom:D});return h.current.top=c,h.current.bottom=D,function(E){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=E<0&&h.current.top||E>0&&h.current.bottom;return e&&f?(clearTimeout(P.current),S.current=!1):(!f||S.current)&&d(),!S.current&&f}};function L(c,D,S,P,d){var h=(0,p.useRef)(0),E=(0,p.useRef)(null),e=(0,p.useRef)(null),f=(0,p.useRef)(!1),R=k(D,S);function K(g,C){ce.Z.cancel(E.current),h.current+=C,e.current=C,!R(C)&&(l||g.preventDefault(),E.current=(0,ce.Z)(function(){var N=f.current?10:1;d(h.current*N),h.current=0}))}function t(g,C){d(C,!0),l||g.preventDefault()}var a=(0,p.useRef)(null),n=(0,p.useRef)(null);function s(g){if(c){ce.Z.cancel(n.current),n.current=(0,ce.Z)(function(){a.current=null},2);var C=g.deltaX,N=g.deltaY,I=g.shiftKey,A=C,y=N;(a.current==="sx"||!a.current&&I&&N&&!C)&&(A=N,y=0,a.current="sx");var z=Math.abs(A),H=Math.abs(y);a.current===null&&(a.current=P&&z>H?"x":"y"),a.current==="y"?K(g,y):t(g,A)}}function u(g){c&&(f.current=g.detail===e.current)}return[s,u]}var U=14/15;function ue(c,D,S){var P=(0,p.useRef)(!1),d=(0,p.useRef)(0),h=(0,p.useRef)(null),E=(0,p.useRef)(null),e,f=function(a){if(P.current){var n=Math.ceil(a.touches[0].pageY),s=d.current-n;d.current=n,S(s)&&a.preventDefault(),clearInterval(E.current),E.current=setInterval(function(){s*=U,(!S(s,!0)||Math.abs(s)<=.1)&&clearInterval(E.current)},16)}},R=function(){P.current=!1,e()},K=function(a){e(),a.touches.length===1&&!P.current&&(P.current=!0,d.current=Math.ceil(a.touches[0].pageY),h.current=a.target,h.current.addEventListener("touchmove",f),h.current.addEventListener("touchend",R))};e=function(){h.current&&(h.current.removeEventListener("touchmove",f),h.current.removeEventListener("touchend",R))},(0,F.Z)(function(){return c&&D.current.addEventListener("touchstart",K),function(){var t;(t=D.current)===null||t===void 0||t.removeEventListener("touchstart",K),e(),clearInterval(E.current)}},[c])}var _=20;function ie(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,S=c/D*100;return isNaN(S)&&(S=0),S=Math.max(S,_),S=Math.min(S,c/2),Math.floor(S)}function Se(c,D,S,P){var d=p.useMemo(function(){return[new Map,[]]},[c,S.id,P]),h=(0,ne.Z)(d,2),E=h[0],e=h[1],f=function(K){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K,a=E.get(K),n=E.get(t);if(a===void 0||n===void 0)for(var s=c.length,u=e.length;u<s;u+=1){var g,C=c[u],N=D(C);E.set(N,u);var I=(g=S.get(N))!==null&&g!==void 0?g:P;if(e[u]=(e[u-1]||0)+I,N===K&&(a=u),N===t&&(n=u),a!==void 0&&n!==void 0)break}return{top:e[a-1]||0,bottom:e[n]}};return f}var pe=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender"],Ae=[],Ue={overflowY:"auto",overflowAnchor:"none"};function ze(c,D){var S=c.prefixCls,P=S===void 0?"rc-virtual-list":S,d=c.className,h=c.height,E=c.itemHeight,e=c.fullHeight,f=e===void 0?!0:e,R=c.style,K=c.data,t=c.children,a=c.itemKey,n=c.virtual,s=c.direction,u=c.scrollWidth,g=c.component,C=g===void 0?"div":g,N=c.onScroll,I=c.onVirtualScroll,A=c.onVisibleChange,y=c.innerProps,z=c.extraRender,H=(0,Fe.Z)(c,pe),Z=!!(n!==!1&&h&&E),W=Z&&K&&(E*K.length>h||!!u),Y=s==="rtl",fe=ve()(P,(0,De.Z)({},"".concat(P,"-rtl"),Y),d),X=K||Ae,re=(0,p.useRef)(),xe=(0,p.useRef)(),ye=(0,p.useState)(0),de=(0,ne.Z)(ye,2),se=de[0],Re=de[1],Ze=(0,p.useState)(0),Be=(0,ne.Z)(Ze,2),Ce=Be[0],He=Be[1],Qe=(0,p.useState)(!1),_e=(0,ne.Z)(Qe,2),it=_e[0],tt=_e[1],Ge=function(){tt(!0)},Me=function(){tt(!1)},Te=p.useCallback(function(V){return typeof a=="function"?a(V):V==null?void 0:V[a]},[a]),Oe={getKey:Te};function Ne(V){Re(function(Q){var le;typeof V=="function"?le=V(Q):le=V;var Le=Ft(le);return re.current.scrollTop=Le,Le})}var Ye=(0,p.useRef)({start:0,end:X.length}),Ve=(0,p.useRef)(),nt=ee(X,Te),Xe=(0,ne.Z)(nt,1),mt=Xe[0];Ve.current=mt;var ht=M(Te,null,null),dt=(0,ne.Z)(ht,4),pt=dt[0],st=dt[1],qe=dt[2],gt=dt[3],et=p.useMemo(function(){if(!Z)return{scrollHeight:void 0,start:0,end:X.length-1,offset:void 0};if(!W){var V;return{scrollHeight:((V=xe.current)===null||V===void 0?void 0:V.offsetHeight)||0,start:0,end:X.length-1,offset:void 0}}for(var Q=0,le,Le,ft,Xt=X.length,Kt=0;Kt<Xt;Kt+=1){var Vt=X[Kt],Jt=Te(Vt),$t=qe.get(Jt),Mt=Q+($t===void 0?E:$t);Mt>=se&&le===void 0&&(le=Kt,Le=Q),Mt>se+h&&ft===void 0&&(ft=Kt),Q=Mt}return le===void 0&&(le=0,Le=0,ft=Math.ceil(h/E)),ft===void 0&&(ft=X.length-1),ft=Math.min(ft+1,X.length-1),{scrollHeight:Q,start:le,end:ft,offset:Le}},[W,Z,se,X,gt,h]),je=et.scrollHeight,lt=et.start,ge=et.end,Je=et.offset;Ye.current.start=lt,Ye.current.end=ge;var rt=p.useState({width:0,height:h}),at=(0,ne.Z)(rt,2),Ie=at[0],ot=at[1],yt=function(Q){ot(Q)},ct=(0,p.useRef)(),ut=(0,p.useRef)(),Pt=p.useMemo(function(){return ie(Ie.width,u)},[Ie.width,u]),Ht=p.useMemo(function(){return ie(Ie.height,je)},[Ie.height,je]),St=je-h,xt=(0,p.useRef)(St);xt.current=St;function Ft(V){var Q=V;return Number.isNaN(xt.current)||(Q=Math.min(Q,xt.current)),Q=Math.max(Q,0),Q}var Rt=se<=0,Zt=se>=St,Ut=k(Rt,Zt),Ct=function(){return{x:Y?-Ce:Ce,y:se}},Nt=(0,p.useRef)(Ct()),kt=(0,x.zX)(function(){if(I){var V=Ct();(Nt.current.x!==V.x||Nt.current.y!==V.y)&&(I(V),Nt.current=V)}});function Tt(V,Q){var le=V;Q?((0,be.flushSync)(function(){He(le)}),kt()):Ne(le)}function zt(V){var Q=V.currentTarget.scrollTop;Q!==se&&Ne(Q),N==null||N(V),kt()}var Dt=function(Q){var le=Q,Le=u-Ie.width;return le=Math.max(le,0),le=Math.min(le,Le),le},Wt=(0,x.zX)(function(V,Q){Q?((0,be.flushSync)(function(){He(function(le){var Le=le+(Y?-V:V);return Dt(Le)})}),kt()):Ne(function(le){var Le=le+V;return Le})}),Bt=L(Z,Rt,Zt,!!u,Wt),Ot=(0,ne.Z)(Bt,2),bt=Ot[0],Lt=Ot[1];ue(Z,re,function(V,Q){return Ut(V,Q)?!1:(bt({preventDefault:function(){},deltaY:V}),!0)}),(0,F.Z)(function(){function V(le){Z&&le.preventDefault()}var Q=re.current;return Q.addEventListener("wheel",bt),Q.addEventListener("DOMMouseScroll",Lt),Q.addEventListener("MozMousePixelScroll",V),function(){Q.removeEventListener("wheel",bt),Q.removeEventListener("DOMMouseScroll",Lt),Q.removeEventListener("MozMousePixelScroll",V)}},[Z]),(0,F.Z)(function(){u&&He(function(V){return Dt(V)})},[Ie.width,u]);var It=function(){var Q,le;(Q=ct.current)===null||Q===void 0||Q.delayHidden(),(le=ut.current)===null||le===void 0||le.delayHidden()},wt=r(re,X,qe,E,Te,function(){return st(!0)},Ne,It);p.useImperativeHandle(D,function(){return{getScrollInfo:Ct,scrollTo:function(Q){function le(Le){return Le&&(0,Pe.Z)(Le)==="object"&&("left"in Le||"top"in Le)}le(Q)?(Q.left!==void 0&&He(Dt(Q.left)),wt(Q.top)):wt(Q)}}}),(0,F.Z)(function(){if(A){var V=X.slice(lt,ge+1);A(V,X)}},[lt,ge,X]);var Gt=Se(X,Te,qe,E),Yt=z==null?void 0:z({start:lt,end:ge,virtual:W,offsetX:Ce,offsetY:Je,rtl:Y,getSize:Gt}),jt=he(X,lt,ge,u,pt,t,Oe),Et=null;h&&(Et=(0,j.Z)((0,De.Z)({},f?"height":"maxHeight",h),Ue),Z&&(Et.overflowY="hidden",u&&(Et.overflowX="hidden"),it&&(Et.pointerEvents="none")));var At={};return Y&&(At.dir="rtl"),p.createElement("div",(0,me.Z)({style:(0,j.Z)((0,j.Z)({},R),{},{position:"relative"}),className:fe},At,H),p.createElement(te.Z,{onResize:yt},p.createElement(C,{className:"".concat(P,"-holder"),style:Et,ref:re,onScroll:zt,onMouseEnter:It},p.createElement(B,{prefixCls:P,height:je,offsetX:Ce,offsetY:Je,scrollWidth:u,onInnerResize:st,ref:xe,innerProps:y,rtl:Y,extra:Yt},jt))),W&&je>h&&p.createElement(Ke,{ref:ct,prefixCls:P,scrollOffset:se,scrollRange:je,rtl:Y,onScroll:Tt,onStartMove:Ge,onStopMove:Me,spinSize:Ht,containerSize:Ie.height}),W&&u&&p.createElement(Ke,{ref:ut,prefixCls:P,scrollOffset:Ce,scrollRange:u,rtl:Y,onScroll:Tt,onStartMove:Ge,onStopMove:Me,spinSize:Pt,containerSize:Ie.width,horizontal:!0}))}var G=p.forwardRef(ze);G.displayName="List";var $e=G,We=$e}}]);
