!(function(){var _a=Object.defineProperty,wa=Object.defineProperties;var va=Object.getOwnPropertyDescriptors;var Vc=Object.getOwnPropertySymbols;var ba=Object.prototype.hasOwnProperty,Sa=Object.prototype.propertyIsEnumerable;var Fc=(k,M,v)=>M in k?_a(k,M,{enumerable:!0,configurable:!0,writable:!0,value:v}):k[M]=v,Qr=(k,M)=>{for(var v in M||(M={}))ba.call(M,v)&&Fc(k,v,M[v]);if(Vc)for(var v of Vc(M))Sa.call(M,v)&&Fc(k,v,M[v]);return k},di=(k,M)=>wa(k,va(M));(self.webpackChunk_ant_design_pro_flow=self.webpackChunk_ant_design_pro_flow||[]).push([[5001],{20081:function(k,M,v){"use strict";v.d(M,{Z:function(){return Gt}});var b=v(35194),R=v(50446),E=v(83110),V=v(28426),I=v(31080),F=v(86910),N=v(38330),Y,nt,Ut,tt=(0,N.kc)(function(Nt,at){var ot=Nt.token,lt=Nt.css,Zt=Nt.cx,Mt=Nt.prefixCls,Yt=at.size,Qt=at.className,qt="".concat(Mt,"-").concat(ot.editorPrefix,"-icon"),jt=typeof Yt=="number"?lt(Y||(Y=(0,F.Z)([`
          width: `,`px !important;
          height: `,`px !important;
        `])),Yt,Yt):"",Wt=lt(nt||(nt=(0,F.Z)([`
    display: flex;
    align-items: center;
    justify-content: center;

    &:hover {
      color: `,` !important;
    }

    &:active {
      scale: 0.8;
      color: `,`;
    }

    transition: color 600ms `,", scale 400ms ",`,
      background-color 100ms `,`;
  `])),ot.colorText,ot.colorText,ot.motionEaseOut,ot.motionEaseOut,ot.motionEaseOut);return{container:Zt(qt,Wt,jt,Qt),tooltip:lt(Ut||(Ut=(0,F.Z)([`
      pointer-events: none;
    `])))}}),$=v(11527),mt=["placement","title","icon","cursor","onClick","className","arrow","size","tooltipDelay"],St=function(at){var ot=at.placement,lt=at.title,Zt=at.icon,Mt=at.cursor,Yt=at.onClick,Qt=at.className,qt=at.arrow,jt=qt===void 0?!1:qt,Wt=at.size,bt=Wt===void 0?"default":Wt,$t=at.tooltipDelay,Dt=$t===void 0?.5:$t,rt=(0,R.Z)(at,mt),yt=tt({size:bt}),Ft=yt.styles,te=yt.cx,Kt=(0,$.jsx)(E.ZP,(0,b.Z)((0,b.Z)({icon:Zt,className:te(Ft.container,Qt),type:"text",style:{cursor:Mt},size:typeof bt=="number"||bt==="default"?"middle":bt},rt),{},{onClick:Yt}));return(0,$.jsx)($.Fragment,{children:lt?(0,$.jsx)(V.Z,{arrow:jt,overlayClassName:Ft.tooltip,title:lt,mouseEnterDelay:Dt,placement:ot,children:Kt}):Kt})},Ct=function(at){var ot=at||{},lt=ot.size,Zt=tt({size:lt}),Mt=Zt.theme;return(0,$.jsx)(I.iV,{componentToken:{Button:{colorText:Mt.colorTextTertiary,colorBgTextHover:Mt.colorFillSecondary,colorBgTextActive:Mt.colorFill}},children:(0,$.jsx)(St,(0,b.Z)({},at))})},Gt=Ct},31080:function(k,M,v){"use strict";v.d(M,{iV:function(){return Wt}});var b=v(35194),R=v(60909),E=v(53130),V=v(62890),I=v(84138),F=function(Dt,rt){var yt=I.Z.darkAlgorithm(Dt,rt);return(0,b.Z)((0,b.Z)({},yt),{},{colorBgLayout:"#20252b",colorBgContainer:"#282c34",colorBgElevated:"#32363e"})},N=function(Dt){var rt={algorithm:[I.Z.compactAlgorithm]};return Dt==="dark"&&rt.algorithm.push(F),rt},Y=v(38330),nt=function(){return{focusedOutlineColor:"#4c9ffe",colorTypeBoolean:"#D8C152",colorTypeNumber:"#5295C4",colorTypeString:"#149E6D",colorTypeBoolArray:"#D8C152",colorTypeNumberArray:"#239BEF",colorTypeStringArray:"#62AE8D"}},Ut=nt({}),tt=v(86910),$=v(79366),mt,St,Ct,Gt,Nt,at,ot,lt,Zt,Mt,Yt,Qt=function(Dt){var rt=Dt.token,yt=Dt.css,Ft=yt(mt||(mt=(0,tt.Z)([`
    cursor: pointer;
    transition: 150ms background-color ease-in-out;
    &:hover {
      background: `,`;
    }
  `])),rt.colorFillQuaternary),te=yt(St||(St=(0,tt.Z)([`
    color: `,`;
    background-color: `,`;
    border-color: transparent;
  `])),rt.colorText,rt.colorFillTertiary),Kt=yt(Ct||(Ct=(0,tt.Z)([`
    color: `,` !important;
    background-color: `,` !important;
    border-color: `,` !important;
    box-shadow: none;
  `])),rt.colorText,rt.colorFillQuaternary,rt.colorPrimary),ie=yt(Gt||(Gt=(0,tt.Z)([`
    color: `,`;
    background: `,`;
    border-color: transparent;
  `])),rt.colorTextSecondary,rt.colorFillQuaternary);return{defaultButton:yt(Nt||(Nt=(0,tt.Z)([`
      `,`;

      &:hover {
        color: `,` !important;
        background: `,` !important;
        border-color: transparent !important;
      }
      &:focus {
        `,`;
        border-color: `,` !important;
      }
    `])),ie,rt.colorText,rt.colorFillSecondary,ie,rt.colorPrimary),textInfo:yt(at||(at=(0,tt.Z)([`
      color: `,`;
      &:hover {
        color: `,`;
      }
    `])),rt.colorTextSecondary,rt.colorText),textDefault:yt(ot||(ot=(0,tt.Z)([`
      color: `,`;
    `])),rt.colorTextSecondary),containerBgHover:yt(lt||(lt=(0,tt.Z)([`
      cursor: pointer;
      transition: 150ms background-color ease-in-out;

      &:hover {
        background: `,`;
      }
    `])),rt.colorFillQuaternary),containerBgL2:yt(Zt||(Zt=(0,tt.Z)([`
      `,`;
      border-radius: 4px;
      background: `,`;

      &:hover {
        background: `,`;
      }
    `])),Ft,rt.colorFillQuaternary,rt.colorFillTertiary),controlContainerFocused:Kt,controlContainer:yt(Mt||(Mt=(0,tt.Z)([`
      &:hover {
        `,`
      }
      &:focus {
        `,`
      }
    `])),te,Kt),backgroundBlur:yt(Yt||(Yt=(0,tt.Z)([`
      background: `,`;
      backdrop-filter: blur(10px);
    `])),(0,$.DZ)(.4)(rt.colorBgElevated))}},qt=v(11527),jt=function(Dt){var rt=(0,E.S)(),yt=N(Dt),Ft={colorBgContainer:rt==null?void 0:rt.colorFillQuaternary,colorBorder:"transparent",controlOutline:"transparent"};return yt.components={Input:Ft,InputNumber:Ft,Select:Ft,Tree:{colorBgContainer:"transparent"},TreeSelect:Ft},yt},Wt=function(Dt){var rt=Dt.children,yt=Dt.componentToken,Ft=(0,V.r)(),te=Ft.appearance,Kt=Ft.themeMode,ie=jt(te);return ie.components=(0,b.Z)((0,b.Z)({},ie.components),yt),(0,qt.jsx)(R.ZP,{theme:ie,children:(0,qt.jsx)(Y.f6,{appearance:te,themeMode:Kt,theme:N,customToken:nt,customStylish:Qt,children:rt})})},bt=function(Dt){return function(rt){return _jsx(Wt,{children:_jsx(Dt,_objectSpread({},rt))})}}},38330:function(k,M,v){"use strict";v.d(M,{f6:function(){return V},kc:function(){return E}});var b=v(81448),R=(0,b.F)({customToken:{editorPrefix:"editor"}}),E=R.createStyles,V=R.ThemeProvider},82685:function(k,M,v){"use strict";var b=v(50959),R=v(9286),E=v(34196);function V(I){E.Z&&((0,R.mf)(I)||console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof I)));var F=(0,b.useRef)(I);F.current=(0,b.useMemo)(function(){return I},[I]);var N=(0,b.useRef)();return N.current||(N.current=function(){for(var Y=[],nt=0;nt<arguments.length;nt++)Y[nt]=arguments[nt];return F.current.apply(this,Y)}),N.current}M.Z=V},52514:function(k,M,v){"use strict";v.d(M,{Z:function(){return Hn}});var b=v(50959),R=v(82187),E=v.n(R),V=v(25765),I=v(27228),F=v(89741),Y=D=>{const{getPrefixCls:ct,direction:G}=(0,b.useContext)(V.E_),{prefixCls:P,className:K}=D,c=ct("input-group",P),d=ct("input"),[w,S]=(0,F.ZP)(d),A=E()(c,{[`${c}-lg`]:D.size==="large",[`${c}-sm`]:D.size==="small",[`${c}-compact`]:D.compact,[`${c}-rtl`]:G==="rtl"},S,K),z=(0,b.useContext)(I.aM),j=(0,b.useMemo)(()=>Object.assign(Object.assign({},z),{isFormItemInput:!1}),[z]);return w(b.createElement("span",{className:A,style:D.style,onMouseEnter:D.onMouseEnter,onMouseLeave:D.onMouseLeave,onFocus:D.onFocus,onBlur:D.onBlur},b.createElement(I.aM.Provider,{value:j},D.children)))},nt=v(11535),Ut=v(83288),tt=v(45680),$=v(50361),mt=v(18900),St=v(28041),Ct=v(92881),Gt=v(26653),Nt=v(51540),at=v(53786);const ot=D=>{const{componentCls:ct,paddingXS:G}=D;return{[`${ct}`]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:G,"&-rtl":{direction:"rtl"},[`${ct}-input`]:{textAlign:"center",paddingInline:D.paddingXXS},[`&${ct}-sm ${ct}-input`]:{paddingInline:D.calc(D.paddingXXS).div(2).equal()},[`&${ct}-lg ${ct}-input`]:{paddingInline:D.paddingXS}}}};var lt=(0,Gt.I$)(["Input","OTP"],D=>{const ct=(0,Nt.TS)(D,(0,at.e)(D));return[ot(ct)]},at.T),Zt=v(79512),Mt=function(D,ct){var G={};for(var P in D)Object.prototype.hasOwnProperty.call(D,P)&&ct.indexOf(P)<0&&(G[P]=D[P]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function")for(var K=0,P=Object.getOwnPropertySymbols(D);K<P.length;K++)ct.indexOf(P[K])<0&&Object.prototype.propertyIsEnumerable.call(D,P[K])&&(G[P[K]]=D[P[K]]);return G},Qt=b.forwardRef((D,ct)=>{const{value:G,onChange:P,onActiveChange:K,index:c}=D,d=Mt(D,["value","onChange","onActiveChange","index"]),w=B=>{P(c,B.target.value)},S=b.useRef(null);b.useImperativeHandle(ct,()=>S.current);const A=()=>{(0,Zt.Z)(()=>{var B;const C=(B=S.current)===null||B===void 0?void 0:B.input;document.activeElement===C&&C&&C.select()})},z=B=>{let{key:C}=B;C==="ArrowLeft"?K(c-1):C==="ArrowRight"&&K(c+1),A()},j=B=>{B.key==="Backspace"&&!G&&K(c-1),A()};return b.createElement(nt.Z,Object.assign({},d,{ref:S,value:G,onInput:w,onFocus:A,onKeyDown:z,onKeyUp:j,onMouseDown:A,onMouseUp:A}))}),qt=function(D,ct){var G={};for(var P in D)Object.prototype.hasOwnProperty.call(D,P)&&ct.indexOf(P)<0&&(G[P]=D[P]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function")for(var K=0,P=Object.getOwnPropertySymbols(D);K<P.length;K++)ct.indexOf(P[K])<0&&Object.prototype.propertyIsEnumerable.call(D,P[K])&&(G[P[K]]=D[P[K]]);return G};function jt(D){return D.split("")}var bt=b.forwardRef((D,ct)=>{const{prefixCls:G,length:P=6,size:K,defaultValue:c,value:d,onChange:w,formatter:S,variant:A,disabled:z,status:j,autoFocus:B}=D,C=qt(D,["prefixCls","length","size","defaultValue","value","onChange","formatter","variant","disabled","status","autoFocus"]),{getPrefixCls:O,direction:et}=b.useContext(V.E_),_t=O("otp",G),H=(0,$.Z)(C,{aria:!0,data:!0,attr:!0}),gt=(0,St.Z)(_t),[Q,ft,Et]=lt(_t,gt),st=(0,Ct.Z)(L=>K!=null?K:L),it=b.useContext(I.aM),Z=(0,mt.F)(it.status,j),q=b.useMemo(()=>Object.assign(Object.assign({},it),{status:Z,hasFeedback:!1,feedbackIcon:null}),[it,Z]),zt=b.useRef(null),Rt=b.useRef({});b.useImperativeHandle(ct,()=>({focus:()=>{var L;(L=Rt.current[0])===null||L===void 0||L.focus()},blur:()=>{var L;for(let J=0;J<P;J+=1)(L=Rt.current[J])===null||L===void 0||L.blur()},nativeElement:zt.current}));const Lt=L=>S?S(L):L,[Ve,Se]=b.useState(jt(Lt(c||"")));b.useEffect(()=>{d&&Se(jt(d))},[d]);const pe=(0,tt.zX)(L=>{Se(L),w&&L.length===P&&L.every(J=>J)&&L.some((J,ht)=>Ve[ht]!==J)&&w(L.join(""))}),sn=(0,tt.zX)((L,J)=>{let ht=(0,Ut.Z)(Ve);for(let At=0;At<L;At+=1)ht[At]||(ht[At]="");J.length<=1?ht[L]=J:ht=ht.slice(0,L).concat(jt(J)),ht=ht.slice(0,P);for(let At=ht.length-1;At>=0&&!ht[At];At-=1)ht.pop();const Ge=Lt(ht.map(At=>At||" ").join(""));return ht=jt(Ge).map((At,Gn)=>At===" "&&!ht[Gn]?ht[Gn]:At),ht}),_n=(L,J)=>{var ht;const Ge=sn(L,J),At=Math.min(L+J.length,P-1);At!==L&&((ht=Rt.current[At])===null||ht===void 0||ht.focus()),pe(Ge)},wn=L=>{var J;(J=Rt.current[L])===null||J===void 0||J.focus()},Ce={variant:A,disabled:z,status:Z};return Q(b.createElement("div",Object.assign({},H,{ref:zt,className:E()(_t,{[`${_t}-sm`]:st==="small",[`${_t}-lg`]:st==="large",[`${_t}-rtl`]:et==="rtl"},Et,ft)}),b.createElement(I.aM.Provider,{value:q},new Array(P).fill(0).map((L,J)=>{const ht=`otp-${J}`,Ge=Ve[J]||"";return b.createElement(Qt,Object.assign({ref:At=>{Rt.current[J]=At},key:ht,index:J,size:st,htmlSize:1,className:`${_t}-input`,onChange:_n,value:Ge,onActiveChange:wn,autoFocus:J===0&&B},Ce))}))))}),$t=v(91010),Dt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},rt=Dt,yt=v(82017),Ft=function(ct,G){return b.createElement(yt.Z,(0,$t.Z)({},ct,{ref:G,icon:rt}))},te=b.forwardRef(Ft),Kt=te,ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},ve=ie,Ae=function(ct,G){return b.createElement(yt.Z,(0,$t.Z)({},ct,{ref:G,icon:ve}))},ne=b.forwardRef(Ae),mn=ne,Ze=v(36760),be=v(78404),$e=v(80083),rn=function(D,ct){var G={};for(var P in D)Object.prototype.hasOwnProperty.call(D,P)&&ct.indexOf(P)<0&&(G[P]=D[P]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function")for(var K=0,P=Object.getOwnPropertySymbols(D);K<P.length;K++)ct.indexOf(P[K])<0&&Object.prototype.propertyIsEnumerable.call(D,P[K])&&(G[P[K]]=D[P[K]]);return G};const Ne=D=>D?b.createElement(mn,null):b.createElement(Kt,null),ee={click:"onClick",hover:"onMouseOver"};var Re=b.forwardRef((D,ct)=>{const{visibilityToggle:G=!0}=D,P=typeof G=="object"&&G.visible!==void 0,[K,c]=(0,b.useState)(()=>P?G.visible:!1),d=(0,b.useRef)(null);b.useEffect(()=>{P&&c(G.visible)},[P,G]);const w=(0,$e.Z)(d),S=()=>{const{disabled:Et}=D;Et||(K&&w(),c(st=>{var it;const Z=!st;return typeof G=="object"&&((it=G.onVisibleChange)===null||it===void 0||it.call(G,Z)),Z}))},A=Et=>{const{action:st="click",iconRender:it=Ne}=D,Z=ee[st]||"",q=it(K),zt={[Z]:S,className:`${Et}-icon`,key:"passwordIcon",onMouseDown:Rt=>{Rt.preventDefault()},onMouseUp:Rt=>{Rt.preventDefault()}};return b.cloneElement(b.isValidElement(q)?q:b.createElement("span",null,q),zt)},{className:z,prefixCls:j,inputPrefixCls:B,size:C}=D,O=rn(D,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:et}=b.useContext(V.E_),_t=et("input",B),H=et("input-password",j),gt=G&&A(H),Q=E()(H,z,{[`${H}-${C}`]:!!C}),ft=Object.assign(Object.assign({},(0,Ze.Z)(O,["suffix","iconRender","visibilityToggle"])),{type:K?"text":"password",className:Q,prefixCls:_t,suffix:gt});return C&&(ft.size=C),b.createElement(nt.Z,Object.assign({ref:(0,be.sQ)(ct,d)},ft))}),Ue=v(91494),He=v(76189),je=v(83110),Le=v(63096),Zn=function(D,ct){var G={};for(var P in D)Object.prototype.hasOwnProperty.call(D,P)&&ct.indexOf(P)<0&&(G[P]=D[P]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function")for(var K=0,P=Object.getOwnPropertySymbols(D);K<P.length;K++)ct.indexOf(P[K])<0&&Object.prototype.propertyIsEnumerable.call(D,P[K])&&(G[P[K]]=D[P[K]]);return G},yn=b.forwardRef((D,ct)=>{const{prefixCls:G,inputPrefixCls:P,className:K,size:c,suffix:d,enterButton:w=!1,addonAfter:S,loading:A,disabled:z,onSearch:j,onChange:B,onCompositionStart:C,onCompositionEnd:O}=D,et=Zn(D,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:_t,direction:H}=b.useContext(V.E_),gt=b.useRef(!1),Q=_t("input-search",G),ft=_t("input",P),{compactSize:Et}=(0,Le.ri)(Q,H),st=(0,Ct.Z)(L=>{var J;return(J=c!=null?c:Et)!==null&&J!==void 0?J:L}),it=b.useRef(null),Z=L=>{L&&L.target&&L.type==="click"&&j&&j(L.target.value,L,{source:"clear"}),B&&B(L)},q=L=>{var J;document.activeElement===((J=it.current)===null||J===void 0?void 0:J.input)&&L.preventDefault()},zt=L=>{var J,ht;j&&j((ht=(J=it.current)===null||J===void 0?void 0:J.input)===null||ht===void 0?void 0:ht.value,L,{source:"input"})},Rt=L=>{gt.current||A||zt(L)},Lt=typeof w=="boolean"?b.createElement(Ue.Z,null):null,Ve=`${Q}-button`;let Se;const pe=w||{},sn=pe.type&&pe.type.__ANT_BUTTON===!0;sn||pe.type==="button"?Se=(0,He.Tm)(pe,Object.assign({onMouseDown:q,onClick:L=>{var J,ht;(ht=(J=pe==null?void 0:pe.props)===null||J===void 0?void 0:J.onClick)===null||ht===void 0||ht.call(J,L),zt(L)},key:"enterButton"},sn?{className:Ve,size:st}:{})):Se=b.createElement(je.ZP,{className:Ve,type:w?"primary":void 0,size:st,disabled:z,key:"enterButton",onMouseDown:q,onClick:zt,loading:A,icon:Lt},w),S&&(Se=[Se,(0,He.Tm)(S,{key:"addonAfter"})]);const _n=E()(Q,{[`${Q}-rtl`]:H==="rtl",[`${Q}-${st}`]:!!st,[`${Q}-with-button`]:!!w},K),wn=L=>{gt.current=!0,C==null||C(L)},Ce=L=>{gt.current=!1,O==null||O(L)};return b.createElement(nt.Z,Object.assign({ref:(0,be.sQ)(it,ct),onPressEnter:Rt},et,{size:st,onCompositionStart:wn,onCompositionEnd:Ce,prefixCls:ft,addonAfter:Se,suffix:d,onChange:Z,className:_n,disabled:z}))}),$n=v(42173);const ge=nt.Z;ge.Group=Y,ge.Search=yn,ge.TextArea=$n.Z,ge.Password=Re,ge.OTP=bt;var Hn=ge},6218:function(k,M,v){"use strict";v.d(M,{N:function(){return I}});var b=v(68185),R=v(3341),E=v.n(R),V=v(50959),I=function(N){return function(Y,nt){var Ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[nt],tt=arguments.length>3?arguments[3]:void 0,$=tt!=null?tt:N.setState;(0,V.useEffect)(function(){if(typeof nt!="undefined"){var mt,St=(mt=N.getState)===null||mt===void 0?void 0:mt.call(N);if(E()(St==null?void 0:St[Y],nt))return;$((0,b.Z)({},Y,nt),!1,{type:"\u{1F4AD} useStoreUpdater / ".concat(Y),payload:nt})}},Ut)}}},31965:function(k,M,v){"use strict";v.d(M,{v:function(){return R}});var b=v(76570),R=function(V){return V?b.mW:function(I){return I}}},62657:function(k){function M(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}k.exports=M,k.exports.__esModule=!0,k.exports.default=k.exports},335:function(k,M,v){var b=v(31479);function R(E,V){var I=typeof Symbol!="undefined"&&E[Symbol.iterator]||E["@@iterator"];if(!I){if(Array.isArray(E)||(I=b(E))||V&&E&&typeof E.length=="number"){I&&(E=I);var F=0,N=function(){};return{s:N,n:function(){return F>=E.length?{done:!0}:{done:!1,value:E[F++]}},e:function($){throw $},f:N}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Y=!0,nt=!1,Ut;return{s:function(){I=I.call(E)},n:function(){var $=I.next();return Y=$.done,$},e:function($){nt=!0,Ut=$},f:function(){try{!Y&&I.return!=null&&I.return()}finally{if(nt)throw Ut}}}}k.exports=R,k.exports.__esModule=!0,k.exports.default=k.exports},83136:function(k,M,v){var b=v(38836),R=v(68919),E=v(75254);function V(I){var F=R();return function(){var Y=b(I),nt;if(F){var Ut=b(this).constructor;nt=Reflect.construct(Y,arguments,Ut)}else nt=Y.apply(this,arguments);return E(this,nt)}}k.exports=V,k.exports.__esModule=!0,k.exports.default=k.exports},38836:function(k){function M(v){return k.exports=M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(R){return R.__proto__||Object.getPrototypeOf(R)},k.exports.__esModule=!0,k.exports.default=k.exports,M(v)}k.exports=M,k.exports.__esModule=!0,k.exports.default=k.exports},21742:function(k,M,v){var b=v(80038);function R(E,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(V&&V.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),V&&b(E,V)}k.exports=R,k.exports.__esModule=!0,k.exports.default=k.exports},68919:function(k){function M(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}k.exports=M,k.exports.__esModule=!0,k.exports.default=k.exports},67825:function(k,M,v){var b=v(64382);function R(E,V){if(E==null)return{};var I=b(E,V),F,N;if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(E);for(N=0;N<Y.length;N++)F=Y[N],!(V.indexOf(F)>=0)&&Object.prototype.propertyIsEnumerable.call(E,F)&&(I[F]=E[F])}return I}k.exports=R,k.exports.__esModule=!0,k.exports.default=k.exports},64382:function(k){function M(v,b){if(v==null)return{};var R={},E=Object.keys(v),V,I;for(I=0;I<E.length;I++)V=E[I],!(b.indexOf(V)>=0)&&(R[V]=v[V]);return R}k.exports=M,k.exports.__esModule=!0,k.exports.default=k.exports},75254:function(k,M,v){var b=v(31759).default,R=v(62657);function E(V,I){if(I&&(b(I)==="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R(V)}k.exports=E,k.exports.__esModule=!0,k.exports.default=k.exports},80038:function(k){function M(v,b){return k.exports=M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,V){return E.__proto__=V,E},k.exports.__esModule=!0,k.exports.default=k.exports,M(v,b)}k.exports=M,k.exports.__esModule=!0,k.exports.default=k.exports},41974:function(k,M,v){"use strict";v.d(M,{Uy:function(){return yn}});var b=Symbol.for("immer-nothing"),R=Symbol.for("immer-draftable"),E=Symbol.for("immer-state"),V=[];function I(c,...d){throw new Error(`[Immer] minified error nr: ${c}. Full error at: https://bit.ly/3cXEKWf`)}var F=Object.getPrototypeOf;function N(c){return!!c&&!!c[E]}function Y(c){var d;return c?Ut(c)||Array.isArray(c)||!!c[R]||!!((d=c.constructor)!=null&&d[R])||at(c)||ot(c):!1}var nt=Object.prototype.constructor.toString();function Ut(c){if(!c||typeof c!="object")return!1;const d=F(c);if(d===null)return!0;const w=Object.hasOwnProperty.call(d,"constructor")&&d.constructor;return w===Object?!0:typeof w=="function"&&Function.toString.call(w)===nt}function tt(c){return N(c)||I(15,c),c[E].base_}function $(c,d){mt(c)===0?Reflect.ownKeys(c).forEach(w=>{d(w,c[w],c)}):c.forEach((w,S)=>d(S,w,c))}function mt(c){const d=c[E];return d?d.type_:Array.isArray(c)?1:at(c)?2:ot(c)?3:0}function St(c,d){return mt(c)===2?c.has(d):Object.prototype.hasOwnProperty.call(c,d)}function Ct(c,d){return mt(c)===2?c.get(d):c[d]}function Gt(c,d,w){const S=mt(c);S===2?c.set(d,w):S===3?c.add(w):c[d]=w}function Nt(c,d){return c===d?c!==0||1/c===1/d:c!==c&&d!==d}function at(c){return c instanceof Map}function ot(c){return c instanceof Set}function lt(c){return c.copy_||c.base_}function Zt(c,d){if(at(c))return new Map(c);if(ot(c))return new Set(c);if(Array.isArray(c))return Array.prototype.slice.call(c);if(!d&&Ut(c))return F(c)?Qr({},c):Object.assign(Object.create(null),c);const w=Object.getOwnPropertyDescriptors(c);delete w[E];let S=Reflect.ownKeys(w);for(let A=0;A<S.length;A++){const z=S[A],j=w[z];j.writable===!1&&(j.writable=!0,j.configurable=!0),(j.get||j.set)&&(w[z]={configurable:!0,writable:!0,enumerable:j.enumerable,value:c[z]})}return Object.create(F(c),w)}function Mt(c,d=!1){return Qt(c)||N(c)||!Y(c)||(mt(c)>1&&(c.set=c.add=c.clear=c.delete=Yt),Object.freeze(c),d&&Object.entries(c).forEach(([w,S])=>Mt(S,!0))),c}function Yt(){I(2)}function Qt(c){return Object.isFrozen(c)}var qt={};function jt(c){const d=qt[c];return d||I(0,c),d}function Wt(c,d){qt[c]||(qt[c]=d)}var bt;function $t(){return bt}function Dt(c,d){return{drafts_:[],parent_:c,immer_:d,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function rt(c,d){d&&(jt("Patches"),c.patches_=[],c.inversePatches_=[],c.patchListener_=d)}function yt(c){Ft(c),c.drafts_.forEach(Kt),c.drafts_=null}function Ft(c){c===bt&&(bt=c.parent_)}function te(c){return bt=Dt(bt,c)}function Kt(c){const d=c[E];d.type_===0||d.type_===1?d.revoke_():d.revoked_=!0}function ie(c,d){d.unfinalizedDrafts_=d.drafts_.length;const w=d.drafts_[0];return c!==void 0&&c!==w?(w[E].modified_&&(yt(d),I(4)),Y(c)&&(c=ve(d,c),d.parent_||ne(d,c)),d.patches_&&jt("Patches").generateReplacementPatches_(w[E].base_,c,d.patches_,d.inversePatches_)):c=ve(d,w,[]),yt(d),d.patches_&&d.patchListener_(d.patches_,d.inversePatches_),c!==b?c:void 0}function ve(c,d,w){if(Qt(d))return d;const S=d[E];if(!S)return $(d,(A,z)=>Ae(c,S,d,A,z,w)),d;if(S.scope_!==c)return d;if(!S.modified_)return ne(c,S.base_,!0),S.base_;if(!S.finalized_){S.finalized_=!0,S.scope_.unfinalizedDrafts_--;const A=S.copy_;let z=A,j=!1;S.type_===3&&(z=new Set(A),A.clear(),j=!0),$(z,(B,C)=>Ae(c,S,A,B,C,w,j)),ne(c,A,!1),w&&c.patches_&&jt("Patches").generatePatches_(S,w,c.patches_,c.inversePatches_)}return S.copy_}function Ae(c,d,w,S,A,z,j){if(N(A)){const B=z&&d&&d.type_!==3&&!St(d.assigned_,S)?z.concat(S):void 0,C=ve(c,A,B);if(Gt(w,S,C),N(C))c.canAutoFreeze_=!1;else return}else j&&w.add(A);if(Y(A)&&!Qt(A)){if(!c.immer_.autoFreeze_&&c.unfinalizedDrafts_<1)return;ve(c,A),(!d||!d.scope_.parent_)&&typeof S!="symbol"&&Object.prototype.propertyIsEnumerable.call(w,S)&&ne(c,A)}}function ne(c,d,w=!1){!c.parent_&&c.immer_.autoFreeze_&&c.canAutoFreeze_&&Mt(d,w)}function mn(c,d){const w=Array.isArray(c),S={type_:w?1:0,scope_:d?d.scope_:$t(),modified_:!1,finalized_:!1,assigned_:{},parent_:d,base_:c,draft_:null,copy_:null,revoke_:null,isManual_:!1};let A=S,z=Ze;w&&(A=[S],z=be);const{revoke:j,proxy:B}=Proxy.revocable(A,z);return S.draft_=B,S.revoke_=j,B}var Ze={get(c,d){if(d===E)return c;const w=lt(c);if(!St(w,d))return rn(c,w,d);const S=w[d];return c.finalized_||!Y(S)?S:S===$e(c.base_,d)?(xe(c),c.copy_[d]=Ue(S,c)):S},has(c,d){return d in lt(c)},ownKeys(c){return Reflect.ownKeys(lt(c))},set(c,d,w){const S=Ne(lt(c),d);if(S!=null&&S.set)return S.set.call(c.draft_,w),!0;if(!c.modified_){const A=$e(lt(c),d),z=A==null?void 0:A[E];if(z&&z.base_===w)return c.copy_[d]=w,c.assigned_[d]=!1,!0;if(Nt(w,A)&&(w!==void 0||St(c.base_,d)))return!0;xe(c),ee(c)}return c.copy_[d]===w&&(w!==void 0||d in c.copy_)||Number.isNaN(w)&&Number.isNaN(c.copy_[d])||(c.copy_[d]=w,c.assigned_[d]=!0),!0},deleteProperty(c,d){return $e(c.base_,d)!==void 0||d in c.base_?(c.assigned_[d]=!1,xe(c),ee(c)):delete c.assigned_[d],c.copy_&&delete c.copy_[d],!0},getOwnPropertyDescriptor(c,d){const w=lt(c),S=Reflect.getOwnPropertyDescriptor(w,d);return S&&{writable:!0,configurable:c.type_!==1||d!=="length",enumerable:S.enumerable,value:w[d]}},defineProperty(){I(11)},getPrototypeOf(c){return F(c.base_)},setPrototypeOf(){I(12)}},be={};$(Ze,(c,d)=>{be[c]=function(){return arguments[0]=arguments[0][0],d.apply(this,arguments)}}),be.deleteProperty=function(c,d){return be.set.call(this,c,d,void 0)},be.set=function(c,d,w){return Ze.set.call(this,c[0],d,w,c[0])};function $e(c,d){const w=c[E];return(w?lt(w):c)[d]}function rn(c,d,w){var A;const S=Ne(d,w);return S?"value"in S?S.value:(A=S.get)==null?void 0:A.call(c.draft_):void 0}function Ne(c,d){if(!(d in c))return;let w=F(c);for(;w;){const S=Object.getOwnPropertyDescriptor(w,d);if(S)return S;w=F(w)}}function ee(c){c.modified_||(c.modified_=!0,c.parent_&&ee(c.parent_))}function xe(c){c.copy_||(c.copy_=Zt(c.base_,c.scope_.immer_.useStrictShallowCopy_))}var Re=class{constructor(c){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(d,w,S)=>{if(typeof d=="function"&&typeof w!="function"){const z=w;w=d;const j=this;return function(C=z,...O){return j.produce(C,et=>w.call(this,et,...O))}}typeof w!="function"&&I(6),S!==void 0&&typeof S!="function"&&I(7);let A;if(Y(d)){const z=te(this),j=Ue(d,void 0);let B=!0;try{A=w(j),B=!1}finally{B?yt(z):Ft(z)}return rt(z,S),ie(A,z)}else if(!d||typeof d!="object"){if(A=w(d),A===void 0&&(A=d),A===b&&(A=void 0),this.autoFreeze_&&Mt(A,!0),S){const z=[],j=[];jt("Patches").generateReplacementPatches_(d,A,z,j),S(z,j)}return A}else I(1,d)},this.produceWithPatches=(d,w)=>{if(typeof d=="function")return(j,...B)=>this.produceWithPatches(j,C=>d(C,...B));let S,A;return[this.produce(d,w,(j,B)=>{S=j,A=B}),S,A]},typeof(c==null?void 0:c.autoFreeze)=="boolean"&&this.setAutoFreeze(c.autoFreeze),typeof(c==null?void 0:c.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(c.useStrictShallowCopy)}createDraft(c){Y(c)||I(8),N(c)&&(c=He(c));const d=te(this),w=Ue(c,void 0);return w[E].isManual_=!0,Ft(d),w}finishDraft(c,d){const w=c&&c[E];(!w||!w.isManual_)&&I(9);const{scope_:S}=w;return rt(S,d),ie(void 0,S)}setAutoFreeze(c){this.autoFreeze_=c}setUseStrictShallowCopy(c){this.useStrictShallowCopy_=c}applyPatches(c,d){let w;for(w=d.length-1;w>=0;w--){const A=d[w];if(A.path.length===0&&A.op==="replace"){c=A.value;break}}w>-1&&(d=d.slice(w+1));const S=jt("Patches").applyPatches_;return N(c)?S(c,d):this.produce(c,A=>S(A,d))}};function Ue(c,d){const w=at(c)?jt("MapSet").proxyMap_(c,d):ot(c)?jt("MapSet").proxySet_(c,d):mn(c,d);return(d?d.scope_:$t()).drafts_.push(w),w}function He(c){return N(c)||I(10,c),je(c)}function je(c){if(!Y(c)||Qt(c))return c;const d=c[E];let w;if(d){if(!d.modified_)return d.base_;d.finalized_=!0,w=Zt(c,d.scope_.immer_.useStrictShallowCopy_)}else w=Zt(c,!0);return $(w,(S,A)=>{Gt(w,S,je(A))}),d&&(d.finalized_=!1),w}function Le(){const d="replace",w="add",S="remove";function A(H,gt,Q,ft){switch(H.type_){case 0:case 2:return j(H,gt,Q,ft);case 1:return z(H,gt,Q,ft);case 3:return B(H,gt,Q,ft)}}function z(H,gt,Q,ft){let{base_:Et,assigned_:st}=H,it=H.copy_;it.length<Et.length&&([Et,it]=[it,Et],[Q,ft]=[ft,Q]);for(let Z=0;Z<Et.length;Z++)if(st[Z]&&it[Z]!==Et[Z]){const q=gt.concat([Z]);Q.push({op:d,path:q,value:_t(it[Z])}),ft.push({op:d,path:q,value:_t(Et[Z])})}for(let Z=Et.length;Z<it.length;Z++){const q=gt.concat([Z]);Q.push({op:w,path:q,value:_t(it[Z])})}for(let Z=it.length-1;Et.length<=Z;--Z){const q=gt.concat([Z]);ft.push({op:S,path:q})}}function j(H,gt,Q,ft){const{base_:Et,copy_:st}=H;$(H.assigned_,(it,Z)=>{const q=Ct(Et,it),zt=Ct(st,it),Rt=Z?St(Et,it)?d:w:S;if(q===zt&&Rt===d)return;const Lt=gt.concat(it);Q.push(Rt===S?{op:Rt,path:Lt}:{op:Rt,path:Lt,value:zt}),ft.push(Rt===w?{op:S,path:Lt}:Rt===S?{op:w,path:Lt,value:_t(q)}:{op:d,path:Lt,value:_t(q)})})}function B(H,gt,Q,ft){let{base_:Et,copy_:st}=H,it=0;Et.forEach(Z=>{if(!st.has(Z)){const q=gt.concat([it]);Q.push({op:S,path:q,value:Z}),ft.unshift({op:w,path:q,value:Z})}it++}),it=0,st.forEach(Z=>{if(!Et.has(Z)){const q=gt.concat([it]);Q.push({op:w,path:q,value:Z}),ft.unshift({op:S,path:q,value:Z})}it++})}function C(H,gt,Q,ft){Q.push({op:d,path:[],value:gt===b?void 0:gt}),ft.push({op:d,path:[],value:H})}function O(H,gt){return gt.forEach(Q=>{const{path:ft,op:Et}=Q;let st=H;for(let zt=0;zt<ft.length-1;zt++){const Rt=mt(st);let Lt=ft[zt];typeof Lt!="string"&&typeof Lt!="number"&&(Lt=""+Lt),(Rt===0||Rt===1)&&(Lt==="__proto__"||Lt==="constructor")&&I(16+3),typeof st=="function"&&Lt==="prototype"&&I(16+3),st=Ct(st,Lt),typeof st!="object"&&I(16+2,ft.join("/"))}const it=mt(st),Z=et(Q.value),q=ft[ft.length-1];switch(Et){case d:switch(it){case 2:return st.set(q,Z);case 3:I(16);default:return st[q]=Z}case w:switch(it){case 1:return q==="-"?st.push(Z):st.splice(q,0,Z);case 2:return st.set(q,Z);case 3:return st.add(Z);default:return st[q]=Z}case S:switch(it){case 1:return st.splice(q,1);case 2:return st.delete(q);case 3:return st.delete(Q.value);default:return delete st[q]}default:I(16+1,Et)}}),H}function et(H){if(!Y(H))return H;if(Array.isArray(H))return H.map(et);if(at(H))return new Map(Array.from(H.entries()).map(([Q,ft])=>[Q,et(ft)]));if(ot(H))return new Set(Array.from(H).map(et));const gt=Object.create(F(H));for(const Q in H)gt[Q]=et(H[Q]);return St(H,R)&&(gt[R]=H[R]),gt}function _t(H){return N(H)?et(H):H}Wt("Patches",{applyPatches_:O,generatePatches_:A,generateReplacementPatches_:C})}function Zn(){class c extends Map{constructor(C,O){super(),this[E]={type_:2,parent_:O,scope_:O?O.scope_:$t(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:C,draft_:this,isManual_:!1,revoked_:!1}}get size(){return lt(this[E]).size}has(C){return lt(this[E]).has(C)}set(C,O){const et=this[E];return j(et),(!lt(et).has(C)||lt(et).get(C)!==O)&&(w(et),ee(et),et.assigned_.set(C,!0),et.copy_.set(C,O),et.assigned_.set(C,!0)),this}delete(C){if(!this.has(C))return!1;const O=this[E];return j(O),w(O),ee(O),O.base_.has(C)?O.assigned_.set(C,!1):O.assigned_.delete(C),O.copy_.delete(C),!0}clear(){const C=this[E];j(C),lt(C).size&&(w(C),ee(C),C.assigned_=new Map,$(C.base_,O=>{C.assigned_.set(O,!1)}),C.copy_.clear())}forEach(C,O){const et=this[E];lt(et).forEach((_t,H,gt)=>{C.call(O,this.get(H),H,this)})}get(C){const O=this[E];j(O);const et=lt(O).get(C);if(O.finalized_||!Y(et)||et!==O.base_.get(C))return et;const _t=Ue(et,O);return w(O),O.copy_.set(C,_t),_t}keys(){return lt(this[E]).keys()}values(){const C=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const O=C.next();return O.done?O:{done:!1,value:this.get(O.value)}}}}entries(){const C=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const O=C.next();if(O.done)return O;const et=this.get(O.value);return{done:!1,value:[O.value,et]}}}}[Symbol.iterator](){return this.entries()}}function d(B,C){return new c(B,C)}function w(B){B.copy_||(B.assigned_=new Map,B.copy_=new Map(B.base_))}class S extends Set{constructor(C,O){super(),this[E]={type_:3,parent_:O,scope_:O?O.scope_:$t(),modified_:!1,finalized_:!1,copy_:void 0,base_:C,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return lt(this[E]).size}has(C){const O=this[E];return j(O),O.copy_?!!(O.copy_.has(C)||O.drafts_.has(C)&&O.copy_.has(O.drafts_.get(C))):O.base_.has(C)}add(C){const O=this[E];return j(O),this.has(C)||(z(O),ee(O),O.copy_.add(C)),this}delete(C){if(!this.has(C))return!1;const O=this[E];return j(O),z(O),ee(O),O.copy_.delete(C)||(O.drafts_.has(C)?O.copy_.delete(O.drafts_.get(C)):!1)}clear(){const C=this[E];j(C),lt(C).size&&(z(C),ee(C),C.copy_.clear())}values(){const C=this[E];return j(C),z(C),C.copy_.values()}entries(){const C=this[E];return j(C),z(C),C.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(C,O){const et=this.values();let _t=et.next();for(;!_t.done;)C.call(O,_t.value,_t.value,this),_t=et.next()}}function A(B,C){return new S(B,C)}function z(B){B.copy_||(B.copy_=new Set,B.base_.forEach(C=>{if(Y(C)){const O=Ue(C,B);B.drafts_.set(C,O),B.copy_.add(O)}else B.copy_.add(C)}))}function j(B){B.revoked_&&I(3,JSON.stringify(lt(B)))}Wt("MapSet",{proxyMap_:d,proxySet_:A})}var Jt=new Re,yn=Jt.produce,$n=Jt.produceWithPatches.bind(Jt),ge=Jt.setAutoFreeze.bind(Jt),Hn=Jt.setUseStrictShallowCopy.bind(Jt),D=Jt.applyPatches.bind(Jt),ct=Jt.createDraft.bind(Jt),G=Jt.finishDraft.bind(Jt);function P(c){return c}function K(c){return c}},13727:function(k,M,v){"use strict";v.d(M,{Z:function(){return at}});var b=v(99615),R=b.Z.Symbol,E=R,V=Object.prototype,I=V.hasOwnProperty,F=V.toString,N=E?E.toStringTag:void 0;function Y(ot){var lt=I.call(ot,N),Zt=ot[N];try{ot[N]=void 0;var Mt=!0}catch(Qt){}var Yt=F.call(ot);return Mt&&(lt?ot[N]=Zt:delete ot[N]),Yt}var nt=Y,Ut=Object.prototype,tt=Ut.toString;function $(ot){return tt.call(ot)}var mt=$,St="[object Null]",Ct="[object Undefined]",Gt=E?E.toStringTag:void 0;function Nt(ot){return ot==null?ot===void 0?Ct:St:Gt&&Gt in Object(ot)?nt(ot):mt(ot)}var at=Nt},97889:function(k,M){"use strict";var v=typeof global=="object"&&global&&global.Object===Object&&global;M.Z=v},99615:function(k,M,v){"use strict";var b=v(97889),R=typeof self=="object"&&self&&self.Object===Object&&self,E=b.Z||R||Function("return this")();M.Z=E},82433:function(k,M){"use strict";function v(b){var R=typeof b;return b!=null&&(R=="object"||R=="function")}M.Z=v},13795:function(k,M){"use strict";function v(b){return b!=null&&typeof b=="object"}M.Z=v},62071:function(k,M,v){"use strict";v.d(M,{Z:function(){return vo}});function b(){this.__data__=[],this.size=0}var R=b;function E(a,g){return a===g||a!==a&&g!==g}var V=E;function I(a,g){for(var y=a.length;y--;)if(V(a[y][0],g))return y;return-1}var F=I,N=Array.prototype,Y=N.splice;function nt(a){var g=this.__data__,y=F(g,a);if(y<0)return!1;var U=g.length-1;return y==U?g.pop():Y.call(g,y,1),--this.size,!0}var Ut=nt;function tt(a){var g=this.__data__,y=F(g,a);return y<0?void 0:g[y][1]}var $=tt;function mt(a){return F(this.__data__,a)>-1}var St=mt;function Ct(a,g){var y=this.__data__,U=F(y,a);return U<0?(++this.size,y.push([a,g])):y[U][1]=g,this}var Gt=Ct;function Nt(a){var g=-1,y=a==null?0:a.length;for(this.clear();++g<y;){var U=a[g];this.set(U[0],U[1])}}Nt.prototype.clear=R,Nt.prototype.delete=Ut,Nt.prototype.get=$,Nt.prototype.has=St,Nt.prototype.set=Gt;var at=Nt;function ot(){this.__data__=new at,this.size=0}var lt=ot;function Zt(a){var g=this.__data__,y=g.delete(a);return this.size=g.size,y}var Mt=Zt;function Yt(a){return this.__data__.get(a)}var Qt=Yt;function qt(a){return this.__data__.has(a)}var jt=qt,Wt=v(13727),bt=v(82433),$t="[object AsyncFunction]",Dt="[object Function]",rt="[object GeneratorFunction]",yt="[object Proxy]";function Ft(a){if(!(0,bt.Z)(a))return!1;var g=(0,Wt.Z)(a);return g==Dt||g==rt||g==$t||g==yt}var te=Ft,Kt=v(99615),ie=Kt.Z["__core-js_shared__"],ve=ie,Ae=function(){var a=/[^.]+$/.exec(ve&&ve.keys&&ve.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();function ne(a){return!!Ae&&Ae in a}var mn=ne,Ze=Function.prototype,be=Ze.toString;function $e(a){if(a!=null){try{return be.call(a)}catch(g){}try{return a+""}catch(g){}}return""}var rn=$e,Ne=/[\\^$.*+?()[\]{}|]/g,ee=/^\[object .+?Constructor\]$/,xe=Function.prototype,Re=Object.prototype,Ue=xe.toString,He=Re.hasOwnProperty,je=RegExp("^"+Ue.call(He).replace(Ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Le(a){if(!(0,bt.Z)(a)||mn(a))return!1;var g=te(a)?je:ee;return g.test(rn(a))}var Zn=Le;function Jt(a,g){return a==null?void 0:a[g]}var yn=Jt;function $n(a,g){var y=yn(a,g);return Zn(y)?y:void 0}var ge=$n,Hn=ge(Kt.Z,"Map"),D=Hn,ct=ge(Object,"create"),G=ct;function P(){this.__data__=G?G(null):{},this.size=0}var K=P;function c(a){var g=this.has(a)&&delete this.__data__[a];return this.size-=g?1:0,g}var d=c,w="__lodash_hash_undefined__",S=Object.prototype,A=S.hasOwnProperty;function z(a){var g=this.__data__;if(G){var y=g[a];return y===w?void 0:y}return A.call(g,a)?g[a]:void 0}var j=z,B=Object.prototype,C=B.hasOwnProperty;function O(a){var g=this.__data__;return G?g[a]!==void 0:C.call(g,a)}var et=O,_t="__lodash_hash_undefined__";function H(a,g){var y=this.__data__;return this.size+=this.has(a)?0:1,y[a]=G&&g===void 0?_t:g,this}var gt=H;function Q(a){var g=-1,y=a==null?0:a.length;for(this.clear();++g<y;){var U=a[g];this.set(U[0],U[1])}}Q.prototype.clear=K,Q.prototype.delete=d,Q.prototype.get=j,Q.prototype.has=et,Q.prototype.set=gt;var ft=Q;function Et(){this.size=0,this.__data__={hash:new ft,map:new(D||at),string:new ft}}var st=Et;function it(a){var g=typeof a;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?a!=="__proto__":a===null}var Z=it;function q(a,g){var y=a.__data__;return Z(g)?y[typeof g=="string"?"string":"hash"]:y.map}var zt=q;function Rt(a){var g=zt(this,a).delete(a);return this.size-=g?1:0,g}var Lt=Rt;function Ve(a){return zt(this,a).get(a)}var Se=Ve;function pe(a){return zt(this,a).has(a)}var sn=pe;function _n(a,g){var y=zt(this,a),U=y.size;return y.set(a,g),this.size+=y.size==U?0:1,this}var wn=_n;function Ce(a){var g=-1,y=a==null?0:a.length;for(this.clear();++g<y;){var U=a[g];this.set(U[0],U[1])}}Ce.prototype.clear=st,Ce.prototype.delete=Lt,Ce.prototype.get=Se,Ce.prototype.has=sn,Ce.prototype.set=wn;var L=Ce,J=200;function ht(a,g){var y=this.__data__;if(y instanceof at){var U=y.__data__;if(!D||U.length<J-1)return U.push([a,g]),this.size=++y.size,this;y=this.__data__=new L(U)}return y.set(a,g),this.size=y.size,this}var Ge=ht;function At(a){var g=this.__data__=new at(a);this.size=g.size}At.prototype.clear=lt,At.prototype.delete=Mt,At.prototype.get=Qt,At.prototype.has=jt,At.prototype.set=Ge;var Gn=At,fi=function(){try{var a=ge(Object,"defineProperty");return a({},"",{}),a}catch(g){}}(),Kn=fi;function hi(a,g,y){g=="__proto__"&&Kn?Kn(a,g,{configurable:!0,enumerable:!0,value:y,writable:!0}):a[g]=y}var ar=hi;function gi(a,g,y){(y!==void 0&&!V(a[g],y)||y===void 0&&!(g in a))&&ar(a,g,y)}var ur=gi;function pi(a){return function(g,y,U){for(var pt=-1,It=Object(g),Pt=U(g),ut=Pt.length;ut--;){var Bt=Pt[a?ut:++pt];if(y(It[Bt],Bt,It)===!1)break}return g}}var dr=pi,qr=dr(),mi=qr,ts=typeof exports=="object"&&exports&&!exports.nodeType&&exports,es=ts&&typeof module=="object"&&module&&!module.nodeType&&module,yi=es&&es.exports===ts,ns=yi?Kt.Z.Buffer:void 0,fr=ns?ns.allocUnsafe:void 0;function _i(a,g){if(g)return a.slice();var y=a.length,U=fr?fr(y):new a.constructor(y);return a.copy(U),U}var wi=_i,vi=Kt.Z.Uint8Array,hr=vi;function bi(a){var g=new a.constructor(a.byteLength);return new hr(g).set(new hr(a)),g}var Si=bi;function rs(a,g){var y=g?Si(a.buffer):a.buffer;return new a.constructor(y,a.byteOffset,a.length)}var ss=rs;function is(a,g){var y=-1,U=a.length;for(g||(g=Array(U));++y<U;)g[y]=a[y];return g}var os=is,Wn=Object.create,Ci=function(){function a(){}return function(g){if(!(0,bt.Z)(g))return{};if(Wn)return Wn(g);a.prototype=g;var y=new a;return a.prototype=void 0,y}}(),cs=Ci;function on(a,g){return function(y){return a(g(y))}}var Ei=on,ls=Ei(Object.getPrototypeOf,Object),as=ls,vn=Object.prototype;function ki(a){var g=a&&a.constructor,y=typeof g=="function"&&g.prototype||vn;return a===y}var us=ki;function Ti(a){return typeof a.constructor=="function"&&!us(a)?cs(as(a)):{}}var Ii=Ti,me=v(13795),bn="[object Arguments]";function Oi(a){return(0,me.Z)(a)&&(0,Wt.Z)(a)==bn}var gr=Oi,ds=Object.prototype,oe=ds.hasOwnProperty,fs=ds.propertyIsEnumerable,Tt=gr(function(){return arguments}())?gr:function(a){return(0,me.Z)(a)&&oe.call(a,"callee")&&!fs.call(a,"callee")},cn=Tt,Jn=Array.isArray,pr=Jn,Di=9007199254740991;function Ai(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=Di}var hs=Ai;function xi(a){return a!=null&&hs(a.length)&&!te(a)}var mr=xi;function wt(a){return(0,me.Z)(a)&&mr(a)}var ln=wt;function Xn(){return!1}var gs=Xn,yr=typeof exports=="object"&&exports&&!exports.nodeType&&exports,_r=yr&&typeof module=="object"&&module&&!module.nodeType&&module,Ke=_r&&_r.exports===yr,ps=Ke?Kt.Z.Buffer:void 0,ms=ps?ps.isBuffer:void 0,Ui=ms||gs,an=Ui,re="[object Object]",Sn=Function.prototype,ys=Object.prototype,wr=Sn.toString,_s=ys.hasOwnProperty,Mi=wr.call(Object);function vr(a){if(!(0,me.Z)(a)||(0,Wt.Z)(a)!=re)return!1;var g=as(a);if(g===null)return!0;var y=_s.call(g,"constructor")&&g.constructor;return typeof y=="function"&&y instanceof y&&wr.call(y)==Mi}var ws=vr,un="[object Arguments]",br="[object Array]",Pi="[object Boolean]",Bi="[object Date]",Cn="[object Error]",En="[object Function]",Ni="[object Map]",Sr="[object Number]",Yn="[object Object]",vs="[object RegExp]",Ri="[object Set]",bs="[object String]",Ss="[object WeakMap]",Cr="[object ArrayBuffer]",ji="[object DataView]",Li="[object Float32Array]",Cs="[object Float64Array]",Es="[object Int8Array]",kn="[object Int16Array]",Vi="[object Int32Array]",Fi="[object Uint8Array]",zi="[object Uint8ClampedArray]",Zi="[object Uint16Array]",$i="[object Uint32Array]",xt={};xt[Li]=xt[Cs]=xt[Es]=xt[kn]=xt[Vi]=xt[Fi]=xt[zi]=xt[Zi]=xt[$i]=!0,xt[un]=xt[br]=xt[Cr]=xt[Pi]=xt[ji]=xt[Bi]=xt[Cn]=xt[En]=xt[Ni]=xt[Sr]=xt[Yn]=xt[vs]=xt[Ri]=xt[bs]=xt[Ss]=!1;function Hi(a){return(0,me.Z)(a)&&hs(a.length)&&!!xt[(0,Wt.Z)(a)]}var Gi=Hi;function We(a){return function(g){return a(g)}}var ye=We,Ee=v(97889),Tn=typeof exports=="object"&&exports&&!exports.nodeType&&exports,In=Tn&&typeof module=="object"&&module&&!module.nodeType&&module,Ki=In&&In.exports===Tn,Er=Ki&&Ee.Z.process,ks=function(){try{var a=In&&In.require&&In.require("util").types;return a||Er&&Er.binding&&Er.binding("util")}catch(g){}}(),Ts=ks,On=Ts&&Ts.isTypedArray,Is=On?ye(On):Gi,Os=Is;function Wi(a,g){if(!(g==="constructor"&&typeof a[g]=="function")&&g!="__proto__")return a[g]}var kr=Wi,Ji=Object.prototype,Xi=Ji.hasOwnProperty;function Tr(a,g,y){var U=a[g];(!(Xi.call(a,g)&&V(U,y))||y===void 0&&!(g in a))&&ar(a,g,y)}var Ds=Tr;function Ir(a,g,y,U){var pt=!y;y||(y={});for(var It=-1,Pt=g.length;++It<Pt;){var ut=g[It],Bt=U?U(y[ut],a[ut],ut,y,a):void 0;Bt===void 0&&(Bt=a[ut]),pt?ar(y,ut,Bt):Ds(y,ut,Bt)}return y}var Qn=Ir;function As(a,g){for(var y=-1,U=Array(a);++y<a;)U[y]=g(y);return U}var Yi=As,Qi=9007199254740991,Fe=/^(?:0|[1-9]\d*)$/;function Je(a,g){var y=typeof a;return g=g==null?Qi:g,!!g&&(y=="number"||y!="symbol"&&Fe.test(a))&&a>-1&&a%1==0&&a<g}var xs=Je,qi=Object.prototype,_e=qi.hasOwnProperty;function Us(a,g){var y=pr(a),U=!y&&cn(a),pt=!y&&!U&&an(a),It=!y&&!U&&!pt&&Os(a),Pt=y||U||pt||It,ut=Pt?Yi(a.length,String):[],Bt=ut.length;for(var ue in a)(g||_e.call(a,ue))&&!(Pt&&(ue=="length"||pt&&(ue=="offset"||ue=="parent")||It&&(ue=="buffer"||ue=="byteLength"||ue=="byteOffset")||xs(ue,Bt)))&&ut.push(ue);return ut}var qn=Us;function tr(a){var g=[];if(a!=null)for(var y in Object(a))g.push(y);return g}var to=tr,Dn=Object.prototype,Ms=Dn.hasOwnProperty;function eo(a){if(!(0,bt.Z)(a))return to(a);var g=us(a),y=[];for(var U in a)U=="constructor"&&(g||!Ms.call(a,U))||y.push(U);return y}var no=eo;function ro(a){return mr(a)?qn(a,!0):no(a)}var er=ro;function Ps(a){return Qn(a,er(a))}var Or=Ps;function ke(a,g,y,U,pt,It,Pt){var ut=kr(a,y),Bt=kr(g,y),ue=Pt.get(Bt);if(ue){ur(a,y,ue);return}var ce=It?It(ut,Bt,y+"",a,g,Pt):void 0,An=ce===void 0;if(An){var Ur=pr(Bt),de=!Ur&&an(Bt),Zs=!Ur&&!de&&Os(Bt);ce=Bt,Ur||de||Zs?pr(ut)?ce=ut:ln(ut)?ce=os(ut):de?(An=!1,ce=wi(Bt,!0)):Zs?(An=!1,ce=ss(Bt,!0)):ce=[]:ws(Bt)||cn(Bt)?(ce=ut,cn(ut)?ce=Or(ut):(!(0,bt.Z)(ut)||te(ut))&&(ce=Ii(Bt))):An=!1}An&&(Pt.set(Bt,ce),pt(ce,Bt,U,It,Pt),Pt.delete(Bt)),ur(a,y,ce)}var so=ke;function Bs(a,g,y,U,pt){a!==g&&mi(g,function(It,Pt){if(pt||(pt=new Gn),(0,bt.Z)(It))so(a,g,Pt,y,Bs,U,pt);else{var ut=U?U(kr(a,Pt),It,Pt+"",a,g,pt):void 0;ut===void 0&&(ut=It),ur(a,Pt,ut)}},er)}var io=Bs;function ae(a){return a}var nr=ae;function Ns(a,g,y){switch(y.length){case 0:return a.call(g);case 1:return a.call(g,y[0]);case 2:return a.call(g,y[0],y[1]);case 3:return a.call(g,y[0],y[1],y[2])}return a.apply(g,y)}var oo=Ns,Dr=Math.max;function co(a,g,y){return g=Dr(g===void 0?a.length-1:g,0),function(){for(var U=arguments,pt=-1,It=Dr(U.length-g,0),Pt=Array(It);++pt<It;)Pt[pt]=U[g+pt];pt=-1;for(var ut=Array(g+1);++pt<g;)ut[pt]=U[pt];return ut[g]=y(Pt),oo(a,this,ut)}}var Rs=co;function lo(a){return function(){return a}}var Ar=lo,js=Kn?function(a,g){return Kn(a,"toString",{configurable:!0,enumerable:!1,value:Ar(g),writable:!0})}:nr,ao=js,Ls=800,Vs=16,uo=Date.now;function fo(a){var g=0,y=0;return function(){var U=uo(),pt=Vs-(U-y);if(y=U,pt>0){if(++g>=Ls)return arguments[0]}else g=0;return a.apply(void 0,arguments)}}var ho=fo,go=ho(ao),po=go;function Fs(a,g){return po(Rs(a,g,nr),a+"")}var mo=Fs;function zs(a,g,y){if(!(0,bt.Z)(y))return!1;var U=typeof g;return(U=="number"?mr(y)&&xs(g,y.length):U=="string"&&g in y)?V(y[g],a):!1}var yo=zs;function _o(a){return mo(function(g,y){var U=-1,pt=y.length,It=pt>1?y[pt-1]:void 0,Pt=pt>2?y[2]:void 0;for(It=a.length>3&&typeof It=="function"?(pt--,It):void 0,Pt&&yo(y[0],y[1],Pt)&&(It=pt<3?void 0:It,pt=1),g=Object(g);++U<pt;){var ut=y[U];ut&&a(g,ut,U,It)}return g})}var wo=_o,xr=wo(function(a,g,y){io(a,g,y)}),vo=xr},67197:function(k,M,v){"use strict";v.d(M,{kP:function(){return E}});let b=I=>crypto.getRandomValues(new Uint8Array(I)),R=(I,F,N)=>{let Y=(2<<Math.log(I.length-1)/Math.LN2)-1,nt=-~(1.6*Y*F/I.length);return(Ut=F)=>{let tt="";for(;;){let $=N(nt),mt=nt;for(;mt--;)if(tt+=I[$[mt]&Y]||"",tt.length===Ut)return tt}}},E=(I,F=21)=>R(I,F,b),V=(I=21)=>crypto.getRandomValues(new Uint8Array(I)).reduce((F,N)=>(N&=63,N<36?F+=N.toString(36):N<62?F+=(N-26).toString(36).toUpperCase():N>62?F+="-":F+="_",F),"")},9112:function(k,M,v){"use strict";v.d(M,{QW:function(){return dn},H6:function(){return Sl}});const b=()=>new Map,R=e=>{const t=b();return e.forEach((n,r)=>{t.set(r,n)}),t},E=(e,t,n)=>{let r=e.get(t);return r===void 0&&e.set(t,r=n()),r},V=(e,t)=>{const n=[];for(const[r,s]of e)n.push(t(s,r));return n},I=(e,t)=>{for(const[n,r]of e)if(t(r,n))return!0;return!1},F=(e,t)=>{for(const[n,r]of e)if(!t(r,n))return!1;return!0},N=()=>new Set,Y=e=>Array.from(e),nt=e=>e.values().next().value||void 0,Ut=e=>new Set(e),tt=e=>e[e.length-1],$=()=>[],mt=e=>e.slice(),St=(e,t)=>{for(let n=0;n<t.length;n++)e.push(t[n])},Ct=Array.from,Gt=(e,t)=>{for(let n=0;n<e.length;n++)if(!t(e[n],n,e))return!1;return!0},Nt=(e,t)=>{for(let n=0;n<e.length;n++)if(t(e[n],n,e))return!0;return!1},at=(e,t)=>e.length===t.length&&Gt(e,(n,r)=>n===t[r]),ot=e=>Zt(e,[],(t,n)=>t.concat(n)),lt=(e,t)=>{const n=new Array(e);for(let r=0;r<e;r++)n[r]=t(r,n);return n},Zt=(e,t,n)=>e.reduce(n,t),Mt=Array.isArray,Yt=e=>Ct(set.from(e)),Qt=(e,t)=>{const n=set.create(),r=[];for(let s=0;s<e.length;s++){const i=e[s],o=t(i);n.has(o)||(n.add(o),r.push(i))}return r},qt=(e,t)=>{const n=Array(e.length);for(let r=0;r<e.length;r++)n[r]=t(e[r],r,e);return n};class jt{constructor(){this._observers=b()}on(t,n){return E(this._observers,t,N).add(n),n}once(t,n){const r=(...s)=>{this.off(t,r),n(...s)};this.on(t,r)}off(t,n){const r=this._observers.get(t);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(t))}emit(t,n){return Ct((this._observers.get(t)||b()).values()).forEach(r=>r(...n))}destroy(){this._observers=b()}}class Wt{constructor(){this._observers=map.create()}on(t,n){map.setIfUndefined(this._observers,t,set.create).add(n)}once(t,n){const r=(...s)=>{this.off(t,r),n(...s)};this.on(t,r)}off(t,n){const r=this._observers.get(t);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(t))}emit(t,n){return array.from((this._observers.get(t)||map.create()).values()).forEach(r=>r(...n))}destroy(){this._observers=map.create()}}const bt=Math.floor,$t=Math.ceil,Dt=Math.abs,rt=Math.imul,yt=Math.round,Ft=Math.log10,te=Math.log2,Kt=Math.log,ie=Math.sqrt,ve=(e,t)=>e+t,Ae=(e,t)=>e<t?e:t,ne=(e,t)=>e>t?e:t,mn=Number.isNaN,Ze=Math.pow,be=e=>Math.pow(10,e),$e=Math.sign,rn=e=>e!==0?e<0:1/e<0,Ne=1,ee=2,xe=4,Re=8,Ue=16,He=32,je=64,Le=128,Zn=256,Jt=512,yn=1024,$n=2048,ge=4096,Hn=8192,D=16384,ct=32768,G=65536,P=1<<17,K=1<<18,c=1<<19,d=1<<20,w=1<<21,S=1<<22,A=1<<23,z=1<<24,j=1<<25,B=1<<26,C=1<<27,O=1<<28,et=1<<29,_t=1<<30,H=null,gt=0,Q=1,ft=3,Et=7,st=15,it=31,Z=63,q=127,zt=255,Rt=511,Lt=1023,Ve=2047,Se=4095,pe=8191,sn=16383,_n=32767,wn=65535,Ce=P-1,L=K-1,J=c-1,ht=d-1,Ge=w-1,At=S-1,Gn=A-1,fi=z-1,Kn=j-1,hi=B-1,ar=C-1,gi=O-1,ur=et-1,pi=_t-1,dr=2147483647,qr=4294967295,mi=Number.MAX_SAFE_INTEGER,ts=Number.MIN_SAFE_INTEGER,es=null,yi=dr,ns=qr,fr=Number.isInteger||(e=>typeof e=="number"&&isFinite(e)&&bt(e)===e),_i=Number.isNaN,wi=Number.parseInt,vi=e=>{e&=binary.BITS32;let t=0;for(;e;)e&=e-1,t++;return t},hr=String.fromCharCode,bi=String.fromCodePoint,Si=hr(65535),rs=e=>e.toLowerCase(),ss=/^\s*/g,is=e=>e.replace(ss,""),os=/([A-Z])/g,Wn=(e,t)=>is(e.replace(os,n=>`${t}${rs(n)}`)),Ci=e=>unescape(encodeURIComponent(e)).length,cs=e=>{const t=unescape(encodeURIComponent(e)),n=t.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=t.codePointAt(s);return r},on=typeof TextEncoder!="undefined"?new TextEncoder:null,ls=on?e=>on.encode(e):cs,as=e=>{let t=e.length,n="",r=0;for(;t>0;){const s=t<1e4?t:1e4,i=e.subarray(r,r+s);r+=s,n+=String.fromCodePoint.apply(null,i),t-=s}return decodeURIComponent(escape(n))};let vn=typeof TextDecoder=="undefined"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});vn&&vn.decode(new Uint8Array).length===1&&(vn=null);const ki=e=>vn.decode(e),us=null,Ti=(e,t,n,r="")=>e.slice(0,t)+r+e.slice(t+n),Ii=(e,t)=>array.unfold(t,()=>e).join("");class me{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const bn=()=>new me,Oi=e=>{const t=bn();return e(t),oe(t)},gr=e=>{let t=e.cpos;for(let n=0;n<e.bufs.length;n++)t+=e.bufs[n].length;return t},ds=e=>e.cpos>0||e.bufs.length>0,oe=e=>{const t=new Uint8Array(gr(e));let n=0;for(let r=0;r<e.bufs.length;r++){const s=e.bufs[r];t.set(s,n),n+=s.length}return t.set(new Uint8Array(e.cbuf.buffer,0,e.cpos),n),t},fs=(e,t)=>{const n=e.cbuf.length;n-e.cpos<t&&(e.bufs.push(new Uint8Array(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(ne(n,t)*2),e.cpos=0)},Tt=(e,t)=>{const n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(n*2),e.cpos=0),e.cbuf[e.cpos++]=t},cn=(e,t,n)=>{let r=null;for(let s=0;s<e.bufs.length&&r===null;s++){const i=e.bufs[s];t<i.length?r=i:t-=i.length}r===null&&(r=e.cbuf),r[t]=n},Jn=Tt,pr=null,Di=(e,t)=>{Tt(e,t&binary.BITS8),Tt(e,t>>>8&binary.BITS8)},Ai=(e,t,n)=>{cn(e,t,n&binary.BITS8),cn(e,t+1,n>>>8&binary.BITS8)},hs=(e,t)=>{for(let n=0;n<4;n++)Tt(e,t&binary.BITS8),t>>>=8},xi=(e,t)=>{for(let n=3;n>=0;n--)Tt(e,t>>>8*n&binary.BITS8)},mr=(e,t,n)=>{for(let r=0;r<4;r++)cn(e,t+r,n&binary.BITS8),n>>>=8},wt=(e,t)=>{for(;t>q;)Tt(e,Le|q&t),t=bt(t/128);Tt(e,q&t)},ln=(e,t)=>{const n=rn(t);for(n&&(t=-t),Tt(e,(t>Z?Le:0)|(n?je:0)|Z&t),t=bt(t/64);t>0;)Tt(e,(t>q?Le:0)|q&t),t=bt(t/128)},Xn=new Uint8Array(3e4),gs=Xn.length/3,yr=(e,t)=>{if(t.length<gs){const n=on.encodeInto(t,Xn).written||0;wt(e,n);for(let r=0;r<n;r++)Tt(e,Xn[r])}else re(e,ls(t))},_r=(e,t)=>{const n=unescape(encodeURIComponent(t)),r=n.length;wt(e,r);for(let s=0;s<r;s++)Tt(e,n.codePointAt(s))},Ke=on&&on.encodeInto?yr:_r,ps=(e,t)=>ms(e,string.encodeUtf8(t)),ms=(e,t)=>{for(let n=0;n<t.length;n++){const r=t[n];(r===0||r===1)&&Tt(e,1),Tt(e,t[n])}Tt(e,0)},Ui=(e,t)=>an(e,oe(t)),an=(e,t)=>{const n=e.cbuf.length,r=e.cpos,s=Ae(n-r,t.length),i=t.length-s;e.cbuf.set(t.subarray(0,s),r),e.cpos+=s,i>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(ne(n*2,i)),e.cbuf.set(t.subarray(s)),e.cpos=i)},re=(e,t)=>{wt(e,t.byteLength),an(e,t)},Sn=(e,t)=>{fs(e,t);const n=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,n},ys=(e,t)=>Sn(e,4).setFloat32(0,t,!1),wr=(e,t)=>Sn(e,8).setFloat64(0,t,!1),_s=(e,t)=>Sn(e,8).setBigInt64(0,t,!1),Mi=(e,t)=>Sn(e,8).setBigUint64(0,t,!1),vr=new DataView(new ArrayBuffer(4)),ws=e=>(vr.setFloat32(0,e),vr.getFloat32(0)===e),un=(e,t)=>{switch(typeof t){case"string":Tt(e,119),Ke(e,t);break;case"number":fr(t)&&Dt(t)<=dr?(Tt(e,125),ln(e,t)):ws(t)?(Tt(e,124),ys(e,t)):(Tt(e,123),wr(e,t));break;case"bigint":Tt(e,122),_s(e,t);break;case"object":if(t===null)Tt(e,126);else if(Mt(t)){Tt(e,117),wt(e,t.length);for(let n=0;n<t.length;n++)un(e,t[n])}else if(t instanceof Uint8Array)Tt(e,116),re(e,t);else{Tt(e,118);const n=Object.keys(t);wt(e,n.length);for(let r=0;r<n.length;r++){const s=n[r];Ke(e,s),un(e,t[s])}}break;case"boolean":Tt(e,t?120:121);break;default:Tt(e,127)}};class br extends me{constructor(t){super(),this.w=t,this.s=null,this.count=0}write(t){this.s===t?this.count++:(this.count>0&&wt(this,this.count-1),this.count=1,this.w(this,t),this.s=t)}}class Pi extends null{constructor(t){super(),this.s=t}write(t){ln(this,t-this.s),this.s=t}}class Bi extends null{constructor(t){super(),this.s=t,this.count=0}write(t){this.s===t&&this.count>0?this.count++:(this.count>0&&wt(this,this.count-1),this.count=1,ln(this,t-this.s),this.s=t)}}const Cn=e=>{e.count>0&&(ln(e.encoder,e.count===1?e.s:-e.s),e.count>1&&wt(e.encoder,e.count-2))};class En{constructor(){this.encoder=new me,this.s=0,this.count=0}write(t){this.s===t?this.count++:(Cn(this),this.count=1,this.s=t)}toUint8Array(){return Cn(this),oe(this.encoder)}}class Ni{constructor(){this.encoder=new me,this.s=0,this.count=0}write(t){this.s+this.count===t?this.count++:(Cn(this),this.count=1,this.s=t)}toUint8Array(){return Cn(this),oe(this.encoder)}}const Sr=e=>{if(e.count>0){const t=e.diff*2+(e.count===1?0:1);ln(e.encoder,t),e.count>1&&wt(e.encoder,e.count-2)}};class Yn{constructor(){this.encoder=new me,this.s=0,this.count=0,this.diff=0}write(t){this.diff===t-this.s?(this.s=t,this.count++):(Sr(this),this.count=1,this.diff=t-this.s,this.s=t)}toUint8Array(){return Sr(this),oe(this.encoder)}}class vs{constructor(){this.sarr=[],this.s="",this.lensE=new En}write(t){this.s+=t,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(t.length)}toUint8Array(){const t=new me;return this.sarr.push(this.s),this.s="",Ke(t,this.sarr.join("")),an(t,this.lensE.toUint8Array()),oe(t)}}const Ri=crypto.subtle,bs=crypto.getRandomValues.bind(crypto),Ss=Math.random,Cr=()=>bs(new Uint32Array(1))[0],ji=()=>{const e=getRandomValues(new Uint32Array(8));return(e[0]&binary.BITS21)*(binary.BITS32+1)+(e[1]>>>0)},Li=e=>e[math.floor(Ss()*e.length)],Cs=[1e7]+-1e3+-4e3+-8e3+-1e11,Es=()=>Cs.replace(/[018]/g,e=>(e^Cr()&15>>e/4).toString(16)),kn=e=>new Promise(e),Vi=e=>new Promise(e),Fi=Promise.all.bind(Promise),zi=e=>Promise.reject(e),Zi=e=>Promise.resolve(e),$i=e=>Promise.resolve(e),xt=(e,t,n=10)=>kn((r,s)=>{const i=time.getUnixTime(),o=e>0,u=setInterval(()=>{t()?(clearInterval(u),r()):o&&time.getUnixTime()-i>e&&(clearInterval(u),s(new Error("Timeout")))},n)}),Hi=e=>kn((t,n)=>setTimeout(t,e)),Gi=e=>e instanceof Promise||e&&e.then&&e.catch&&e.finally,We=e=>new Error(e),ye=()=>{throw We("Method unimplemented")},Ee=()=>{throw We("Unexpected case")},Tn=(e,t,n=0)=>{try{for(;n<e.length;n++)e[n](...t)}finally{n<e.length&&Tn(e,t,n+1)}},In=()=>{},Ki=e=>e(),Er=e=>e,ks=(e,t)=>e===t,Ts=(e,t)=>e===t||e!=null&&t!=null&&e.constructor===t.constructor&&(array.isArray(e)&&array.equalFlat(e,t)||typeof e=="object"&&object.equalFlat(e,t)),On=(e,t)=>{if(e==null||t==null)return ks(e,t);if(e.constructor!==t.constructor)return!1;if(e===t)return!0;switch(e.constructor){case ArrayBuffer:e=new Uint8Array(e),t=new Uint8Array(t);case Uint8Array:{if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;break}case Set:{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;break}case Map:{if(e.size!==t.size)return!1;for(const n of e.keys())if(!t.has(n)||!On(e.get(n),t.get(n)))return!1;break}case Object:if(object.length(e)!==object.length(t))return!1;for(const n in e)if(!object.hasProperty(e,n)||!On(e[n],t[n]))return!1;break;case Array:if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!On(e[n],t[n]))return!1;break;default:return!1}return!0},Is=(e,t)=>t.includes(e),Os=Mt,Wi=e=>e&&e.constructor===String,kr=e=>e!=null&&e.constructor===Number,Ji=(e,t)=>e&&e.constructor===t,Xi=e=>t=>t&&t.constructor===e,Tr=e=>e===void 0?null:e;class Ds{constructor(){this.map=new Map}setItem(t,n){this.map.set(t,n)}getItem(t){return this.map.get(t)}}let Ir=new Ds,Qn=!0;try{typeof localStorage!="undefined"&&localStorage&&(Ir=localStorage,Qn=!1)}catch(e){}const As=Ir,Yi=e=>Qn||addEventListener("storage",e),Qi=e=>Qn||removeEventListener("storage",e);var Fe=v(14224);const Je=typeof Fe!="undefined"&&Fe.release&&/node|io\.js/.test(Fe.release.name)&&Object.prototype.toString.call(typeof Fe!="undefined"?Fe:0)==="[object process]",xs=typeof window!="undefined"&&typeof document!="undefined"&&!Je,qi=typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1;let _e;const Us=[],qn=()=>{if(_e===void 0)if(Je){_e=b();const e=Fe.argv;let t=null;for(let n=0;n<e.length;n++){const r=e[n];r[0]==="-"?(t!==null&&_e.set(t,""),t=r):t!==null?(_e.set(t,r),t=null):Us.push(r)}t!==null&&_e.set(t,"")}else typeof location=="object"?(_e=b(),(location.search||"?").slice(1).split("&").forEach(e=>{if(e.length!==0){const[t,n]=e.split("=");_e.set(`--${Wn(t,"-")}`,n),_e.set(`-${Wn(t,"-")}`,n)}})):_e=b();return _e},tr=e=>qn().has(e),to=(e,t)=>qn().get(e)||t,Dn=e=>Tr(Je?{NODE_ENV:"production",PUBLIC_PATH:"/"}[e.toUpperCase().replaceAll("-","_")]:As.getItem(e)),Ms=e=>qn().get("--"+e)||Dn(e),eo=e=>{const t=Ms(e);if(t==null)throw new Error(`Expected configuration "${e.toUpperCase().replaceAll("-","_")}"`);return t},ro=(e=>tr("--"+e)||Dn(e)!==null)("production"),er=Je&&Is({NODE_ENV:"production",PUBLIC_PATH:"/"}.FORCE_COLOR,["true","1","2"]),Ps=!tr("no-colors")&&(!Je||Fe.stdout.isTTY||er)&&(!Je||tr("color")||er||Dn("COLORTERM")!==null||(Dn("TERM")||"").includes("color"));class Or{constructor(t,n){this.left=t,this.right=n}}const ke=(e,t)=>new Or(e,t),so=(e,t)=>new Or(t,e),Bs=(e,t)=>e.forEach(n=>t(n.left,n.right)),io=(e,t)=>e.map(n=>t(n.left,n.right)),ae=typeof document!="undefined"?document:{},nr=e=>ae.createElement(e),Ns=()=>ae.createDocumentFragment(),oo=e=>ae.createTextNode(e),Dr=typeof DOMParser!="undefined"?new DOMParser:null,co=(e,t,n)=>e.dispatchEvent(new CustomEvent(t,n)),Rs=(e,t)=>(pair.forEach(t,(n,r)=>{r===!1?e.removeAttribute(n):r===!0?e.setAttribute(n,""):e.setAttribute(n,r)}),e),lo=(e,t)=>(t.forEach((n,r)=>{e.setAttribute(r,n)}),e),Ar=e=>{const t=Ns();for(let n=0;n<e.length;n++)U(t,e[n]);return t},js=(e,t)=>(U(e,Ar(t)),e),ao=e=>e.remove(),Ls=(e,t,n)=>e.addEventListener(t,n),Vs=(e,t,n)=>e.removeEventListener(t,n),uo=(e,t)=>(pair.forEach(t,(n,r)=>Ls(e,n,r)),e),fo=(e,t)=>(pair.forEach(t,(n,r)=>Vs(e,n,r)),e),ho=(e,t=[],n=[])=>js(Rs(nr(e),t),n),go=(e,t)=>{const n=nr("canvas");return n.height=t,n.width=e,n},po=null,Fs=e=>`${e.left}:${e.right};`,mo=e=>e.map(Fs).join(""),zs=e=>V(e,(t,n)=>`${n}:${t};`).join(""),yo=(e,t)=>e.querySelector(t),_o=(e,t)=>e.querySelectorAll(t),wo=e=>ae.getElementById(e),xr=e=>Dr.parseFromString(`<html><body>${e}</body></html>`,"text/html").body,vo=e=>Ar(xr(e).childNodes),a=e=>xr(e).firstElementChild,g=(e,t)=>e.replaceWith(t),y=(e,t,n)=>e.insertBefore(t,n),U=(e,t)=>e.appendChild(t),pt=ae.ELEMENT_NODE,It=ae.TEXT_NODE,Pt=ae.CDATA_SECTION_NODE,ut=ae.COMMENT_NODE,Bt=ae.DOCUMENT_NODE,ue=ae.DOCUMENT_TYPE_NODE,ce=ae.DOCUMENT_FRAGMENT_NODE,An=(e,t)=>e.nodeType===t,Ur=(e,t)=>{let n=t.parentNode;for(;n&&n!==e;)n=n.parentNode;return n===e},de=Symbol,Zs=e=>typeof e=="symbol",Ca=()=>new Date,bo=Date.now,Ea=e=>{if(e<6e4){const i=metric.prefix(e,-1);return math.round(i.n*100)/100+i.prefix+"s"}e=math.floor(e/1e3);const t=e%60,n=math.floor(e/60)%60,r=math.floor(e/3600)%24,s=math.floor(e/86400);return s>0?s+"d"+(r>0||n>30?" "+(n>30?r+1:r)+"h":""):r>0?r+"h"+(n>0||t>30?" "+(t>30?n+1:n)+"min":""):n+"min"+(t>0?" "+t+"s":"")},So=de(),Co=de(),Eo=de(),zc=de(),ko=de(),To=de(),Io=de(),Mr=de(),Oo=de(),Zc=e=>{var s;e.length===1&&((s=e[0])==null?void 0:s.constructor)===Function&&(e=e[0]());const t=[],n=[];let r=0;for(;r<e.length;r++){const i=e[r];i===void 0?t.push("undefined"):i.constructor===String||i.constructor===Number?t.push(i):i.constructor===Object&&n.push(JSON.stringify(i))}return n},Do=[ko,Io,Mr,Eo];let $s=0,Ao=bo();const ka=(e,t)=>{const n=Do[$s],r=env.getVariable("log"),s=r!==null&&(r==="*"||r==="true"||new RegExp(r,"gi").test(t));return $s=($s+1)%Do.length,t+=": ",s?(...i)=>{var u;i.length===1&&((u=i[0])==null?void 0:u.constructor)===Function&&(i=i[0]());const o=time.getUnixTime(),l=o-Ao;Ao=o,e(n,t,Oo,...i.map(m=>{switch(m!=null&&m.constructor===Uint8Array&&(m=Array.from(m)),typeof m){case"string":case"symbol":return m;default:return json.stringify(m)}}),n," +"+l+"ms")}:func.nop},xo={[So]:ke("font-weight","bold"),[Co]:ke("font-weight","normal"),[Eo]:ke("color","blue"),[ko]:ke("color","green"),[zc]:ke("color","grey"),[To]:ke("color","red"),[Io]:ke("color","purple"),[Mr]:ke("color","orange"),[Oo]:ke("color","black")},Pr=Ps?e=>{var o;e.length===1&&((o=e[0])==null?void 0:o.constructor)===Function&&(e=e[0]());const t=[],n=[],r=b();let s=[],i=0;for(;i<e.length;i++){const l=e[i],u=xo[l];if(u!==void 0)r.set(u.left,u.right);else{if(l===void 0)break;if(l.constructor===String||l.constructor===Number){const m=zs(r);i>0||m.length>0?(t.push("%c"+l),n.push(m)):t.push(l)}else break}}for(i>0&&(s=n,s.unshift(t.join("")));i<e.length;i++){const l=e[i];l instanceof Symbol||s.push(l)}return s}:Zc,Uo=(...e)=>{console.log(...Pr(e)),Me.forEach(t=>t.print(e))},$c=(...e)=>{console.warn(...Pr(e)),e.unshift(Mr),Me.forEach(t=>t.print(e))},Ia=e=>{console.error(e),Me.forEach(t=>t.printError(e))},Mo=(e,t)=>{env.isBrowser&&console.log("%c                      ",`font-size: ${t}px; background-size: contain; background-repeat: no-repeat; background-image: url(${e})`),Me.forEach(n=>n.printImg(e,t))},Oa=(e,t)=>Mo(`data:image/gif;base64,${e}`,t),Da=(...e)=>{console.group(...Pr(e)),Me.forEach(t=>t.group(e))},Aa=(...e)=>{console.groupCollapsed(...Pr(e)),Me.forEach(t=>t.groupCollapsed(e))},xa=()=>{console.groupEnd(),Me.forEach(e=>e.groupEnd())},Ua=e=>Me.forEach(t=>t.printDom(e())),Ma=(e,t)=>Mo(e.toDataURL(),t),Me=N(),Po=e=>{const t=[],n=new Map;let r=0;for(;r<e.length;r++){let s=e[r];const i=xo[s];if(i!==void 0)n.set(i.left,i.right);else if(s===void 0&&(s="undefined "),s.constructor===String||s.constructor===Number){const o=dom.element("span",[pair.create("style",dom.mapToStyleString(n))],[dom.text(s.toString())]);o.innerHTML===""&&(o.innerHTML="&nbsp;"),t.push(o)}else break}for(;r<e.length;r++){let s=e[r];s instanceof Symbol||(s.constructor!==String&&s.constructor!==Number&&(s=" "+json.stringify(s)+" "),t.push(dom.element("span",[],[dom.text(s)])))}return t},Bo="font-family:monospace;border-bottom:1px solid #e2e2e2;padding:2px;";class Hc{constructor(t){this.dom=t,this.ccontainer=this.dom,this.depth=0,Me.add(this)}group(t,n=!1){eventloop.enqueue(()=>{const r=dom.element("span",[pair.create("hidden",n),pair.create("style","color:grey;font-size:120%;")],[dom.text("\u25BC")]),s=dom.element("span",[pair.create("hidden",!n),pair.create("style","color:grey;font-size:125%;")],[dom.text("\u25B6")]),i=dom.element("div",[pair.create("style",`${Bo};padding-left:${this.depth*10}px`)],[r,s,dom.text(" ")].concat(Po(t))),o=dom.element("div",[pair.create("hidden",n)]),l=dom.element("div",[],[i,o]);dom.append(this.ccontainer,[l]),this.ccontainer=o,this.depth++,dom.addEventListener(i,"click",u=>{o.toggleAttribute("hidden"),r.toggleAttribute("hidden"),s.toggleAttribute("hidden")})})}groupCollapsed(t){this.group(t,!0)}groupEnd(){eventloop.enqueue(()=>{this.depth>0&&(this.depth--,this.ccontainer=this.ccontainer.parentElement.parentElement)})}print(t){eventloop.enqueue(()=>{dom.append(this.ccontainer,[dom.element("div",[pair.create("style",`${Bo};padding-left:${this.depth*10}px`)],Po(t))])})}printError(t){this.print([common.RED,common.BOLD,t.toString()])}printImg(t,n){eventloop.enqueue(()=>{dom.append(this.ccontainer,[dom.element("img",[pair.create("src",t),pair.create("height",`${math.round(n*1.5)}px`)])])})}printDom(t){eventloop.enqueue(()=>{dom.append(this.ccontainer,[t])})}destroy(){eventloop.enqueue(()=>{Me.delete(this)})}}const Pa=e=>new Hc(e),Ba=e=>common.createModuleLogger(Uo,e),Na=(e,t)=>({[Symbol.iterator](){return this},next(){const n=e.next();return{value:n.done?void 0:t(n.value),done:n.done}}}),No=e=>({[Symbol.iterator](){return this},next:e}),Gc=(e,t)=>No(()=>{let n;do n=e.next();while(!n.done&&!t(n.value));return n}),Hs=(e,t)=>No(()=>{const{done:n,value:r}=e.next();return{done:n,value:n?void 0:t(r)}}),Ra=()=>Object.create(null),Kc=Object.assign,Wc=Object.keys,Jc=(e,t)=>{for(const n in e)t(e[n],n)},ja=(e,t)=>{const n=[];for(const r in e)n.push(t(e[r],r));return n},Ro=e=>Wc(e).length,La=(e,t)=>{for(const n in e)if(t(e[n],n))return!0;return!1},Xc=e=>{for(const t in e)return!1;return!0},Yc=(e,t)=>{for(const n in e)if(!t(e[n],n))return!1;return!0},Qc=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),qc=(e,t)=>e===t||Ro(e)===Ro(t)&&Yc(e,(n,r)=>(n!==void 0||Qc(t,r))&&t[r]===n);class Va extends null{constructor(t,n){super(),this.doc=t,this.awareness=n}}class Gs{constructor(t,n){this.clock=t,this.len=n}}class xn{constructor(){this.clients=new Map}}const Un=(e,t,n)=>t.clients.forEach((r,s)=>{const i=e.doc.store.clients.get(s);for(let o=0;o<r.length;o++){const l=r[o];nc(e,i,l.clock,l.len,n)}}),tl=(e,t)=>{let n=0,r=e.length-1;for(;n<=r;){const s=bt((n+r)/2),i=e[s],o=i.clock;if(o<=t){if(t<o+i.len)return s;n=s+1}else r=s-1}return null},Mn=(e,t)=>{const n=e.clients.get(t.client);return n!==void 0&&tl(n,t.clock)!==null},Ks=e=>{e.clients.forEach(t=>{t.sort((s,i)=>s.clock-i.clock);let n,r;for(n=1,r=1;n<t.length;n++){const s=t[r-1],i=t[n];s.clock+s.len>=i.clock?s.len=ne(s.len,i.clock+i.len-s.clock):(r<n&&(t[r]=i),r++)}t.length=r})},Pn=e=>{const t=new xn;for(let n=0;n<e.length;n++)e[n].clients.forEach((r,s)=>{if(!t.clients.has(s)){const i=r.slice();for(let o=n+1;o<e.length;o++)St(i,e[o].clients.get(s)||[]);t.clients.set(s,i)}});return Ks(t),t},rr=(e,t,n,r)=>{E(e.clients,t,()=>[]).push(new Gs(n,r))},Ws=()=>new xn,jo=e=>{const t=Ws();return e.clients.forEach((n,r)=>{const s=[];for(let i=0;i<n.length;i++){const o=n[i];if(o.deleted){const l=o.id.clock;let u=o.length;if(i+1<n.length)for(let m=n[i+1];i+1<n.length&&m.deleted;m=n[++i+1])u+=m.length;s.push(new Gs(l,u))}}s.length>0&&t.clients.set(r,s)}),t},Pe=(e,t)=>{wt(e.restEncoder,t.clients.size),Ct(t.clients.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{e.resetDsCurVal(),wt(e.restEncoder,n);const s=r.length;wt(e.restEncoder,s);for(let i=0;i<s;i++){const o=r[i];e.writeDsClock(o.clock),e.writeDsLen(o.len)}})},ze=e=>{const t=new xn,n=decoding.readVarUint(e.restDecoder);for(let r=0;r<n;r++){e.resetDsCurVal();const s=decoding.readVarUint(e.restDecoder),i=decoding.readVarUint(e.restDecoder);if(i>0){const o=map.setIfUndefined(t.clients,s,()=>[]);for(let l=0;l<i;l++)o.push(new Gs(e.readDsClock(),e.readDsLen()))}}return t},Lo=(e,t,n)=>{const r=new xn,s=decoding.readVarUint(e.restDecoder);for(let i=0;i<s;i++){e.resetDsCurVal();const o=decoding.readVarUint(e.restDecoder),l=decoding.readVarUint(e.restDecoder),u=n.clients.get(o)||[],m=Vt(n,o);for(let h=0;h<l;h++){const p=e.readDsClock(),_=p+e.readDsLen();if(p<m){m<_&&rr(r,o,m,_-m);let T=Ie(u,p),x=u[T];for(!x.deleted&&x.id.clock<p&&(u.splice(T+1,0,Yr(t,x,p-x.id.clock)),T++);T<u.length&&(x=u[T++],x.id.clock<_);)x.deleted||(_<x.id.clock+x.length&&u.splice(T,0,Yr(t,x,_-x.id.clock)),x.delete(t))}else rr(r,o,p,_-p)}}if(r.clients.size>0){const i=new Be;return encoding.writeVarUint(i.restEncoder,0),Pe(i,r),i.toUint8Array()}return null},el=(e,t)=>{if(e.clients.size!==t.clients.size)return!1;for(const[n,r]of e.clients.entries()){const s=t.clients.get(n);if(s===void 0||r.length!==s.length)return!1;for(let i=0;i<r.length;i++){const o=r[i],l=s[i];if(o.clock!==l.clock||o.len!==l.len)return!1}}return!0},Vo=Cr;class dn extends jt{constructor({guid:t=Es(),collectionid:n=null,gc:r=!0,gcFilter:s=()=>!0,meta:i=null,autoLoad:o=!1,shouldLoad:l=!0}={}){super(),this.gc=r,this.gcFilter=s,this.clientID=Vo(),this.guid=t,this.collectionid=n,this.share=new Map,this.store=new qo,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=l,this.autoLoad=o,this.meta=i,this.isLoaded=!1,this.isSynced=!1,this.whenLoaded=kn(m=>{this.on("load",()=>{this.isLoaded=!0,m(this)})});const u=()=>kn(m=>{const h=p=>{(p===void 0||p===!0)&&(this.off("sync",h),m())};this.on("sync",h)});this.on("sync",m=>{m===!1&&this.isSynced&&(this.whenSynced=u()),this.isSynced=m===void 0||m===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=u()}load(){const t=this._item;t!==null&&!this.shouldLoad&&Ot(t.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Ct(this.subdocs).map(t=>t.guid))}transact(t,n=null){return Ot(this,t,n)}get(t,n=Xt){const r=E(this.share,t,()=>{const i=new n;return i._integrate(this,null),i}),s=r.constructor;if(n!==Xt&&s!==n)if(s===Xt){const i=new n;i._map=r._map,r._map.forEach(o=>{for(;o!==null;o=o.left)o.parent=i}),i._start=r._start;for(let o=i._start;o!==null;o=o.right)o.parent=i;return i._length=r._length,this.share.set(t,i),i._integrate(this,null),i}else throw new Error(`Type with the name ${t} has already been defined with a different constructor`);return r}getArray(t=""){return this.get(t,qe)}getText(t=""){return this.get(t,Ln)}getMap(t=""){return this.get(t,hn)}getXmlElement(t=""){return this.get(t,pn)}getXmlFragment(t=""){return this.get(t,gn)}toJSON(){const t={};return this.share.forEach((n,r)=>{t[r]=n.toJSON()}),t}destroy(){Ct(this.subdocs).forEach(n=>n.destroy());const t=this._item;if(t!==null){this._item=null;const n=t.content;n.doc=new dn(di(Qr({guid:this.guid},n.opts),{shouldLoad:!1})),n.doc._item=t,Ot(t.parent.doc,r=>{const s=n.doc;t.deleted||r.subdocsAdded.add(s),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class Br{constructor(t){this.restDecoder=t}resetDsCurVal(){}readDsClock(){return decoding.readVarUint(this.restDecoder)}readDsLen(){return decoding.readVarUint(this.restDecoder)}}class Te extends null{readLeftID(){return X(decoding.readVarUint(this.restDecoder),decoding.readVarUint(this.restDecoder))}readRightID(){return X(decoding.readVarUint(this.restDecoder),decoding.readVarUint(this.restDecoder))}readClient(){return decoding.readVarUint(this.restDecoder)}readInfo(){return decoding.readUint8(this.restDecoder)}readString(){return decoding.readVarString(this.restDecoder)}readParentInfo(){return decoding.readVarUint(this.restDecoder)===1}readTypeRef(){return decoding.readVarUint(this.restDecoder)}readLen(){return decoding.readVarUint(this.restDecoder)}readAny(){return decoding.readAny(this.restDecoder)}readBuf(){return buffer.copyUint8Array(decoding.readVarUint8Array(this.restDecoder))}readJSON(){return JSON.parse(decoding.readVarString(this.restDecoder))}readKey(){return decoding.readVarString(this.restDecoder)}}class nl{constructor(t){this.dsCurrVal=0,this.restDecoder=t}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=decoding.readVarUint(this.restDecoder),this.dsCurrVal}readDsLen(){const t=decoding.readVarUint(this.restDecoder)+1;return this.dsCurrVal+=t,t}}class we extends null{constructor(t){super(t),this.keys=[],decoding.readVarUint(t),this.keyClockDecoder=new decoding.IntDiffOptRleDecoder(decoding.readVarUint8Array(t)),this.clientDecoder=new decoding.UintOptRleDecoder(decoding.readVarUint8Array(t)),this.leftClockDecoder=new decoding.IntDiffOptRleDecoder(decoding.readVarUint8Array(t)),this.rightClockDecoder=new decoding.IntDiffOptRleDecoder(decoding.readVarUint8Array(t)),this.infoDecoder=new decoding.RleDecoder(decoding.readVarUint8Array(t),decoding.readUint8),this.stringDecoder=new decoding.StringDecoder(decoding.readVarUint8Array(t)),this.parentInfoDecoder=new decoding.RleDecoder(decoding.readVarUint8Array(t),decoding.readUint8),this.typeRefDecoder=new decoding.UintOptRleDecoder(decoding.readVarUint8Array(t)),this.lenDecoder=new decoding.UintOptRleDecoder(decoding.readVarUint8Array(t))}readLeftID(){return new Nn(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new Nn(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return decoding.readAny(this.restDecoder)}readBuf(){return decoding.readVarUint8Array(this.restDecoder)}readJSON(){return decoding.readAny(this.restDecoder)}readKey(){const t=this.keyClockDecoder.read();if(t<this.keys.length)return this.keys[t];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class Bn{constructor(){this.restEncoder=bn()}toUint8Array(){return oe(this.restEncoder)}resetDsCurVal(){}writeDsClock(t){wt(this.restEncoder,t)}writeDsLen(t){wt(this.restEncoder,t)}}class fn extends Bn{writeLeftID(t){wt(this.restEncoder,t.client),wt(this.restEncoder,t.clock)}writeRightID(t){wt(this.restEncoder,t.client),wt(this.restEncoder,t.clock)}writeClient(t){wt(this.restEncoder,t)}writeInfo(t){Jn(this.restEncoder,t)}writeString(t){Ke(this.restEncoder,t)}writeParentInfo(t){wt(this.restEncoder,t?1:0)}writeTypeRef(t){wt(this.restEncoder,t)}writeLen(t){wt(this.restEncoder,t)}writeAny(t){un(this.restEncoder,t)}writeBuf(t){re(this.restEncoder,t)}writeJSON(t){Ke(this.restEncoder,JSON.stringify(t))}writeKey(t){Ke(this.restEncoder,t)}}class Nr{constructor(){this.restEncoder=bn(),this.dsCurrVal=0}toUint8Array(){return oe(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(t){const n=t-this.dsCurrVal;this.dsCurrVal=t,wt(this.restEncoder,n)}writeDsLen(t){t===0&&Ee(),wt(this.restEncoder,t-1),this.dsCurrVal+=t}}class Be extends Nr{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Yn,this.clientEncoder=new En,this.leftClockEncoder=new Yn,this.rightClockEncoder=new Yn,this.infoEncoder=new br(Jn),this.stringEncoder=new vs,this.parentInfoEncoder=new br(Jn),this.typeRefEncoder=new En,this.lenEncoder=new En}toUint8Array(){const t=bn();return wt(t,0),re(t,this.keyClockEncoder.toUint8Array()),re(t,this.clientEncoder.toUint8Array()),re(t,this.leftClockEncoder.toUint8Array()),re(t,this.rightClockEncoder.toUint8Array()),re(t,oe(this.infoEncoder)),re(t,this.stringEncoder.toUint8Array()),re(t,oe(this.parentInfoEncoder)),re(t,this.typeRefEncoder.toUint8Array()),re(t,this.lenEncoder.toUint8Array()),an(t,oe(this.restEncoder)),oe(t)}writeLeftID(t){this.clientEncoder.write(t.client),this.leftClockEncoder.write(t.clock)}writeRightID(t){this.clientEncoder.write(t.client),this.rightClockEncoder.write(t.clock)}writeClient(t){this.clientEncoder.write(t)}writeInfo(t){this.infoEncoder.write(t)}writeString(t){this.stringEncoder.write(t)}writeParentInfo(t){this.parentInfoEncoder.write(t?1:0)}writeTypeRef(t){this.typeRefEncoder.write(t)}writeLen(t){this.lenEncoder.write(t)}writeAny(t){un(this.restEncoder,t)}writeBuf(t){re(this.restEncoder,t)}writeJSON(t){un(this.restEncoder,t)}writeKey(t){const n=this.keyMap.get(t);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(t)):this.keyClockEncoder.write(n)}}const rl=(e,t,n,r)=>{r=ne(r,t[0].id.clock);const s=Ie(t,r);wt(e.restEncoder,t.length-s),e.writeClient(n),wt(e.restEncoder,r);const i=t[s];i.write(e,r-i.id.clock);for(let o=s+1;o<t.length;o++)t[o].write(e,0)},Js=(e,t,n)=>{const r=new Map;n.forEach((s,i)=>{Vt(t,i)>s&&r.set(i,s)}),sr(t).forEach((s,i)=>{n.has(i)||r.set(i,0)}),wt(e.restEncoder,r.size),Ct(r.entries()).sort((s,i)=>i[0]-s[0]).forEach(([s,i])=>{rl(e,t.clients.get(s),s,i)})},sl=(e,t)=>{const n=map.create(),r=decoding.readVarUint(e.restDecoder);for(let s=0;s<r;s++){const i=decoding.readVarUint(e.restDecoder),o=new Array(i),l=e.readClient();let u=decoding.readVarUint(e.restDecoder);n.set(l,{i:0,refs:o});for(let m=0;m<i;m++){const h=e.readInfo();switch(binary.BITS5&h){case 0:{const p=e.readLen();o[m]=new fe(X(l,u),p),u+=p;break}case 10:{const p=decoding.readVarUint(e.restDecoder);o[m]=new le(X(l,u),p),u+=p;break}default:{const p=(h&(binary.BIT7|binary.BIT8))===0,_=new kt(X(l,u),null,(h&binary.BIT8)===binary.BIT8?e.readLeftID():null,null,(h&binary.BIT7)===binary.BIT7?e.readRightID():null,p?e.readParentInfo()?t.get(e.readString()):e.readLeftID():null,p&&(h&binary.BIT6)===binary.BIT6?e.readString():null,Nc(e,h));o[m]=_,u+=_.length}}}}return n},il=(e,t,n)=>{const r=[];let s=array.from(n.keys()).sort((T,x)=>T-x);if(s.length===0)return null;const i=()=>{if(s.length===0)return null;let T=n.get(s[s.length-1]);for(;T.refs.length===T.i;)if(s.pop(),s.length>0)T=n.get(s[s.length-1]);else return null;return T};let o=i();if(o===null)return null;const l=new qo,u=new Map,m=(T,x)=>{const vt=u.get(T);(vt==null||vt>x)&&u.set(T,x)};let h=o.refs[o.i++];const p=new Map,_=()=>{for(const T of r){const x=T.id.client,vt=n.get(x);vt?(vt.i--,l.clients.set(x,vt.refs.slice(vt.i)),n.delete(x),vt.i=0,vt.refs=[]):l.clients.set(x,[T]),s=s.filter(W=>W!==x)}r.length=0};for(;;){if(h.constructor!==le){const x=map.setIfUndefined(p,h.id.client,()=>Vt(t,h.id.client))-h.id.clock;if(x<0)r.push(h),m(h.id.client,h.id.clock-1),_();else{const vt=h.getMissing(e,t);if(vt!==null){r.push(h);const W=n.get(vt)||{refs:[],i:0};if(W.refs.length===W.i)m(vt,Vt(t,vt)),_();else{h=W.refs[W.i++];continue}}else(x===0||x<h.length)&&(h.integrate(e,x),p.set(h.id.client,h.id.clock+h.length))}}if(r.length>0)h=r.pop();else if(o!==null&&o.i<o.refs.length)h=o.refs[o.i++];else{if(o=i(),o===null)break;h=o.refs[o.i++]}}if(l.clients.size>0){const T=new Be;return Js(T,l,new Map),encoding.writeVarUint(T.restEncoder,0),{missing:u,update:T.toUint8Array()}}return null},ol=(e,t)=>Js(e,t.doc.store,t.beforeState),Fo=(e,t,n,r=new we(e))=>Ot(t,s=>{s.local=!1;let i=!1;const o=s.doc,l=o.store,u=sl(r,o),m=il(s,l,u),h=l.pendingStructs;if(h){for(const[_,T]of h.missing)if(T<Vt(l,_)){i=!0;break}if(m){for(const[_,T]of m.missing){const x=h.missing.get(_);(x==null||x>T)&&h.missing.set(_,T)}h.update=Fr([h.update,m.update])}}else l.pendingStructs=m;const p=Lo(r,s,l);if(l.pendingDs){const _=new we(decoding.createDecoder(l.pendingDs));decoding.readVarUint(_.restDecoder);const T=Lo(_,s,l);p&&T?l.pendingDs=Fr([p,T]):l.pendingDs=p||T}else l.pendingDs=p;if(i){const _=l.pendingStructs.update;l.pendingStructs=null,Xs(s.doc,_)}},n,!1),Fa=(e,t,n)=>Fo(e,t,n,new Te(e)),Xs=(e,t,n,r=we)=>{const s=decoding.createDecoder(t);Fo(s,e,n,new r(s))},za=(e,t,n)=>Xs(e,t,n,Te),cl=(e,t,n=new Map)=>{Js(e,t.store,n),Pe(e,jo(t.store))},ll=(e,t=new Uint8Array([0]),n=new Be)=>{const r=Zo(t);cl(n,e,r);const s=[n.toUint8Array()];if(e.store.pendingDs&&s.push(e.store.pendingDs),e.store.pendingStructs&&s.push(uc(e.store.pendingStructs.update,t)),s.length>1){if(n.constructor===fn)return Tl(s.map((i,o)=>o===0?i:Al(i)));if(n.constructor===Be)return Fr(s)}return s[0]},Za=(e,t)=>ll(e,t,new fn),zo=e=>{const t=new Map,n=decoding.readVarUint(e.restDecoder);for(let r=0;r<n;r++){const s=decoding.readVarUint(e.restDecoder),i=decoding.readVarUint(e.restDecoder);t.set(s,i)}return t},Zo=e=>zo(new Br(decoding.createDecoder(e))),Ys=(e,t)=>(encoding.writeVarUint(e.restEncoder,t.size),array.from(t.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{encoding.writeVarUint(e.restEncoder,n),encoding.writeVarUint(e.restEncoder,r)}),e),al=(e,t)=>Ys(e,sr(t.store)),ul=(e,t=new Nr)=>(e instanceof Map?Ys(t,e):al(t,e),t.toUint8Array()),$a=e=>ul(e,new Bn);class dl{constructor(){this.l=[]}}const $o=()=>new dl,Ho=(e,t)=>e.l.push(t),Go=(e,t)=>{const n=e.l,r=n.length;e.l=n.filter(s=>t!==s),r===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},Ko=(e,t,n)=>Tn(e.l,[t,n]);class Nn{constructor(t,n){this.client=t,this.clock=n}}const Rn=(e,t)=>e===t||e!==null&&t!==null&&e.client===t.client&&e.clock===t.clock,X=(e,t)=>new Nn(e,t),Wo=(e,t)=>{encoding.writeVarUint(e,t.client),encoding.writeVarUint(e,t.clock)},Jo=e=>X(decoding.readVarUint(e),decoding.readVarUint(e)),Xo=e=>{for(const[t,n]of e.doc.share.entries())if(n===e)return t;throw Ee()},Rr=(e,t)=>{for(;t!==null;){if(t.parent===e)return!0;t=t.parent._item}return!1},Ha=e=>{const t=[];let n=e._start;for(;n;)t.push(n),n=n.right;console.log("Children: ",t),console.log("Children content: ",t.filter(r=>!r.deleted).map(r=>r.content))};class Ga{constructor(t,n=t.getMap("users")){const r=new Map;this.yusers=n,this.doc=t,this.clients=new Map,this.dss=r;const s=(i,o)=>{const l=i.get("ds"),u=i.get("ids"),m=h=>this.clients.set(h,o);l.observe(h=>{h.changes.added.forEach(p=>{p.content.getContent().forEach(_=>{_ instanceof Uint8Array&&this.dss.set(o,Pn([this.dss.get(o)||Ws(),ze(new Br(decoding.createDecoder(_)))]))})})}),this.dss.set(o,Pn(l.map(h=>ze(new Br(decoding.createDecoder(h)))))),u.observe(h=>h.changes.added.forEach(p=>p.content.getContent().forEach(m))),u.forEach(m)};n.observe(i=>{i.keysChanged.forEach(o=>s(n.get(o),o))}),n.forEach(s)}setUserMapping(t,n,r,{filter:s=()=>!0}={}){const i=this.yusers;let o=i.get(r);o||(o=new hn,o.set("ids",new qe),o.set("ds",new qe),i.set(r,o)),o.get("ids").push([n]),i.observe(l=>{setTimeout(()=>{const u=i.get(r);if(u!==o){o=u,this.clients.forEach((p,_)=>{r===p&&o.get("ids").push([_])});const m=new Bn,h=this.dss.get(r);h&&(Pe(m,h),o.get("ds").push([m.toUint8Array()]))}},0)}),t.on("afterTransaction",l=>{setTimeout(()=>{const u=o.get("ds"),m=l.deleteSet;if(l.local&&m.clients.size>0&&s(l,m)){const h=new Bn;Pe(h,m),u.push([h.toUint8Array()])}})})}getUserByClientId(t){return this.clients.get(t)||null}getUserByDeletedId(t){for(const[n,r]of this.dss.entries())if(Mn(r,t))return n;return null}}class Qs{constructor(t,n,r,s=0){this.type=t,this.tname=n,this.item=r,this.assoc=s}}const Ka=e=>{const t={};return e.type&&(t.type=e.type),e.tname&&(t.tname=e.tname),e.item&&(t.item=e.item),e.assoc!=null&&(t.assoc=e.assoc),t},Wa=e=>new Qs(e.type==null?null:X(e.type.client,e.type.clock),e.tname||null,e.item==null?null:X(e.item.client,e.item.clock),e.assoc==null?0:e.assoc);class fl{constructor(t,n,r=0){this.type=t,this.index=n,this.assoc=r}}const hl=(e,t,n=0)=>new fl(e,t,n),jr=(e,t,n)=>{let r=null,s=null;return e._item===null?s=Xo(e):r=X(e._item.id.client,e._item.id.clock),new Qs(r,s,t,n)},Ja=(e,t,n=0)=>{let r=e._start;if(n<0){if(t===0)return jr(e,null,n);t--}for(;r!==null;){if(!r.deleted&&r.countable){if(r.length>t)return jr(e,X(r.id.client,r.id.clock+t),n);t-=r.length}if(r.right===null&&n<0)return jr(e,r.lastId,n);r=r.right}return jr(e,null,n)},gl=(e,t)=>{const{type:n,tname:r,item:s,assoc:i}=t;if(s!==null)encoding.writeVarUint(e,0),Wo(e,s);else if(r!==null)encoding.writeUint8(e,1),encoding.writeVarString(e,r);else if(n!==null)encoding.writeUint8(e,2),Wo(e,n);else throw error.unexpectedCase();return encoding.writeVarInt(e,i),e},Xa=e=>{const t=encoding.createEncoder();return gl(t,e),encoding.toUint8Array(t)},pl=e=>{let t=null,n=null,r=null;switch(decoding.readVarUint(e)){case 0:r=Jo(e);break;case 1:n=decoding.readVarString(e);break;case 2:t=Jo(e)}const s=decoding.hasContent(e)?decoding.readVarInt(e):0;return new Qs(t,n,r,s)},Ya=e=>pl(decoding.createDecoder(e)),Qa=(e,t)=>{const n=t.store,r=e.item,s=e.type,i=e.tname,o=e.assoc;let l=null,u=0;if(r!==null){if(Vt(n,r.client)<=r.clock)return null;const m=ai(n,r),h=m.item;if(!(h instanceof kt))return null;if(l=h.parent,l._item===null||!l._item.deleted){u=h.deleted||!h.countable?0:m.diff+(o>=0?0:1);let p=h.left;for(;p!==null;)!p.deleted&&p.countable&&(u+=p.length),p=p.left}}else{if(i!==null)l=t.get(i);else if(s!==null){if(Vt(n,s.client)<=s.clock)return null;const{item:m}=ai(n,s);if(m instanceof kt&&m.content instanceof De)l=m.content.type;else return null}else throw error.unexpectedCase();o>=0?u=l._length:u=0}return hl(l,u,e.assoc)},qa=(e,t)=>e===t||e!==null&&t!==null&&e.tname===t.tname&&Rn(e.item,t.item)&&Rn(e.type,t.type)&&e.assoc===t.assoc;class Yo{constructor(t,n){this.ds=t,this.sv=n}}const tu=(e,t)=>{const n=e.ds.clients,r=t.ds.clients,s=e.sv,i=t.sv;if(s.size!==i.size||n.size!==r.size)return!1;for(const[o,l]of s.entries())if(i.get(o)!==l)return!1;for(const[o,l]of n.entries()){const u=r.get(o)||[];if(l.length!==u.length)return!1;for(let m=0;m<l.length;m++){const h=l[m],p=u[m];if(h.clock!==p.clock||h.len!==p.len)return!1}}return!0},ml=(e,t=new Nr)=>(Pe(t,e.ds),Ys(t,e.sv),t.toUint8Array()),eu=e=>ml(e,new Bn),yl=(e,t=new nl(decoding.createDecoder(e)))=>new Yo(ze(t),zo(t)),nu=e=>yl(e,new Br(decoding.createDecoder(e))),Qo=(e,t)=>new Yo(e,t),ru=Qo(Ws(),new Map),su=e=>Qo(jo(e.store),sr(e.store)),Xe=(e,t)=>t===void 0?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!Mn(t.ds,e.id),qs=(e,t)=>{const n=E(e.meta,qs,N),r=e.doc.store;n.has(t)||(t.sv.forEach((s,i)=>{s<Vt(r,i)&&se(e,X(i,s))}),Un(e,t.ds,s=>{}),n.add(t))},iu=(e,t,n=new dn)=>{if(e.gc)throw new Error("Garbage-collection must be disabled in `originDoc`!");const{sv:r,ds:s}=t,i=new Be;return e.transact(o=>{let l=0;r.forEach(u=>{u>0&&l++}),encoding.writeVarUint(i.restEncoder,l);for(const[u,m]of r){if(m===0)continue;m<Vt(e.store,u)&&se(o,X(u,m));const h=e.store.clients.get(u)||[],p=Ie(h,m-1);encoding.writeVarUint(i.restEncoder,p+1),i.writeClient(u),encoding.writeVarUint(i.restEncoder,0);for(let _=0;_<=p;_++)h[_].write(i,0)}Pe(i,s)}),Xs(n,i.toUint8Array(),"snapshot"),n},_l=(e,t,n=we)=>{const r=new n(decoding.createDecoder(t)),s=new Ye(r,!1);for(let o=s.curr;o!==null;o=s.next())if((e.sv.get(o.id.client)||0)<o.id.clock+o.length)return!1;const i=Pn([e.ds,ze(r)]);return el(e.ds,i)},ou=(e,t)=>_l(e,t,Te);class qo{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const sr=e=>{const t=new Map;return e.clients.forEach((n,r)=>{const s=n[n.length-1];t.set(r,s.id.clock+s.length)}),t},Vt=(e,t)=>{const n=e.clients.get(t);if(n===void 0)return 0;const r=n[n.length-1];return r.id.clock+r.length},tc=(e,t)=>{let n=e.clients.get(t.id.client);if(n===void 0)n=[],e.clients.set(t.id.client,n);else{const r=n[n.length-1];if(r.id.clock+r.length!==t.id.clock)throw Ee()}n.push(t)},Ie=(e,t)=>{let n=0,r=e.length-1,s=e[r],i=s.id.clock;if(i===t)return r;let o=bt(t/(i+s.length-1)*r);for(;n<=r;){if(s=e[o],i=s.id.clock,i<=t){if(t<i+s.length)return o;n=o+1}else r=o-1;o=bt((n+r)/2)}throw Ee()},Lr=(e,t)=>{const n=e.clients.get(t.client);return n[Ie(n,t.clock)]},ti=(e,t,n)=>{const r=Ie(t,n),s=t[r];return s.id.clock<n&&s instanceof kt?(t.splice(r+1,0,Yr(e,s,n-s.id.clock)),r+1):r},se=(e,t)=>{const n=e.doc.store.clients.get(t.client);return n[ti(e,n,t.clock)]},ec=(e,t,n)=>{const r=t.clients.get(n.client),s=Ie(r,n.clock),i=r[s];return n.clock!==i.id.clock+i.length-1&&i.constructor!==fe&&r.splice(s+1,0,Yr(e,i,n.clock-i.id.clock+1)),i},wl=(e,t,n)=>{const r=e.clients.get(t.id.client);r[Ie(r,t.id.clock)]=n},nc=(e,t,n,r,s)=>{if(r===0)return;const i=n+r;let o=ti(e,t,n),l;do l=t[o++],i<l.id.clock+l.length&&ti(e,t,i),s(l);while(o<t.length&&t[o].id.clock<i)};class vl{constructor(t,n,r){this.doc=t,this.deleteSet=new xn,this.beforeState=sr(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const rc=(e,t)=>t.deleteSet.clients.size===0&&!I(t.afterState,(n,r)=>t.beforeState.get(r)!==n)?!1:(Ks(t.deleteSet),ol(e,t),Pe(e,t.deleteSet),!0),sc=(e,t,n)=>{const r=t._item;(r===null||r.id.clock<(e.beforeState.get(r.id.client)||0)&&!r.deleted)&&E(e.changed,t,N).add(n)},Vr=(e,t)=>{let n=e[t],r=e[t-1],s=t;for(;s>0;n=r,r=e[--s-1]){if(r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)){n instanceof kt&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);continue}break}const i=t-s;return i&&e.splice(t+1-i,i),i},ic=(e,t,n)=>{for(const[r,s]of e.clients.entries()){const i=t.clients.get(r);for(let o=s.length-1;o>=0;o--){const l=s[o],u=l.clock+l.len;for(let m=Ie(i,l.clock),h=i[m];m<i.length&&h.id.clock<u;h=i[++m]){const p=i[m];if(l.clock+l.len<=p.id.clock)break;p instanceof kt&&p.deleted&&!p.keep&&n(p)&&p.gc(t,!1)}}}},oc=(e,t)=>{e.clients.forEach((n,r)=>{const s=t.clients.get(r);for(let i=n.length-1;i>=0;i--){const o=n[i],l=Ae(s.length-1,1+Ie(s,o.clock+o.len-1));for(let u=l,m=s[u];u>0&&m.id.clock>=o.clock;m=s[u])u-=1+Vr(s,u)}})},lu=(e,t,n)=>{ic(e,t,n),oc(e,t)},cc=(e,t)=>{if(t<e.length){const n=e[t],r=n.doc,s=r.store,i=n.deleteSet,o=n._mergeStructs;try{Ks(i),n.afterState=sr(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const l=[];n.changed.forEach((u,m)=>l.push(()=>{(m._item===null||!m._item.deleted)&&m._callObserver(n,u)})),l.push(()=>{n.changedParentTypes.forEach((u,m)=>{m._dEH.l.length>0&&(m._item===null||!m._item.deleted)&&(u=u.filter(h=>h.target._item===null||!h.target._item.deleted),u.forEach(h=>{h.currentTarget=m,h._path=null}),u.sort((h,p)=>h.path.length-p.path.length),Ko(m._dEH,u,n))})}),l.push(()=>r.emit("afterTransaction",[n,r])),Tn(l,[]),n._needFormattingCleanup&&$l(n)}finally{r.gc&&ic(i,s,r.gcFilter),oc(i,s),n.afterState.forEach((h,p)=>{const _=n.beforeState.get(p)||0;if(_!==h){const T=s.clients.get(p),x=ne(Ie(T,_),1);for(let vt=T.length-1;vt>=x;)vt-=1+Vr(T,vt)}});for(let h=o.length-1;h>=0;h--){const{client:p,clock:_}=o[h].id,T=s.clients.get(p),x=Ie(T,_);x+1<T.length&&Vr(T,x+1)>1||x>0&&Vr(T,x)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(Uo(Mr,So,"[yjs] ",Co,To,"Changed the client-id because another client seems to be using it."),r.clientID=Vo()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const h=new fn;rc(h,n)&&r.emit("update",[h.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const h=new Be;rc(h,n)&&r.emit("updateV2",[h.toUint8Array(),n.origin,r,n])}const{subdocsAdded:l,subdocsLoaded:u,subdocsRemoved:m}=n;(l.size>0||m.size>0||u.size>0)&&(l.forEach(h=>{h.clientID=r.clientID,h.collectionid==null&&(h.collectionid=r.collectionid),r.subdocs.add(h)}),m.forEach(h=>r.subdocs.delete(h)),r.emit("subdocs",[{loaded:u,added:l,removed:m},r,n]),m.forEach(h=>h.destroy())),e.length<=t+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,e])):cc(e,t+1)}}},Ot=(e,t,n=null,r=!0)=>{const s=e._transactionCleanups;let i=!1,o=null;e._transaction===null&&(i=!0,e._transaction=new vl(e,n,r),s.push(e._transaction),s.length===1&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{o=t(e._transaction)}finally{if(i){const l=e._transaction===s[0];e._transaction=null,l&&cc(s,0)}}return o};class bl{constructor(t,n){this.insertions=n,this.deletions=t,this.meta=new Map}}const lc=(e,t,n)=>{Un(e,n.deletions,r=>{r instanceof kt&&t.scope.some(s=>Rr(s,r))&&ui(r,!1)})},ac=(e,t,n)=>{let r=null;const s=e.doc,i=e.scope;if(Ot(s,o=>{for(;t.length>0&&e.currStackItem===null;){const l=s.store,u=t.pop(),m=new Set,h=[];let p=!1;Un(o,u.insertions,_=>{if(_ instanceof kt){if(_.redone!==null){let{item:T,diff:x}=ai(l,_.id);x>0&&(T=se(o,X(T.id.client,T.id.clock+x))),_=T}!_.deleted&&i.some(T=>Rr(T,_))&&h.push(_)}}),Un(o,u.deletions,_=>{_ instanceof kt&&i.some(T=>Rr(T,_))&&!Mn(u.insertions,_.id)&&m.add(_)}),m.forEach(_=>{p=Bc(o,_,m,u.insertions,e.ignoreRemoteMapChanges,e)!==null||p});for(let _=h.length-1;_>=0;_--){const T=h[_];e.deleteFilter(T)&&(T.delete(o),p=!0)}e.currStackItem=p?u:null}o.changed.forEach((l,u)=>{l.has(null)&&u._searchMarker&&(u._searchMarker.length=0)}),r=o},e),e.currStackItem!=null){const o=r.changedParentTypes;e.emit("stack-item-popped",[{stackItem:e.currStackItem,type:n,changedParentTypes:o,origin:e},e]),e.currStackItem=null}return e.currStackItem};class Sl extends jt{constructor(t,{captureTimeout:n=500,captureTransaction:r=u=>!0,deleteFilter:s=()=>!0,trackedOrigins:i=new Set([null]),ignoreRemoteMapChanges:o=!1,doc:l=Mt(t)?t[0].doc:t.doc}={}){super(),this.scope=[],this.doc=l,this.addToScope(t),this.deleteFilter=s,i.add(this),this.trackedOrigins=i,this.captureTransaction=r,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=o,this.captureTimeout=n,this.afterTransactionHandler=u=>{if(!this.captureTransaction(u)||!this.scope.some(W=>u.changedParentTypes.has(W))||!this.trackedOrigins.has(u.origin)&&(!u.origin||!this.trackedOrigins.has(u.origin.constructor)))return;const m=this.undoing,h=this.redoing,p=m?this.redoStack:this.undoStack;m?this.stopCapturing():h||this.clear(!1,!0);const _=new xn;u.afterState.forEach((W,dt)=>{const he=u.beforeState.get(dt)||0,Lc=W-he;Lc>0&&rr(_,dt,he,Lc)});const T=bo();let x=!1;if(this.lastChange>0&&T-this.lastChange<this.captureTimeout&&p.length>0&&!m&&!h){const W=p[p.length-1];W.deletions=Pn([W.deletions,u.deleteSet]),W.insertions=Pn([W.insertions,_])}else p.push(new bl(u.deleteSet,_)),x=!0;!m&&!h&&(this.lastChange=T),Un(u,u.deleteSet,W=>{W instanceof kt&&this.scope.some(dt=>Rr(dt,W))&&ui(W,!0)});const vt=[{stackItem:p[p.length-1],origin:u.origin,type:m?"redo":"undo",changedParentTypes:u.changedParentTypes},this];x?this.emit("stack-item-added",vt):this.emit("stack-item-updated",vt)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(t){t=Mt(t)?t:[t],t.forEach(n=>{this.scope.every(r=>r!==n)&&(n.doc!==this.doc&&$c("[yjs#509] Not same Y.Doc"),this.scope.push(n))})}addTrackedOrigin(t){this.trackedOrigins.add(t)}removeTrackedOrigin(t){this.trackedOrigins.delete(t)}clear(t=!0,n=!0){(t&&this.canUndo()||n&&this.canRedo())&&this.doc.transact(r=>{t&&(this.undoStack.forEach(s=>lc(r,this,s)),this.undoStack=[]),n&&(this.redoStack.forEach(s=>lc(r,this,s)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:t,redoStackCleared:n}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let t;try{t=ac(this,this.undoStack,"undo")}finally{this.undoing=!1}return t}redo(){this.redoing=!0;let t;try{t=ac(this,this.redoStack,"redo")}finally{this.redoing=!1}return t}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}function*Cl(e){const t=decoding.readVarUint(e.restDecoder);for(let n=0;n<t;n++){const r=decoding.readVarUint(e.restDecoder),s=e.readClient();let i=decoding.readVarUint(e.restDecoder);for(let o=0;o<r;o++){const l=e.readInfo();if(l===10){const u=decoding.readVarUint(e.restDecoder);yield new le(X(s,i),u),i+=u}else if(binary.BITS5&l){const u=(l&(binary.BIT7|binary.BIT8))===0,m=new kt(X(s,i),null,(l&binary.BIT8)===binary.BIT8?e.readLeftID():null,null,(l&binary.BIT7)===binary.BIT7?e.readRightID():null,u?e.readParentInfo()?e.readString():e.readLeftID():null,u&&(l&binary.BIT6)===binary.BIT6?e.readString():null,Nc(e,l));yield m,i+=m.length}else{const u=e.readLen();yield new fe(X(s,i),u),i+=u}}}}class Ye{constructor(t,n){this.gen=Cl(t),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===le);return this.curr}}const au=e=>El(e,Te),El=(e,t=we)=>{const n=[],r=new t(decoding.createDecoder(e)),s=new Ye(r,!1);for(let o=s.curr;o!==null;o=s.next())n.push(o);logging.print("Structs: ",n);const i=ze(r);logging.print("DeleteSet: ",i)},uu=e=>kl(e,Te),kl=(e,t=we)=>{const n=[],r=new t(decoding.createDecoder(e)),s=new Ye(r,!1);for(let i=s.curr;i!==null;i=s.next())n.push(i);return{structs:n,ds:ze(r)}};class ei{constructor(t){this.currClient=0,this.startClock=0,this.written=0,this.encoder=t,this.clientStructs=[]}}const Tl=e=>Fr(e,Te,fn),Il=(e,t=Nr,n=we)=>{const r=new t,s=new Ye(new n(decoding.createDecoder(e)),!1);let i=s.curr;if(i!==null){let o=0,l=i.id.client,u=i.id.clock!==0,m=u?0:i.id.clock+i.length;for(;i!==null;i=s.next())l!==i.id.client&&(m!==0&&(o++,encoding.writeVarUint(r.restEncoder,l),encoding.writeVarUint(r.restEncoder,m)),l=i.id.client,m=0,u=i.id.clock!==0),i.constructor===le&&(u=!0),u||(m=i.id.clock+i.length);m!==0&&(o++,encoding.writeVarUint(r.restEncoder,l),encoding.writeVarUint(r.restEncoder,m));const h=encoding.createEncoder();return encoding.writeVarUint(h,o),encoding.writeBinaryEncoder(h,r.restEncoder),r.restEncoder=h,r.toUint8Array()}else return encoding.writeVarUint(r.restEncoder,0),r.toUint8Array()},du=e=>Il(e,Bn,Te),Ol=(e,t=we)=>{const n=new Map,r=new Map,s=new Ye(new t(decoding.createDecoder(e)),!1);let i=s.curr;if(i!==null){let o=i.id.client,l=i.id.clock;for(n.set(o,l);i!==null;i=s.next())o!==i.id.client&&(r.set(o,l),n.set(i.id.client,i.id.clock),o=i.id.client),l=i.id.clock+i.length;r.set(o,l)}return{from:n,to:r}},fu=e=>Ol(e,Te),Dl=(e,t)=>{if(e.constructor===fe){const{client:n,clock:r}=e.id;return new fe(X(n,r+t),e.length-t)}else if(e.constructor===le){const{client:n,clock:r}=e.id;return new le(X(n,r+t),e.length-t)}else{const n=e,{client:r,clock:s}=n.id;return new kt(X(r,s+t),null,X(r,s+t-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(t))}},Fr=(e,t=we,n=Be)=>{if(e.length===1)return e[0];const r=e.map(h=>new t(decoding.createDecoder(h)));let s=r.map(h=>new Ye(h,!0)),i=null;const o=new n,l=new ei(o);for(;s=s.filter(_=>_.curr!==null),s.sort((_,T)=>{if(_.curr.id.client===T.curr.id.client){const x=_.curr.id.clock-T.curr.id.clock;return x===0?_.curr.constructor===T.curr.constructor?0:_.curr.constructor===le?1:-1:x}else return T.curr.id.client-_.curr.id.client}),s.length!==0;){const h=s[0],p=h.curr.id.client;if(i!==null){let _=h.curr,T=!1;for(;_!==null&&_.id.clock+_.length<=i.struct.id.clock+i.struct.length&&_.id.client>=i.struct.id.client;)_=h.next(),T=!0;if(_===null||_.id.client!==p||T&&_.id.clock>i.struct.id.clock+i.struct.length)continue;if(p!==i.struct.id.client)Qe(l,i.struct,i.offset),i={struct:_,offset:0},h.next();else if(i.struct.id.clock+i.struct.length<_.id.clock)if(i.struct.constructor===le)i.struct.length=_.id.clock+_.length-i.struct.id.clock;else{Qe(l,i.struct,i.offset);const x=_.id.clock-i.struct.id.clock-i.struct.length;i={struct:new le(X(p,i.struct.id.clock+i.struct.length),x),offset:0}}else{const x=i.struct.id.clock+i.struct.length-_.id.clock;x>0&&(i.struct.constructor===le?i.struct.length-=x:_=Dl(_,x)),i.struct.mergeWith(_)||(Qe(l,i.struct,i.offset),i={struct:_,offset:0},h.next())}}else i={struct:h.curr,offset:0},h.next();for(let _=h.curr;_!==null&&_.id.client===p&&_.id.clock===i.struct.id.clock+i.struct.length&&_.constructor!==le;_=h.next())Qe(l,i.struct,i.offset),i={struct:_,offset:0}}i!==null&&(Qe(l,i.struct,i.offset),i=null),ni(l);const u=r.map(h=>ze(h)),m=Pn(u);return Pe(o,m),o.toUint8Array()},uc=(e,t,n=we,r=Be)=>{const s=Zo(t),i=new r,o=new ei(i),l=new n(decoding.createDecoder(e)),u=new Ye(l,!1);for(;u.curr;){const h=u.curr,p=h.id.client,_=s.get(p)||0;if(u.curr.constructor===le){u.next();continue}if(h.id.clock+h.length>_)for(Qe(o,h,math.max(_-h.id.clock,0)),u.next();u.curr&&u.curr.id.client===p;)Qe(o,u.curr,0),u.next();else for(;u.curr&&u.curr.id.client===p&&u.curr.id.clock+u.curr.length<=_;)u.next()}ni(o);const m=ze(l);return Pe(i,m),i.toUint8Array()},hu=(e,t)=>uc(e,t,Te,fn),dc=e=>{e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:encoding.toUint8Array(e.encoder.restEncoder)}),e.encoder.restEncoder=encoding.createEncoder(),e.written=0)},Qe=(e,t,n)=>{e.written>0&&e.currClient!==t.id.client&&dc(e),e.written===0&&(e.currClient=t.id.client,e.encoder.writeClient(t.id.client),encoding.writeVarUint(e.encoder.restEncoder,t.id.clock+n)),t.write(e.encoder,n),e.written++},ni=e=>{dc(e);const t=e.encoder.restEncoder;encoding.writeVarUint(t,e.clientStructs.length);for(let n=0;n<e.clientStructs.length;n++){const r=e.clientStructs[n];encoding.writeVarUint(t,r.written),encoding.writeUint8Array(t,r.restEncoder)}},zr=(e,t,n,r)=>{const s=new n(decoding.createDecoder(e)),i=new Ye(s,!1),o=new r,l=new ei(o);for(let m=i.curr;m!==null;m=i.next())Qe(l,t(m),0);ni(l);const u=ze(s);return Pe(o,u),o.toUint8Array()},fc=({formatting:e=!0,subdocs:t=!0,yxml:n=!0}={})=>{let r=0;const s=map.create(),i=map.create(),o=map.create(),l=map.create();return l.set(null,null),u=>{switch(u.constructor){case fe:case le:return u;case kt:{const m=u,h=m.content;switch(h.constructor){case Fn:break;case De:{if(n){const p=h.type;p instanceof pn&&(p.nodeName=map.setIfUndefined(i,p.nodeName,()=>"node-"+r)),p instanceof cr&&(p.hookName=map.setIfUndefined(i,p.hookName,()=>"hook-"+r))}break}case nn:{const p=h;p.arr=p.arr.map(()=>r);break}case Vn:{const p=h;p.content=new Uint8Array([r]);break}case zn:{const p=h;t&&(p.opts={},p.doc.guid=r+"");break}case en:{const p=h;p.embed={};break}case Ht:{const p=h;e&&(p.key=map.setIfUndefined(o,p.key,()=>r+""),p.value=map.setIfUndefined(l,p.value,()=>({i:r})));break}case lr:{const p=h;p.arr=p.arr.map(()=>r);break}case Oe:{const p=h;p.str=string.repeat(r%10+"",p.str.length);break}default:error.unexpectedCase()}return m.parentSub&&(m.parentSub=map.setIfUndefined(s,m.parentSub,()=>r+"")),r++,u}default:error.unexpectedCase()}}},gu=(e,t)=>zr(e,fc(t),Te,fn),pu=(e,t)=>zr(e,fc(t),we,Be),mu=e=>zr(e,f.id,Te,Be),Al=e=>zr(e,f.id,we,fn),hc="You must not compute changes after the event-handler fired.";class Zr{constructor(t,n){this.target=t,this.currentTarget=t,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=xl(this.currentTarget,this.target))}deletes(t){return Mn(this.transaction.deleteSet,t.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw We(hc);const t=new Map,n=this.target;this.transaction.changed.get(n).forEach(s=>{if(s!==null){const i=n._map.get(s);let o,l;if(this.adds(i)){let u=i.left;for(;u!==null&&this.adds(u);)u=u.left;if(this.deletes(i))if(u!==null&&this.deletes(u))o="delete",l=tt(u.content.getContent());else return;else u!==null&&this.deletes(u)?(o="update",l=tt(u.content.getContent())):(o="add",l=void 0)}else if(this.deletes(i))o="delete",l=tt(i.content.getContent());else return;t.set(s,{action:o,oldValue:l})}}),this._keys=t}return this._keys}get delta(){return this.changes.delta}adds(t){return t.id.clock>=(this.transaction.beforeState.get(t.id.client)||0)}get changes(){let t=this._changes;if(t===null){if(this.transaction.doc._transactionCleanups.length===0)throw We(hc);const n=this.target,r=N(),s=N(),i=[];if(t={added:r,deleted:s,delta:i,keys:this.keys},this.transaction.changed.get(n).has(null)){let l=null;const u=()=>{l&&i.push(l)};for(let m=n._start;m!==null;m=m.right)m.deleted?this.deletes(m)&&!this.adds(m)&&((l===null||l.delete===void 0)&&(u(),l={delete:0}),l.delete+=m.length,s.add(m)):this.adds(m)?((l===null||l.insert===void 0)&&(u(),l={insert:[]}),l.insert=l.insert.concat(m.content.getContent()),r.add(m)):((l===null||l.retain===void 0)&&(u(),l={retain:0}),l.retain+=m.length);l!==null&&l.retain===void 0&&u()}this._changes=t}return t}}const xl=(e,t)=>{const n=[];for(;t._item!==null&&t!==e;){if(t._item.parentSub!==null)n.unshift(t._item.parentSub);else{let r=0,s=t._item.parent._start;for(;s!==t._item&&s!==null;)s.deleted||r++,s=s.right;n.unshift(r)}t=t._item.parent}return n},gc=80;let ri=0;class Ul{constructor(t,n){t.marker=!0,this.p=t,this.index=n,this.timestamp=ri++}}const Ml=e=>{e.timestamp=ri++},pc=(e,t,n)=>{e.p.marker=!1,e.p=t,t.marker=!0,e.index=n,e.timestamp=ri++},Pl=(e,t,n)=>{if(e.length>=gc){const r=e.reduce((s,i)=>s.timestamp<i.timestamp?s:i);return pc(r,t,n),r}else{const r=new Ul(t,n);return e.push(r),r}},$r=(e,t)=>{if(e._start===null||t===0||e._searchMarker===null)return null;const n=e._searchMarker.length===0?null:e._searchMarker.reduce((i,o)=>Dt(t-i.index)<Dt(t-o.index)?i:o);let r=e._start,s=0;for(n!==null&&(r=n.p,s=n.index,Ml(n));r.right!==null&&s<t;){if(!r.deleted&&r.countable){if(t<s+r.length)break;s+=r.length}r=r.right}for(;r.left!==null&&s>t;)r=r.left,!r.deleted&&r.countable&&(s-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(s-=r.length);return n!==null&&Dt(n.index-s)<r.parent.length/gc?(pc(n,r,s),n):Pl(e._searchMarker,r,s)},ir=(e,t,n)=>{for(let r=e.length-1;r>=0;r--){const s=e[r];if(n>0){let i=s.p;for(i.marker=!1;i&&(i.deleted||!i.countable);)i=i.left,i&&!i.deleted&&i.countable&&(s.index-=i.length);if(i===null||i.marker===!0){e.splice(r,1);continue}s.p=i,i.marker=!0}(t<s.index||n>0&&t===s.index)&&(s.index=ne(t,s.index+n))}},yu=e=>{let t=e._start;const n=[];for(;t;)n.push(t),t=t.right;return n},Hr=(e,t,n)=>{const r=e,s=t.changedParentTypes;for(;E(s,e,()=>[]).push(n),e._item!==null;)e=e._item.parent;Ko(r._eH,n,t)};class Xt{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=$o(),this._dEH=$o(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(t,n){this.doc=t,this._item=n}_copy(){throw ye()}clone(){throw ye()}_write(t){}get _first(){let t=this._start;for(;t!==null&&t.deleted;)t=t.right;return t}_callObserver(t,n){!t.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(t){Ho(this._eH,t)}observeDeep(t){Ho(this._dEH,t)}unobserve(t){Go(this._eH,t)}unobserveDeep(t){Go(this._dEH,t)}toJSON(){}}const mc=(e,t,n)=>{t<0&&(t=e._length+t),n<0&&(n=e._length+n);let r=n-t;const s=[];let i=e._start;for(;i!==null&&r>0;){if(i.countable&&!i.deleted){const o=i.content.getContent();if(o.length<=t)t-=o.length;else{for(let l=t;l<o.length&&r>0;l++)s.push(o[l]),r--;t=0}}i=i.right}return s},yc=e=>{const t=[];let n=e._start;for(;n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let s=0;s<r.length;s++)t.push(r[s])}n=n.right}return t},_u=(e,t)=>{const n=[];let r=e._start;for(;r!==null;){if(r.countable&&Xe(r,t)){const s=r.content.getContent();for(let i=0;i<s.length;i++)n.push(s[i])}r=r.right}return n},or=(e,t)=>{let n=0,r=e._start;for(;r!==null;){if(r.countable&&!r.deleted){const s=r.content.getContent();for(let i=0;i<s.length;i++)t(s[i],n++,e)}r=r.right}},_c=(e,t)=>{const n=[];return or(e,(r,s)=>{n.push(t(r,s,e))}),n},Bl=e=>{let t=e._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;t!==null&&t.deleted;)t=t.right;if(t===null)return{done:!0,value:void 0};n=t.content.getContent(),r=0,t=t.right}const s=n[r++];return n.length<=r&&(n=null),{done:!1,value:s}}}},wc=(e,t)=>{const n=$r(e,t);let r=e._start;for(n!==null&&(r=n.p,t-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(t<r.length)return r.content.getContent()[t];t-=r.length}},Gr=(e,t,n,r)=>{let s=n;const i=e.doc,o=i.clientID,l=i.store,u=n===null?t._start:n.right;let m=[];const h=()=>{m.length>0&&(s=new kt(X(o,Vt(l,o)),s,s&&s.lastId,u,u&&u.id,t,null,new nn(m)),s.integrate(e,0),m=[])};r.forEach(p=>{if(p===null)m.push(p);else switch(p.constructor){case Number:case Object:case Boolean:case Array:case String:m.push(p);break;default:switch(h(),p.constructor){case Uint8Array:case ArrayBuffer:s=new kt(X(o,Vt(l,o)),s,s&&s.lastId,u,u&&u.id,t,null,new Vn(new Uint8Array(p))),s.integrate(e,0);break;case dn:s=new kt(X(o,Vt(l,o)),s,s&&s.lastId,u,u&&u.id,t,null,new zn(p)),s.integrate(e,0);break;default:if(p instanceof Xt)s=new kt(X(o,Vt(l,o)),s,s&&s.lastId,u,u&&u.id,t,null,new De(p)),s.integrate(e,0);else throw new Error("Unexpected content type in insert operation")}}}),h()},vc=()=>We("Length exceeded!"),bc=(e,t,n,r)=>{if(n>t._length)throw vc();if(n===0)return t._searchMarker&&ir(t._searchMarker,n,r.length),Gr(e,t,null,r);const s=n,i=$r(t,n);let o=t._start;for(i!==null&&(o=i.p,n-=i.index,n===0&&(o=o.prev,n+=o&&o.countable&&!o.deleted?o.length:0));o!==null;o=o.right)if(!o.deleted&&o.countable){if(n<=o.length){n<o.length&&se(e,X(o.id.client,o.id.clock+n));break}n-=o.length}return t._searchMarker&&ir(t._searchMarker,s,r.length),Gr(e,t,o,r)},Nl=(e,t,n)=>{let s=(t._searchMarker||[]).reduce((i,o)=>o.index>i.index?o:i,{index:0,p:t._start}).p;if(s)for(;s.right;)s=s.right;return Gr(e,t,s,n)},Sc=(e,t,n,r)=>{if(r===0)return;const s=n,i=r,o=$r(t,n);let l=t._start;for(o!==null&&(l=o.p,n-=o.index);l!==null&&n>0;l=l.right)!l.deleted&&l.countable&&(n<l.length&&se(e,X(l.id.client,l.id.clock+n)),n-=l.length);for(;r>0&&l!==null;)l.deleted||(r<l.length&&se(e,X(l.id.client,l.id.clock+r)),l.delete(e),r-=l.length),l=l.right;if(r>0)throw vc();t._searchMarker&&ir(t._searchMarker,s,-i+r)},Kr=(e,t,n)=>{const r=t._map.get(n);r!==void 0&&r.delete(e)},si=(e,t,n,r)=>{const s=t._map.get(n)||null,i=e.doc,o=i.clientID;let l;if(r==null)l=new nn([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:l=new nn([r]);break;case Uint8Array:l=new Vn(r);break;case dn:l=new zn(r);break;default:if(r instanceof Xt)l=new De(r);else throw new Error("Unexpected content type")}new kt(X(o,Vt(i.store,o)),s,s&&s.lastId,null,null,t,n,l).integrate(e,0)},ii=(e,t)=>{const n=e._map.get(t);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},Cc=e=>{const t={};return e._map.forEach((n,r)=>{n.deleted||(t[r]=n.content.getContent()[n.length-1])}),t},Ec=(e,t)=>{const n=e._map.get(t);return n!==void 0&&!n.deleted},wu=(e,t,n)=>{let r=e._map.get(t)||null;for(;r!==null&&(!n.sv.has(r.id.client)||r.id.clock>=(n.sv.get(r.id.client)||0));)r=r.left;return r!==null&&Xe(r,n)?r.content.getContent()[r.length-1]:void 0},Rl=(e,t)=>{const n={};return e._map.forEach((r,s)=>{let i=r;for(;i!==null&&(!t.sv.has(i.id.client)||i.id.clock>=(t.sv.get(i.id.client)||0));)i=i.left;i!==null&&Xe(i,t)&&(n[s]=i.content.getContent()[i.length-1])}),n},Wr=e=>Gc(e.entries(),t=>!t[1].deleted);class jl extends Zr{constructor(t,n){super(t,n),this._transaction=n}}class qe extends Xt{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(t){const n=new qe;return n.push(t),n}_integrate(t,n){super._integrate(t,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new qe}clone(){const t=new qe;return t.insert(0,this.toArray().map(n=>n instanceof Xt?n.clone():n)),t}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}_callObserver(t,n){super._callObserver(t,n),Hr(this,t,new jl(this,t))}insert(t,n){this.doc!==null?Ot(this.doc,r=>{bc(r,this,t,n)}):this._prelimContent.splice(t,0,...n)}push(t){this.doc!==null?Ot(this.doc,n=>{Nl(n,this,t)}):this._prelimContent.push(...t)}unshift(t){this.insert(0,t)}delete(t,n=1){this.doc!==null?Ot(this.doc,r=>{Sc(r,this,t,n)}):this._prelimContent.splice(t,n)}get(t){return wc(this,t)}toArray(){return yc(this)}slice(t=0,n=this.length){return mc(this,t,n)}toJSON(){return this.map(t=>t instanceof Xt?t.toJSON():t)}map(t){return _c(this,t)}forEach(t){or(this,t)}[Symbol.iterator](){return Bl(this)}_write(t){t.writeTypeRef(la)}}const Ll=e=>new qe;class Vl extends Zr{constructor(t,n,r){super(t,n),this.keysChanged=r}}class hn extends Xt{constructor(t){super(),this._prelimContent=null,t===void 0?this._prelimContent=new Map:this._prelimContent=new Map(t)}_integrate(t,n){super._integrate(t,n),this._prelimContent.forEach((r,s)=>{this.set(s,r)}),this._prelimContent=null}_copy(){return new hn}clone(){const t=new hn;return this.forEach((n,r)=>{t.set(r,n instanceof Xt?n.clone():n)}),t}_callObserver(t,n){Hr(this,t,new Vl(this,t,n))}toJSON(){const t={};return this._map.forEach((n,r)=>{if(!n.deleted){const s=n.content.getContent()[n.length-1];t[r]=s instanceof Xt?s.toJSON():s}}),t}get size(){return[...Wr(this._map)].length}keys(){return Hs(Wr(this._map),t=>t[0])}values(){return Hs(Wr(this._map),t=>t[1].content.getContent()[t[1].length-1])}entries(){return Hs(Wr(this._map),t=>[t[0],t[1].content.getContent()[t[1].length-1]])}forEach(t){this._map.forEach((n,r)=>{n.deleted||t(n.content.getContent()[n.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(t){this.doc!==null?Ot(this.doc,n=>{Kr(n,this,t)}):this._prelimContent.delete(t)}set(t,n){return this.doc!==null?Ot(this.doc,r=>{si(r,this,t,n)}):this._prelimContent.set(t,n),n}get(t){return ii(this,t)}has(t){return Ec(this,t)}clear(){this.doc!==null?Ot(this.doc,t=>{this.forEach(function(n,r,s){Kr(t,s,r)})}):this._prelimContent.clear()}_write(t){t.writeTypeRef(aa)}}const Fl=e=>new hn,tn=(e,t)=>e===t||typeof e=="object"&&typeof t=="object"&&e&&t&&qc(e,t);class oi{constructor(t,n,r,s){this.left=t,this.right=n,this.index=r,this.currentAttributes=s}forward(){switch(this.right===null&&Ee(),this.right.content.constructor){case Ht:this.right.deleted||jn(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const kc=(e,t,n)=>{for(;t.right!==null&&n>0;){switch(t.right.content.constructor){case Ht:t.right.deleted||jn(t.currentAttributes,t.right.content);break;default:t.right.deleted||(n<t.right.length&&se(e,X(t.right.id.client,t.right.id.clock+n)),t.index+=t.right.length,n-=t.right.length);break}t.left=t.right,t.right=t.right.right}return t},Jr=(e,t,n,r)=>{const s=new Map,i=r?$r(t,n):null;if(i){const o=new oi(i.p.left,i.p,i.index,s);return kc(e,o,n-i.index)}else{const o=new oi(null,t._start,0,s);return kc(e,o,n)}},Tc=(e,t,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===Ht&&tn(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const s=e.doc,i=s.clientID;r.forEach((o,l)=>{const u=n.left,m=n.right,h=new kt(X(i,Vt(s.store,i)),u,u&&u.lastId,m,m&&m.id,t,null,new Ht(l,o));h.integrate(e,0),n.right=h,n.forward()})},jn=(e,t)=>{const{key:n,value:r}=t;r===null?e.delete(n):e.set(n,r)},Ic=(e,t)=>{var n;for(;e.right!==null;){if(!(e.right.deleted||e.right.content.constructor===Ht&&tn((n=t[e.right.content.key])!=null?n:null,e.right.content.value)))break;e.forward()}},Oc=(e,t,n,r)=>{var l;const s=e.doc,i=s.clientID,o=new Map;for(const u in r){const m=r[u],h=(l=n.currentAttributes.get(u))!=null?l:null;if(!tn(h,m)){o.set(u,h);const{left:p,right:_}=n;n.right=new kt(X(i,Vt(s.store,i)),p,p&&p.lastId,_,_&&_.id,t,null,new Ht(u,m)),n.right.integrate(e,0),n.forward()}}return o},ci=(e,t,n,r,s)=>{n.currentAttributes.forEach((_,T)=>{s[T]===void 0&&(s[T]=null)});const i=e.doc,o=i.clientID;Ic(n,s);const l=Oc(e,t,n,s),u=r.constructor===String?new Oe(r):r instanceof Xt?new De(r):new en(r);let{left:m,right:h,index:p}=n;t._searchMarker&&ir(t._searchMarker,n.index,u.getLength()),h=new kt(X(o,Vt(i.store,o)),m,m&&m.lastId,h,h&&h.id,t,null,u),h.integrate(e,0),n.right=h,n.index=p,n.forward(),Tc(e,t,n,l)},Dc=(e,t,n,r,s)=>{const i=e.doc,o=i.clientID;Ic(n,s);const l=Oc(e,t,n,s);t:for(;n.right!==null&&(r>0||l.size>0&&(n.right.deleted||n.right.content.constructor===Ht));){if(!n.right.deleted)switch(n.right.content.constructor){case Ht:{const{key:u,value:m}=n.right.content,h=s[u];if(h!==void 0){if(tn(h,m))l.delete(u);else{if(r===0)break t;l.set(u,m)}n.right.delete(e)}else n.currentAttributes.set(u,m);break}default:r<n.right.length&&se(e,X(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let u="";for(;r>0;r--)u+=`
`;n.right=new kt(X(o,Vt(i.store,o)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,t,null,new Oe(u)),n.right.integrate(e,0),n.forward()}Tc(e,t,n,l)},Ac=(e,t,n,r,s)=>{var m,h;let i=t;const o=b();for(;i&&(!i.countable||i.deleted);){if(!i.deleted&&i.content.constructor===Ht){const p=i.content;o.set(p.key,p)}i=i.right}let l=0,u=!1;for(;t!==i;){if(n===t&&(u=!0),!t.deleted){const p=t.content;switch(p.constructor){case Ht:{const{key:_,value:T}=p,x=(m=r.get(_))!=null?m:null;(o.get(_)!==p||x===T)&&(t.delete(e),l++,!u&&((h=s.get(_))!=null?h:null)===T&&x!==T&&(x===null?s.delete(_):s.set(_,x))),!u&&!t.deleted&&jn(s,p);break}}}t=t.right}return l},zl=(e,t)=>{for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;const n=new Set;for(;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===Ht){const r=t.content.key;n.has(r)?t.delete(e):n.add(r)}t=t.left}},Zl=e=>{let t=0;return Ot(e.doc,n=>{let r=e._start,s=e._start,i=b();const o=R(i);for(;s;){if(s.deleted===!1)switch(s.content.constructor){case Ht:jn(o,s.content);break;default:t+=Ac(n,r,s,i,o),i=R(o),r=s;break}s=s.right}}),t},$l=e=>{const t=new Set,n=e.doc;for(const[r,s]of e.afterState.entries()){const i=e.beforeState.get(r)||0;s!==i&&nc(e,n.store.clients.get(r),i,s,o=>{!o.deleted&&o.content.constructor===Ht&&o.constructor!==fe&&t.add(o.parent)})}Ot(n,r=>{Un(e,e.deleteSet,s=>{if(s instanceof fe||!s.parent._hasFormatting||t.has(s.parent))return;const i=s.parent;s.content.constructor===Ht?t.add(i):zl(r,s)});for(const s of t)Zl(s)})},xc=(e,t,n)=>{const r=n,s=R(t.currentAttributes),i=t.right;for(;n>0&&t.right!==null;){if(t.right.deleted===!1)switch(t.right.content.constructor){case De:case en:case Oe:n<t.right.length&&se(e,X(t.right.id.client,t.right.id.clock+n)),n-=t.right.length,t.right.delete(e);break}t.forward()}i&&Ac(e,i,t.right,s,t.currentAttributes);const o=(t.left||t.right).parent;return o._searchMarker&&ir(o._searchMarker,t.index,-r+n),t};class Hl extends Zr{constructor(t,n,r){super(t,n),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(s=>{s===null?this.childListChanged=!0:this.keysChanged.add(s)})}get changes(){if(this._changes===null){const t={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=t}return this._changes}get delta(){if(this._delta===null){const t=this.target.doc,n=[];Ot(t,r=>{var T,x,vt;const s=new Map,i=new Map;let o=this.target._start,l=null;const u={};let m="",h=0,p=0;const _=()=>{if(l!==null){let W=null;switch(l){case"delete":p>0&&(W={delete:p}),p=0;break;case"insert":(typeof m=="object"||m.length>0)&&(W={insert:m},s.size>0&&(W.attributes={},s.forEach((dt,he)=>{dt!==null&&(W.attributes[he]=dt)}))),m="";break;case"retain":h>0&&(W={retain:h},Xc(u)||(W.attributes=Kc({},u))),h=0;break}W&&n.push(W),l=null}};for(;o!==null;){switch(o.content.constructor){case De:case en:this.adds(o)?this.deletes(o)||(_(),l="insert",m=o.content.getContent()[0],_()):this.deletes(o)?(l!=="delete"&&(_(),l="delete"),p+=1):o.deleted||(l!=="retain"&&(_(),l="retain"),h+=1);break;case Oe:this.adds(o)?this.deletes(o)||(l!=="insert"&&(_(),l="insert"),m+=o.content.str):this.deletes(o)?(l!=="delete"&&(_(),l="delete"),p+=o.length):o.deleted||(l!=="retain"&&(_(),l="retain"),h+=o.length);break;case Ht:{const{key:W,value:dt}=o.content;if(this.adds(o)){if(!this.deletes(o)){const he=(T=s.get(W))!=null?T:null;tn(he,dt)?dt!==null&&o.delete(r):(l==="retain"&&_(),tn(dt,(x=i.get(W))!=null?x:null)?delete u[W]:u[W]=dt)}}else if(this.deletes(o)){i.set(W,dt);const he=(vt=s.get(W))!=null?vt:null;tn(he,dt)||(l==="retain"&&_(),u[W]=he)}else if(!o.deleted){i.set(W,dt);const he=u[W];he!==void 0&&(tn(he,dt)?he!==null&&o.delete(r):(l==="retain"&&_(),dt===null?delete u[W]:u[W]=dt))}o.deleted||(l==="insert"&&_(),jn(s,o.content));break}}o=o.right}for(_();n.length>0;){const W=n[n.length-1];if(W.retain!==void 0&&W.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class Ln extends Xt{constructor(t){super(),this._pending=t!==void 0?[()=>this.insert(0,t)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this._length}_integrate(t,n){super._integrate(t,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new Ln}clone(){const t=new Ln;return t.applyDelta(this.toDelta()),t}_callObserver(t,n){super._callObserver(t,n);const r=new Hl(this,t,n);Hr(this,t,r),!t.local&&this._hasFormatting&&(t._needFormattingCleanup=!0)}toString(){let t="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===Oe&&(t+=n.content.str),n=n.right;return t}toJSON(){return this.toString()}applyDelta(t,{sanitize:n=!0}={}){this.doc!==null?Ot(this.doc,r=>{const s=new oi(null,this._start,0,new Map);for(let i=0;i<t.length;i++){const o=t[i];if(o.insert!==void 0){const l=!n&&typeof o.insert=="string"&&i===t.length-1&&s.right===null&&o.insert.slice(-1)===`
`?o.insert.slice(0,-1):o.insert;(typeof l!="string"||l.length>0)&&ci(r,this,s,l,o.attributes||{})}else o.retain!==void 0?Dc(r,this,s,o.retain,o.attributes||{}):o.delete!==void 0&&xc(r,s,o.delete)}}):this._pending.push(()=>this.applyDelta(t))}toDelta(t,n,r){const s=[],i=new Map,o=this.doc;let l="",u=this._start;function m(){if(l.length>0){const p={};let _=!1;i.forEach((x,vt)=>{_=!0,p[vt]=x});const T={insert:l};_&&(T.attributes=p),s.push(T),l=""}}const h=()=>{for(;u!==null;){if(Xe(u,t)||n!==void 0&&Xe(u,n))switch(u.content.constructor){case Oe:{const p=i.get("ychange");t!==void 0&&!Xe(u,t)?(p===void 0||p.user!==u.id.client||p.type!=="removed")&&(m(),i.set("ychange",r?r("removed",u.id):{type:"removed"})):n!==void 0&&!Xe(u,n)?(p===void 0||p.user!==u.id.client||p.type!=="added")&&(m(),i.set("ychange",r?r("added",u.id):{type:"added"})):p!==void 0&&(m(),i.delete("ychange")),l+=u.content.str;break}case De:case en:{m();const p={insert:u.content.getContent()[0]};if(i.size>0){const _={};p.attributes=_,i.forEach((T,x)=>{_[x]=T})}s.push(p);break}case Ht:Xe(u,t)&&(m(),jn(i,u.content));break}u=u.right}m()};return t||n?Ot(o,p=>{t&&qs(p,t),n&&qs(p,n),h()},"cleanup"):h(),s}insert(t,n,r){if(n.length<=0)return;const s=this.doc;s!==null?Ot(s,i=>{const o=Jr(i,this,t,!r);r||(r={},o.currentAttributes.forEach((l,u)=>{r[u]=l})),ci(i,this,o,n,r)}):this._pending.push(()=>this.insert(t,n,r))}insertEmbed(t,n,r){const s=this.doc;s!==null?Ot(s,i=>{const o=Jr(i,this,t,!r);ci(i,this,o,n,r||{})}):this._pending.push(()=>this.insertEmbed(t,n,r||{}))}delete(t,n){if(n===0)return;const r=this.doc;r!==null?Ot(r,s=>{xc(s,Jr(s,this,t,!0),n)}):this._pending.push(()=>this.delete(t,n))}format(t,n,r){if(n===0)return;const s=this.doc;s!==null?Ot(s,i=>{const o=Jr(i,this,t,!1);o.right!==null&&Dc(i,this,o,n,r)}):this._pending.push(()=>this.format(t,n,r))}removeAttribute(t){this.doc!==null?Ot(this.doc,n=>{Kr(n,this,t)}):this._pending.push(()=>this.removeAttribute(t))}setAttribute(t,n){this.doc!==null?Ot(this.doc,r=>{si(r,this,t,n)}):this._pending.push(()=>this.setAttribute(t,n))}getAttribute(t){return ii(this,t)}getAttributes(){return Cc(this)}_write(t){t.writeTypeRef(ua)}}const Gl=e=>new Ln;class li{constructor(t,n=()=>!0){this._filter=n,this._root=t,this._currentNode=t._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let t=this._currentNode,n=t&&t.content&&t.content.type;if(t!==null&&(!this._firstCall||t.deleted||!this._filter(n)))do if(n=t.content.type,!t.deleted&&(n.constructor===pn||n.constructor===gn)&&n._start!==null)t=n._start;else for(;t!==null;)if(t.right!==null){t=t.right;break}else t.parent===this._root?t=null:t=t.parent._item;while(t!==null&&(t.deleted||!this._filter(t.content.type)));return this._firstCall=!1,t===null?{value:void 0,done:!0}:(this._currentNode=t,{value:t.content.type,done:!1})}}class gn extends Xt{constructor(){super(),this._prelimContent=[]}get firstChild(){const t=this._first;return t?t.content.getContent()[0]:null}_integrate(t,n){super._integrate(t,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new gn}clone(){const t=new gn;return t.insert(0,this.toArray().map(n=>n instanceof Xt?n.clone():n)),t}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(t){return new li(this,t)}querySelector(t){t=t.toUpperCase();const r=new li(this,s=>s.nodeName&&s.nodeName.toUpperCase()===t).next();return r.done?null:r.value}querySelectorAll(t){return t=t.toUpperCase(),Ct(new li(this,n=>n.nodeName&&n.nodeName.toUpperCase()===t))}_callObserver(t,n){Hr(this,t,new Jl(this,n,t))}toString(){return _c(this,t=>t.toString()).join("")}toJSON(){return this.toString()}toDOM(t=document,n={},r){const s=t.createDocumentFragment();return r!==void 0&&r._createAssociation(s,this),or(this,i=>{s.insertBefore(i.toDOM(t,n,r),null)}),s}insert(t,n){this.doc!==null?Ot(this.doc,r=>{bc(r,this,t,n)}):this._prelimContent.splice(t,0,...n)}insertAfter(t,n){if(this.doc!==null)Ot(this.doc,r=>{const s=t&&t instanceof Xt?t._item:t;Gr(r,this,s,n)});else{const r=this._prelimContent,s=t===null?0:r.findIndex(i=>i===t)+1;if(s===0&&t!==null)throw We("Reference item not found");r.splice(s,0,...n)}}delete(t,n=1){this.doc!==null?Ot(this.doc,r=>{Sc(r,this,t,n)}):this._prelimContent.splice(t,n)}toArray(){return yc(this)}push(t){this.insert(this.length,t)}unshift(t){this.insert(0,t)}get(t){return wc(this,t)}slice(t=0,n=this.length){return mc(this,t,n)}forEach(t){or(this,t)}_write(t){t.writeTypeRef(fa)}}const Kl=e=>new gn;class pn extends gn{constructor(t="UNDEFINED"){super(),this.nodeName=t,this._prelimAttrs=new Map}get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_integrate(t,n){super._integrate(t,n),this._prelimAttrs.forEach((r,s)=>{this.setAttribute(s,r)}),this._prelimAttrs=null}_copy(){return new pn(this.nodeName)}clone(){const t=new pn(this.nodeName),n=this.getAttributes();return Jc(n,(r,s)=>{typeof r=="string"&&t.setAttribute(s,r)}),t.insert(0,this.toArray().map(r=>r instanceof Xt?r.clone():r)),t}toString(){const t=this.getAttributes(),n=[],r=[];for(const l in t)r.push(l);r.sort();const s=r.length;for(let l=0;l<s;l++){const u=r[l];n.push(u+'="'+t[u]+'"')}const i=this.nodeName.toLocaleLowerCase(),o=n.length>0?" "+n.join(" "):"";return`<${i}${o}>${super.toString()}</${i}>`}removeAttribute(t){this.doc!==null?Ot(this.doc,n=>{Kr(n,this,t)}):this._prelimAttrs.delete(t)}setAttribute(t,n){this.doc!==null?Ot(this.doc,r=>{si(r,this,t,n)}):this._prelimAttrs.set(t,n)}getAttribute(t){return ii(this,t)}hasAttribute(t){return Ec(this,t)}getAttributes(t){return t?Rl(this,t):Cc(this)}toDOM(t=document,n={},r){const s=t.createElement(this.nodeName),i=this.getAttributes();for(const o in i){const l=i[o];typeof l=="string"&&s.setAttribute(o,l)}return or(this,o=>{s.appendChild(o.toDOM(t,n,r))}),r!==void 0&&r._createAssociation(s,this),s}_write(t){t.writeTypeRef(da),t.writeKey(this.nodeName)}}const Wl=e=>new pn(e.readKey());class Jl extends Zr{constructor(t,n,r){super(t,r),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(s=>{s===null?this.childListChanged=!0:this.attributesChanged.add(s)})}}class cr extends hn{constructor(t){super(),this.hookName=t}_copy(){return new cr(this.hookName)}clone(){const t=new cr(this.hookName);return this.forEach((n,r)=>{t.set(r,n)}),t}toDOM(t=document,n={},r){const s=n[this.hookName];let i;return s!==void 0?i=s.createDom(this):i=document.createElement(this.hookName),i.setAttribute("data-yjs-hook",this.hookName),r!==void 0&&r._createAssociation(i,this),i}_write(t){t.writeTypeRef(ha),t.writeKey(this.hookName)}}const Xl=e=>new cr(e.readKey());class Xr extends Ln{get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_copy(){return new Xr}clone(){const t=new Xr;return t.applyDelta(this.toDelta()),t}toDOM(t=document,n,r){const s=t.createTextNode(this.toString());return r!==void 0&&r._createAssociation(s,this),s}toString(){return this.toDelta().map(t=>{const n=[];for(const s in t.attributes){const i=[];for(const o in t.attributes[s])i.push({key:o,value:t.attributes[s][o]});i.sort((o,l)=>o.key<l.key?-1:1),n.push({nodeName:s,attrs:i})}n.sort((s,i)=>s.nodeName<i.nodeName?-1:1);let r="";for(let s=0;s<n.length;s++){const i=n[s];r+=`<${i.nodeName}`;for(let o=0;o<i.attrs.length;o++){const l=i.attrs[o];r+=` ${l.key}="${l.value}"`}r+=">"}r+=t.insert;for(let s=n.length-1;s>=0;s--)r+=`</${n[s].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(t){t.writeTypeRef(ga)}}const Yl=e=>new Xr;class Uc{constructor(t,n){this.id=t,this.length=n}get deleted(){throw ye()}mergeWith(t){return!1}write(t,n,r){throw ye()}integrate(t,n){throw ye()}}const Ql=0;class fe extends Uc{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,n){n>0&&(this.id.clock+=n,this.length-=n),tc(t.doc.store,this)}write(t,n){t.writeInfo(Ql),t.writeLen(this.length-n)}getMissing(t,n){return null}}class Vn{constructor(t){this.content=t}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Vn(this.content)}splice(t){throw ye()}mergeWith(t){return!1}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeBuf(this.content)}getRef(){return 3}}const ql=e=>new Vn(e.readBuf());class Fn{constructor(t){this.len=t}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Fn(this.len)}splice(t){const n=new Fn(this.len-t);return this.len=t,n}mergeWith(t){return this.len+=t.len,!0}integrate(t,n){rr(t.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(t){}gc(t){}write(t,n){t.writeLen(this.len-n)}getRef(){return 1}}const ta=e=>new Fn(e.readLen()),Mc=(e,t)=>new dn(di(Qr({guid:e},t),{shouldLoad:t.shouldLoad||t.autoLoad||!1}));class zn{constructor(t){t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;const n={};this.opts=n,t.gc||(n.gc=!1),t.autoLoad&&(n.autoLoad=!0),t.meta!==null&&(n.meta=t.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new zn(Mc(this.doc.guid,this.opts))}splice(t){throw ye()}mergeWith(t){return!1}integrate(t,n){this.doc._item=n,t.subdocsAdded.add(this.doc),this.doc.shouldLoad&&t.subdocsLoaded.add(this.doc)}delete(t){t.subdocsAdded.has(this.doc)?t.subdocsAdded.delete(this.doc):t.subdocsRemoved.add(this.doc)}gc(t){}write(t,n){t.writeString(this.doc.guid),t.writeAny(this.opts)}getRef(){return 9}}const ea=e=>new zn(Mc(e.readString(),e.readAny()));class en{constructor(t){this.embed=t}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new en(this.embed)}splice(t){throw ye()}mergeWith(t){return!1}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeJSON(this.embed)}getRef(){return 5}}const na=e=>new en(e.readJSON());class Ht{constructor(t,n){this.key=t,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Ht(this.key,this.value)}splice(t){throw ye()}mergeWith(t){return!1}integrate(t,n){const r=n.parent;r._searchMarker=null,r._hasFormatting=!0}delete(t){}gc(t){}write(t,n){t.writeKey(this.key),t.writeJSON(this.value)}getRef(){return 6}}const ra=e=>new Ht(e.readKey(),e.readJSON());class lr{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new lr(this.arr)}splice(t){const n=new lr(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){const r=this.arr.length;t.writeLen(r-n);for(let s=n;s<r;s++){const i=this.arr[s];t.writeString(i===void 0?"undefined":JSON.stringify(i))}}getRef(){return 2}}const sa=e=>{const t=e.readLen(),n=[];for(let r=0;r<t;r++){const s=e.readString();s==="undefined"?n.push(void 0):n.push(JSON.parse(s))}return new lr(n)};class nn{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new nn(this.arr)}splice(t){const n=new nn(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){const r=this.arr.length;t.writeLen(r-n);for(let s=n;s<r;s++){const i=this.arr[s];t.writeAny(i)}}getRef(){return 8}}const ia=e=>{const t=e.readLen(),n=[];for(let r=0;r<t;r++)n.push(e.readAny());return new nn(n)};class Oe{constructor(t){this.str=t}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Oe(this.str)}splice(t){const n=new Oe(this.str.slice(t));this.str=this.str.slice(0,t);const r=this.str.charCodeAt(t-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,t-1)+"\uFFFD",n.str="\uFFFD"+n.str.slice(1)),n}mergeWith(t){return this.str+=t.str,!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const oa=e=>new Oe(e.readString()),ca=[Ll,Fl,Gl,Wl,Kl,Xl,Yl],la=0,aa=1,ua=2,da=3,fa=4,ha=5,ga=6;class De{constructor(t){this.type=t}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new De(this.type._copy())}splice(t){throw ye()}mergeWith(t){return!1}integrate(t,n){this.type._integrate(t.doc,n)}delete(t){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(t.beforeState.get(n.id.client)||0)&&t._mergeStructs.push(n):n.delete(t),n=n.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(t.beforeState.get(r.id.client)||0)&&t._mergeStructs.push(r):r.delete(t)}),t.changed.delete(this.type)}gc(t){let n=this.type._start;for(;n!==null;)n.gc(t,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(t,!0),r=r.left}),this.type._map=new Map}write(t,n){this.type._write(t)}getRef(){return 7}}const pa=e=>new De(ca[e.readTypeRef()](e)),ai=(e,t)=>{let n=t,r=0,s;do r>0&&(n=X(n.client,n.clock+r)),s=Lr(e,n),r=n.clock-s.id.clock,n=s.redone;while(n!==null&&s instanceof kt);return{item:s,diff:r}},ui=(e,t)=>{for(;e!==null&&e.keep!==t;)e.keep=t,e=e.parent._item},Yr=(e,t,n)=>{const{client:r,clock:s}=t.id,i=new kt(X(r,s+n),t,X(r,s+n-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(n));return t.deleted&&i.markDeleted(),t.keep&&(i.keep=!0),t.redone!==null&&(i.redone=X(t.redone.client,t.redone.clock+n)),t.right=i,i.right!==null&&(i.right.left=i),e._mergeStructs.push(i),i.parentSub!==null&&i.right===null&&i.parent._map.set(i.parentSub,i),t.length=n,i},Pc=(e,t)=>Nt(e,n=>Mn(n.deletions,t)),Bc=(e,t,n,r,s,i)=>{const o=e.doc,l=o.store,u=o.clientID,m=t.redone;if(m!==null)return se(e,m);let h=t.parent._item,p=null,_;if(h!==null&&h.deleted===!0){if(h.redone===null&&(!n.has(h)||Bc(e,h,n,r,s,i)===null))return null;for(;h.redone!==null;)h=se(e,h.redone)}const T=h===null?t.parent:h.content.type;if(t.parentSub===null){for(p=t.left,_=t;p!==null;){let dt=p;for(;dt!==null&&dt.parent._item!==h;)dt=dt.redone===null?null:se(e,dt.redone);if(dt!==null&&dt.parent._item===h){p=dt;break}p=p.left}for(;_!==null;){let dt=_;for(;dt!==null&&dt.parent._item!==h;)dt=dt.redone===null?null:se(e,dt.redone);if(dt!==null&&dt.parent._item===h){_=dt;break}_=_.right}}else if(_=null,t.right&&!s){for(p=t;p!==null&&p.right!==null&&(p.right.redone||Mn(r,p.right.id)||Pc(i.undoStack,p.right.id)||Pc(i.redoStack,p.right.id));)for(p=p.right;p.redone;)p=se(e,p.redone);if(p&&p.right!==null)return null}else p=T._map.get(t.parentSub)||null;const x=Vt(l,u),vt=X(u,x),W=new kt(vt,p,p&&p.lastId,_,_&&_.id,T,t.parentSub,t.content.copy());return t.redone=vt,ui(W,!0),W.integrate(e,0),W};class kt extends Uc{constructor(t,n,r,s,i,o,l,u){super(t,u.getLength()),this.origin=r,this.left=n,this.right=s,this.rightOrigin=i,this.parent=o,this.parentSub=l,this.redone=null,this.content=u,this.info=this.content.isCountable()?ee:0}set marker(t){(this.info&Re)>0!==t&&(this.info^=Re)}get marker(){return(this.info&Re)>0}get keep(){return(this.info&Ne)>0}set keep(t){this.keep!==t&&(this.info^=Ne)}get countable(){return(this.info&ee)>0}get deleted(){return(this.info&xe)>0}set deleted(t){this.deleted!==t&&(this.info^=xe)}markDeleted(){this.info|=xe}getMissing(t,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Vt(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Vt(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Nn&&this.id.client!==this.parent.client&&this.parent.clock>=Vt(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=ec(t,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=se(t,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===fe||this.right&&this.right.constructor===fe)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===kt&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===kt&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===Nn){const r=Lr(n,this.parent);r.constructor===fe?this.parent=null:this.parent=r.content.type}return null}integrate(t,n){if(n>0&&(this.id.clock+=n,this.left=ec(t,t.doc.store,X(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,s;if(r!==null)s=r.right;else if(this.parentSub!==null)for(s=this.parent._map.get(this.parentSub)||null;s!==null&&s.left!==null;)s=s.left;else s=this.parent._start;const i=new Set,o=new Set;for(;s!==null&&s!==this.right;){if(o.add(s),i.add(s),Rn(this.origin,s.origin)){if(s.id.client<this.id.client)r=s,i.clear();else if(Rn(this.rightOrigin,s.rightOrigin))break}else if(s.origin!==null&&o.has(Lr(t.doc.store,s.origin)))i.has(Lr(t.doc.store,s.origin))||(r=s,i.clear());else break;s=s.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(t)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),tc(t.doc.store,this),this.content.integrate(t,this),sc(t,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(t)}else new fe(this.id,this.length).integrate(t,0)}get next(){let t=this.right;for(;t!==null&&t.deleted;)t=t.right;return t}get prev(){let t=this.left;for(;t!==null&&t.deleted;)t=t.left;return t}get lastId(){return this.length===1?this.id:X(this.id.client,this.id.clock+this.length-1)}mergeWith(t){if(this.constructor===t.constructor&&Rn(t.origin,this.lastId)&&this.right===t&&Rn(this.rightOrigin,t.rightOrigin)&&this.id.client===t.id.client&&this.id.clock+this.length===t.id.clock&&this.deleted===t.deleted&&this.redone===null&&t.redone===null&&this.content.constructor===t.content.constructor&&this.content.mergeWith(t.content)){const n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===t&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),t.keep&&(this.keep=!0),this.right=t.right,this.right!==null&&(this.right.left=this),this.length+=t.length,!0}return!1}delete(t){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),rr(t.deleteSet,this.id.client,this.id.clock,this.length),sc(t,n,this.parentSub),this.content.delete(t)}}gc(t,n){if(!this.deleted)throw Ee();this.content.gc(t),n?wl(t,this,new fe(this.id,this.length)):this.content=new Fn(this.length)}write(t,n){const r=n>0?X(this.id.client,this.id.clock+n-1):this.origin,s=this.rightOrigin,i=this.parentSub,o=this.content.getRef()&it|(r===null?0:Le)|(s===null?0:je)|(i===null?0:He);if(t.writeInfo(o),r!==null&&t.writeLeftID(r),s!==null&&t.writeRightID(s),r===null&&s===null){const l=this.parent;if(l._item!==void 0){const u=l._item;if(u===null){const m=Xo(l);t.writeParentInfo(!0),t.writeString(m)}else t.writeParentInfo(!1),t.writeLeftID(u.id)}else l.constructor===String?(t.writeParentInfo(!0),t.writeString(l)):l.constructor===Nn?(t.writeParentInfo(!1),t.writeLeftID(l)):Ee();i!==null&&t.writeString(i)}this.content.write(t,n)}}const Nc=(e,t)=>ma[t&binary.BITS5](e),ma=[()=>{Ee()},ta,sa,ql,oa,na,ra,pa,ia,ea,()=>{Ee()}],ya=10;class le extends null{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,n){error.unexpectedCase()}write(t,n){t.writeInfo(ya),encoding.writeVarUint(t.restEncoder,this.length-n)}getMissing(t,n){return null}}const Rc=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:{},jc="__ $YJS$ __";Rc[jc]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438"),Rc[jc]=!0},94350:function(k,M,v){"use strict";v.d(M,{Ue:function(){return Ut}});var b=v(55180),R=v(50959),E=v(7231);const{useDebugValue:V}=R,{useSyncExternalStoreWithSelector:I}=E;let F=!1;const N=$=>$;function Y($,mt=N,St){St&&!F&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),F=!0);const Ct=I($.subscribe,$.getState,$.getServerState||$.getInitialState,mt,St);return V(Ct),Ct}const nt=$=>{typeof $!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const mt=typeof $=="function"?(0,b.M)($):$,St=(Ct,Gt)=>Y(mt,Ct,Gt);return Object.assign(St,mt),St},Ut=$=>$?nt($):nt;var tt=$=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),Ut($))}}]);
}());